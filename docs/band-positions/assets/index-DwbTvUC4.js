var Fi=Object.defineProperty;var Pi=(e,t,n)=>t in e?Fi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ft=(e,t,n)=>Pi(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function se(){}function Br(e){return e()}function xn(){return Object.create(null)}function ce(e){e.forEach(Br)}function Xr(e){return typeof e=="function"}function hn(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Di(e){return Object.keys(e).length===0}function m(e,t){e.appendChild(t)}function X(e,t,n){e.insertBefore(t,n||null)}function B(e){e.parentNode&&e.parentNode.removeChild(e)}function de(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function F(e){return document.createElement(e)}function j(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function D(e){return document.createTextNode(e)}function H(){return D(" ")}function _e(){return D("")}function ee(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Ur(e){return function(t){return t.preventDefault(),e.call(this,t)}}function c(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Oi(e){return Array.from(e.childNodes)}function G(e,t){t=""+t,e.data!==t&&(e.data=t)}function En(e,t){e.value=t??""}function Me(e,t,n){e.classList.toggle(t,!!n)}let Ze;function We(e){Ze=e}function dn(){if(!Ze)throw new Error("Function called outside component initialization");return Ze}function Ht(e){dn().$$.on_mount.push(e)}function Bi(e){dn().$$.after_update.push(e)}function Xi(e){dn().$$.on_destroy.push(e)}const ze=[],Vt=[];let Pe=[];const Nn=[],Ui=Promise.resolve();let Gt=!1;function qi(){Gt||(Gt=!0,Ui.then(qr))}function Kt(e){Pe.push(e)}const Pt=new Set;let Re=0;function qr(){if(Re!==0)return;const e=Ze;do{try{for(;Re<ze.length;){const t=ze[Re];Re++,We(t),Yi(t.$$)}}catch(t){throw ze.length=0,Re=0,t}for(We(null),ze.length=0,Re=0;Vt.length;)Vt.pop()();for(let t=0;t<Pe.length;t+=1){const n=Pe[t];Pt.has(n)||(Pt.add(n),n())}Pe.length=0}while(ze.length);for(;Nn.length;)Nn.pop()();Gt=!1,Pt.clear(),We(e)}function Yi(e){if(e.fragment!==null){e.update(),ce(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Kt)}}function Hi(e){const t=[],n=[];Pe.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Pe=t}const ut=new Set;let Ne;function Vi(){Ne={r:0,c:[],p:Ne}}function Gi(){Ne.r||ce(Ne.c),Ne=Ne.p}function Qe(e,t){e&&e.i&&(ut.delete(e),e.i(t))}function Wt(e,t,n,r){if(e&&e.o){if(ut.has(e))return;ut.add(e),Ne.c.push(()=>{ut.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Q(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ki(e,t){e.d(1),t.delete(e.key)}function Wi(e,t,n,r,i,o,l,s,a,u,f,h){let d=e.length,p=o.length,y=d;const N={};for(;y--;)N[e[y].key]=y;const $=[],Y=new Map,I=new Map,R=[];for(y=p;y--;){const x=h(i,o,y),T=n(x);let C=l.get(T);C?R.push(()=>C.p(x,t)):(C=u(T,x),C.c()),Y.set(T,$[y]=C),T in N&&I.set(T,Math.abs(y-N[T]))}const z=new Set,O=new Set;function S(x){Qe(x,1),x.m(s,f),l.set(x.key,x),f=x.first,p--}for(;d&&p;){const x=$[p-1],T=e[d-1],C=x.key,E=T.key;x===T?(f=x.first,d--,p--):Y.has(E)?!l.has(C)||z.has(C)?S(x):O.has(E)?d--:I.get(C)>I.get(E)?(O.add(C),S(x)):(z.add(E),d--):(a(T,l),d--)}for(;d--;){const x=e[d];Y.has(x.key)||a(x,l)}for(;p;)S($[p-1]);return ce(R),$}function Zi(e){e&&e.c()}function Yr(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),Kt(()=>{const o=e.$$.on_mount.map(Br).filter(Xr);e.$$.on_destroy?e.$$.on_destroy.push(...o):ce(o),e.$$.on_mount=[]}),i.forEach(Kt)}function Hr(e,t){const n=e.$$;n.fragment!==null&&(Hi(n.after_update),ce(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Qi(e,t){e.$$.dirty[0]===-1&&(ze.push(e),qi(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Vr(e,t,n,r,i,o,l=null,s=[-1]){const a=Ze;We(e);const u=e.$$={fragment:null,ctx:[],props:o,update:se,not_equal:i,bound:xn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:xn(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(h,d,...p)=>{const y=p.length?p[0]:d;return u.ctx&&i(u.ctx[h],u.ctx[h]=y)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](y),f&&Qi(e,h)),d}):[],u.update(),f=!0,ce(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const h=Oi(t.target);u.fragment&&u.fragment.l(h),h.forEach(B)}else u.fragment&&u.fragment.c();t.intro&&Qe(e.$$.fragment),Yr(e,t.target,t.anchor),qr()}We(a)}class Gr{constructor(){Ft(this,"$$");Ft(this,"$$set")}$destroy(){Hr(this,1),this.$destroy=se}$on(t,n){if(!Xr(n))return se;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Di(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ji="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ji);function ft(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ji(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kr(e){let t,n,r;e.length!==2?(t=ft,n=(s,a)=>ft(e(s),a),r=(s,a)=>e(s)-a):(t=e===ft||e===ji?e:eo,n=e,r=e);function i(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const h=u+f>>>1;n(s[h],a)<0?u=h+1:f=h}while(u<f)}return u}function o(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const h=u+f>>>1;n(s[h],a)<=0?u=h+1:f=h}while(u<f)}return u}function l(s,a,u=0,f=s.length){const h=i(s,a,u,f-1);return h>u&&r(s[h-1],a)>-r(s[h],a)?h-1:h}return{left:i,center:l,right:o}}function eo(){return 0}function to(e){return e===null?NaN:+e}const no=Kr(ft),ro=no.right;Kr(to).center;class An extends Map{constructor(t,n=lo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Sn(this,t))}has(t){return super.has(Sn(this,t))}set(t,n){return super.set(io(this,t),n)}delete(t){return super.delete(oo(this,t))}}function Sn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function io({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function oo({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function lo(e){return e!==null&&typeof e=="object"?e.valueOf():e}const so=Math.sqrt(50),ao=Math.sqrt(10),uo=Math.sqrt(2);function _t(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=so?10:o>=ao?5:o>=uo?2:1;let s,a,u;return i<0?(u=Math.pow(10,-i)/l,s=Math.round(e*u),a=Math.round(t*u),s/u<e&&++s,a/u>t&&--a,u=-u):(u=Math.pow(10,i)*l,s=Math.round(e/u),a=Math.round(t/u),s*u<e&&++s,a*u>t&&--a),a<s&&.5<=n&&n<2?_t(e,t,n*2):[s,a,u]}function Wr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?_t(t,e,n):_t(e,t,n);if(!(o>=i))return[];const s=o-i+1,a=new Array(s);if(r)if(l<0)for(let u=0;u<s;++u)a[u]=(o-u)/-l;else for(let u=0;u<s;++u)a[u]=(o-u)*l;else if(l<0)for(let u=0;u<s;++u)a[u]=(i+u)/-l;else for(let u=0;u<s;++u)a[u]=(i+u)*l;return a}function Zt(e,t,n){return t=+t,e=+e,n=+n,_t(e,t,n)[2]}function fo(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Zt(t,e,n):Zt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function co(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}var ho={value:()=>{}};function Zr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ct(n)}function ct(e){this._=e}function _o(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ct.prototype=Zr.prototype={constructor:ct,on:function(e,t){var n=this._,r=_o(e+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(e=r[o]).type)&&(i=po(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(i=(e=r[o]).type)n[i]=$n(n[i],e.name,t);else if(t==null)for(i in n)n[i]=$n(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ct(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function po(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function $n(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ho,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Qt="http://www.w3.org/1999/xhtml";const Cn={svg:"http://www.w3.org/2000/svg",xhtml:Qt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Et(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Cn.hasOwnProperty(t)?{space:Cn[t],local:e}:e}function go(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Qt&&t.documentElement.namespaceURI===Qt?t.createElement(e):t.createElementNS(n,e)}}function mo(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qr(e){var t=Et(e);return(t.local?mo:go)(t)}function yo(){}function _n(e){return e==null?yo:function(){return this.querySelector(e)}}function vo(e){typeof e!="function"&&(e=_n(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=new Array(l),a,u,f=0;f<l;++f)(a=o[f])&&(u=e.call(a,a.__data__,f,o))&&("__data__"in a&&(u.__data__=a.__data__),s[f]=u);return new fe(r,this._parents)}function wo(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function bo(){return[]}function Jr(e){return e==null?bo:function(){return this.querySelectorAll(e)}}function ko(e){return function(){return wo(e.apply(this,arguments))}}function Mo(e){typeof e=="function"?e=ko(e):e=Jr(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var l=t[o],s=l.length,a,u=0;u<s;++u)(a=l[u])&&(r.push(e.call(a,a.__data__,u,l)),i.push(a));return new fe(r,i)}function jr(e){return function(){return this.matches(e)}}function ei(e){return function(t){return t.matches(e)}}var xo=Array.prototype.find;function Eo(e){return function(){return xo.call(this.children,e)}}function No(){return this.firstElementChild}function Ao(e){return this.select(e==null?No:Eo(typeof e=="function"?e:ei(e)))}var So=Array.prototype.filter;function $o(){return Array.from(this.children)}function Co(e){return function(){return So.call(this.children,e)}}function Lo(e){return this.selectAll(e==null?$o:Co(typeof e=="function"?e:ei(e)))}function Ro(e){typeof e!="function"&&(e=jr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=[],a,u=0;u<l;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&s.push(a);return new fe(r,this._parents)}function ti(e){return new Array(e.length)}function To(){return new fe(this._enter||this._groups.map(ti),this._parents)}function pt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}pt.prototype={constructor:pt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function zo(e){return function(){return e}}function Io(e,t,n,r,i,o){for(var l=0,s,a=t.length,u=o.length;l<u;++l)(s=t[l])?(s.__data__=o[l],r[l]=s):n[l]=new pt(e,o[l]);for(;l<a;++l)(s=t[l])&&(i[l]=s)}function Fo(e,t,n,r,i,o,l){var s,a,u=new Map,f=t.length,h=o.length,d=new Array(f),p;for(s=0;s<f;++s)(a=t[s])&&(d[s]=p=l.call(a,a.__data__,s,t)+"",u.has(p)?i[s]=a:u.set(p,a));for(s=0;s<h;++s)p=l.call(e,o[s],s,o)+"",(a=u.get(p))?(r[s]=a,a.__data__=o[s],u.delete(p)):n[s]=new pt(e,o[s]);for(s=0;s<f;++s)(a=t[s])&&u.get(d[s])===a&&(i[s]=a)}function Po(e){return e.__data__}function Do(e,t){if(!arguments.length)return Array.from(this,Po);var n=t?Fo:Io,r=this._parents,i=this._groups;typeof e!="function"&&(e=zo(e));for(var o=i.length,l=new Array(o),s=new Array(o),a=new Array(o),u=0;u<o;++u){var f=r[u],h=i[u],d=h.length,p=Oo(e.call(f,f&&f.__data__,u,r)),y=p.length,N=s[u]=new Array(y),$=l[u]=new Array(y),Y=a[u]=new Array(d);n(f,h,N,$,Y,p,t);for(var I=0,R=0,z,O;I<y;++I)if(z=N[I]){for(I>=R&&(R=I+1);!(O=$[R])&&++R<y;);z._next=O||null}}return l=new fe(l,r),l._enter=s,l._exit=a,l}function Oo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Bo(){return new fe(this._exit||this._groups.map(ti),this._parents)}function Xo(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Uo(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,l=Math.min(i,o),s=new Array(i),a=0;a<l;++a)for(var u=n[a],f=r[a],h=u.length,d=s[a]=new Array(h),p,y=0;y<h;++y)(p=u[y]||f[y])&&(d[y]=p);for(;a<i;++a)s[a]=n[a];return new fe(s,this._parents)}function qo(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function Yo(e){e||(e=Ho);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],s=l.length,a=i[o]=new Array(s),u,f=0;f<s;++f)(u=l[f])&&(a[f]=u);a.sort(t)}return new fe(i,this._parents).order()}function Ho(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Vo(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Go(){return Array.from(this)}function Ko(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function Wo(){let e=0;for(const t of this)++e;return e}function Zo(){return!this.node()}function Qo(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,l=i.length,s;o<l;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function Jo(e){return function(){this.removeAttribute(e)}}function jo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function el(e,t){return function(){this.setAttribute(e,t)}}function tl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function nl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function rl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function il(e,t){var n=Et(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?jo:Jo:typeof t=="function"?n.local?rl:nl:n.local?tl:el)(n,t))}function ni(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ol(e){return function(){this.style.removeProperty(e)}}function ll(e,t,n){return function(){this.style.setProperty(e,t,n)}}function sl(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function al(e,t,n){return arguments.length>1?this.each((t==null?ol:typeof t=="function"?sl:ll)(e,t,n??"")):Oe(this.node(),e)}function Oe(e,t){return e.style.getPropertyValue(t)||ni(e).getComputedStyle(e,null).getPropertyValue(t)}function ul(e){return function(){delete this[e]}}function fl(e,t){return function(){this[e]=t}}function cl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function hl(e,t){return arguments.length>1?this.each((t==null?ul:typeof t=="function"?cl:fl)(e,t)):this.node()[e]}function ri(e){return e.trim().split(/^|\s+/)}function pn(e){return e.classList||new ii(e)}function ii(e){this._node=e,this._names=ri(e.getAttribute("class")||"")}ii.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function oi(e,t){for(var n=pn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function li(e,t){for(var n=pn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function dl(e){return function(){oi(this,e)}}function _l(e){return function(){li(this,e)}}function pl(e,t){return function(){(t.apply(this,arguments)?oi:li)(this,e)}}function gl(e,t){var n=ri(e+"");if(arguments.length<2){for(var r=pn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?pl:t?dl:_l)(n,t))}function ml(){this.textContent=""}function yl(e){return function(){this.textContent=e}}function vl(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function wl(e){return arguments.length?this.each(e==null?ml:(typeof e=="function"?vl:yl)(e)):this.node().textContent}function bl(){this.innerHTML=""}function kl(e){return function(){this.innerHTML=e}}function Ml(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function xl(e){return arguments.length?this.each(e==null?bl:(typeof e=="function"?Ml:kl)(e)):this.node().innerHTML}function El(){this.nextSibling&&this.parentNode.appendChild(this)}function Nl(){return this.each(El)}function Al(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sl(){return this.each(Al)}function $l(e){var t=typeof e=="function"?e:Qr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Cl(){return null}function Ll(e,t){var n=typeof e=="function"?e:Qr(e),r=t==null?Cl:typeof t=="function"?t:_n(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Rl(){var e=this.parentNode;e&&e.removeChild(this)}function Tl(){return this.each(Rl)}function zl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Il(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Fl(e){return this.select(e?Il:zl)}function Pl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Dl(e){return function(t){e.call(this,t,this.__data__)}}function Ol(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Bl(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Xl(e,t,n){return function(){var r=this.__on,i,o=Dl(t);if(r){for(var l=0,s=r.length;l<s;++l)if((i=r[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ul(e,t,n){var r=Ol(e+""),i,o=r.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,u=s.length,f;a<u;++a)for(i=0,f=s[a];i<o;++i)if((l=r[i]).type===f.type&&l.name===f.name)return f.value}return}for(s=t?Xl:Bl,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function si(e,t,n){var r=ni(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ql(e,t){return function(){return si(this,e,t)}}function Yl(e,t){return function(){return si(this,e,t.apply(this,arguments))}}function Hl(e,t){return this.each((typeof t=="function"?Yl:ql)(e,t))}function*Vl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var Gl=[null];function fe(e,t){this._groups=e,this._parents=t}function tt(){return new fe([[document.documentElement]],Gl)}function Kl(){return this}fe.prototype=tt.prototype={constructor:fe,select:vo,selectAll:Mo,selectChild:Ao,selectChildren:Lo,filter:Ro,data:Do,enter:To,exit:Bo,join:Xo,merge:Uo,selection:Kl,order:qo,sort:Yo,call:Vo,nodes:Go,node:Ko,size:Wo,empty:Zo,each:Qo,attr:il,style:al,property:hl,classed:gl,text:wl,html:xl,raise:Nl,lower:Sl,append:$l,insert:Ll,remove:Tl,clone:Fl,datum:Pl,on:Ul,dispatch:Hl,[Symbol.iterator]:Vl};function gn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ai(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nt(){}var Je=.7,gt=1/Je,De="\\s*([+-]?\\d+)\\s*",je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wl=/^#([0-9a-f]{3,8})$/,Zl=new RegExp(`^rgb\\(${De},${De},${De}\\)$`),Ql=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),Jl=new RegExp(`^rgba\\(${De},${De},${De},${je}\\)$`),jl=new RegExp(`^rgba\\(${pe},${pe},${pe},${je}\\)$`),es=new RegExp(`^hsl\\(${je},${pe},${pe}\\)$`),ts=new RegExp(`^hsla\\(${je},${pe},${pe},${je}\\)$`),Ln={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gn(nt,$e,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Rn,formatHex:Rn,formatHex8:ns,formatHsl:rs,formatRgb:Tn,toString:Tn});function Rn(){return this.rgb().formatHex()}function ns(){return this.rgb().formatHex8()}function rs(){return ui(this).formatHsl()}function Tn(){return this.rgb().formatRgb()}function $e(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Wl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zn(t):n===3?new ie(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ot(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ot(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zl.exec(e))?new ie(t[1],t[2],t[3],1):(t=Ql.exec(e))?new ie(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Jl.exec(e))?ot(t[1],t[2],t[3],t[4]):(t=jl.exec(e))?ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=es.exec(e))?Pn(t[1],t[2]/100,t[3]/100,1):(t=ts.exec(e))?Pn(t[1],t[2]/100,t[3]/100,t[4]):Ln.hasOwnProperty(e)?zn(Ln[e]):e==="transparent"?new ie(NaN,NaN,NaN,0):null}function zn(e){return new ie(e>>16&255,e>>8&255,e&255,1)}function ot(e,t,n,r){return r<=0&&(e=t=n=NaN),new ie(e,t,n,r)}function is(e){return e instanceof nt||(e=$e(e)),e?(e=e.rgb(),new ie(e.r,e.g,e.b,e.opacity)):new ie}function Jt(e,t,n,r){return arguments.length===1?is(e):new ie(e,t,n,r??1)}function ie(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gn(ie,Jt,ai(nt,{brighter(e){return e=e==null?gt:Math.pow(gt,e),new ie(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Je:Math.pow(Je,e),new ie(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ie(Se(this.r),Se(this.g),Se(this.b),mt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:In,formatHex:In,formatHex8:os,formatRgb:Fn,toString:Fn}));function In(){return`#${Ae(this.r)}${Ae(this.g)}${Ae(this.b)}`}function os(){return`#${Ae(this.r)}${Ae(this.g)}${Ae(this.b)}${Ae((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fn(){const e=mt(this.opacity);return`${e===1?"rgb(":"rgba("}${Se(this.r)}, ${Se(this.g)}, ${Se(this.b)}${e===1?")":`, ${e})`}`}function mt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Se(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ae(e){return e=Se(e),(e<16?"0":"")+e.toString(16)}function Pn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ue(e,t,n,r)}function ui(e){if(e instanceof ue)return new ue(e.h,e.s,e.l,e.opacity);if(e instanceof nt||(e=$e(e)),!e)return new ue;if(e instanceof ue)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,s=o-i,a=(o+i)/2;return s?(t===o?l=(n-r)/s+(n<r)*6:n===o?l=(r-t)/s+2:l=(t-n)/s+4,s/=a<.5?o+i:2-o-i,l*=60):s=a>0&&a<1?0:l,new ue(l,s,a,e.opacity)}function ls(e,t,n,r){return arguments.length===1?ui(e):new ue(e,t,n,r??1)}function ue(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gn(ue,ls,ai(nt,{brighter(e){return e=e==null?gt:Math.pow(gt,e),new ue(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Je:Math.pow(Je,e),new ue(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ie(Dt(e>=240?e-240:e+120,i,r),Dt(e,i,r),Dt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ue(Dn(this.h),lt(this.s),lt(this.l),mt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mt(this.opacity);return`${e===1?"hsl(":"hsla("}${Dn(this.h)}, ${lt(this.s)*100}%, ${lt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Dn(e){return e=(e||0)%360,e<0?e+360:e}function lt(e){return Math.max(0,Math.min(1,e||0))}function Dt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mn=e=>()=>e;function ss(e,t){return function(n){return e+n*t}}function as(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function us(e){return(e=+e)==1?fi:function(t,n){return n-t?as(t,n,e):mn(isNaN(t)?n:t)}}function fi(e,t){var n=t-e;return n?ss(e,n):mn(isNaN(e)?t:e)}const yt=function e(t){var n=us(t);function r(i,o){var l=n((i=Jt(i)).r,(o=Jt(o)).r),s=n(i.g,o.g),a=n(i.b,o.b),u=fi(i.opacity,o.opacity);return function(f){return i.r=l(f),i.g=s(f),i.b=a(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function fs(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function cs(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hs(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=yn(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(s){for(l=0;l<r;++l)o[l]=i[l](s);return o}}function ds(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ae(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _s(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var jt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ot=new RegExp(jt.source,"g");function ps(e){return function(){return e}}function gs(e){return function(t){return e(t)+""}}function ci(e,t){var n=jt.lastIndex=Ot.lastIndex=0,r,i,o,l=-1,s=[],a=[];for(e=e+"",t=t+"";(r=jt.exec(e))&&(i=Ot.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[l]?s[l]+=o:s[++l]=o),(r=r[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,a.push({i:l,x:ae(r,i)})),n=Ot.lastIndex;return n<t.length&&(o=t.slice(n),s[l]?s[l]+=o:s[++l]=o),s.length<2?a[0]?gs(a[0].x):ps(t):(t=a.length,function(u){for(var f=0,h;f<t;++f)s[(h=a[f]).i]=h.x(u);return s.join("")})}function yn(e,t){var n=typeof t,r;return t==null||n==="boolean"?mn(t):(n==="number"?ae:n==="string"?(r=$e(t))?(t=r,yt):ci:t instanceof $e?yt:t instanceof Date?ds:cs(t)?fs:Array.isArray(t)?hs:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_s:ae)(e,t)}function ms(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var On=180/Math.PI,en={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hi(e,t,n,r,i,o){var l,s,a;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,a/=s),e*r<t*n&&(e=-e,t=-t,a=-a,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*On,skewX:Math.atan(a)*On,scaleX:l,scaleY:s}}var st;function ys(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?en:hi(t.a,t.b,t.c,t.d,t.e,t.f)}function vs(e){return e==null||(st||(st=document.createElementNS("http://www.w3.org/2000/svg","g")),st.setAttribute("transform",e),!(e=st.transform.baseVal.consolidate()))?en:(e=e.matrix,hi(e.a,e.b,e.c,e.d,e.e,e.f))}function di(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,h,d,p,y){if(u!==h||f!==d){var N=p.push("translate(",null,t,null,n);y.push({i:N-4,x:ae(u,h)},{i:N-2,x:ae(f,d)})}else(h||d)&&p.push("translate("+h+t+d+n)}function l(u,f,h,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:ae(u,f)})):f&&h.push(i(h)+"rotate("+f+r)}function s(u,f,h,d){u!==f?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:ae(u,f)}):f&&h.push(i(h)+"skewX("+f+r)}function a(u,f,h,d,p,y){if(u!==h||f!==d){var N=p.push(i(p)+"scale(",null,",",null,")");y.push({i:N-4,x:ae(u,h)},{i:N-2,x:ae(f,d)})}else(h!==1||d!==1)&&p.push(i(p)+"scale("+h+","+d+")")}return function(u,f){var h=[],d=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,h,d),l(u.rotate,f.rotate,h,d),s(u.skewX,f.skewX,h,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,d),u=f=null,function(p){for(var y=-1,N=d.length,$;++y<N;)h[($=d[y]).i]=$.x(p);return h.join("")}}}var ws=di(ys,"px, ","px)","deg)"),bs=di(vs,", ",")",")"),Be=0,Ve=0,Ye=0,_i=1e3,vt,Ge,wt=0,Ce=0,Nt=0,et=typeof performance=="object"&&performance.now?performance:Date,pi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vn(){return Ce||(pi(ks),Ce=et.now()+Nt)}function ks(){Ce=0}function bt(){this._call=this._time=this._next=null}bt.prototype=gi.prototype={constructor:bt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vn():+n)+(t==null?0:+t),!this._next&&Ge!==this&&(Ge?Ge._next=this:vt=this,Ge=this),this._call=e,this._time=n,tn()},stop:function(){this._call&&(this._call=null,this._time=1/0,tn())}};function gi(e,t,n){var r=new bt;return r.restart(e,t,n),r}function Ms(){vn(),++Be;for(var e=vt,t;e;)(t=Ce-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Be}function Bn(){Ce=(wt=et.now())+Nt,Be=Ve=0;try{Ms()}finally{Be=0,Es(),Ce=0}}function xs(){var e=et.now(),t=e-wt;t>_i&&(Nt-=t,wt=e)}function Es(){for(var e,t=vt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:vt=n);Ge=e,tn(r)}function tn(e){if(!Be){Ve&&(Ve=clearTimeout(Ve));var t=e-Ce;t>24?(e<1/0&&(Ve=setTimeout(Bn,e-et.now()-Nt)),Ye&&(Ye=clearInterval(Ye))):(Ye||(wt=et.now(),Ye=setInterval(xs,_i)),Be=1,pi(Bn))}}function Xn(e,t,n){var r=new bt;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Ns=Zr("start","end","cancel","interrupt"),As=[],mi=0,Un=1,nn=2,ht=3,qn=4,rn=5,dt=6;function At(e,t,n,r,i,o){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;Ss(e,n,{name:t,index:r,group:i,on:Ns,tween:As,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:mi})}function wn(e,t){var n=he(e,t);if(n.state>mi)throw new Error("too late; already scheduled");return n}function ge(e,t){var n=he(e,t);if(n.state>ht)throw new Error("too late; already running");return n}function he(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ss(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=gi(o,0,n.time);function o(u){n.state=Un,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,h,d,p;if(n.state!==Un)return a();for(f in r)if(p=r[f],p.name===n.name){if(p.state===ht)return Xn(l);p.state===qn?(p.state=dt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[f]):+f<t&&(p.state=dt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[f])}if(Xn(function(){n.state===ht&&(n.state=qn,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=nn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===nn){for(n.state=ht,i=new Array(d=n.tween.length),f=0,h=-1;f<d;++f)(p=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=p);i.length=h+1}}function s(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=rn,1),h=-1,d=i.length;++h<d;)i[h].call(e,f);n.state===rn&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=dt,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function $s(e,t){var n=e.__transition,r,i,o=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){o=!1;continue}i=r.state>nn&&r.state<rn,r.state=dt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}o&&delete e.__transition}}function Cs(e){return this.each(function(){$s(this,e)})}function Ls(e,t){var n,r;return function(){var i=ge(this,e),o=i.tween;if(o!==n){r=n=o;for(var l=0,s=r.length;l<s;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function Rs(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ge(this,e),l=o.tween;if(l!==r){i=(r=l).slice();for(var s={name:t,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===t){i[a]=s;break}a===u&&i.push(s)}o.tween=i}}function Ts(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=he(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===e)return l.value;return null}return this.each((t==null?Ls:Rs)(n,e,t))}function bn(e,t,n){var r=e._id;return e.each(function(){var i=ge(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return he(i,r).value[t]}}function yi(e,t){var n;return(typeof t=="number"?ae:t instanceof $e?yt:(n=$e(t))?(t=n,yt):ci)(e,t)}function zs(e){return function(){this.removeAttribute(e)}}function Is(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fs(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttribute(e);return l===i?null:l===r?o:o=t(r=l,n)}}function Ps(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===r?o:o=t(r=l,n)}}function Ds(e,t,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttribute(e):(l=this.getAttribute(e),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s)))}}function Os(e,t,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s)))}}function Bs(e,t){var n=Et(e),r=n==="transform"?bs:yi;return this.attrTween(e,typeof t=="function"?(n.local?Os:Ds)(n,r,bn(this,"attr."+e,t)):t==null?(n.local?Is:zs)(n):(n.local?Ps:Fs)(n,r,t))}function Xs(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Us(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function qs(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Us(e,o)),n}return i._value=t,i}function Ys(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Xs(e,o)),n}return i._value=t,i}function Hs(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Et(e);return this.tween(n,(r.local?qs:Ys)(r,t))}function Vs(e,t){return function(){wn(this,e).delay=+t.apply(this,arguments)}}function Gs(e,t){return t=+t,function(){wn(this,e).delay=t}}function Ks(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Vs:Gs)(t,e)):he(this.node(),t).delay}function Ws(e,t){return function(){ge(this,e).duration=+t.apply(this,arguments)}}function Zs(e,t){return t=+t,function(){ge(this,e).duration=t}}function Qs(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ws:Zs)(t,e)):he(this.node(),t).duration}function Js(e,t){if(typeof t!="function")throw new Error;return function(){ge(this,e).ease=t}}function js(e){var t=this._id;return arguments.length?this.each(Js(t,e)):he(this.node(),t).ease}function ea(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ge(this,e).ease=n}}function ta(e){if(typeof e!="function")throw new Error;return this.each(ea(this._id,e))}function na(e){typeof e!="function"&&(e=jr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=[],a,u=0;u<l;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&s.push(a);return new we(r,this._parents,this._name,this._id)}function ra(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),l=new Array(r),s=0;s<o;++s)for(var a=t[s],u=n[s],f=a.length,h=l[s]=new Array(f),d,p=0;p<f;++p)(d=a[p]||u[p])&&(h[p]=d);for(;s<r;++s)l[s]=t[s];return new we(l,this._parents,this._name,this._id)}function ia(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function oa(e,t,n){var r,i,o=ia(t)?wn:ge;return function(){var l=o(this,e),s=l.on;s!==r&&(i=(r=s).copy()).on(t,n),l.on=i}}function la(e,t){var n=this._id;return arguments.length<2?he(this.node(),n).on.on(e):this.each(oa(n,e,t))}function sa(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function aa(){return this.on("end.remove",sa(this._id))}function ua(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_n(e));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var s=r[l],a=s.length,u=o[l]=new Array(a),f,h,d=0;d<a;++d)(f=s[d])&&(h=e.call(f,f.__data__,d,s))&&("__data__"in f&&(h.__data__=f.__data__),u[d]=h,At(u[d],t,n,d,u,he(f,n)));return new we(o,this._parents,t,n)}function fa(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jr(e));for(var r=this._groups,i=r.length,o=[],l=[],s=0;s<i;++s)for(var a=r[s],u=a.length,f,h=0;h<u;++h)if(f=a[h]){for(var d=e.call(f,f.__data__,h,a),p,y=he(f,n),N=0,$=d.length;N<$;++N)(p=d[N])&&At(p,t,n,N,d,y);o.push(d),l.push(f)}return new we(o,l,t,n)}var ca=tt.prototype.constructor;function ha(){return new ca(this._groups,this._parents)}function da(e,t){var n,r,i;return function(){var o=Oe(this,e),l=(this.style.removeProperty(e),Oe(this,e));return o===l?null:o===n&&l===r?i:i=t(n=o,r=l)}}function vi(e){return function(){this.style.removeProperty(e)}}function _a(e,t,n){var r,i=n+"",o;return function(){var l=Oe(this,e);return l===i?null:l===r?o:o=t(r=l,n)}}function pa(e,t,n){var r,i,o;return function(){var l=Oe(this,e),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(e),Oe(this,e))),l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s))}}function ga(e,t){var n,r,i,o="style."+t,l="end."+o,s;return function(){var a=ge(this,e),u=a.on,f=a.value[o]==null?s||(s=vi(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(l,i=f),a.on=r}}function ma(e,t,n){var r=(e+="")=="transform"?ws:yi;return t==null?this.styleTween(e,da(e,r)).on("end.style."+e,vi(e)):typeof t=="function"?this.styleTween(e,pa(e,r,bn(this,"style."+e,t))).each(ga(this._id,e)):this.styleTween(e,_a(e,r,t),n).on("end.style."+e,null)}function ya(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function va(e,t,n){var r,i;function o(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&ya(e,l,n)),r}return o._value=t,o}function wa(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,va(e,t,n??""))}function ba(e){return function(){this.textContent=e}}function ka(e){return function(){var t=e(this);this.textContent=t??""}}function Ma(e){return this.tween("text",typeof e=="function"?ka(bn(this,"text",e)):ba(e==null?"":e+""))}function xa(e){return function(t){this.textContent=e.call(this,t)}}function Ea(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&xa(i)),t}return r._value=e,r}function Na(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ea(e))}function Aa(){for(var e=this._name,t=this._id,n=wi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,u=0;u<s;++u)if(a=l[u]){var f=he(a,t);At(a,e,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new we(r,this._parents,e,n)}function Sa(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var s={value:l},a={value:function(){--i===0&&o()}};n.each(function(){var u=ge(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(a)),u.on=t}),i===0&&o()})}var $a=0;function we(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function wi(){return++$a}var ye=tt.prototype;we.prototype={constructor:we,select:ua,selectAll:fa,selectChild:ye.selectChild,selectChildren:ye.selectChildren,filter:na,merge:ra,selection:ha,transition:Aa,call:ye.call,nodes:ye.nodes,node:ye.node,size:ye.size,empty:ye.empty,each:ye.each,on:la,attr:Bs,attrTween:Hs,style:ma,styleTween:wa,text:Ma,textTween:Na,remove:aa,tween:Ts,delay:Ks,duration:Qs,ease:js,easeVarying:ta,end:Sa,[Symbol.iterator]:ye[Symbol.iterator]};function Ca(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var La={time:null,delay:0,duration:250,ease:Ca};function Ra(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ta(e){var t,n;e instanceof we?(t=e._id,e=e._name):(t=wi(),(n=La).time=vn(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,u=0;u<s;++u)(a=l[u])&&At(a,e,t,u,l,n||Ra(a,t));return new we(r,this._parents,e,t)}tt.prototype.interrupt=Cs;tt.prototype.transition=Ta;const on=Math.PI,ln=2*on,Ee=1e-6,za=ln-Ee;function bi(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ia(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bi;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Fa{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bi:Ia(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,s=this._y1,a=r-t,u=i-n,f=l-t,h=s-n,d=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Ee)if(!(Math.abs(h*a-u*f)>Ee)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-l,y=i-s,N=a*a+u*u,$=p*p+y*y,Y=Math.sqrt(N),I=Math.sqrt(d),R=o*Math.tan((on-Math.acos((N+d-$)/(2*Y*I)))/2),z=R/I,O=R/Y;Math.abs(z-1)>Ee&&this._append`L${t+z*f},${n+z*h}`,this._append`A${o},${o},0,0,${+(h*p>f*y)},${this._x1=t+O*a},${this._y1=n+O*u}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),a=r*Math.sin(i),u=t+s,f=n+a,h=1^l,d=l?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Ee||Math.abs(this._y1-f)>Ee)&&this._append`L${u},${f}`,r&&(d<0&&(d=d%ln+ln),d>za?this._append`A${r},${r},0,1,${h},${t-s},${n-a}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:d>Ee&&this._append`A${r},${r},0,${+(d>=on)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Pa(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xe(e){return e=kt(Math.abs(e)),e?e[1]:NaN}function Da(e,t){return function(n,r){for(var i=n.length,o=[],l=0,s=e[0],a=0;i>0&&s>0&&(a+s+1>r&&(s=Math.max(1,r-a)),o.push(n.substring(i-=s,i+s)),!((a+=s+1)>r));)s=e[l=(l+1)%e.length];return o.reverse().join(t)}}function Oa(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ba=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mt(e){if(!(t=Ba.exec(e)))throw new Error("invalid format: "+e);var t;return new kn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mt.prototype=kn.prototype;function kn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xa(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ki;function Ua(e,t){var n=kt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ki=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+kt(e,Math.max(0,t+o-1))[0]}function Yn(e,t){var n=kt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Hn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pa,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Yn(e*100,t),r:Yn,s:Ua,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Vn(e){return e}var Gn=Array.prototype.map,Kn=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qa(e){var t=e.grouping===void 0||e.thousands===void 0?Vn:Da(Gn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Vn:Oa(Gn.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Mt(h);var d=h.fill,p=h.align,y=h.sign,N=h.symbol,$=h.zero,Y=h.width,I=h.comma,R=h.precision,z=h.trim,O=h.type;O==="n"?(I=!0,O="g"):Hn[O]||(R===void 0&&(R=12),z=!0,O="g"),($||d==="0"&&p==="=")&&($=!0,d="0",p="=");var S=N==="$"?n:N==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",x=N==="$"?r:/[%p]/.test(O)?l:"",T=Hn[O],C=/[defgprs%]/.test(O);R=R===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function E(w){var k=S,A=x,M,v,L;if(O==="c")A=T(w)+A,w="";else{w=+w;var g=w<0||1/w<0;if(w=isNaN(w)?a:T(Math.abs(w),R),z&&(w=Xa(w)),g&&+w==0&&y!=="+"&&(g=!1),k=(g?y==="("?y:s:y==="-"||y==="("?"":y)+k,A=(O==="s"?Kn[8+ki/3]:"")+A+(g&&y==="("?")":""),C){for(M=-1,v=w.length;++M<v;)if(L=w.charCodeAt(M),48>L||L>57){A=(L===46?i+w.slice(M+1):w.slice(M))+A,w=w.slice(0,M);break}}}I&&!$&&(w=t(w,1/0));var P=k.length+w.length+A.length,q=P<Y?new Array(Y-P+1).join(d):"";switch(I&&$&&(w=t(q+w,q.length?Y-A.length:1/0),q=""),p){case"<":w=k+w+A+q;break;case"=":w=k+q+w+A;break;case"^":w=q.slice(0,P=q.length>>1)+k+w+A+q.slice(P);break;default:w=q+k+w+A;break}return o(w)}return E.toString=function(){return h+""},E}function f(h,d){var p=u((h=Mt(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Xe(d)/3)))*3,N=Math.pow(10,-y),$=Kn[8+y/3];return function(Y){return p(N*Y)+$}}return{format:u,formatPrefix:f}}var at,Mi,xi;Ya({thousands:",",grouping:[3],currency:["$",""]});function Ya(e){return at=qa(e),Mi=at.format,xi=at.formatPrefix,at}function Ha(e){return Math.max(0,-Xe(Math.abs(e)))}function Va(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xe(t)/3)))*3-Xe(Math.abs(e)))}function Ga(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xe(t)-Xe(e))+1}function Mn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Wn=Symbol("implicit");function Ei(){var e=new An,t=[],n=[],r=Wn;function i(o){let l=e.get(o);if(l===void 0){if(r!==Wn)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new An;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ei(t,n).unknown(r)},Mn.apply(i,arguments),i}function Ni(){var e=Ei().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,s=!1,a=0,u=0,f=.5;delete e.unknown;function h(){var d=t().length,p=i<r,y=p?i:r,N=p?r:i;o=(N-y)/Math.max(1,d-a+u*2),s&&(o=Math.floor(o)),y+=(N-y-o*(d-a))*f,l=o*(1-a),s&&(y=Math.round(y),l=Math.round(l));var $=co(d).map(function(Y){return y+o*Y});return n(p?$.reverse():$)}return e.domain=function(d){return arguments.length?(t(d),h()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,h()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,h()):s},e.padding=function(d){return arguments.length?(a=Math.min(1,u=+d),h()):a},e.paddingInner=function(d){return arguments.length?(a=Math.min(1,d),h()):a},e.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),h()):f},e.copy=function(){return Ni(t(),[r,i]).round(s).paddingInner(a).paddingOuter(u).align(f)},Mn.apply(h(),arguments)}function Ai(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Ai(t())},e}function Zn(){return Ai(Ni.apply(null,arguments).paddingInner(1))}function Ka(e){return function(){return e}}function Wa(e){return+e}var Qn=[0,1];function Ie(e){return e}function sn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ka(isNaN(t)?NaN:.5)}function Za(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Qa(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=sn(i,r),o=n(l,o)):(r=sn(r,i),o=n(o,l)),function(s){return o(r(s))}}function Ja(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=sn(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(s){var a=ro(e,s,1,r)-1;return o[a](i[a](s))}}function ja(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function eu(){var e=Qn,t=Qn,n=yn,r,i,o,l=Ie,s,a,u;function f(){var d=Math.min(e.length,t.length);return l!==Ie&&(l=Za(e[0],e[d-1])),s=d>2?Ja:Qa,a=u=null,h}function h(d){return d==null||isNaN(d=+d)?o:(a||(a=s(e.map(r),t,n)))(r(l(d)))}return h.invert=function(d){return l(i((u||(u=s(t,e.map(r),ae)))(d)))},h.domain=function(d){return arguments.length?(e=Array.from(d,Wa),f()):e.slice()},h.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},h.rangeRound=function(d){return t=Array.from(d),n=ms,f()},h.clamp=function(d){return arguments.length?(l=d?!0:Ie,f()):l!==Ie},h.interpolate=function(d){return arguments.length?(n=d,f()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,p){return r=d,i=p,f()}}function tu(){return eu()(Ie,Ie)}function nu(e,t,n,r){var i=fo(e,t,n),o;switch(r=Mt(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Va(i,l))&&(r.precision=o),xi(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ga(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ha(i))&&(r.precision=o-(r.type==="%")*2);break}}return Mi(r)}function ru(e){var t=e.domain;return e.ticks=function(n){var r=t();return Wr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return nu(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],s=r[o],a,u,f=10;for(s<l&&(u=l,l=s,s=u,u=i,i=o,o=u);f-- >0;){if(u=Zt(l,s,n),u===a)return r[i]=l,r[o]=s,t(r);if(u>0)l=Math.floor(l/u)*u,s=Math.ceil(s/u)*u;else if(u<0)l=Math.ceil(l*u)/u,s=Math.floor(s*u)/u;else break;a=u}return e},e}function an(){var e=tu();return e.copy=function(){return ja(e,an())},Mn.apply(e,arguments),ru(e)}function Te(e){return function(){return e}}function iu(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Fa(t)}function ou(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Si(e){this._context=e}Si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lu(e){return new Si(e)}function su(e){return e[0]}function au(e){return e[1]}function uu(e,t){var n=Te(!0),r=null,i=lu,o=null,l=iu(s);e=typeof e=="function"?e:e===void 0?su:Te(e),t=typeof t=="function"?t:t===void 0?au:Te(t);function s(a){var u,f=(a=ou(a)).length,h,d=!1,p;for(r==null&&(o=i(p=l())),u=0;u<=f;++u)!(u<f&&n(h=a[u],u,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(h,u,a),+t(h,u,a));if(p)return o=null,p+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Te(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:Te(+a),s):t},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:Te(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function Jn(e){return e<0?-1:1}function jn(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),s=(o*i+l*r)/(r+i);return(Jn(o)+Jn(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(s))||0}function er(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bt(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,l-s*n,o,l)}function xt(e){this._context=e}xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bt(this,this._t0,er(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bt(this,er(this,n=jn(this,e,t)),n);break;default:Bt(this,this._t0,n=jn(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(xt.prototype).point=function(e,t){xt.prototype.point.call(this,t,e)};function fu(e){return new xt(e)}function Ke(e,t,n){this.k=e,this.x=t,this.y=n}Ke.prototype={constructor:Ke,scale:function(e){return e===1?this:new Ke(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ke(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ke.prototype;function tr(e,t,n){const r=e.slice();return r[51]=t[n],r}function nr(e,t,n){const r=e.slice();return r[54]=t[n],r}function rr(e,t,n){const r=e.slice();return r[57]=t[n],r}function Xt(e){const t=e.slice(),n=t[16](t[6].entry).toFixed(1);return t[60]=n,t}function ir(e,t,n){const r=e.slice();return r[61]=t[n],r}function or(e,t,n){const r=e.slice();return r[64]=t[n],r}function Ut(e){const t=e.slice(),n=t[1](t[64].year)??t[13].left;t[67]=n;const r=t[2](t[17](t[64]));t[68]=r;const i=(t[64].field_size??0)>0;t[69]=i;const o=t[69]?`${t[16](t[64]).toFixed(1)}%`:null;return t[70]=o,t}function lr(e,t,n){const r=e.slice();return r[71]=t[n],r}function sr(e,t,n){const r=e.slice();return r[61]=t[n],r}function ar(e,t,n){const r=e.slice();return r[76]=t[n],r}function ur(e){let t,n,r,i,o=e[0]==="relative"?`${e[76]}%`:`#${e[76]}`,l,s;return{c(){t=j("line"),i=j("text"),l=D(o),c(t,"x1",e[13].left),c(t,"x2",Fe-e[13].right),c(t,"y1",n=e[2](e[76])),c(t,"y2",r=e[2](e[76])),c(t,"stroke","rgba(148, 163, 184, 0.25)"),c(t,"stroke-width","1"),c(i,"x",e[13].left-12),c(i,"y",s=e[2](e[76])+4),c(i,"text-anchor","end"),c(i,"font-size","12"),c(i,"fill","rgba(226, 232, 240, 0.7)")},m(a,u){X(a,t,u),X(a,i,u),m(i,l)},p(a,u){u[0]&20&&n!==(n=a[2](a[76]))&&c(t,"y1",n),u[0]&20&&r!==(r=a[2](a[76]))&&c(t,"y2",r),u[0]&17&&o!==(o=a[0]==="relative"?`${a[76]}%`:`#${a[76]}`)&&G(l,o),u[0]&20&&s!==(s=a[2](a[76])+4)&&c(i,"y",s)},d(a){a&&(B(t),B(i))}}}function fr(e){let t,n,r;return{c(){t=j("path"),c(t,"d",n=e[61].pathData),c(t,"fill","none"),c(t,"stroke",r=e[61].color),c(t,"stroke-width","3"),c(t,"stroke-opacity","0.85")},m(i,o){X(i,t,o)},p(i,o){o[0]&8&&n!==(n=i[61].pathData)&&c(t,"d",n),o[0]&8&&r!==(r=i[61].color)&&c(t,"stroke",r)},d(i){i&&B(t)}}}function cr(e){let t,n=e[61].pathData&&fr(e);return{c(){n&&n.c(),t=_e()},m(r,i){n&&n.m(r,i),X(r,t,i)},p(r,i){r[61].pathData?n?n.p(r,i):(n=fr(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&B(t),n&&n.d(r)}}}function cu(e){let t,n=Q(e[9]),r=[];for(let i=0;i<n.length;i+=1)r[i]=_r(lr(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=_e()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);X(i,t,o)},p(i,o){if(o[0]&8706){n=Q(i[9]);let l;for(l=0;l<n.length;l+=1){const s=lr(i,n,l);r[l]?r[l].p(s,o):(r[l]=_r(s),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&B(t),de(r,i)}}}function hr(e){let t=`${e[71].year}-${e[71].conductor}`,n,r=dr(e);return{c(){r.c(),n=_e()},m(i,o){r.m(i,o),X(i,n,o)},p(i,o){o[0]&512&&hn(t,t=`${i[71].year}-${i[71].conductor}`)?(r.d(1),r=dr(i),r.c(),r.m(n.parentNode,n)):r.p(i,o)},d(i){i&&B(n),r.d(i)}}}function dr(e){let t,n,r,i,o,l=e[71].conductor+"",s,a,u,f,h;return{c(){t=j("g"),n=j("line"),o=j("text"),s=D(l),c(n,"x1",r=e[1](e[71].year)),c(n,"x2",i=e[1](e[71].year)),c(n,"y1",e[13].top),c(n,"y2",ke-e[13].bottom),c(n,"stroke","rgba(248, 250, 252, 0.35)"),c(n,"stroke-dasharray","4 8"),c(n,"stroke-width","1.5"),c(o,"x",a=e[1](e[71].year)),c(o,"y",u=e[71].y),c(o,"text-anchor",f=e[71].anchor),c(o,"dx",h=e[71].dx),c(o,"font-size","11"),c(o,"fill","rgba(226, 232, 240, 0.75)"),c(o,"class","svelte-2n95ow"),c(t,"class","conductor-change svelte-2n95ow"),c(t,"aria-hidden","true")},m(d,p){X(d,t,p),m(t,n),m(t,o),m(o,s)},p(d,p){p[0]&514&&r!==(r=d[1](d[71].year))&&c(n,"x1",r),p[0]&514&&i!==(i=d[1](d[71].year))&&c(n,"x2",i),p[0]&512&&l!==(l=d[71].conductor+"")&&G(s,l),p[0]&514&&a!==(a=d[1](d[71].year))&&c(o,"x",a),p[0]&512&&u!==(u=d[71].y)&&c(o,"y",u),p[0]&512&&f!==(f=d[71].anchor)&&c(o,"text-anchor",f),p[0]&512&&h!==(h=d[71].dx)&&c(o,"dx",h)},d(d){d&&B(t)}}}function _r(e){let t=e[1](e[71].year)!==void 0,n,r=t&&hr(e);return{c(){r&&r.c(),n=_e()},m(i,o){r&&r.m(i,o),X(i,n,o)},p(i,o){o[0]&514&&(t=i[1](i[71].year)!==void 0),t?r?r.p(i,o):(r=hr(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){i&&B(n),r&&r.d(i)}}}function pr(e){let t;function n(o,l){return o[61].shape==="circle"?_u:o[61].shape==="square"?du:hu}let r=n(e),i=r(e);return{c(){t=j("g"),i.c()},m(o,l){X(o,t,l),i.m(t,null)},p(o,l){r===(r=n(o))&&i?i.p(o,l):(i.d(1),i=r(o),i&&(i.c(),i.m(t,null)))},d(o){o&&B(t),i.d()}}}function hu(e){let t,n,r,i,o,l,s;function a(...f){return e[38](e[64],e[61],...f)}function u(...f){return e[39](e[64],e[61],...f)}return{c(){t=j("path"),c(t,"d",n=fn(e[67],e[68],ve)),c(t,"fill",r=e[14][e[64].division]??"#f8fafc"),c(t,"stroke",i=e[61].color),c(t,"stroke-width","1.5"),c(t,"role","button"),c(t,"tabindex","0"),c(t,"aria-label",o=`${e[61].band.name}: ${e[64].year}  ${e[64].division} plass ${e[64].rank} (absolutt #${e[64].absolute_position}${e[70]?`  relativ ${e[70]}`:""})${e[64].conductor?`  Dirigent: ${e[64].conductor}`:""}`)},m(f,h){X(f,t,h),l||(s=[ee(t,"mouseenter",a),ee(t,"mouseleave",e[20]),ee(t,"focus",u),ee(t,"blur",e[20])],l=!0)},p(f,h){e=f,h[0]&14&&n!==(n=fn(e[67],e[68],ve))&&c(t,"d",n),h[0]&8&&r!==(r=e[14][e[64].division]??"#f8fafc")&&c(t,"fill",r),h[0]&8&&i!==(i=e[61].color)&&c(t,"stroke",i),h[0]&8&&o!==(o=`${e[61].band.name}: ${e[64].year}  ${e[64].division} plass ${e[64].rank} (absolutt #${e[64].absolute_position}${e[70]?`  relativ ${e[70]}`:""})${e[64].conductor?`  Dirigent: ${e[64].conductor}`:""}`)&&c(t,"aria-label",o)},d(f){f&&B(t),l=!1,ce(s)}}}function du(e){let t,n,r,i,o,l,s,a;function u(...h){return e[36](e[64],e[61],...h)}function f(...h){return e[37](e[64],e[61],...h)}return{c(){t=j("rect"),c(t,"x",n=e[67]-ve),c(t,"y",r=e[68]-ve),c(t,"width",ve*2),c(t,"height",ve*2),c(t,"rx","2"),c(t,"fill",i=e[14][e[64].division]??"#f8fafc"),c(t,"stroke",o=e[61].color),c(t,"stroke-width","1.5"),c(t,"role","button"),c(t,"tabindex","0"),c(t,"aria-label",l=`${e[61].band.name}: ${e[64].year}  ${e[64].division} plass ${e[64].rank} (absolutt #${e[64].absolute_position}${e[70]?`  relativ ${e[70]}`:""})${e[64].conductor?`  Dirigent: ${e[64].conductor}`:""}`)},m(h,d){X(h,t,d),s||(a=[ee(t,"mouseenter",u),ee(t,"mouseleave",e[20]),ee(t,"focus",f),ee(t,"blur",e[20])],s=!0)},p(h,d){e=h,d[0]&10&&n!==(n=e[67]-ve)&&c(t,"x",n),d[0]&12&&r!==(r=e[68]-ve)&&c(t,"y",r),d[0]&8&&i!==(i=e[14][e[64].division]??"#f8fafc")&&c(t,"fill",i),d[0]&8&&o!==(o=e[61].color)&&c(t,"stroke",o),d[0]&8&&l!==(l=`${e[61].band.name}: ${e[64].year}  ${e[64].division} plass ${e[64].rank} (absolutt #${e[64].absolute_position}${e[70]?`  relativ ${e[70]}`:""})${e[64].conductor?`  Dirigent: ${e[64].conductor}`:""}`)&&c(t,"aria-label",l)},d(h){h&&B(t),s=!1,ce(a)}}}function _u(e){let t,n,r,i,o,l,s,a;function u(...h){return e[34](e[64],e[61],...h)}function f(...h){return e[35](e[64],e[61],...h)}return{c(){t=j("circle"),c(t,"cx",n=e[67]),c(t,"cy",r=e[68]),c(t,"r",ve),c(t,"fill",i=e[14][e[64].division]??"#f8fafc"),c(t,"stroke",o=e[61].color),c(t,"stroke-width","1.5"),c(t,"role","button"),c(t,"tabindex","0"),c(t,"aria-label",l=`${e[61].band.name}: ${e[64].year}  ${e[64].division} plass ${e[64].rank} (absolutt #${e[64].absolute_position}${e[70]?`  relativ ${e[70]}`:""})${e[64].conductor?`  Dirigent: ${e[64].conductor}`:""}`)},m(h,d){X(h,t,d),s||(a=[ee(t,"mouseenter",u),ee(t,"mouseleave",e[20]),ee(t,"focus",f),ee(t,"blur",e[20])],s=!0)},p(h,d){e=h,d[0]&10&&n!==(n=e[67])&&c(t,"cx",n),d[0]&12&&r!==(r=e[68])&&c(t,"cy",r),d[0]&8&&i!==(i=e[14][e[64].division]??"#f8fafc")&&c(t,"fill",i),d[0]&8&&o!==(o=e[61].color)&&c(t,"stroke",o),d[0]&8&&l!==(l=`${e[61].band.name}: ${e[64].year}  ${e[64].division} plass ${e[64].rank} (absolutt #${e[64].absolute_position}${e[70]?`  relativ ${e[70]}`:""})${e[64].conductor?`  Dirigent: ${e[64].conductor}`:""}`)&&c(t,"aria-label",l)},d(h){h&&B(t),s=!1,ce(a)}}}function gr(e,t){let n,r=t[1](t[64].year)!==void 0,i,o=r&&pr(Ut(t));return{key:e,first:null,c(){n=_e(),o&&o.c(),i=_e(),this.first=n},m(l,s){X(l,n,s),o&&o.m(l,s),X(l,i,s)},p(l,s){t=l,s[0]&10&&(r=t[1](t[64].year)!==void 0),r?o?o.p(Ut(t),s):(o=pr(Ut(t)),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(l){l&&(B(n),B(i)),o&&o.d(l)}}}function mr(e){let t=[],n=new Map,r,i=Q(e[61].entries);const o=l=>l[64].year;for(let l=0;l<i.length;l+=1){let s=or(e,i,l),a=o(s);n.set(a,t[l]=gr(a,s))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();r=_e()},m(l,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(l,s);X(l,r,s)},p(l,s){s[0]&1794062&&(i=Q(l[61].entries),t=Wi(t,s,o,1,l,i,n,r.parentNode,Ki,gr,r,or))},d(l){l&&B(r);for(let s=0;s<t.length;s+=1)t[s].d(l)}}}function yr(e){let t,n,r=e[6].entry.year+"",i,o,l=e[6].bandName+"",s,a,u,f=e[6].entry.division+"",h,d,p=e[6].entry.rank+"",y,N,$,Y,I,R=e[6].entry.absolute_position+"",z,O,S,x,T,C=e[6].entry.division_size+"",E,w,k=e[6].entry.field_size+"",A,M,v,L,g,P=e[6].entry.conductor&&vr(e),q=(e[6].entry.field_size??0)>0&&wr(Xt(e)),W=e[6].entry.points!==null&&br(e),K=e[6].entry.pieces.length>0&&kr(e);return{c(){t=F("div"),n=F("strong"),i=D(r),o=D("  "),s=D(l),a=H(),u=F("div"),h=D(f),d=D("  #"),y=D(p),N=H(),P&&P.c(),$=H(),Y=F("div"),I=D("Absolutt plassering: #"),z=D(R),O=H(),q&&q.c(),S=H(),x=F("div"),T=D("Deltakere: "),E=D(C),w=D(" (div) / "),A=D(k),M=D(" (totalt)"),v=H(),W&&W.c(),L=H(),K&&K.c(),c(t,"class","tooltip svelte-2n95ow"),c(t,"style",g=`left: ${e[7]}px; top: ${e[8]}px`)},m(V,J){X(V,t,J),m(t,n),m(n,i),m(n,o),m(n,s),m(t,a),m(t,u),m(u,h),m(u,d),m(u,y),m(t,N),P&&P.m(t,null),m(t,$),m(t,Y),m(Y,I),m(Y,z),m(t,O),q&&q.m(t,null),m(t,S),m(t,x),m(x,T),m(x,E),m(x,w),m(x,A),m(x,M),m(t,v),W&&W.m(t,null),m(t,L),K&&K.m(t,null)},p(V,J){J[0]&64&&r!==(r=V[6].entry.year+"")&&G(i,r),J[0]&64&&l!==(l=V[6].bandName+"")&&G(s,l),J[0]&64&&f!==(f=V[6].entry.division+"")&&G(h,f),J[0]&64&&p!==(p=V[6].entry.rank+"")&&G(y,p),V[6].entry.conductor?P?P.p(V,J):(P=vr(V),P.c(),P.m(t,$)):P&&(P.d(1),P=null),J[0]&64&&R!==(R=V[6].entry.absolute_position+"")&&G(z,R),(V[6].entry.field_size??0)>0?q?q.p(Xt(V),J):(q=wr(Xt(V)),q.c(),q.m(t,S)):q&&(q.d(1),q=null),J[0]&64&&C!==(C=V[6].entry.division_size+"")&&G(E,C),J[0]&64&&k!==(k=V[6].entry.field_size+"")&&G(A,k),V[6].entry.points!==null?W?W.p(V,J):(W=br(V),W.c(),W.m(t,L)):W&&(W.d(1),W=null),V[6].entry.pieces.length>0?K?K.p(V,J):(K=kr(V),K.c(),K.m(t,null)):K&&(K.d(1),K=null),J[0]&384&&g!==(g=`left: ${V[7]}px; top: ${V[8]}px`)&&c(t,"style",g)},d(V){V&&B(t),P&&P.d(),q&&q.d(),W&&W.d(),K&&K.d()}}}function vr(e){let t,n,r=e[6].entry.conductor+"",i;return{c(){t=F("div"),n=D("Dirigent: "),i=D(r)},m(o,l){X(o,t,l),m(t,n),m(t,i)},p(o,l){l[0]&64&&r!==(r=o[6].entry.conductor+"")&&G(i,r)},d(o){o&&B(t)}}}function wr(e){let t,n,r=e[60]+"",i,o;return{c(){t=F("div"),n=D("Relativ plassering: "),i=D(r),o=D("%")},m(l,s){X(l,t,s),m(t,n),m(t,i),m(t,o)},p(l,s){s[0]&64&&r!==(r=l[60]+"")&&G(i,r)},d(l){l&&B(t)}}}function br(e){let t,n,r=e[6].entry.points+"",i,o,l=e[6].entry.max_points+"",s;return{c(){t=F("div"),n=D("Poeng: "),i=D(r),o=D(" / "),s=D(l)},m(a,u){X(a,t,u),m(t,n),m(t,i),m(t,o),m(t,s)},p(a,u){u[0]&64&&r!==(r=a[6].entry.points+"")&&G(i,r),u[0]&64&&l!==(l=a[6].entry.max_points+"")&&G(s,l)},d(a){a&&B(t)}}}function kr(e){let t,n,r=e[6].entry.pieces.join("; ")+"",i;return{c(){t=F("div"),n=D("Stykker: "),i=D(r)},m(o,l){X(o,t,l),m(t,n),m(t,i)},p(o,l){l[0]&64&&r!==(r=o[6].entry.pieces.join("; ")+"")&&G(i,r)},d(o){o&&B(t)}}}function Mr(e){let t,n=e[57].year+"",r,i,o;return{c(){t=F("span"),r=D(n),i=H(),c(t,"style",o=`left: ${e[57].x}px`),c(t,"class","svelte-2n95ow"),Me(t,"inactive",e[57].inactive)},m(l,s){X(l,t,s),m(t,r),m(t,i)},p(l,s){s[0]&1024&&n!==(n=l[57].year+"")&&G(r,n),s[0]&1024&&o!==(o=`left: ${l[57].x}px`)&&c(t,"style",o),s[0]&1024&&Me(t,"inactive",l[57].inactive)},d(l){l&&B(t)}}}function xr(e){let t,n=Q(e[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Er(nr(e,n,i));return{c(){t=F("div");for(let i=0;i<r.length;i+=1)r[i].c();c(t,"class","band-legend svelte-2n95ow")},m(i,o){X(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&8){n=Q(i[3]);let l;for(l=0;l<n.length;l+=1){const s=nr(i,n,l);r[l]?r[l].p(s,o):(r[l]=Er(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&B(t),de(r,i)}}}function pu(e){let t,n;return{c(){t=j("path"),c(t,"d",fn(21,7,6)),c(t,"fill","#0f172a"),c(t,"stroke",n=e[54].color),c(t,"stroke-width","2")},m(r,i){X(r,t,i)},p(r,i){i[0]&8&&n!==(n=r[54].color)&&c(t,"stroke",n)},d(r){r&&B(t)}}}function gu(e){let t,n;return{c(){t=j("rect"),c(t,"x","16"),c(t,"y","2"),c(t,"width","10"),c(t,"height","10"),c(t,"rx","2"),c(t,"fill","#0f172a"),c(t,"stroke",n=e[54].color),c(t,"stroke-width","2")},m(r,i){X(r,t,i)},p(r,i){i[0]&8&&n!==(n=r[54].color)&&c(t,"stroke",n)},d(r){r&&B(t)}}}function mu(e){let t,n;return{c(){t=j("circle"),c(t,"cx","21"),c(t,"cy","7"),c(t,"r","5"),c(t,"fill","#0f172a"),c(t,"stroke",n=e[54].color),c(t,"stroke-width","2")},m(r,i){X(r,t,i)},p(r,i){i[0]&8&&n!==(n=r[54].color)&&c(t,"stroke",n)},d(r){r&&B(t)}}}function Er(e){let t,n,r,i,o,l=e[54].band.name+"",s,a;function u(d,p){return d[54].shape==="circle"?mu:d[54].shape==="square"?gu:pu}let f=u(e),h=f(e);return{c(){t=F("span"),n=j("svg"),r=j("line"),h.c(),o=H(),s=D(l),a=H(),c(r,"x1","2"),c(r,"y1","7"),c(r,"x2","40"),c(r,"y2","7"),c(r,"stroke",i=e[54].color),c(r,"stroke-width","2.5"),c(r,"stroke-linecap","round"),c(n,"width","42"),c(n,"height","14"),c(n,"aria-hidden","true"),c(n,"class","svelte-2n95ow"),c(t,"class","svelte-2n95ow")},m(d,p){X(d,t,p),m(t,n),m(n,r),h.m(n,null),m(t,o),m(t,s),m(t,a)},p(d,p){p[0]&8&&i!==(i=d[54].color)&&c(r,"stroke",i),f===(f=u(d))&&h?h.p(d,p):(h.d(1),h=f(d),h&&(h.c(),h.m(n,null))),p[0]&8&&l!==(l=d[54].band.name+"")&&G(s,l)},d(d){d&&B(t),h.d()}}}function yu(e){let t,n=Q(e[12]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Nr(tr(e,n,i));return{c(){t=F("div");for(let i=0;i<r.length;i+=1)r[i].c();c(t,"class","legend svelte-2n95ow")},m(i,o){X(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&20480){n=Q(i[12]);let l;for(l=0;l<n.length;l+=1){const s=tr(i,n,l);r[l]?r[l].p(s,o):(r[l]=Nr(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&B(t),de(r,i)}}}function Nr(e){let t,n,r,i,o=e[51]+"",l,s;return{c(){t=F("span"),n=F("i"),i=H(),l=D(o),s=H(),c(n,"style",r=`background-color: ${e[14][e[51]]??"#94a3b8"}`),c(n,"class","svelte-2n95ow"),c(t,"class","svelte-2n95ow")},m(a,u){X(a,t,u),m(t,n),m(t,i),m(t,l),m(t,s)},p(a,u){u[0]&4096&&r!==(r=`background-color: ${a[14][a[51]]??"#94a3b8"}`)&&c(n,"style",r),u[0]&4096&&o!==(o=a[51]+"")&&G(l,o)},d(a){a&&B(t)}}}function vu(e){let t,n,r,i,o,l,s,a,u=e[15](),f,h,d,p,y,N,$,Y=e[18](),I,R=Q(e[4]),z=[];for(let v=0;v<R.length;v+=1)z[v]=ur(ar(e,R,v));let O=Q(e[3]),S=[];for(let v=0;v<O.length;v+=1)S[v]=cr(sr(e,O,v));let x=u&&cu(e),T=Q(e[3]),C=[];for(let v=0;v<T.length;v+=1)C[v]=mr(ir(e,T,v));let E=e[6]&&yr(e),w=Q(e[10]),k=[];for(let v=0;v<w.length;v+=1)k[v]=Mr(rr(e,w,v));let A=e[3].length>0&&xr(e),M=Y&&yu(e);return{c(){t=F("div"),n=j("svg"),r=j("defs"),i=j("linearGradient"),o=j("stop"),l=j("stop"),s=j("g");for(let v=0;v<z.length;v+=1)z[v].c();for(let v=0;v<S.length;v+=1)S[v].c();a=_e(),x&&x.c(),f=_e();for(let v=0;v<C.length;v+=1)C[v].c();h=H(),E&&E.c(),d=H(),p=F("div");for(let v=0;v<k.length;v+=1)k[v].c();N=H(),A&&A.c(),$=H(),M&&M.c(),I=_e(),c(o,"offset","0%"),c(o,"stop-color","#38bdf8"),c(o,"stop-opacity","0.9"),c(l,"offset","100%"),c(l,"stop-color","#2563eb"),c(l,"stop-opacity","0.35"),c(i,"id","trajectory"),c(i,"x1","0%"),c(i,"y1","0%"),c(i,"x2","0%"),c(i,"y2","100%"),c(s,"class","grid"),c(n,"viewBox",`0 0 ${Fe} ${ke}`),c(n,"role","img"),c(n,"aria-label","Band placement over tid"),c(p,"class","year-labels svelte-2n95ow"),c(p,"style",y=`top: ${e[11]}px`),c(t,"class","chart-canvas svelte-2n95ow")},m(v,L){X(v,t,L),m(t,n),m(n,r),m(r,i),m(i,o),m(i,l),m(n,s);for(let g=0;g<z.length;g+=1)z[g]&&z[g].m(s,null);for(let g=0;g<S.length;g+=1)S[g]&&S[g].m(n,null);m(n,a),x&&x.m(n,null),m(n,f);for(let g=0;g<C.length;g+=1)C[g]&&C[g].m(n,null);e[40](n),m(t,h),E&&E.m(t,null),m(t,d),m(t,p);for(let g=0;g<k.length;g+=1)k[g]&&k[g].m(p,null);X(v,N,L),A&&A.m(v,L),X(v,$,L),M&&M.m(v,L),X(v,I,L)},p(v,L){if(L[0]&8213){R=Q(v[4]);let g;for(g=0;g<R.length;g+=1){const P=ar(v,R,g);z[g]?z[g].p(P,L):(z[g]=ur(P),z[g].c(),z[g].m(s,null))}for(;g<z.length;g+=1)z[g].d(1);z.length=R.length}if(L[0]&8){O=Q(v[3]);let g;for(g=0;g<O.length;g+=1){const P=sr(v,O,g);S[g]?S[g].p(P,L):(S[g]=cr(P),S[g].c(),S[g].m(n,a))}for(;g<S.length;g+=1)S[g].d(1);S.length=O.length}if(u&&x.p(v,L),L[0]&1794062){T=Q(v[3]);let g;for(g=0;g<T.length;g+=1){const P=ir(v,T,g);C[g]?C[g].p(P,L):(C[g]=mr(P),C[g].c(),C[g].m(n,null))}for(;g<C.length;g+=1)C[g].d(1);C.length=T.length}if(v[6]?E?E.p(v,L):(E=yr(v),E.c(),E.m(t,d)):E&&(E.d(1),E=null),L[0]&1024){w=Q(v[10]);let g;for(g=0;g<w.length;g+=1){const P=rr(v,w,g);k[g]?k[g].p(P,L):(k[g]=Mr(P),k[g].c(),k[g].m(p,null))}for(;g<k.length;g+=1)k[g].d(1);k.length=w.length}L[0]&2048&&y!==(y=`top: ${v[11]}px`)&&c(p,"style",y),v[3].length>0?A?A.p(v,L):(A=xr(v),A.c(),A.m($.parentNode,$)):A&&(A.d(1),A=null),Y&&M.p(v,L)},i:se,o:se,d(v){v&&(B(t),B(N),B($),B(I)),de(z,v),de(S,v),x&&x.d(),de(C,v),e[40](null),E&&E.d(),de(k,v),A&&A.d(v),M&&M.d(v)}}}const Fe=880,ke=360,ve=6,un=3,qt=18,Yt=18,wu=22,bu=10,ku=6;function Mu(e){return e.map(t=>{const n=t.pieces??t.pieces,r=Array.isArray(n)?n.map(i=>`${i}`.trim()).filter(Boolean):n!=null&&`${n}`.trim().length?[`${n}`.trim()]:[];return{...t,pieces:r}})}function xu(e){const t=[];let n=0;if(e.length>0){const r=e[0];if(r.conductor){const i=n%un;t.push({year:r.year,conductor:r.conductor,lane:i}),n+=1}}for(let r=1;r<e.length;r+=1){const i=e[r-1],o=e[r];if(i.conductor&&o.conductor&&i.conductor!==o.conductor){const l=n%un;t.push({year:o.year,conductor:o.conductor,lane:l}),n+=1}}return t}function fn(e,t,n){return`M ${e} ${t-n} L ${e+n} ${t+n} L ${e-n} ${t+n} Z`}function Ar(e){if(!e)return Number.POSITIVE_INFINITY;const t=e.trim().toLowerCase();if(t==="elite")return 0;const n=t.match(/(\d+)/);return n?parseInt(n[1],10):Number.POSITIVE_INFINITY}function Eu(e,t){const n=Ar(e),r=Ar(t);return n!==r?n-r:e.localeCompare(t)}function Nu(e,t,n){let{bands:r=[]}=t,{years:i=[]}=t,{maxFieldSize:o=0}=t,{yMode:l="relative"}=t,{showConductorMarkers:s=!0}=t;const a={top:24,right:48,bottom:48,left:72},u={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},f=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],h=["circle","square","triangle"],d=a.top+6,p=ke-a.bottom-12;let y=null,N={offsetX:0,scaleX:1,offsetY:0,scaleY:1},$=null,Y=null,I=null,R=0,z=0;const O=()=>s&&r.length===1;function S(_){if(_.absolute_position==null)return 0;const b=_.field_size??L??o??1;return b?_.absolute_position/b*100:0}function x(_){return l==="relative"?S(_):_.absolute_position??0}function T(){if(!y)return;const _=y.getBoundingClientRect(),b=y.parentElement;if(!b)return;const U=b.getBoundingClientRect();_.width===0||_.height===0||n(25,N={offsetX:_.left-U.left,scaleX:_.width/Fe,offsetY:_.top-U.top,scaleY:_.height/ke})}function C(){!$||!y||Y!==y&&(Y&&$.unobserve(Y),$.observe(y),Y=y)}Ht(()=>{typeof ResizeObserver<"u"&&($=new ResizeObserver(()=>T())),C(),T(),window.addEventListener("resize",T)}),Bi(()=>{C(),T()}),Xi(()=>{$==null||$.disconnect(),window.removeEventListener("resize",T)});function E(_){var le;const b=v;if(!b)return{anchor:"middle",dx:0};const U=b(_.year)??a.left,ne=(((le=_.conductor)==null?void 0:le.length)??0)*ku/2,te=Fe-a.right;return U+ne>te?{anchor:"end",dx:-8}:U-ne<a.left?{anchor:"start",dx:8}:{anchor:"middle",dx:0}}function w(_,b){const U=_.find(oe=>oe.year===b.year);if(!U)return a.top-8+b.lane*qt;const Z=P(x(U)),ne=_.filter(oe=>oe.year>=b.year-1&&oe.year<=b.year+1).map(oe=>({year:oe.year,y:P(x(oe))})).sort((oe,It)=>oe.year-It.year),te=ne.findIndex(oe=>oe.year===b.year);let le=!0;if(te>0&&te<ne.length-1){const oe=ne[te-1],It=ne[te+1],zi=Math.abs(Z-oe.y),Ii=Math.abs(Z-It.y);(zi<Yt+4||Ii<Yt+4)&&(le=!1)}const re=Yt+b.lane*(qt/2),Le=Z-re;if(le&&Le>d)return Le;const Ri=b.lane/un,Ti=wu+b.lane*(qt/2)+Ri*24;return Math.min(Z+Ti,p)}let k=[],A=[],M=[],v=Zn().domain([0]).range([a.left,Fe-a.right]),L=1,g=[L+1,0],P=an().domain(g).range([ke-a.bottom,a.top]),q=[],W=[],K=[],V=new Set,J=1,xe=M,be=[],Ue=ke,qe=[];const St=()=>qe.length>0;function me(_,b,U,Z){const ne=_.currentTarget,te=ne.ownerSVGElement;if(!te)return;const le=te.getBoundingClientRect();if(_ instanceof MouseEvent)n(7,R=_.clientX-le.left),n(8,z=_.clientY-le.top);else{const re=ne.getBoundingClientRect();n(7,R=re.left+re.width/2-le.left),n(8,z=re.top+re.height/2-le.top)}n(6,I={entry:b,bandName:U,lineColor:Z})}function rt(){n(6,I=null)}const it=(_,b,U)=>me(U,_,b.band.name,b.color),$t=(_,b,U)=>me(U,_,b.band.name,b.color),Ct=(_,b,U)=>me(U,_,b.band.name,b.color),Lt=(_,b,U)=>me(U,_,b.band.name,b.color),Rt=(_,b,U)=>me(U,_,b.band.name,b.color),Tt=(_,b,U)=>me(U,_,b.band.name,b.color);function zt(_){Vt[_?"unshift":"push"](()=>{y=_,n(5,y)})}return e.$$set=_=>{"bands"in _&&n(21,r=_.bands),"years"in _&&n(22,i=_.years),"maxFieldSize"in _&&n(23,o=_.maxFieldSize),"yMode"in _&&n(0,l=_.yMode),"showConductorMarkers"in _&&n(24,s=_.showConductorMarkers)},e.$$.update=()=>{e.$$.dirty[0]&2097152&&n(26,k=r.map(_=>({band:_,entries:Mu(_.entries)}))),e.$$.dirty[0]&67108864&&n(27,A=k.flatMap(_=>_.entries)),e.$$.dirty[0]&138412032&&n(28,M=i.length?i:A.length?Array.from(new Set(A.map(_=>_.year))).sort((_,b)=>_-b):[0]),e.$$.dirty[0]&268435456&&n(1,v=Zn().domain(M).range([a.left,Fe-a.right])),e.$$.dirty[0]&142606336&&n(29,L=o||(A.length?Math.max(...A.map(_=>_.field_size)):1)),e.$$.dirty[0]&536870913&&n(30,g=l==="relative"?[100,0]:[L+1,0]),e.$$.dirty[0]&1073741824&&n(2,P=an().domain(g).range([ke-a.bottom,a.top])),e.$$.dirty[0]&335544326&&n(3,q=k.map((_,b)=>{const U=[..._.entries].sort((re,Le)=>re.year-Le.year),Z=M.map(re=>U.find(Le=>Le.year===re)??null),te=uu().defined(re=>re!==null).x(re=>v(re.year)??a.left).y(re=>P(x(re))).curve(fu)(Z)??void 0,le=O()?xu(U):[];return{band:_.band,entries:U,timeline:Z,pathData:te,conductorChanges:le,color:f[b%f.length],shape:h[b%h.length]}})),e.$$.dirty[0]&8&&n(9,W=O()&&q.length?q[0].conductorChanges.map(_=>({..._,...E(_),y:w(q[0].entries,_)})):[]),e.$$.dirty[0]&536870929&&(l==="relative"?n(4,K=Array.from({length:11},(_,b)=>b*10)):(n(4,K=Array.from(new Set(Wr(1,L,6).map(_=>Math.round(_)))).filter(_=>_>=1).sort((_,b)=>_-b)),K.includes(1)||n(4,K=[1,...K]))),e.$$.dirty[0]&134217728&&n(31,V=new Set(A.map(_=>_.year))),e.$$.dirty[0]&268435456&&n(32,J=M.length>30?5:M.length>18?3:1),e.$$.dirty[0]&268435456|e.$$.dirty[1]&2&&n(33,xe=M.filter((_,b)=>b===0||b===M.length-1||_%J===0)),e.$$.dirty[0]&33554434|e.$$.dirty[1]&5&&n(10,be=xe.map(_=>{const b=v(_)??a.left,U=N.offsetX+b*N.scaleX;return{year:_,x:U,inactive:!V.has(_)}})),e.$$.dirty[0]&33554432&&n(11,Ue=N.offsetY+(ke-a.bottom)*N.scaleY+bu),e.$$.dirty[0]&134217728&&n(12,qe=Array.from(new Set(A.map(_=>_.division))).filter(_=>typeof _=="string"&&_.length>0).sort(Eu))},[l,v,P,q,K,y,I,R,z,W,be,Ue,qe,a,u,O,S,x,St,me,rt,r,i,o,s,N,k,A,M,L,g,V,J,xe,it,$t,Ct,Lt,Rt,Tt,zt]}class Au extends Gr{constructor(t){super(),Vr(this,t,Nu,vu,hn,{bands:21,years:22,maxFieldSize:23,yMode:0,showConductorMarkers:24},null,[-1,-1,-1])}}function Sr(e,t,n){const r=e.slice();return r[51]=t[n],r[53]=n,r}function $r(e,t,n){const r=e.slice();return r[51]=t[n],r[53]=n,r}function Cr(e,t,n){const r=e.slice();return r[55]=t[n],r}function Lr(e){let t,n=e[20][e[55]]+"",r,i,o,l,s;function a(){return e[39](e[55])}return{c(){t=F("button"),r=D(n),i=H(),c(t,"type","button"),c(t,"aria-pressed",o=e[1]===e[55]),c(t,"class","svelte-1mzxacf"),Me(t,"selected",e[1]===e[55])},m(u,f){X(u,t,f),m(t,r),m(t,i),l||(s=ee(t,"click",a),l=!0)},p(u,f){e=u,f[0]&2&&o!==(o=e[1]===e[55])&&c(t,"aria-pressed",o),f[0]&2097154&&Me(t,"selected",e[1]===e[55])},d(u){u&&B(t),l=!1,s()}}}function Rr(e){let t,n=Q(e[2]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Tr($r(e,n,i));return{c(){t=F("div");for(let i=0;i<r.length;i+=1)r[i].c();c(t,"class","selected-entities svelte-1mzxacf"),c(t,"role","list"),c(t,"aria-label",e[14])},m(i,o){X(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&8388612){n=Q(i[2]);let l;for(l=0;l<n.length;l+=1){const s=$r(i,n,l);r[l]?r[l].p(s,o):(r[l]=Tr(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}o[0]&16384&&c(t,"aria-label",i[14])},d(i){i&&B(t),de(r,i)}}}function Tr(e){let t,n,r,i,o=e[51].name+"",l,s,a,u,f,h,d,p;function y(){return e[41](e[51])}return{c(){t=F("span"),n=F("span"),n.textContent=`${e[53]+1}`,r=H(),i=F("span"),l=D(o),s=H(),a=F("button"),u=D(""),h=H(),c(n,"class","selected-entity__index svelte-1mzxacf"),c(i,"class","selected-entity__name svelte-1mzxacf"),c(a,"type","button"),c(a,"aria-label",f=`Fjern ${e[51].name}`),c(a,"class","svelte-1mzxacf"),c(t,"class","selected-entity svelte-1mzxacf"),c(t,"role","listitem")},m(N,$){X(N,t,$),m(t,n),m(t,r),m(t,i),m(i,l),m(t,s),m(t,a),m(a,u),m(t,h),d||(p=ee(a,"click",y),d=!0)},p(N,$){e=N,$[0]&4&&o!==(o=e[51].name+"")&&G(l,o),$[0]&4&&f!==(f=`Fjern ${e[51].name}`)&&c(a,"aria-label",f)},d(N){N&&B(t),d=!1,p()}}}function zr(e){let t,n=Q(e[19]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Ir(Sr(e,n,i));return{c(){t=F("div");for(let i=0;i<r.length;i+=1)r[i].c();c(t,"class","suggestions svelte-1mzxacf"),c(t,"role","listbox"),c(t,"aria-label",e[15])},m(i,o){X(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&4718656){n=Q(i[19]);let l;for(l=0;l<n.length;l+=1){const s=Sr(i,n,l);r[l]?r[l].p(s,o):(r[l]=Ir(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}o[0]&32768&&c(t,"aria-label",i[15])},d(i){i&&B(t),de(r,i)}}}function Ir(e){let t,n=e[51].name+"",r,i,o,l,s,a;function u(){return e[42](e[51])}return{c(){t=F("div"),r=D(n),i=H(),c(t,"class",o="suggestion "+(e[53]===e[6]?"active":"")+" svelte-1mzxacf"),c(t,"role","option"),c(t,"tabindex","-1"),c(t,"aria-selected",l=e[53]===e[6])},m(f,h){X(f,t,h),m(t,r),m(t,i),s||(a=ee(t,"mousedown",Ur(u)),s=!0)},p(f,h){e=f,h[0]&524288&&n!==(n=e[51].name+"")&&G(r,n),h[0]&64&&o!==(o="suggestion "+(e[53]===e[6]?"active":"")+" svelte-1mzxacf")&&c(t,"class",o),h[0]&64&&l!==(l=e[53]===e[6])&&c(t,"aria-selected",l)},d(f){f&&B(t),s=!1,a()}}}function Su(e){let t,n,r,i,o,l;return{c(){t=F("section"),n=F("h2"),r=D(e[13]),i=H(),o=F("p"),l=D(e[12]),c(t,"class","empty-state svelte-1mzxacf")},m(s,a){X(s,t,a),m(t,n),m(n,r),m(t,i),m(t,o),m(o,l)},p(s,a){a[0]&8192&&G(r,s[13]),a[0]&4096&&G(l,s[12])},i:se,o:se,d(s){s&&B(t)}}}function $u(e){let t,n,r,i,o,l,s,a,u,f,h,d,p,y,N,$,Y,I,R,z,O,S,x,T,C,E=e[9]&&Fr(e);return S=new Au({props:{years:e[3],maxFieldSize:e[18],bands:e[2],yMode:e[7],showConductorMarkers:e[1]==="bands"}}),{c(){t=F("section"),n=F("div"),r=F("span"),r.textContent="Plassering:",i=H(),o=F("div"),l=F("button"),s=D("Absolutt"),u=H(),f=F("button"),h=D("Relativ"),p=H(),y=F("div"),N=F("h2"),$=D(e[10]),Y=H(),I=F("p"),R=D(e[8]),z=H(),E&&E.c(),O=H(),Zi(S.$$.fragment),c(r,"class","mode-toggle__label svelte-1mzxacf"),c(l,"type","button"),c(l,"aria-pressed",a=e[7]==="absolute"),c(l,"class","svelte-1mzxacf"),Me(l,"selected",e[7]==="absolute"),c(f,"type","button"),c(f,"aria-pressed",d=e[7]==="relative"),c(f,"class","svelte-1mzxacf"),Me(f,"selected",e[7]==="relative"),c(o,"class","mode-toggle__buttons svelte-1mzxacf"),c(o,"role","group"),c(o,"aria-label","Velg plasseringsvisning"),c(n,"class","mode-toggle svelte-1mzxacf"),c(N,"class","svelte-1mzxacf"),c(I,"class","svelte-1mzxacf"),c(y,"class","chart-header svelte-1mzxacf"),c(t,"class","chart-card svelte-1mzxacf")},m(w,k){X(w,t,k),m(t,n),m(n,r),m(n,i),m(n,o),m(o,l),m(l,s),m(o,u),m(o,f),m(f,h),m(t,p),m(t,y),m(y,N),m(N,$),m(y,Y),m(y,I),m(I,R),m(y,z),E&&E.m(y,null),m(t,O),Yr(S,t,null),x=!0,T||(C=[ee(l,"click",e[43]),ee(f,"click",e[44])],T=!0)},p(w,k){(!x||k[0]&128&&a!==(a=w[7]==="absolute"))&&c(l,"aria-pressed",a),(!x||k[0]&128)&&Me(l,"selected",w[7]==="absolute"),(!x||k[0]&128&&d!==(d=w[7]==="relative"))&&c(f,"aria-pressed",d),(!x||k[0]&128)&&Me(f,"selected",w[7]==="relative"),(!x||k[0]&1024)&&G($,w[10]),(!x||k[0]&256)&&G(R,w[8]),w[9]?E?E.p(w,k):(E=Fr(w),E.c(),E.m(y,null)):E&&(E.d(1),E=null);const A={};k[0]&8&&(A.years=w[3]),k[0]&262144&&(A.maxFieldSize=w[18]),k[0]&4&&(A.bands=w[2]),k[0]&128&&(A.yMode=w[7]),k[0]&2&&(A.showConductorMarkers=w[1]==="bands"),S.$set(A)},i(w){x||(Qe(S.$$.fragment,w),x=!0)},o(w){Wt(S.$$.fragment,w),x=!1},d(w){w&&B(t),E&&E.d(),Hr(S),T=!1,ce(C)}}}function Cu(e){let t,n;return{c(){t=F("section"),n=D(e[5]),c(t,"class","status error svelte-1mzxacf")},m(r,i){X(r,t,i),m(t,n)},p(r,i){i[0]&32&&G(n,r[5])},i:se,o:se,d(r){r&&B(t)}}}function Lu(e){let t;return{c(){t=F("section"),t.textContent="Laster data",c(t,"class","status svelte-1mzxacf")},m(n,r){X(n,t,r)},p:se,i:se,o:se,d(n){n&&B(t)}}}function Fr(e){let t,n;return{c(){t=F("p"),n=D(e[9]),c(t,"class","comparison-summary svelte-1mzxacf")},m(r,i){X(r,t,i),m(t,n)},p(r,i){i[0]&512&&G(n,r[9])},d(r){r&&B(t)}}}function Ru(e){let t,n,r,i,o,l,s,a,u,f,h,d,p,y,N,$,Y,I,R,z,O,S,x=Q(e[21]),T=[];for(let M=0;M<x.length;M+=1)T[M]=Lr(Cr(e,x,M));let C=e[2].length>0&&Rr(e),E=e[19].length>0&&zr(e);const w=[Lu,Cu,$u,Su],k=[];function A(M,v){return M[4]?0:M[5]?1:M[2].length>0?2:3}return I=A(e),R=k[I]=w[I](e),{c(){t=F("main"),n=F("header"),r=F("h1"),r.textContent="NM Janitsjar: Plassering over tid",i=H(),o=F("div");for(let M=0;M<T.length;M+=1)T[M].c();l=H(),s=F("p"),a=D(e[11]),u=H(),f=F("form"),h=F("label"),d=D(e[16]),p=H(),y=F("input"),N=H(),C&&C.c(),$=H(),E&&E.c(),Y=H(),R.c(),c(r,"class","svelte-1mzxacf"),c(o,"class","view-toggle svelte-1mzxacf"),c(o,"role","group"),c(o,"aria-label","Bytt mellom korps- og dirigentvisning"),c(n,"class","page-header svelte-1mzxacf"),c(s,"class","lead svelte-1mzxacf"),c(h,"class","sr-only svelte-1mzxacf"),c(h,"for","entity-search"),c(y,"id","entity-search"),c(y,"type","search"),c(y,"placeholder",e[17]),c(y,"autocomplete","off"),c(y,"class","svelte-1mzxacf"),c(f,"class","search svelte-1mzxacf"),c(t,"class","svelte-1mzxacf")},m(M,v){X(M,t,v),m(t,n),m(n,r),m(n,i),m(n,o);for(let L=0;L<T.length;L+=1)T[L]&&T[L].m(o,null);m(t,l),m(t,s),m(s,a),m(t,u),m(t,f),m(f,h),m(h,d),m(f,p),m(f,y),En(y,e[0]),m(t,N),C&&C.m(t,null),m(t,$),E&&E.m(t,null),m(t,Y),k[I].m(t,null),z=!0,O||(S=[ee(y,"input",e[40]),ee(y,"input",e[25]),ee(y,"keydown",e[26]),ee(f,"submit",Ur(e[24]))],O=!0)},p(M,v){if(v[0]&137363458){x=Q(M[21]);let g;for(g=0;g<x.length;g+=1){const P=Cr(M,x,g);T[g]?T[g].p(P,v):(T[g]=Lr(P),T[g].c(),T[g].m(o,null))}for(;g<T.length;g+=1)T[g].d(1);T.length=x.length}(!z||v[0]&2048)&&G(a,M[11]),(!z||v[0]&65536)&&G(d,M[16]),(!z||v[0]&131072)&&c(y,"placeholder",M[17]),v[0]&1&&y.value!==M[0]&&En(y,M[0]),M[2].length>0?C?C.p(M,v):(C=Rr(M),C.c(),C.m(t,$)):C&&(C.d(1),C=null),M[19].length>0?E?E.p(M,v):(E=zr(M),E.c(),E.m(t,Y)):E&&(E.d(1),E=null);let L=I;I=A(M),I===L?k[I].p(M,v):(Vi(),Wt(k[L],1,1,()=>{k[L]=null}),Gi(),R=k[I],R?R.p(M,v):(R=k[I]=w[I](M),R.c()),Qe(R,1),R.m(t,null))},i(M){z||(Qe(R),z=!0)},o(M){Wt(R),z=!1},d(M){M&&B(t),de(T,M),C&&C.d(),E&&E.d(),k[I].d(),O=!1,ce(S)}}}const $i="mode",Ci="view",He=",",Li="relative",cn="bands";function Tu(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}function zu(e){return{...e,pieces:Array.isArray(e.pieces)?[...e.pieces]:[]}}function Pr(e){var n;const t=new Map;for(const r of e)for(const i of r.entries){const o=(n=i.conductor)==null?void 0:n.trim();if(!o)continue;const l=Tu(o);let s=t.get(l);s||(s={name:o,slug:l,years:new Map},t.set(l,s));const a=s.years.get(i.year);if(!a||i.absolute_position<a.absolute_position){const u=zu(i);u.conductor=null,s.years.set(i.year,u)}}return Array.from(t.values()).map(r=>({name:r.name,slug:r.slug,entries:Array.from(r.years.values()).sort((i,o)=>i.year-o.year)})).sort((r,i)=>r.name.localeCompare(i.name))}function Iu(){if(typeof window>"u")return Li;const t=new URLSearchParams(window.location.search).get($i);return(t?t.toLowerCase():null)==="absolute"?"absolute":"relative"}function Fu(){var n;if(typeof window>"u")return cn;const t=(n=new URLSearchParams(window.location.search).get(Ci))==null?void 0:n.toLowerCase();return t?t==="conductors"||t==="dirigent"||t==="conductor"?"conductors":"bands":cn}function Dr(e,t){if(!e.length||!t.length)return[];const n=new Map(e.map(r=>[r.slug,r]));return t.map(r=>n.get(r)??n.get(r.toLowerCase())).filter(r=>!!r)}function Or(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.slug===t[r].slug)}function Pu(e,t,n){let r,i,o,l,s,a,u,f,h,d,p,y,N,$,Y,I;const R={bands:"band",conductors:"conductor"},z={bands:"Korps",conductors:"Dirigent"},O=["bands","conductors"];let S=null,x=[],T=!0,C=null,E="",w=[],k=[],A=-1,M=!1,v="",L=Li,g=cn,P=[],q=[];function W(_){return R[_]}function K(_){if(typeof window>"u")return[];const U=new URLSearchParams(window.location.search).get(W(_));return U?U.split(He).map(Z=>decodeURIComponent(Z.trim())).filter(Boolean):[]}function V(){if(typeof window>"u")return;const _=new URLSearchParams(window.location.search),b=w.map(te=>encodeURIComponent(te.slug)).join(He);b.length?_.set(W("bands"),b):_.delete(W("bands"));const U=k.map(te=>encodeURIComponent(te.slug)).join(He);U.length?_.set(W("conductors"),U):_.delete(W("conductors")),_.set($i,L),_.set(Ci,g==="conductors"?"conductors":"bands");const Z=_.toString(),ne=`${window.location.pathname}${Z?`?${Z}`:""}${window.location.hash}`;window.history.replaceState({},"",ne)}function J({updateHistory:_=!1}={}){const b=Iu(),U=Fu();let Z=!1;if(b!==L&&(n(7,L=b),Z=!0),U!==g&&(n(1,g=U),Z=!0),!S)return _&&V(),Z;const ne=Dr(S.bands,K("bands"));Or(w,ne)||(n(30,w=ne),Z=!0),x.length||n(29,x=Pr(S.bands));const te=Dr(x,K("conductors"));return Or(k,te)||(n(31,k=te),Z=!0),_&&V(),Z}function xe(){const _=w.map(U=>U.slug).join(He),b=k.map(U=>U.slug).join(He);return`${g}|${L}|${_}|${b}`}function be(_){if(g==="bands"){if(w.some(b=>b.slug===_.slug))return;n(30,w=[...w,_])}else{if(k.some(b=>b.slug===_.slug))return;n(31,k=[...k,_])}n(0,E=""),n(6,A=-1)}function Ue(_){g==="bands"?n(30,w=w.filter(b=>b.slug!==_)):n(31,k=k.filter(b=>b.slug!==_)),n(6,A=-1)}function qe(){if(r.length===0)return;const _=P.find(b=>b.name.toLowerCase()===i);_?be(_):o.length>0&&be(o[0])}function St(_){n(0,E=_.target.value),n(6,A=-1)}function me(_){o.length&&(_.key==="ArrowDown"?(_.preventDefault(),n(6,A=(A+1)%o.length)):_.key==="ArrowUp"?(_.preventDefault(),n(6,A=(A-1+o.length)%o.length)):_.key==="Enter"&&A>=0&&(_.preventDefault(),be(o[A])))}function rt(_){_!==g&&(n(1,g=_),n(0,E=""),n(6,A=-1))}Ht(async()=>{try{const _=await fetch("data/band_positions.json");if(!_.ok)throw new Error(`Kunne ikke laste data (status ${_.status})`);n(28,S=await _.json()),n(29,x=Pr(S.bands)),J({updateHistory:!1}),n(33,v=xe()),V(),n(32,M=!0)}catch(_){n(5,C=_ instanceof Error?_.message:"Ukjent feil ved lasting av data.")}finally{n(4,T=!1)}}),Ht(()=>{const _=()=>{S&&(J({updateHistory:!1}),n(33,v=xe()))};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)});let it="";const $t=_=>rt(_);function Ct(){E=this.value,n(0,E)}const Lt=_=>Ue(_.slug),Rt=_=>be(_),Tt=()=>n(7,L="absolute"),zt=()=>n(7,L="relative");return e.$$.update=()=>{if(e.$$.dirty[0]&1&&n(38,r=E.trim()),e.$$.dirty[1]&128&&n(37,i=r.toLowerCase()),e.$$.dirty[0]&805306370&&n(34,P=g==="bands"?(S==null?void 0:S.bands)??[]:x),e.$$.dirty[0]&1073741826|e.$$.dirty[1]&1&&n(2,q=g==="bands"?w:k),e.$$.dirty[0]&4|e.$$.dirty[1]&72&&n(19,o=P&&i.length>=2?P.filter(_=>_.name.toLowerCase().includes(i)&&!q.some(b=>b.slug===_.slug)).slice(0,10):[]),e.$$.dirty[0]&268435456&&n(3,l=S?S.metadata.years:[]),e.$$.dirty[0]&268435456&&n(18,s=S?S.metadata.max_field_size:0),e.$$.dirty[0]&805306370&&n(36,a=g==="bands"?(S==null?void 0:S.bands.length)??0:x.length),e.$$.dirty[0]&2&&n(35,u=g==="bands"?"korps":"dirigenter"),e.$$.dirty[0]&268435464|e.$$.dirty[1]&48&&n(8,it=S?`Dekker ${a} ${u}  ${l.length} r (${S.metadata.min_year}${S.metadata.max_year})`:""),e.$$.dirty[0]&2&&n(17,f=g==="bands"?"Begynn  skrive et korpsnavn (minst 2 bokstaver)":"Begynn  skrive et dirigentnavn (minst 2 bokstaver)"),e.$$.dirty[0]&2&&n(16,h=g==="bands"?"Sk etter korps":"Sk etter dirigent"),e.$$.dirty[0]&2&&n(15,d=g==="bands"?"Korpsforslag":"Dirigentforslag"),e.$$.dirty[0]&2&&n(14,p=g==="bands"?"Valgte korps":"Valgte dirigenter"),e.$$.dirty[0]&2&&n(13,y=g==="bands"?"Ingen korps valgt enn":"Ingen dirigenter valgt enn"),e.$$.dirty[0]&2&&n(12,N=g==="bands"?"Finn et navn i skefeltet for  tegne kurven for samlet plassering.":"Finn en dirigent i skefeltet for  tegne kurven for samlet plassering."),e.$$.dirty[0]&2&&n(11,$=g==="bands"?"Sk etter et janitsjarkorps for  se hvordan den samlede plasseringen utvikler seg r for r, p tvers av alle divisjoner.":"Sk etter en dirigent for  se hvordan deres beste plassering utvikler seg r for r, basert p korpsene de dirigerte."),e.$$.dirty[1]&6&&M){const _=xe();_!==v&&(V(),n(33,v=_))}e.$$.dirty[0]&4|e.$$.dirty[1]&16&&n(10,Y=q.length===1?q[0].name:q.length>1?`${q.length} ${u} valgt`:""),e.$$.dirty[0]&4&&n(9,I=q.length>1?q.map(_=>_.name).join("  "):"")},[E,g,q,l,T,C,A,L,it,I,Y,$,N,y,p,d,h,f,s,o,z,O,be,Ue,qe,St,me,rt,S,x,w,k,M,v,P,u,a,i,r,$t,Ct,Lt,Rt,Tt,zt]}class Du extends Gr{constructor(t){super(),Vr(this,t,Pu,Ru,hn,{},null,[-1,-1])}}new Du({target:document.getElementById("app")});
