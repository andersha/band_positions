var vu=Object.defineProperty;var Is=e=>{throw TypeError(e)};var hu=(e,t,n)=>t in e?vu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $r=(e,t,n)=>hu(e,typeof t!="symbol"?t+"":t,n),ba=(e,t,n)=>t.has(e)||Is("Cannot "+n);var O=(e,t,n)=>(ba(e,t,"read from private field"),n?n.call(e):t.get(e)),Oe=(e,t,n)=>t.has(e)?Is("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ue=(e,t,n,r)=>(ba(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Et=(e,t,n)=>(ba(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const pu="5";var wo;typeof window<"u"&&((wo=window.__svelte??(window.__svelte={})).v??(wo.v=new Set)).add(pu);const aa=1,sa=2,bo=4,_u=8,gu=16,mu=1,yu=4,wu=8,bu=16,xo=1,xu=2,wt=Symbol(),ku="http://www.w3.org/1999/xhtml",ko=!1;var Ga=Array.isArray,Nu=Array.prototype.indexOf,Wa=Array.from,Aa=Object.defineProperty,Tr=Object.getOwnPropertyDescriptor,Su=Object.getOwnPropertyDescriptors,$u=Object.prototype,Mu=Array.prototype,No=Object.getPrototypeOf,Cs=Object.isExtensible;function So(e){for(var t=0;t<e.length;t++)e[t]()}function Eu(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const Ht=2,Za=4,Qa=8,Yr=16,qn=32,gr=64,Ja=128,en=256,Bi=512,kt=1024,nn=2048,Zn=4096,vn=8192,mr=16384,es=32768,oa=65536,Ps=1<<17,Au=1<<18,Vr=1<<19,Tu=1<<20,Ta=1<<21,ts=1<<22,ur=1<<23,ai=Symbol("$state"),Iu=Symbol("legacy props"),Cu=Symbol(""),ns=new class extends Error{constructor(){super(...arguments);$r(this,"name","StaleReactionError");$r(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function $o(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Pu(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ru(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function qu(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Lu(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Fu(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ou(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Du(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function zu(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Bu(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ju(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Uu(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Yu=!1;function Mo(e){return e===this.v}function Vu(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Hu(e,t){return e!==t}function Eo(e){return!Vu(e,this.v)}let Ku=!1,zt=null;function Fr(e){zt=e}function Qn(e,t=!1,n){zt={p:zt,c:null,e:null,s:e,x:null,l:null}}function Jn(e){var t=zt,n=t.e;if(n!==null){t.e=null;for(var r of n)Uo(r)}return zt=t.p,{}}function Ao(){return!0}let Kn=[],ji=[];function To(){var e=Kn;Kn=[],So(e)}function Xu(){var e=ji;ji=[],So(e)}function Gu(){return Kn.length>0||ji.length>0}function Hr(e){if(Kn.length===0&&!si){var t=Kn;queueMicrotask(()=>{t===Kn&&To()})}Kn.push(e)}function Wu(){Kn.length>0&&To(),ji.length>0&&Xu()}const Zu=new WeakMap;function Io(e){var t=Me;if(t===null)return be.f|=ur,e;if(t.f&es)Or(e,t);else{if(!(t.f&Ja))throw!t.parent&&e instanceof Error&&Co(e),e;t.b.error(e)}}function Or(e,t){for(;t!==null;){if(t.f&Ja)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Co(e),e}function Co(e){const t=Zu.get(e);t&&(Aa(e,"message",{value:t.message}),Aa(e,"stack",{value:t.stack}))}const xa=new Set;let Ze=null,Pi=null,Ia=new Set,vr=[],la=null,Ca=!1,si=!1;var hi,Rr,jn,pi,_i,ir,qr,ar,Un,Lr,gi,mi,hn,Po,Ri,Pa;const na=class na{constructor(){Oe(this,hn);$r(this,"current",new Map);Oe(this,hi,new Map);Oe(this,Rr,new Set);Oe(this,jn,0);Oe(this,pi,null);Oe(this,_i,!1);Oe(this,ir,[]);Oe(this,qr,[]);Oe(this,ar,[]);Oe(this,Un,[]);Oe(this,Lr,[]);Oe(this,gi,[]);Oe(this,mi,[]);$r(this,"skipped_effects",new Set)}process(t){var a;vr=[],Pi=null;for(const s of t)Et(this,hn,Po).call(this,s);if(O(this,ir).length===0&&O(this,jn)===0){Et(this,hn,Pa).call(this);var n=O(this,ar),r=O(this,Un);ue(this,ar,[]),ue(this,Un,[]),ue(this,Lr,[]),Pi=Ze,Ze=null,Rs(n),Rs(r),Ze===null?Ze=this:xa.delete(this),(a=O(this,pi))==null||a.resolve()}else Et(this,hn,Ri).call(this,O(this,ar)),Et(this,hn,Ri).call(this,O(this,Un)),Et(this,hn,Ri).call(this,O(this,Lr));for(const s of O(this,ir))Cr(s);for(const s of O(this,qr))Cr(s);ue(this,ir,[]),ue(this,qr,[])}capture(t,n){O(this,hi).has(t)||O(this,hi).set(t,n),this.current.set(t,t.v)}activate(){Ze=this}deactivate(){Ze=null,Pi=null;for(const t of Ia)if(Ia.delete(t),t(),Ze!==null)break}neuter(){ue(this,_i,!0)}flush(){vr.length>0?Ro():Et(this,hn,Pa).call(this),Ze===this&&(O(this,jn)===0&&xa.delete(this),this.deactivate())}increment(){ue(this,jn,O(this,jn)+1)}decrement(){if(ue(this,jn,O(this,jn)-1),O(this,jn)===0){for(const t of O(this,gi))Dt(t,nn),Dr(t);for(const t of O(this,mi))Dt(t,Zn),Dr(t);ue(this,ar,[]),ue(this,Un,[]),this.flush()}else this.deactivate()}add_callback(t){O(this,Rr).add(t)}settled(){return(O(this,pi)??ue(this,pi,Eu())).promise}static ensure(){if(Ze===null){const t=Ze=new na;xa.add(Ze),si||na.enqueue(()=>{Ze===t&&t.flush()})}return Ze}static enqueue(t){Hr(t)}};hi=new WeakMap,Rr=new WeakMap,jn=new WeakMap,pi=new WeakMap,_i=new WeakMap,ir=new WeakMap,qr=new WeakMap,ar=new WeakMap,Un=new WeakMap,Lr=new WeakMap,gi=new WeakMap,mi=new WeakMap,hn=new WeakSet,Po=function(t){var f;t.f^=kt;for(var n=t.first;n!==null;){var r=n.f,a=(r&(qn|gr))!==0,s=a&&(r&kt)!==0,o=s||(r&vn)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(a)n.f^=kt;else if(r&Za)O(this,Un).push(n);else if(!(r&kt))if(r&ts){var l=(f=n.b)!=null&&f.is_pending()?O(this,qr):O(this,ir);l.push(n)}else da(n)&&(n.f&Yr&&O(this,Lr).push(n),Cr(n));var u=n.first;if(u!==null){n=u;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},Ri=function(t){for(const n of t)(n.f&nn?O(this,gi):O(this,mi)).push(n),Dt(n,kt);t.length=0},Pa=function(){if(!O(this,_i))for(const t of O(this,Rr))t();O(this,Rr).clear()};let Gn=na;function Qu(e){var t=si;si=!0;try{for(var n;;){if(Wu(),vr.length===0&&!Gu()&&(Ze==null||Ze.flush(),vr.length===0))return la=null,n;Ro()}}finally{si=t}}function Ro(){var e=Ir;Ca=!0;try{var t=0;for(Fs(!0);vr.length>0;){var n=Gn.ensure();if(t++>1e3){var r,a;Ju()}n.process(vr),Wn.clear()}}finally{Ca=!1,Fs(e),la=null}}function Ju(){try{Fu()}catch(e){Or(e,la)}}let Cn=null;function Rs(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(mr|vn))&&da(r)&&(Cn=[],Cr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Ho(r):r.fn=null),(Cn==null?void 0:Cn.length)>0)){Wn.clear();for(const a of Cn)Cr(a);Cn=[]}}Cn=null}}function Dr(e){for(var t=la=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ca&&t===Me&&n&Yr)return;if(n&(gr|qn)){if(!(n&kt))return;t.f^=kt}}vr.push(t)}function ec(e){let t=0,n=hr(0),r;return()=>{mc()&&(i(n),as(()=>(t===0&&(r=Xr(()=>e(()=>oi(n)))),t+=1,()=>{Hr(()=>{t-=1,t===0&&(r==null||r(),r=void 0,oi(n))})})))}}var tc=oa|Vr|Ja;function nc(e,t,n){new rc(e,t,n)}var un,Zt,Xa,bn,sr,xn,Qt,qt,kn,Yn,or,Vn,lr,Hn,ra,ia,It,ic,ac,qi,Li,Ra;class rc{constructor(t,n,r){Oe(this,It);$r(this,"parent");Oe(this,un,!1);Oe(this,Zt);Oe(this,Xa,null);Oe(this,bn);Oe(this,sr);Oe(this,xn);Oe(this,Qt,null);Oe(this,qt,null);Oe(this,kn,null);Oe(this,Yn,null);Oe(this,or,0);Oe(this,Vn,0);Oe(this,lr,!1);Oe(this,Hn,null);Oe(this,ra,()=>{O(this,Hn)&&zr(O(this,Hn),O(this,or))});Oe(this,ia,ec(()=>(ue(this,Hn,hr(O(this,or))),()=>{ue(this,Hn,null)})));ue(this,Zt,t),ue(this,bn,n),ue(this,sr,r),this.parent=Me.b,ue(this,un,!!O(this,bn).pending),ue(this,xn,fa(()=>{Me.b=this;{try{ue(this,Qt,Jt(()=>r(O(this,Zt))))}catch(a){this.error(a)}O(this,Vn)>0?Et(this,It,Li).call(this):ue(this,un,!1)}},tc))}is_pending(){return O(this,un)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!O(this,bn).pending}update_pending_count(t){Et(this,It,Ra).call(this,t),ue(this,or,O(this,or)+t),Ia.add(O(this,ra))}get_effect_pending(){return O(this,ia).call(this),i(O(this,Hn))}error(t){var n=O(this,bn).onerror;let r=O(this,bn).failed;if(O(this,lr)||!n&&!r)throw t;O(this,Qt)&&(tn(O(this,Qt)),ue(this,Qt,null)),O(this,qt)&&(tn(O(this,qt)),ue(this,qt,null)),O(this,kn)&&(tn(O(this,kn)),ue(this,kn,null));var a=!1,s=!1;const o=()=>{if(a){Uu();return}a=!0,s&&ju(),Gn.ensure(),ue(this,or,0),O(this,kn)!==null&&cr(O(this,kn),()=>{ue(this,kn,null)}),ue(this,un,this.has_pending_snippet()),ue(this,Qt,Et(this,It,qi).call(this,()=>(ue(this,lr,!1),Jt(()=>O(this,sr).call(this,O(this,Zt)))))),O(this,Vn)>0?Et(this,It,Li).call(this):ue(this,un,!1)};var l=be;try{Ft(null),s=!0,n==null||n(t,o),s=!1}catch(u){Or(u,O(this,xn)&&O(this,xn).parent)}finally{Ft(l)}r&&Hr(()=>{ue(this,kn,Et(this,It,qi).call(this,()=>{ue(this,lr,!0);try{return Jt(()=>{r(O(this,Zt),()=>t,()=>o)})}catch(u){return Or(u,O(this,xn).parent),null}finally{ue(this,lr,!1)}}))})}}un=new WeakMap,Zt=new WeakMap,Xa=new WeakMap,bn=new WeakMap,sr=new WeakMap,xn=new WeakMap,Qt=new WeakMap,qt=new WeakMap,kn=new WeakMap,Yn=new WeakMap,or=new WeakMap,Vn=new WeakMap,lr=new WeakMap,Hn=new WeakMap,ra=new WeakMap,ia=new WeakMap,It=new WeakSet,ic=function(){try{ue(this,Qt,Jt(()=>O(this,sr).call(this,O(this,Zt))))}catch(t){this.error(t)}ue(this,un,!1)},ac=function(){const t=O(this,bn).pending;t&&(ue(this,qt,Jt(()=>t(O(this,Zt)))),Gn.enqueue(()=>{ue(this,Qt,Et(this,It,qi).call(this,()=>(Gn.ensure(),Jt(()=>O(this,sr).call(this,O(this,Zt)))))),O(this,Vn)>0?Et(this,It,Li).call(this):(cr(O(this,qt),()=>{ue(this,qt,null)}),ue(this,un,!1))}))},qi=function(t){var n=Me,r=be,a=zt;Sn(O(this,xn)),Ft(O(this,xn)),Fr(O(this,xn).ctx);try{return t()}catch(s){return Io(s),null}finally{Sn(n),Ft(r),Fr(a)}},Li=function(){const t=O(this,bn).pending;O(this,Qt)!==null&&(ue(this,Yn,document.createDocumentFragment()),sc(O(this,Qt),O(this,Yn))),O(this,qt)===null&&ue(this,qt,Jt(()=>t(O(this,Zt))))},Ra=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Et(n=this.parent,It,Ra).call(n,t);return}ue(this,Vn,O(this,Vn)+t),O(this,Vn)===0&&(ue(this,un,!1),O(this,qt)&&cr(O(this,qt),()=>{ue(this,qt,null)}),O(this,Yn)&&(O(this,Zt).before(O(this,Yn)),ue(this,Yn,null)))};function sc(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:yi(n);t.append(n),n=a}}function oc(e,t,n){const r=ua;if(t.length===0){n(e.map(r));return}var a=Ze,s=Me,o=lc();Promise.all(t.map(l=>uc(l))).then(l=>{a==null||a.activate(),o();try{n([...e.map(r),...l])}catch(u){s.f&mr||Or(u,s)}a==null||a.deactivate(),qo()}).catch(l=>{Or(l,s)})}function lc(){var e=Me,t=be,n=zt,r=Ze;return function(){Sn(e),Ft(t),Fr(n),r==null||r.activate()}}function qo(){Sn(null),Ft(null),Fr(null)}function ua(e){var t=Ht|nn,n=be!==null&&be.f&Ht?be:null;return Me===null||n!==null&&n.f&en?t|=en:Me.f|=Vr,{ctx:zt,deps:null,effects:null,equals:Mo,f:t,fn:e,reactions:null,rv:0,v:wt,wv:0,parent:n??Me,ac:null}}function uc(e,t){let n=Me;n===null&&Pu();var r=n.b,a=void 0,s=hr(wt),o=null,l=!be;return xc(()=>{try{var u=e();o&&Promise.resolve(u).catch(()=>{})}catch(_){u=Promise.reject(_)}var c=()=>u;a=(o==null?void 0:o.then(c,c))??Promise.resolve(u),o=a;var f=Ze,d=r.is_pending();l&&(r.update_pending_count(1),d||f.increment());const h=(_,v=void 0)=>{o=null,d||f.activate(),v?v!==ns&&(s.f|=ur,zr(s,v)):(s.f&ur&&(s.f^=ur),zr(s,_)),l&&(r.update_pending_count(-1),d||f.decrement()),qo()};if(a.then(h,_=>h(null,_||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(u=>{function c(f){function d(){f===a?u(s):c(a)}f.then(d,d)}c(a)})}function T(e){const t=ua(e);return Go(t),t}function Lo(e){const t=ua(e);return t.equals=Eo,t}function Fo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)tn(t[n])}}function cc(e){for(var t=e.parent;t!==null;){if(!(t.f&Ht))return t;t=t.parent}return null}function rs(e){var t,n=Me;Sn(cc(e));try{Fo(e),t=Jo(e)}finally{Sn(n)}return t}function Oo(e){var t=rs(e);if(e.equals(t)||(e.v=t,e.wv=Zo()),!yr){var n=(Xn||e.f&en)&&e.deps!==null?Zn:kt;Dt(e,n)}}const Wn=new Map;function hr(e,t){var n={f:0,v:e,reactions:null,equals:Mo,rv:0,wv:0};return n}function Ie(e,t){const n=hr(e);return Go(n),n}function fc(e,t=!1,n=!0){const r=hr(e);return t||(r.equals=Eo),r}function B(e,t,n=!1){be!==null&&(!fn||be.f&Ps)&&Ao()&&be.f&(Ht|Yr|ts|Ps)&&!(Tt!=null&&Tt.includes(e))&&Bu();let r=n?Lt(t):t;return zr(e,r)}function zr(e,t){if(!e.equals(t)){var n=e.v;yr?Wn.set(e,t):Wn.set(e,n),e.v=t;var r=Gn.ensure();r.capture(e,n),e.f&Ht&&(e.f&nn&&rs(e),Dt(e,e.f&en?Zn:kt)),e.wv=Zo(),Do(e,nn),Me!==null&&Me.f&kt&&!(Me.f&(qn|gr))&&(Wt===null?Sc([e]):Wt.push(e))}return t}function oi(e){B(e,e.v+1)}function Do(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,a=0;a<r;a++){var s=n[a],o=s.f,l=(o&nn)===0;l&&Dt(s,t),o&Ht?Do(s,Zn):l&&(o&Yr&&Cn!==null&&Cn.push(s),Dr(s))}}function Lt(e){if(typeof e!="object"||e===null||ai in e)return e;const t=No(e);if(t!==$u&&t!==Mu)return e;var n=new Map,r=Ga(e),a=Ie(0),s=fr,o=l=>{if(fr===s)return l();var u=be,c=fr;Ft(null),Ds(s);var f=l();return Ft(u),Ds(c),f};return r&&n.set("length",Ie(e.length)),new Proxy(e,{defineProperty(l,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Du();var f=n.get(u);return f===void 0?f=o(()=>{var d=Ie(c.value);return n.set(u,d),d}):B(f,c.value,!0),!0},deleteProperty(l,u){var c=n.get(u);if(c===void 0){if(u in l){const f=o(()=>Ie(wt));n.set(u,f),oi(a)}}else B(c,wt),oi(a);return!0},get(l,u,c){var _;if(u===ai)return e;var f=n.get(u),d=u in l;if(f===void 0&&(!d||(_=Tr(l,u))!=null&&_.writable)&&(f=o(()=>{var v=Lt(d?l[u]:wt),p=Ie(v);return p}),n.set(u,f)),f!==void 0){var h=i(f);return h===wt?void 0:h}return Reflect.get(l,u,c)},getOwnPropertyDescriptor(l,u){var c=Reflect.getOwnPropertyDescriptor(l,u);if(c&&"value"in c){var f=n.get(u);f&&(c.value=i(f))}else if(c===void 0){var d=n.get(u),h=d==null?void 0:d.v;if(d!==void 0&&h!==wt)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return c},has(l,u){var h;if(u===ai)return!0;var c=n.get(u),f=c!==void 0&&c.v!==wt||Reflect.has(l,u);if(c!==void 0||Me!==null&&(!f||(h=Tr(l,u))!=null&&h.writable)){c===void 0&&(c=o(()=>{var _=f?Lt(l[u]):wt,v=Ie(_);return v}),n.set(u,c));var d=i(c);if(d===wt)return!1}return f},set(l,u,c,f){var I;var d=n.get(u),h=u in l;if(r&&u==="length")for(var _=c;_<d.v;_+=1){var v=n.get(_+"");v!==void 0?B(v,wt):_ in l&&(v=o(()=>Ie(wt)),n.set(_+"",v))}if(d===void 0)(!h||(I=Tr(l,u))!=null&&I.writable)&&(d=o(()=>Ie(void 0)),B(d,Lt(c)),n.set(u,d));else{h=d.v!==wt;var p=o(()=>Lt(c));B(d,p)}var m=Reflect.getOwnPropertyDescriptor(l,u);if(m!=null&&m.set&&m.set.call(f,c),!h){if(r&&typeof u=="string"){var M=n.get("length"),P=Number(u);Number.isInteger(P)&&P>=M.v&&B(M,P+1)}oi(a)}return!0},ownKeys(l){i(a);var u=Reflect.ownKeys(l).filter(d=>{var h=n.get(d);return h===void 0||h.v!==wt});for(var[c,f]of n)f.v!==wt&&!(c in l)&&u.push(c);return u},setPrototypeOf(){zu()}})}var qs,zo,Bo,jo;function dc(){if(qs===void 0){qs=window,zo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Bo=Tr(t,"firstChild").get,jo=Tr(t,"nextSibling").get,Cs(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Cs(n)&&(n.__t=void 0)}}function Kr(e=""){return document.createTextNode(e)}function Pn(e){return Bo.call(e)}function yi(e){return jo.call(e)}function g(e,t){return Pn(e)}function we(e,t=!1){{var n=Pn(e);return n instanceof Comment&&n.data===""?yi(n):n}}function S(e,t=1,n=!1){let r=e;for(;t--;)r=yi(r);return r}function vc(e){e.textContent=""}function is(){return!1}let Ls=!1;function hc(){Ls||(Ls=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ca(e){var t=be,n=Me;Ft(null),Sn(null);try{return e()}finally{Ft(t),Sn(n)}}function pc(e,t,n,r=n){e.addEventListener(t,()=>ca(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),hc()}function _c(e){Me===null&&be===null&&Lu(),be!==null&&be.f&en&&Me===null&&qu(),yr&&Ru()}function gc(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ln(e,t,n,r=!0){var a=Me;a!==null&&a.f&vn&&(e|=vn);var s={ctx:zt,deps:null,nodes_start:null,nodes_end:null,f:e|nn,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Cr(s),s.f|=es}catch(u){throw tn(s),u}else t!==null&&Dr(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&Vr)&&(o=o.first),o!==null&&(o.parent=a,a!==null&&gc(o,a),be!==null&&be.f&Ht&&!(e&gr))){var l=be;(l.effects??(l.effects=[])).push(o)}}return s}function mc(){return be!==null&&!fn}function yc(e){const t=Ln(Qa,null,!1);return Dt(t,kt),t.teardown=e,t}function li(e){_c();var t=Me.f,n=!be&&(t&qn)!==0&&(t&es)===0;if(n){var r=zt;(r.e??(r.e=[])).push(e)}else return Uo(e)}function Uo(e){return Ln(Za|Tu,e,!1)}function wc(e){Gn.ensure();const t=Ln(gr|Vr,e,!0);return(n={})=>new Promise(r=>{n.outro?cr(t,()=>{tn(t),r(void 0)}):(tn(t),r(void 0))})}function bc(e){return Ln(Za,e,!1)}function xc(e){return Ln(ts|Vr,e,!0)}function as(e,t=0){return Ln(Qa|t,e,!0)}function K(e,t=[],n=[]){oc(t,n,r=>{Ln(Qa,()=>e(...r.map(i)),!0)})}function fa(e,t=0){var n=Ln(Yr|t,e,!0);return n}function Jt(e,t=!0){return Ln(qn|Vr,e,!0,t)}function Yo(e){var t=e.teardown;if(t!==null){const n=yr,r=be;Os(!0),Ft(null);try{t.call(null)}finally{Os(n),Ft(r)}}}function Vo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&ca(()=>{a.abort(ns)});var r=n.next;n.f&gr?n.parent=null:tn(n,t),n=r}}function kc(e){for(var t=e.first;t!==null;){var n=t.next;t.f&qn||tn(t),t=n}}function tn(e,t=!0){var n=!1;(t||e.f&Au)&&e.nodes_start!==null&&e.nodes_end!==null&&(Nc(e.nodes_start,e.nodes_end),n=!0),Vo(e,t&&!n),Ui(e,0),Dt(e,mr);var r=e.transitions;if(r!==null)for(const s of r)s.stop();Yo(e);var a=e.parent;a!==null&&a.first!==null&&Ho(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Nc(e,t){for(;e!==null;){var n=e===t?null:yi(e);e.remove(),e=n}}function Ho(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function cr(e,t){var n=[];ss(e,n,!0),Ko(n,()=>{tn(e),t&&t()})}function Ko(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ss(e,t,n){if(!(e.f&vn)){if(e.f^=vn,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&oa)!==0||(r.f&qn)!==0;ss(r,t,s?n:!1),r=a}}}function os(e){Xo(e,!0)}function Xo(e,t){if(e.f&vn){e.f^=vn,e.f&kt||(Dt(e,nn),Dr(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&oa)!==0||(n.f&qn)!==0;Xo(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Ir=!1;function Fs(e){Ir=e}let yr=!1;function Os(e){yr=e}let be=null,fn=!1;function Ft(e){be=e}let Me=null;function Sn(e){Me=e}let Tt=null;function Go(e){be!==null&&(Tt===null?Tt=[e]:Tt.push(e))}let At=null,Vt=0,Wt=null;function Sc(e){Wt=e}let Wo=1,ui=0,fr=ui;function Ds(e){fr=e}let Xn=!1;function Zo(){return++Wo}function da(e){var d;var t=e.f;if(t&nn)return!0;if(t&Zn){var n=e.deps,r=(t&en)!==0;if(n!==null){var a,s,o=(t&Bi)!==0,l=r&&Me!==null&&!Xn,u=n.length;if((o||l)&&(Me===null||!(Me.f&mr))){var c=e,f=c.parent;for(a=0;a<u;a++)s=n[a],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(c)))&&(s.reactions??(s.reactions=[])).push(c);o&&(c.f^=Bi),l&&f!==null&&!(f.f&en)&&(c.f^=en)}for(a=0;a<u;a++)if(s=n[a],da(s)&&Oo(s),s.wv>e.wv)return!0}(!r||Me!==null&&!Xn)&&Dt(e,kt)}return!1}function Qo(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Tt!=null&&Tt.includes(e)))for(var a=0;a<r.length;a++){var s=r[a];s.f&Ht?Qo(s,t,!1):t===s&&(n?Dt(s,nn):s.f&kt&&Dt(s,Zn),Dr(s))}}function Jo(e){var p;var t=At,n=Vt,r=Wt,a=be,s=Xn,o=Tt,l=zt,u=fn,c=fr,f=e.f;At=null,Vt=0,Wt=null,Xn=(f&en)!==0&&(fn||!Ir||be===null),be=f&(qn|gr)?null:e,Tt=null,Fr(e.ctx),fn=!1,fr=++ui,e.ac!==null&&(ca(()=>{e.ac.abort(ns)}),e.ac=null);try{e.f|=Ta;var d=e.fn,h=d(),_=e.deps;if(At!==null){var v;if(Ui(e,Vt),_!==null&&Vt>0)for(_.length=Vt+At.length,v=0;v<At.length;v++)_[Vt+v]=At[v];else e.deps=_=At;if(!Xn||f&Ht&&e.reactions!==null)for(v=Vt;v<_.length;v++)((p=_[v]).reactions??(p.reactions=[])).push(e)}else _!==null&&Vt<_.length&&(Ui(e,Vt),_.length=Vt);if(Ao()&&Wt!==null&&!fn&&_!==null&&!(e.f&(Ht|Zn|nn)))for(v=0;v<Wt.length;v++)Qo(Wt[v],e);return a!==null&&a!==e&&(ui++,Wt!==null&&(r===null?r=Wt:r.push(...Wt))),e.f&ur&&(e.f^=ur),h}catch(m){return Io(m)}finally{e.f^=Ta,At=t,Vt=n,Wt=r,be=a,Xn=s,Tt=o,Fr(l),fn=u,fr=c}}function $c(e,t){let n=t.reactions;if(n!==null){var r=Nu.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&t.f&Ht&&(At===null||!At.includes(t))&&(Dt(t,Zn),t.f&(en|Bi)||(t.f^=Bi),Fo(t),Ui(t,0))}function Ui(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)$c(e,n[r])}function Cr(e){var t=e.f;if(!(t&mr)){Dt(e,kt);var n=Me,r=Ir;Me=e,Ir=!0;try{t&Yr?kc(e):Vo(e),Yo(e);var a=Jo(e);e.teardown=typeof a=="function"?a:null,e.wv=Wo;var s;ko&&Ku&&e.f&nn&&e.deps}finally{Ir=r,Me=n}}}async function Mc(){await Promise.resolve(),Qu()}function i(e){var t=e.f,n=(t&Ht)!==0;if(be!==null&&!fn){var r=Me!==null&&(Me.f&mr)!==0;if(!r&&!(Tt!=null&&Tt.includes(e))){var a=be.deps;if(be.f&Ta)e.rv<ui&&(e.rv=ui,At===null&&a!==null&&a[Vt]===e?Vt++:At===null?At=[e]:(!Xn||!At.includes(e))&&At.push(e));else{(be.deps??(be.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[be]:s.includes(be)||s.push(be)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&!(l.f&en)&&(o.f^=en)}if(yr){if(Wn.has(e))return Wn.get(e);if(n){o=e;var u=o.v;return(!(o.f&kt)&&o.reactions!==null||el(o))&&(u=rs(o)),Wn.set(o,u),u}}else n&&(o=e,da(o)&&Oo(o));if(e.f&ur)throw e.v;return e.v}function el(e){if(e.v===wt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Wn.has(t)||t.f&Ht&&el(t))return!0;return!1}function Xr(e){var t=fn;try{return fn=!0,e()}finally{fn=t}}const Ec=-7169;function Dt(e,t){e.f=e.f&Ec|t}const tl=new Set,qa=new Set;function Ac(e,t,n,r={}){function a(s){if(r.capture||ti.call(t,s),!s.cancelBubble)return ca(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Hr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Yt(e,t,n,r,a){var s={capture:r,passive:a},o=Ac(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&yc(()=>{t.removeEventListener(e,o,s)})}function nl(e){for(var t=0;t<e.length;t++)tl.add(e[t]);for(var n of qa)n(e)}let zs=null;function ti(e){var P;var t=this,n=t.ownerDocument,r=e.type,a=((P=e.composedPath)==null?void 0:P.call(e))||[],s=a[0]||e.target;zs=e;var o=0,l=zs===e&&e.__root;if(l){var u=a.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=a.indexOf(t);if(c===-1)return;u<=c&&(o=u)}if(s=a[o]||e.target,s!==t){Aa(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=be,d=Me;Ft(null),Sn(null);try{for(var h,_=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+r];if(p!=null&&(!s.disabled||e.target===s))if(Ga(p)){var[m,...M]=p;m.apply(s,[e,...M])}else p.call(s,e)}catch(I){h?_.push(I):h=I}if(e.cancelBubble||v===t||v===null)break;s=v}if(h){for(let I of _)queueMicrotask(()=>{throw I});throw h}}finally{e.__root=t,delete e.currentTarget,Ft(f),Sn(d)}}}function rl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ci(e,t){var n=Me;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function $(e,t){var n=(t&xo)!==0,r=(t&xu)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=rl(s?e:"<!>"+e),n||(a=Pn(a)));var o=r||zo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Pn(o),u=o.lastChild;ci(l,u)}else ci(o,o);return o}}function Tc(e,t,n="svg"){var r=!e.startsWith("<!>"),a=(t&xo)!==0,s=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var l=rl(s),u=Pn(l);if(a)for(o=document.createDocumentFragment();Pn(u);)o.appendChild(Pn(u));else o=Pn(u)}var c=o.cloneNode(!0);if(a){var f=Pn(c),d=c.lastChild;ci(f,d)}else ci(c,c);return c}}function _n(e,t){return Tc(e,t,"svg")}function Qe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Kr();return e.append(t,n),ci(t,n),e}function b(e,t){e!==null&&e.before(t)}const Ic=["touchstart","touchmove"];function Cc(e){return Ic.includes(e)}function z(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Pc(e,t){return Rc(e,t)}const Mr=new Map;function Rc(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:o=!0}){dc();var l=new Set,u=d=>{for(var h=0;h<d.length;h++){var _=d[h];if(!l.has(_)){l.add(_);var v=Cc(_);t.addEventListener(_,ti,{passive:v});var p=Mr.get(_);p===void 0?(document.addEventListener(_,ti,{passive:v}),Mr.set(_,1)):Mr.set(_,p+1)}}};u(Wa(tl)),qa.add(u);var c=void 0,f=wc(()=>{var d=n??t.appendChild(Kr());return nc(d,{pending:()=>{}},h=>{if(s){Qn({});var _=zt;_.c=s}a&&(r.$$events=a),c=e(h,r)||{},s&&Jn()}),()=>{var v;for(var h of l){t.removeEventListener(h,ti);var _=Mr.get(h);--_===0?(document.removeEventListener(h,ti),Mr.delete(h)):Mr.set(h,_)}qa.delete(u),d!==n&&((v=d.parentNode)==null||v.removeChild(d))}});return qc.set(c,f),c}let qc=new WeakMap;function Yi(e){zt===null&&$o(),li(()=>{const t=Xr(e);if(typeof t=="function")return t})}function Lc(e){zt===null&&$o(),Yi(()=>()=>Xr(e))}function H(e,t,n=!1){var r=e,a=null,s=null,o=wt,l=n?oa:0,u=!1;const c=(_,v=!0)=>{u=!0,h(v,_)};var f=null;function d(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var _=o?a:s,v=o?s:a;_&&os(_),v&&cr(v,()=>{o?s=null:a=null})}const h=(_,v)=>{if(o!==(o=_)){var p=is(),m=r;if(p&&(f=document.createDocumentFragment(),f.append(m=Kr())),o?a??(a=v&&Jt(()=>v(m))):s??(s=v&&Jt(()=>v(m))),p){var M=Ze,P=o?a:s,I=o?s:a;P&&M.skipped_effects.delete(P),I&&M.skipped_effects.add(I),M.add_callback(d)}else d()}};fa(()=>{u=!1,t(c),u||h(null,null)},l)}function Fc(e,t,n){var r=e,a=wt,s,o,l=null,u=Hu;function c(){s&&cr(s),l!==null&&(l.lastChild.remove(),r.before(l),l=null),s=o}fa(()=>{if(u(a,a=t())){var f=r,d=is();d&&(l=document.createDocumentFragment(),l.append(f=Kr())),o=Jt(()=>n(f)),d?Ze.add_callback(c):c()}})}function Ve(e,t){return t}function Oc(e,t,n){for(var r=e.items,a=[],s=t.length,o=0;o<s;o++)ss(t[o].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var u=n.parentNode;vc(u),u.append(n),r.clear(),wn(e,t[0].prev,t[s-1].next)}Ko(a,()=>{for(var c=0;c<s;c++){var f=t[c];l||(r.delete(f.k),wn(e,f.prev,f.next)),tn(f.e,!l)}})}function Be(e,t,n,r,a,s=null){var o=e,l={flags:t,items:new Map,first:null},u=(t&bo)!==0;if(u){var c=e;o=c.appendChild(Kr())}var f=null,d=!1,h=new Map,_=Lo(()=>{var M=n();return Ga(M)?M:M==null?[]:Wa(M)}),v,p;function m(){Dc(p,v,l,h,o,a,t,r,n),s!==null&&(v.length===0?f?os(f):f=Jt(()=>s(o)):f!==null&&cr(f,()=>{f=null}))}fa(()=>{p??(p=Me),v=i(_);var M=v.length;if(!(d&&M===0)){d=M===0;var P,I,X,U;if(is()){var Y=new Set,Q=Ze;for(I=0;I<M;I+=1){X=v[I],U=r(X,I);var ve=l.items.get(U)??h.get(U);ve?t&(aa|sa)&&il(ve,X,I,t):(P=al(null,l,null,null,X,U,I,a,t,n,!0),h.set(U,P)),Y.add(U)}for(const[je,ge]of l.items)Y.has(je)||Q.skipped_effects.add(ge.e);Q.add_callback(m)}else m();i(_)}})}function Dc(e,t,n,r,a,s,o,l,u){var N,L,ne,he;var c=(o&_u)!==0,f=(o&(aa|sa))!==0,d=t.length,h=n.items,_=n.first,v=_,p,m=null,M,P=[],I=[],X,U,Y,Q;if(c)for(Q=0;Q<d;Q+=1)X=t[Q],U=l(X,Q),Y=h.get(U),Y!==void 0&&((N=Y.a)==null||N.measure(),(M??(M=new Set)).add(Y));for(Q=0;Q<d;Q+=1){if(X=t[Q],U=l(X,Q),Y=h.get(U),Y===void 0){var ve=r.get(U);if(ve!==void 0){r.delete(U),h.set(U,ve);var je=m?m.next:v;wn(n,m,ve),wn(n,ve,je),ka(ve,je,a),m=ve}else{var ge=v?v.e.nodes_start:a;m=al(ge,n,m,m===null?n.first:m.next,X,U,Q,s,o,u)}h.set(U,m),P=[],I=[],v=m.next;continue}if(f&&il(Y,X,Q,o),Y.e.f&vn&&(os(Y.e),c&&((L=Y.a)==null||L.unfix(),(M??(M=new Set)).delete(Y))),Y!==v){if(p!==void 0&&p.has(Y)){if(P.length<I.length){var G=I[0],ie;m=G.prev;var E=P[0],fe=P[P.length-1];for(ie=0;ie<P.length;ie+=1)ka(P[ie],G,a);for(ie=0;ie<I.length;ie+=1)p.delete(I[ie]);wn(n,E.prev,fe.next),wn(n,m,E),wn(n,fe,G),v=G,m=fe,Q-=1,P=[],I=[]}else p.delete(Y),ka(Y,v,a),wn(n,Y.prev,Y.next),wn(n,Y,m===null?n.first:m.next),wn(n,m,Y),m=Y;continue}for(P=[],I=[];v!==null&&v.k!==U;)v.e.f&vn||(p??(p=new Set)).add(v),I.push(v),v=v.next;if(v===null)continue;Y=v}P.push(Y),m=Y,v=Y.next}if(v!==null||p!==void 0){for(var ee=p===void 0?[]:Wa(p);v!==null;)v.e.f&vn||ee.push(v),v=v.next;var Fe=ee.length;if(Fe>0){var De=o&bo&&d===0?a:null;if(c){for(Q=0;Q<Fe;Q+=1)(ne=ee[Q].a)==null||ne.measure();for(Q=0;Q<Fe;Q+=1)(he=ee[Q].a)==null||he.fix()}Oc(n,ee,De)}}c&&Hr(()=>{var Ee;if(M!==void 0)for(Y of M)(Ee=Y.a)==null||Ee.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var He of r.values())tn(He.e);r.clear()}function il(e,t,n,r){r&aa&&zr(e.v,t),r&sa?zr(e.i,n):e.i=n}function al(e,t,n,r,a,s,o,l,u,c,f){var d=(u&aa)!==0,h=(u&gu)===0,_=d?h?fc(a,!1,!1):hr(a):a,v=u&sa?hr(o):o,p={i:v,v:_,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=Kr())}return p.e=Jt(()=>l(e,_,v,c),Yu),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?f||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function ka(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var o=yi(s);a.before(s),s=o}}function wn(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const Bs=[...` 	
\r\f \v\uFEFF`];function zc(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,o=0;(o=r.indexOf(a,o))>=0;){var l=o+s;(o===0||Bs.includes(r[o-1]))&&(l===r.length||Bs.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Bc(e,t){return e==null?null:String(e)}function Bn(e,t,n,r,a,s){var o=e.__className;if(o!==n||o===void 0){var l=zc(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var u in s){var c=!!s[u];(a==null||c!==!!a[u])&&e.classList.toggle(u,c)}return s}function Mi(e,t,n,r){var a=e.__style;if(a!==t){var s=Bc(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const jc=Symbol("is custom element"),Uc=Symbol("is html");function js(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function q(e,t,n,r){var a=Yc(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Cu]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Vc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Yc(e){return e.__attributes??(e.__attributes={[jc]:e.nodeName.includes("-"),[Uc]:e.namespaceURI===ku})}var Us=new Map;function Vc(e){var t=e.getAttribute("is")||e.nodeName,n=Us.get(t);if(n)return n;Us.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=Su(a);for(var o in r)r[o].set&&n.push(o);a=No(a)}return n}function Hc(e,t,n=t){var r=new WeakSet;pc(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=Na(e)?Sa(s):s,n(s),Ze!==null&&r.add(Ze),await Mc(),s!==(s=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),Xr(t)==null&&e.value&&(n(Na(e)?Sa(e.value):e.value),Ze!==null&&r.add(Ze)),as(()=>{var a=t();if(e===document.activeElement){var s=Pi??Ze;if(r.has(s))return}Na(e)&&a===Sa(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Na(e){var t=e.type;return t==="number"||t==="range"}function Sa(e){return e===""?null:+e}function Ys(e,t){return e===t||(e==null?void 0:e[ai])===t}function Kc(e={},t,n,r){return bc(()=>{var a,s;return as(()=>{a=s,s=[],Xr(()=>{e!==n(...s)&&(t(e,...s),a&&Ys(n(...a),e)&&t(null,...a))})}),()=>{Hr(()=>{s&&Ys(n(...s),e)&&t(null,...s)})}}),e}function Vs(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}let Ei=!1;function Xc(e){var t=Ei;try{return Ei=!1,[e(),Ei]}finally{Ei=t}}function Nt(e,t,n,r){var P;var a=(n&wu)!==0,s=(n&bu)!==0,o=r,l=!0,u=()=>(l&&(l=!1,o=s?Xr(r):r),o),c;if(a){var f=ai in e||Iu in e;c=((P=Tr(e,t))==null?void 0:P.set)??(f&&t in e?I=>e[t]=I:void 0)}var d,h=!1;a?[d,h]=Xc(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=u(),c&&(Ou(),c(d)));var _;if(_=()=>{var I=e[t];return I===void 0?u():(l=!0,I)},!(n&yu))return _;if(c){var v=e.$$legacy;return function(I,X){return arguments.length>0?((!X||v||h)&&c(X?_():I),I):_()}}var p=!1,m=(n&mu?ua:Lo)(()=>(p=!1,_()));a&&i(m);var M=Me;return function(I,X){if(arguments.length>0){const U=X?i(m):a?Lt(I):I;return B(m,U),p=!0,o!==void 0&&(o=U),I}return yr&&p||M.f&mr?m.v:i(m)}}function Fi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gc(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sl(e){let t,n,r;e.length!==2?(t=Fi,n=(l,u)=>Fi(e(l),u),r=(l,u)=>e(l)-u):(t=e===Fi||e===Gc?e:Wc,n=e,r=e);function a(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{const d=c+f>>>1;n(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}function s(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{const d=c+f>>>1;n(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}function o(l,u,c=0,f=l.length){const d=a(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d}return{left:a,center:o,right:s}}function Wc(){return 0}function Zc(e){return e===null?NaN:+e}const Qc=sl(Fi),Jc=Qc.right;sl(Zc).center;class Hs extends Map{constructor(t,n=nf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(Ks(this,t))}has(t){return super.has(Ks(this,t))}set(t,n){return super.set(ef(this,t),n)}delete(t){return super.delete(tf(this,t))}}function Ks({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ef({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function tf({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function nf(e){return e!==null&&typeof e=="object"?e.valueOf():e}const rf=Math.sqrt(50),af=Math.sqrt(10),sf=Math.sqrt(2);function Vi(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=rf?10:s>=af?5:s>=sf?2:1;let l,u,c;return a<0?(c=Math.pow(10,-a)/o,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,a)*o,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=n&&n<2?Vi(e,t,n*2):[l,u,c]}function ol(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,o]=r?Vi(t,e,n):Vi(e,t,n);if(!(s>=a))return[];const l=s-a+1,u=new Array(l);if(r)if(o<0)for(let c=0;c<l;++c)u[c]=(s-c)/-o;else for(let c=0;c<l;++c)u[c]=(s-c)*o;else if(o<0)for(let c=0;c<l;++c)u[c]=(a+c)/-o;else for(let c=0;c<l;++c)u[c]=(a+c)*o;return u}function La(e,t,n){return t=+t,e=+e,n=+n,Vi(e,t,n)[2]}function of(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?La(t,e,n):La(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function lf(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}var uf={value:()=>{}};function ll(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Oi(n)}function Oi(e){this._=e}function cf(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Oi.prototype=ll.prototype={constructor:Oi,on:function(e,t){var n=this._,r=cf(e+"",n),a,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((a=(e=r[s]).type)&&(a=ff(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=r[s]).type)n[a]=Xs(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Xs(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Oi(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};function ff(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function Xs(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=uf,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Fa="http://www.w3.org/1999/xhtml";const Gs={svg:"http://www.w3.org/2000/svg",xhtml:Fa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function va(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Gs.hasOwnProperty(t)?{space:Gs[t],local:e}:e}function df(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Fa&&t.documentElement.namespaceURI===Fa?t.createElement(e):t.createElementNS(n,e)}}function vf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ul(e){var t=va(e);return(t.local?vf:df)(t)}function hf(){}function ls(e){return e==null?hf:function(){return this.querySelector(e)}}function pf(e){typeof e!="function"&&(e=ls(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=new Array(o),u,c,f=0;f<o;++f)(u=s[f])&&(c=e.call(u,u.__data__,f,s))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new pn(r,this._parents)}function _f(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gf(){return[]}function cl(e){return e==null?gf:function(){return this.querySelectorAll(e)}}function mf(e){return function(){return _f(e.apply(this,arguments))}}function yf(e){typeof e=="function"?e=mf(e):e=cl(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var o=t[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&(r.push(e.call(u,u.__data__,c,o)),a.push(u));return new pn(r,a)}function fl(e){return function(){return this.matches(e)}}function dl(e){return function(t){return t.matches(e)}}var wf=Array.prototype.find;function bf(e){return function(){return wf.call(this.children,e)}}function xf(){return this.firstElementChild}function kf(e){return this.select(e==null?xf:bf(typeof e=="function"?e:dl(e)))}var Nf=Array.prototype.filter;function Sf(){return Array.from(this.children)}function $f(e){return function(){return Nf.call(this.children,e)}}function Mf(e){return this.selectAll(e==null?Sf:$f(typeof e=="function"?e:dl(e)))}function Ef(e){typeof e!="function"&&(e=fl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],u,c=0;c<o;++c)(u=s[c])&&e.call(u,u.__data__,c,s)&&l.push(u);return new pn(r,this._parents)}function vl(e){return new Array(e.length)}function Af(){return new pn(this._enter||this._groups.map(vl),this._parents)}function Hi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Hi.prototype={constructor:Hi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Tf(e){return function(){return e}}function If(e,t,n,r,a,s){for(var o=0,l,u=t.length,c=s.length;o<c;++o)(l=t[o])?(l.__data__=s[o],r[o]=l):n[o]=new Hi(e,s[o]);for(;o<u;++o)(l=t[o])&&(a[o]=l)}function Cf(e,t,n,r,a,s,o){var l,u,c=new Map,f=t.length,d=s.length,h=new Array(f),_;for(l=0;l<f;++l)(u=t[l])&&(h[l]=_=o.call(u,u.__data__,l,t)+"",c.has(_)?a[l]=u:c.set(_,u));for(l=0;l<d;++l)_=o.call(e,s[l],l,s)+"",(u=c.get(_))?(r[l]=u,u.__data__=s[l],c.delete(_)):n[l]=new Hi(e,s[l]);for(l=0;l<f;++l)(u=t[l])&&c.get(h[l])===u&&(a[l]=u)}function Pf(e){return e.__data__}function Rf(e,t){if(!arguments.length)return Array.from(this,Pf);var n=t?Cf:If,r=this._parents,a=this._groups;typeof e!="function"&&(e=Tf(e));for(var s=a.length,o=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var f=r[c],d=a[c],h=d.length,_=qf(e.call(f,f&&f.__data__,c,r)),v=_.length,p=l[c]=new Array(v),m=o[c]=new Array(v),M=u[c]=new Array(h);n(f,d,p,m,M,_,t);for(var P=0,I=0,X,U;P<v;++P)if(X=p[P]){for(P>=I&&(I=P+1);!(U=m[I])&&++I<v;);X._next=U||null}}return o=new pn(o,r),o._enter=l,o._exit=u,o}function qf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Lf(){return new pn(this._exit||this._groups.map(vl),this._parents)}function Ff(e,t,n){var r=this.enter(),a=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function Of(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),l=new Array(a),u=0;u<o;++u)for(var c=n[u],f=r[u],d=c.length,h=l[u]=new Array(d),_,v=0;v<d;++v)(_=c[v]||f[v])&&(h[v]=_);for(;u<a;++u)l[u]=n[u];return new pn(l,this._parents)}function Df(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,s=r[a],o;--a>=0;)(o=r[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function zf(e){e||(e=Bf);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=a[s]=new Array(l),c,f=0;f<l;++f)(c=o[f])&&(u[f]=c);u.sort(t)}return new pn(a,this._parents).order()}function Bf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function jf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Uf(){return Array.from(this)}function Yf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var o=r[a];if(o)return o}return null}function Vf(){let e=0;for(const t of this)++e;return e}function Hf(){return!this.node()}function Kf(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function Xf(e){return function(){this.removeAttribute(e)}}function Gf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wf(e,t){return function(){this.setAttribute(e,t)}}function Zf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Qf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Jf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ed(e,t){var n=va(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Gf:Xf:typeof t=="function"?n.local?Jf:Qf:n.local?Zf:Wf)(n,t))}function hl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function td(e){return function(){this.style.removeProperty(e)}}function nd(e,t,n){return function(){this.style.setProperty(e,t,n)}}function rd(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function id(e,t,n){return arguments.length>1?this.each((t==null?td:typeof t=="function"?rd:nd)(e,t,n??"")):Br(this.node(),e)}function Br(e,t){return e.style.getPropertyValue(t)||hl(e).getComputedStyle(e,null).getPropertyValue(t)}function ad(e){return function(){delete this[e]}}function sd(e,t){return function(){this[e]=t}}function od(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ld(e,t){return arguments.length>1?this.each((t==null?ad:typeof t=="function"?od:sd)(e,t)):this.node()[e]}function pl(e){return e.trim().split(/^|\s+/)}function us(e){return e.classList||new _l(e)}function _l(e){this._node=e,this._names=pl(e.getAttribute("class")||"")}_l.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gl(e,t){for(var n=us(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function ml(e,t){for(var n=us(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function ud(e){return function(){gl(this,e)}}function cd(e){return function(){ml(this,e)}}function fd(e,t){return function(){(t.apply(this,arguments)?gl:ml)(this,e)}}function dd(e,t){var n=pl(e+"");if(arguments.length<2){for(var r=us(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?fd:t?ud:cd)(n,t))}function vd(){this.textContent=""}function hd(e){return function(){this.textContent=e}}function pd(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function _d(e){return arguments.length?this.each(e==null?vd:(typeof e=="function"?pd:hd)(e)):this.node().textContent}function gd(){this.innerHTML=""}function md(e){return function(){this.innerHTML=e}}function yd(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function wd(e){return arguments.length?this.each(e==null?gd:(typeof e=="function"?yd:md)(e)):this.node().innerHTML}function bd(){this.nextSibling&&this.parentNode.appendChild(this)}function xd(){return this.each(bd)}function kd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nd(){return this.each(kd)}function Sd(e){var t=typeof e=="function"?e:ul(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $d(){return null}function Md(e,t){var n=typeof e=="function"?e:ul(e),r=t==null?$d:typeof t=="function"?t:ls(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ed(){var e=this.parentNode;e&&e.removeChild(this)}function Ad(){return this.each(Ed)}function Td(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Id(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Cd(e){return this.select(e?Id:Td)}function Pd(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Rd(e){return function(t){e.call(this,t,this.__data__)}}function qd(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Ld(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Fd(e,t,n){return function(){var r=this.__on,a,s=Rd(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(a):this.__on=[a]}}function Od(e,t,n){var r=qd(e+""),a,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,f;u<c;++u)for(a=0,f=l[u];a<s;++a)if((o=r[a]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?Fd:Ld,a=0;a<s;++a)this.each(l(r[a],t,n));return this}function yl(e,t,n){var r=hl(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Dd(e,t){return function(){return yl(this,e,t)}}function zd(e,t){return function(){return yl(this,e,t.apply(this,arguments))}}function Bd(e,t){return this.each((typeof t=="function"?zd:Dd)(e,t))}function*jd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length,o;a<s;++a)(o=r[a])&&(yield o)}var Ud=[null];function pn(e,t){this._groups=e,this._parents=t}function wi(){return new pn([[document.documentElement]],Ud)}function Yd(){return this}pn.prototype=wi.prototype={constructor:pn,select:pf,selectAll:yf,selectChild:kf,selectChildren:Mf,filter:Ef,data:Rf,enter:Af,exit:Lf,join:Ff,merge:Of,selection:Yd,order:Df,sort:zf,call:jf,nodes:Uf,node:Yf,size:Vf,empty:Hf,each:Kf,attr:ed,style:id,property:ld,classed:dd,text:_d,html:wd,raise:xd,lower:Nd,append:Sd,insert:Md,remove:Ad,clone:Cd,datum:Pd,on:Od,dispatch:Bd,[Symbol.iterator]:jd};function cs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bi(){}var fi=.7,Ki=1/fi,Pr="\\s*([+-]?\\d+)\\s*",di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vd=/^#([0-9a-f]{3,8})$/,Hd=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),Kd=new RegExp(`^rgb\\(${Nn},${Nn},${Nn}\\)$`),Xd=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${di}\\)$`),Gd=new RegExp(`^rgba\\(${Nn},${Nn},${Nn},${di}\\)$`),Wd=new RegExp(`^hsl\\(${di},${Nn},${Nn}\\)$`),Zd=new RegExp(`^hsla\\(${di},${Nn},${Nn},${di}\\)$`),Ws={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cs(bi,pr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zs,formatHex:Zs,formatHex8:Qd,formatHsl:Jd,formatRgb:Qs,toString:Qs});function Zs(){return this.rgb().formatHex()}function Qd(){return this.rgb().formatHex8()}function Jd(){return bl(this).formatHsl()}function Qs(){return this.rgb().formatRgb()}function pr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Vd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Js(t):n===3?new Ot(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ai(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ai(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hd.exec(e))?new Ot(t[1],t[2],t[3],1):(t=Kd.exec(e))?new Ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Xd.exec(e))?Ai(t[1],t[2],t[3],t[4]):(t=Gd.exec(e))?Ai(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Wd.exec(e))?no(t[1],t[2]/100,t[3]/100,1):(t=Zd.exec(e))?no(t[1],t[2]/100,t[3]/100,t[4]):Ws.hasOwnProperty(e)?Js(Ws[e]):e==="transparent"?new Ot(NaN,NaN,NaN,0):null}function Js(e){return new Ot(e>>16&255,e>>8&255,e&255,1)}function Ai(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ot(e,t,n,r)}function ev(e){return e instanceof bi||(e=pr(e)),e?(e=e.rgb(),new Ot(e.r,e.g,e.b,e.opacity)):new Ot}function Oa(e,t,n,r){return arguments.length===1?ev(e):new Ot(e,t,n,r??1)}function Ot(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}cs(Ot,Oa,wl(bi,{brighter(e){return e=e==null?Ki:Math.pow(Ki,e),new Ot(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fi:Math.pow(fi,e),new Ot(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ot(dr(this.r),dr(this.g),dr(this.b),Xi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eo,formatHex:eo,formatHex8:tv,formatRgb:to,toString:to}));function eo(){return`#${rr(this.r)}${rr(this.g)}${rr(this.b)}`}function tv(){return`#${rr(this.r)}${rr(this.g)}${rr(this.b)}${rr((isNaN(this.opacity)?1:this.opacity)*255)}`}function to(){const e=Xi(this.opacity);return`${e===1?"rgb(":"rgba("}${dr(this.r)}, ${dr(this.g)}, ${dr(this.b)}${e===1?")":`, ${e})`}`}function Xi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function dr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rr(e){return e=dr(e),(e<16?"0":"")+e.toString(16)}function no(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new dn(e,t,n,r)}function bl(e){if(e instanceof dn)return new dn(e.h,e.s,e.l,e.opacity);if(e instanceof bi||(e=pr(e)),!e)return new dn;if(e instanceof dn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,l=s-a,u=(s+a)/2;return l?(t===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?s+a:2-s-a,o*=60):l=u>0&&u<1?0:o,new dn(o,l,u,e.opacity)}function nv(e,t,n,r){return arguments.length===1?bl(e):new dn(e,t,n,r??1)}function dn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}cs(dn,nv,wl(bi,{brighter(e){return e=e==null?Ki:Math.pow(Ki,e),new dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fi:Math.pow(fi,e),new dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ot($a(e>=240?e-240:e+120,a,r),$a(e,a,r),$a(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new dn(ro(this.h),Ti(this.s),Ti(this.l),Xi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xi(this.opacity);return`${e===1?"hsl(":"hsla("}${ro(this.h)}, ${Ti(this.s)*100}%, ${Ti(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ro(e){return e=(e||0)%360,e<0?e+360:e}function Ti(e){return Math.max(0,Math.min(1,e||0))}function $a(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fs=e=>()=>e;function rv(e,t){return function(n){return e+n*t}}function iv(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function av(e){return(e=+e)==1?xl:function(t,n){return n-t?iv(t,n,e):fs(isNaN(t)?n:t)}}function xl(e,t){var n=t-e;return n?rv(e,n):fs(isNaN(e)?t:e)}const Gi=function e(t){var n=av(t);function r(a,s){var o=n((a=Oa(a)).r,(s=Oa(s)).r),l=n(a.g,s.g),u=n(a.b,s.b),c=xl(a.opacity,s.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=u(f),a.opacity=c(f),a+""}}return r.gamma=e,r}(1);function sv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function ov(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lv(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)a[o]=ds(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<r;++o)s[o]=a[o](l);return s}}function uv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function cv(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=ds(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Da=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ma=new RegExp(Da.source,"g");function fv(e){return function(){return e}}function dv(e){return function(t){return e(t)+""}}function kl(e,t){var n=Da.lastIndex=Ma.lastIndex=0,r,a,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Da.exec(e))&&(a=Ma.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:cn(r,a)})),n=Ma.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?dv(u[0].x):fv(t):(t=u.length,function(c){for(var f=0,d;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function ds(e,t){var n=typeof t,r;return t==null||n==="boolean"?fs(t):(n==="number"?cn:n==="string"?(r=pr(t))?(t=r,Gi):kl:t instanceof pr?Gi:t instanceof Date?uv:ov(t)?sv:Array.isArray(t)?lv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cv:cn)(e,t)}function vv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var io=180/Math.PI,za={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nl(e,t,n,r,a,s){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*io,skewX:Math.atan(u)*io,scaleX:o,scaleY:l}}var Ii;function hv(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?za:Nl(t.a,t.b,t.c,t.d,t.e,t.f)}function pv(e){return e==null||(Ii||(Ii=document.createElementNS("http://www.w3.org/2000/svg","g")),Ii.setAttribute("transform",e),!(e=Ii.transform.baseVal.consolidate()))?za:(e=e.matrix,Nl(e.a,e.b,e.c,e.d,e.e,e.f))}function Sl(e,t,n,r){function a(c){return c.length?c.pop()+" ":""}function s(c,f,d,h,_,v){if(c!==d||f!==h){var p=_.push("translate(",null,t,null,n);v.push({i:p-4,x:cn(c,d)},{i:p-2,x:cn(f,h)})}else(d||h)&&_.push("translate("+d+t+h+n)}function o(c,f,d,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:d.push(a(d)+"rotate(",null,r)-2,x:cn(c,f)})):f&&d.push(a(d)+"rotate("+f+r)}function l(c,f,d,h){c!==f?h.push({i:d.push(a(d)+"skewX(",null,r)-2,x:cn(c,f)}):f&&d.push(a(d)+"skewX("+f+r)}function u(c,f,d,h,_,v){if(c!==d||f!==h){var p=_.push(a(_)+"scale(",null,",",null,")");v.push({i:p-4,x:cn(c,d)},{i:p-2,x:cn(f,h)})}else(d!==1||h!==1)&&_.push(a(_)+"scale("+d+","+h+")")}return function(c,f){var d=[],h=[];return c=e(c),f=e(f),s(c.translateX,c.translateY,f.translateX,f.translateY,d,h),o(c.rotate,f.rotate,d,h),l(c.skewX,f.skewX,d,h),u(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,h),c=f=null,function(_){for(var v=-1,p=h.length,m;++v<p;)d[(m=h[v]).i]=m.x(_);return d.join("")}}}var _v=Sl(hv,"px, ","px)","deg)"),gv=Sl(pv,", ",")",")"),jr=0,ni=0,ei=0,$l=1e3,Wi,ri,Zi=0,_r=0,ha=0,vi=typeof performance=="object"&&performance.now?performance:Date,Ml=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vs(){return _r||(Ml(mv),_r=vi.now()+ha)}function mv(){_r=0}function Qi(){this._call=this._time=this._next=null}Qi.prototype=El.prototype={constructor:Qi,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vs():+n)+(t==null?0:+t),!this._next&&ri!==this&&(ri?ri._next=this:Wi=this,ri=this),this._call=e,this._time=n,Ba()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ba())}};function El(e,t,n){var r=new Qi;return r.restart(e,t,n),r}function yv(){vs(),++jr;for(var e=Wi,t;e;)(t=_r-e._time)>=0&&e._call.call(void 0,t),e=e._next;--jr}function ao(){_r=(Zi=vi.now())+ha,jr=ni=0;try{yv()}finally{jr=0,bv(),_r=0}}function wv(){var e=vi.now(),t=e-Zi;t>$l&&(ha-=t,Zi=e)}function bv(){for(var e,t=Wi,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Wi=n);ri=e,Ba(r)}function Ba(e){if(!jr){ni&&(ni=clearTimeout(ni));var t=e-_r;t>24?(e<1/0&&(ni=setTimeout(ao,e-vi.now()-ha)),ei&&(ei=clearInterval(ei))):(ei||(Zi=vi.now(),ei=setInterval(wv,$l)),jr=1,Ml(ao))}}function so(e,t,n){var r=new Qi;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var xv=ll("start","end","cancel","interrupt"),kv=[],Al=0,oo=1,ja=2,Di=3,lo=4,Ua=5,zi=6;function pa(e,t,n,r,a,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Nv(e,n,{name:t,index:r,group:a,on:xv,tween:kv,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Al})}function hs(e,t){var n=gn(e,t);if(n.state>Al)throw new Error("too late; already scheduled");return n}function $n(e,t){var n=gn(e,t);if(n.state>Di)throw new Error("too late; already running");return n}function gn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Nv(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=El(s,0,n.time);function s(c){n.state=oo,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var f,d,h,_;if(n.state!==oo)return u();for(f in r)if(_=r[f],_.name===n.name){if(_.state===Di)return so(o);_.state===lo?(_.state=zi,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete r[f]):+f<t&&(_.state=zi,_.timer.stop(),_.on.call("cancel",e,e.__data__,_.index,_.group),delete r[f])}if(so(function(){n.state===Di&&(n.state=lo,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=ja,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ja){for(n.state=Di,a=new Array(h=n.tween.length),f=0,d=-1;f<h;++f)(_=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=_);a.length=d+1}}function l(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Ua,1),d=-1,h=a.length;++d<h;)a[d].call(e,f);n.state===Ua&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=zi,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Sv(e,t){var n=e.__transition,r,a,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}a=r.state>ja&&r.state<Ua,r.state=zi,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function $v(e){return this.each(function(){Sv(this,e)})}function Mv(e,t){var n,r;return function(){var a=$n(this,e),s=a.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function Ev(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=$n(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},u=0,c=a.length;u<c;++u)if(a[u].name===t){a[u]=l;break}u===c&&a.push(l)}s.tween=a}}function Av(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=gn(this.node(),n).tween,a=0,s=r.length,o;a<s;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?Mv:Ev)(n,e,t))}function ps(e,t,n){var r=e._id;return e.each(function(){var a=$n(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return gn(a,r).value[t]}}function Tl(e,t){var n;return(typeof t=="number"?cn:t instanceof pr?Gi:(n=pr(t))?(t=n,Gi):kl)(e,t)}function Tv(e){return function(){this.removeAttribute(e)}}function Iv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cv(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===r?s:s=t(r=o,n)}}function Pv(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?s:s=t(r=o,n)}}function Rv(e,t,n){var r,a,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===r&&u===a?s:(a=u,s=t(r=o,l)))}}function qv(e,t,n){var r,a,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===r&&u===a?s:(a=u,s=t(r=o,l)))}}function Lv(e,t){var n=va(e),r=n==="transform"?gv:Tl;return this.attrTween(e,typeof t=="function"?(n.local?qv:Rv)(n,r,ps(this,"attr."+e,t)):t==null?(n.local?Iv:Tv)(n):(n.local?Pv:Cv)(n,r,t))}function Fv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ov(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Dv(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Ov(e,s)),n}return a._value=t,a}function zv(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Fv(e,s)),n}return a._value=t,a}function Bv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=va(e);return this.tween(n,(r.local?Dv:zv)(r,t))}function jv(e,t){return function(){hs(this,e).delay=+t.apply(this,arguments)}}function Uv(e,t){return t=+t,function(){hs(this,e).delay=t}}function Yv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jv:Uv)(t,e)):gn(this.node(),t).delay}function Vv(e,t){return function(){$n(this,e).duration=+t.apply(this,arguments)}}function Hv(e,t){return t=+t,function(){$n(this,e).duration=t}}function Kv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Vv:Hv)(t,e)):gn(this.node(),t).duration}function Xv(e,t){if(typeof t!="function")throw new Error;return function(){$n(this,e).ease=t}}function Gv(e){var t=this._id;return arguments.length?this.each(Xv(t,e)):gn(this.node(),t).ease}function Wv(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;$n(this,e).ease=n}}function Zv(e){if(typeof e!="function")throw new Error;return this.each(Wv(this._id,e))}function Qv(e){typeof e!="function"&&(e=fl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],u,c=0;c<o;++c)(u=s[c])&&e.call(u,u.__data__,c,s)&&l.push(u);return new Rn(r,this._parents,this._name,this._id)}function Jv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var u=t[l],c=n[l],f=u.length,d=o[l]=new Array(f),h,_=0;_<f;++_)(h=u[_]||c[_])&&(d[_]=h);for(;l<r;++l)o[l]=t[l];return new Rn(o,this._parents,this._name,this._id)}function eh(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function th(e,t,n){var r,a,s=eh(t)?hs:$n;return function(){var o=s(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function nh(e,t){var n=this._id;return arguments.length<2?gn(this.node(),n).on.on(e):this.each(th(n,e,t))}function rh(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ih(){return this.on("end.remove",rh(this._id))}function ah(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ls(e));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var l=r[o],u=l.length,c=s[o]=new Array(u),f,d,h=0;h<u;++h)(f=l[h])&&(d=e.call(f,f.__data__,h,l))&&("__data__"in f&&(d.__data__=f.__data__),c[h]=d,pa(c[h],t,n,h,c,gn(f,n)));return new Rn(s,this._parents,t,n)}function sh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=cl(e));for(var r=this._groups,a=r.length,s=[],o=[],l=0;l<a;++l)for(var u=r[l],c=u.length,f,d=0;d<c;++d)if(f=u[d]){for(var h=e.call(f,f.__data__,d,u),_,v=gn(f,n),p=0,m=h.length;p<m;++p)(_=h[p])&&pa(_,t,n,p,h,v);s.push(h),o.push(f)}return new Rn(s,o,t,n)}var oh=wi.prototype.constructor;function lh(){return new oh(this._groups,this._parents)}function uh(e,t){var n,r,a;return function(){var s=Br(this,e),o=(this.style.removeProperty(e),Br(this,e));return s===o?null:s===n&&o===r?a:a=t(n=s,r=o)}}function Il(e){return function(){this.style.removeProperty(e)}}function ch(e,t,n){var r,a=n+"",s;return function(){var o=Br(this,e);return o===a?null:o===r?s:s=t(r=o,n)}}function fh(e,t,n){var r,a,s;return function(){var o=Br(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Br(this,e))),o===u?null:o===r&&u===a?s:(a=u,s=t(r=o,l))}}function dh(e,t){var n,r,a,s="style."+t,o="end."+s,l;return function(){var u=$n(this,e),c=u.on,f=u.value[s]==null?l||(l=Il(t)):void 0;(c!==n||a!==f)&&(r=(n=c).copy()).on(o,a=f),u.on=r}}function vh(e,t,n){var r=(e+="")=="transform"?_v:Tl;return t==null?this.styleTween(e,uh(e,r)).on("end.style."+e,Il(e)):typeof t=="function"?this.styleTween(e,fh(e,r,ps(this,"style."+e,t))).each(dh(this._id,e)):this.styleTween(e,ch(e,r,t),n).on("end.style."+e,null)}function hh(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ph(e,t,n){var r,a;function s(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&hh(e,o,n)),r}return s._value=t,s}function _h(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ph(e,t,n??""))}function gh(e){return function(){this.textContent=e}}function mh(e){return function(){var t=e(this);this.textContent=t??""}}function yh(e){return this.tween("text",typeof e=="function"?mh(ps(this,"text",e)):gh(e==null?"":e+""))}function wh(e){return function(t){this.textContent=e.call(this,t)}}function bh(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&wh(a)),t}return r._value=e,r}function xh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,bh(e))}function kh(){for(var e=this._name,t=this._id,n=Cl(),r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,u,c=0;c<l;++c)if(u=o[c]){var f=gn(u,t);pa(u,e,n,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Rn(r,this._parents,e,n)}function Nh(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--a===0&&s()}};n.each(function(){var c=$n(this,r),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),c.on=t}),a===0&&s()})}var Sh=0;function Rn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Cl(){return++Sh}var In=wi.prototype;Rn.prototype={constructor:Rn,select:ah,selectAll:sh,selectChild:In.selectChild,selectChildren:In.selectChildren,filter:Qv,merge:Jv,selection:lh,transition:kh,call:In.call,nodes:In.nodes,node:In.node,size:In.size,empty:In.empty,each:In.each,on:nh,attr:Lv,attrTween:Bv,style:vh,styleTween:_h,text:yh,textTween:xh,remove:ih,tween:Av,delay:Yv,duration:Kv,ease:Gv,easeVarying:Zv,end:Nh,[Symbol.iterator]:In[Symbol.iterator]};function $h(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Mh={time:null,delay:0,duration:250,ease:$h};function Eh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ah(e){var t,n;e instanceof Rn?(t=e._id,e=e._name):(t=Cl(),(n=Mh).time=vs(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&pa(u,e,t,c,o,n||Eh(u,t));return new Rn(r,this._parents,e,t)}wi.prototype.interrupt=$v;wi.prototype.transition=Ah;const Ya=Math.PI,Va=2*Ya,nr=1e-6,Th=Va-nr;function Pl(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ih(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Pl;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Ch{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Pl:Ih(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=r-t,c=a-n,f=o-t,d=l-n,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>nr)if(!(Math.abs(d*u-c*f)>nr)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-o,v=a-l,p=u*u+c*c,m=_*_+v*v,M=Math.sqrt(p),P=Math.sqrt(h),I=s*Math.tan((Ya-Math.acos((p+h-m)/(2*M*P)))/2),X=I/P,U=I/M;Math.abs(X-1)>nr&&this._append`L${t+X*f},${n+X*d}`,this._append`A${s},${s},0,0,${+(d*_>f*v)},${this._x1=t+U*u},${this._y1=n+U*c}`}}arc(t,n,r,a,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),u=r*Math.sin(a),c=t+l,f=n+u,d=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>nr||Math.abs(this._y1-f)>nr)&&this._append`L${c},${f}`,r&&(h<0&&(h=h%Va+Va),h>Th?this._append`A${r},${r},0,1,${d},${t-l},${n-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=f}`:h>nr&&this._append`A${r},${r},0,${+(h>=Ya)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Ph(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ji(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ur(e){return e=Ji(Math.abs(e)),e?e[1]:NaN}function Rh(e,t){return function(n,r){for(var a=n.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(a-=l,a+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function qh(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Lh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ea(e){if(!(t=Lh.exec(e)))throw new Error("invalid format: "+e);var t;return new _s({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ea.prototype=_s.prototype;function _s(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fh(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Rl;function Oh(e,t){var n=Ji(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(Rl=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ji(e,Math.max(0,t+s-1))[0]}function uo(e,t){var n=Ji(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const co={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ph,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uo(e*100,t),r:uo,s:Oh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fo(e){return e}var vo=Array.prototype.map,ho=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Dh(e){var t=e.grouping===void 0||e.thousands===void 0?fo:Rh(vo.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?fo:qh(vo.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(d){d=ea(d);var h=d.fill,_=d.align,v=d.sign,p=d.symbol,m=d.zero,M=d.width,P=d.comma,I=d.precision,X=d.trim,U=d.type;U==="n"?(P=!0,U="g"):co[U]||(I===void 0&&(I=12),X=!0,U="g"),(m||h==="0"&&_==="=")&&(m=!0,h="0",_="=");var Y=p==="$"?n:p==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",Q=p==="$"?r:/[%p]/.test(U)?o:"",ve=co[U],je=/[defgprs%]/.test(U);I=I===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function ge(G){var ie=Y,E=Q,fe,ee,Fe;if(U==="c")E=ve(G)+E,G="";else{G=+G;var De=G<0||1/G<0;if(G=isNaN(G)?u:ve(Math.abs(G),I),X&&(G=Fh(G)),De&&+G==0&&v!=="+"&&(De=!1),ie=(De?v==="("?v:l:v==="-"||v==="("?"":v)+ie,E=(U==="s"?ho[8+Rl/3]:"")+E+(De&&v==="("?")":""),je){for(fe=-1,ee=G.length;++fe<ee;)if(Fe=G.charCodeAt(fe),48>Fe||Fe>57){E=(Fe===46?a+G.slice(fe+1):G.slice(fe))+E,G=G.slice(0,fe);break}}}P&&!m&&(G=t(G,1/0));var He=ie.length+G.length+E.length,N=He<M?new Array(M-He+1).join(h):"";switch(P&&m&&(G=t(N+G,N.length?M-E.length:1/0),N=""),_){case"<":G=ie+G+E+N;break;case"=":G=ie+N+G+E;break;case"^":G=N.slice(0,He=N.length>>1)+ie+G+E+N.slice(He);break;default:G=N+ie+G+E;break}return s(G)}return ge.toString=function(){return d+""},ge}function f(d,h){var _=c((d=ea(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Ur(h)/3)))*3,p=Math.pow(10,-v),m=ho[8+v/3];return function(M){return _(p*M)+m}}return{format:c,formatPrefix:f}}var Ci,ql,Ll;zh({thousands:",",grouping:[3],currency:["$",""]});function zh(e){return Ci=Dh(e),ql=Ci.format,Ll=Ci.formatPrefix,Ci}function Bh(e){return Math.max(0,-Ur(Math.abs(e)))}function jh(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ur(t)/3)))*3-Ur(Math.abs(e)))}function Uh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ur(t)-Ur(e))+1}function gs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const po=Symbol("implicit");function Fl(){var e=new Hs,t=[],n=[],r=po;function a(s){let o=e.get(s);if(o===void 0){if(r!==po)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Hs;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Fl(t,n).unknown(r)},gs.apply(a,arguments),a}function Ol(){var e=Fl().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,o,l=!1,u=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,_=a<r,v=_?a:r,p=_?r:a;s=(p-v)/Math.max(1,h-u+c*2),l&&(s=Math.floor(s)),v+=(p-v-s*(h-u))*f,o=s*(1-u),l&&(v=Math.round(v),o=Math.round(o));var m=lf(h).map(function(M){return v+s*M});return n(_?m.reverse():m)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,a]=h,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(h){return[r,a]=h,r=+r,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),d()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),d()):u},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Ol(t(),[r,a]).round(l).paddingInner(u).paddingOuter(c).align(f)},gs.apply(d(),arguments)}function Dl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Dl(t())},e}function Yh(){return Dl(Ol.apply(null,arguments).paddingInner(1))}function Vh(e){return function(){return e}}function Hh(e){return+e}var _o=[0,1];function Ar(e){return e}function Ha(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Vh(isNaN(t)?NaN:.5)}function Kh(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Xh(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=Ha(a,r),s=n(o,s)):(r=Ha(r,a),s=n(s,o)),function(l){return s(r(l))}}function Gh(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Ha(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(l){var u=Jc(e,l,1,r)-1;return s[u](a[u](l))}}function Wh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zh(){var e=_o,t=_o,n=ds,r,a,s,o=Ar,l,u,c;function f(){var h=Math.min(e.length,t.length);return o!==Ar&&(o=Kh(e[0],e[h-1])),l=h>2?Gh:Xh,u=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(u||(u=l(e.map(r),t,n)))(r(o(h)))}return d.invert=function(h){return o(a((c||(c=l(t,e.map(r),cn)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Hh),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=vv,f()},d.clamp=function(h){return arguments.length?(o=h?!0:Ar,f()):o!==Ar},d.interpolate=function(h){return arguments.length?(n=h,f()):n},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,_){return r=h,a=_,f()}}function Qh(){return Zh()(Ar,Ar)}function Jh(e,t,n,r){var a=of(e,t,n),s;switch(r=ea(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=jh(a,o))&&(r.precision=s),Ll(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Uh(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Bh(a))&&(r.precision=s-(r.type==="%")*2);break}}return ql(r)}function ep(e){var t=e.domain;return e.ticks=function(n){var r=t();return ol(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Jh(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,o=r[a],l=r[s],u,c,f=10;for(l<o&&(c=o,o=l,l=c,c=a,a=s,s=c);f-- >0;){if(c=La(o,l,n),c===u)return r[a]=o,r[s]=l,t(r);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function zl(){var e=Qh();return e.copy=function(){return Wh(e,zl())},gs.apply(e,arguments),ep(e)}function Er(e){return function(){return e}}function tp(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Ch(t)}function np(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Bl(e){this._context=e}Bl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rp(e){return new Bl(e)}function ip(e){return e[0]}function ap(e){return e[1]}function sp(e,t){var n=Er(!0),r=null,a=rp,s=null,o=tp(l);e=typeof e=="function"?e:e===void 0?ip:Er(e),t=typeof t=="function"?t:t===void 0?ap:Er(t);function l(u){var c,f=(u=np(u)).length,d,h=!1,_;for(r==null&&(s=a(_=o())),c=0;c<=f;++c)!(c<f&&n(d=u[c],c,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,c,u),+t(d,c,u));if(_)return s=null,_+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Er(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Er(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Er(!!u),l):n},l.curve=function(u){return arguments.length?(a=u,r!=null&&(s=a(r)),l):a},l.context=function(u){return arguments.length?(u==null?r=s=null:s=a(r=u),l):r},l}function go(e){return e<0?-1:1}function mo(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(s*a+o*r)/(r+a);return(go(s)+go(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function yo(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ea(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,a+l*t,s-l,o-l*n,s,o)}function ta(e){this._context=e}ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ea(this,this._t0,yo(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ea(this,yo(this,n=mo(this,e,t)),n);break;default:Ea(this,this._t0,n=mo(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(ta.prototype).point=function(e,t){ta.prototype.point.call(this,t,e)};function op(e){return new ta(e)}function ii(e,t,n){this.k=e,this.x=t,this.y=n}ii.prototype={constructor:ii,scale:function(e){return e===1?this:new ii(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ii(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ii.prototype;var lp=_n('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),up=_n('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),cp=_n("<tspan> </tspan>"),fp=_n('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),dp=_n('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),vp=_n('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),hp=_n('<path stroke-width="1.5" role="button" tabindex="0"></path>'),pp=_n("<g><!></g>"),_p=$("<div> </div>"),gp=$("<div> </div>"),mp=$("<div> </div>"),yp=$('<div class="tooltip-divider svelte-idxsrp"></div>'),wp=$('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),bp=$("<div> </div>"),xp=$("<div> </div>"),kp=$("<div> </div>"),Np=$("<div> </div>"),Sp=$("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),$p=$('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),Mp=$("<span> </span>"),Ep=_n('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),Ap=_n('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),Tp=_n('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),Ip=$('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),Cp=$('<div class="band-legend svelte-idxsrp"></div>'),Pp=$('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),Rp=$('<div class="legend svelte-idxsrp"></div>'),qp=$('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function Lp(e,t){Qn(t,!0);let n=Nt(t,"bands",19,()=>[]),r=Nt(t,"years",19,()=>[]),a=Nt(t,"maxFieldSize",3,0),s=Nt(t,"yMode",3,"relative"),o=Nt(t,"showConductorMarkers",3,!0);const l={top:24,right:48,bottom:48,left:72},u=880,c=360,f={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},d=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],h=["circle","square","triangle"],_=6,v=24,p=26,m=30,M=l.top+12,P=c-l.bottom-22,I=10,X=6,U=[0,1,2,3];let Y=Ie(null),Q=Ie(Lt({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),ve=null,je=null,ge=Ie(null),G=Ie(0),ie=Ie(0);const E=()=>o()&&n().length===1;function fe(x){if(x.absolute_position==null)return 0;const y=x.field_size??i($t)??a()??1;return y?x.absolute_position/y*100:0}function ee(x){return s()==="relative"?fe(x):x.absolute_position??0}function Fe(x){const y=x.pieces??x.pieces,j=Array.isArray(y)?y.map(D=>`${D}`.trim()).filter(Boolean):y!=null&&`${y}`.trim().length?[`${y}`.trim()]:[],V={...x,pieces:j},Z=x;return Z.band_name!=null&&(V.band_name=Z.band_name),Array.isArray(Z.aggregate_entries)&&Z.aggregate_entries.length>0&&(V.aggregate_entries=Z.aggregate_entries.map(D=>Fe(D))),V}function De(x){return x.map(y=>Fe(y))}function He(x){const y=[];let j=0;if(x.length>0){const V=x[0];V.conductor&&(y.push({year:V.year,conductor:V.conductor,lane:j}),j+=1)}for(let V=1;V<x.length;V+=1){const Z=x[V-1],D=x[V];Z.conductor&&D.conductor&&Z.conductor!==D.conductor&&(y.push({year:D.year,conductor:D.conductor,lane:j}),j+=1)}return y}function N(){if(!i(Y))return;const x=i(Y).getBoundingClientRect(),y=i(Y).parentElement;if(!y)return;const j=y.getBoundingClientRect();if(x.width===0||x.height===0)return;const V={offsetX:x.left-j.left,scaleX:x.width/u,offsetY:x.top-j.top,scaleY:x.height/c};(Math.abs(V.offsetX-i(Q).offsetX)>.1||Math.abs(V.scaleX-i(Q).scaleX)>.001||Math.abs(V.offsetY-i(Q).offsetY)>.1||Math.abs(V.scaleY-i(Q).scaleY)>.001)&&B(Q,V,!0)}function L(){!ve||!i(Y)||je!==i(Y)&&(je&&ve.unobserve(je),ve.observe(i(Y)),je=i(Y))}Yi(()=>{typeof ResizeObserver<"u"&&(ve=new ResizeObserver(()=>N())),L(),N(),window.addEventListener("resize",N)}),li(()=>{L(),N()}),Lc(()=>{ve==null||ve.disconnect(),window.removeEventListener("resize",N)});function ne(x){return U[x%U.length]??0}function he(x,y){const j=i(lt);if(!j)return{anchor:"middle",dx:0};const V=j(x.year)??l.left,Z=48,D=l.left-Z,ke=u-l.right+Z,Ae=Math.max(y,1)*X/2;return V+Ae>ke?{anchor:"end",dx:0}:V-Ae<D?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function Ee(x){const y=x==null?void 0:x.trim();if(!y)return[""];const j=y.split(/\s+/);if(j.length<=1)return[y];const V=j.pop(),Z=j.join(" ");return Z?[Z,V]:[V]}function Ke(x,y,j){const V=x.find(Pe=>Pe.year===y.year),Z=ne(y.lane);if(!V)return l.top-8+Z*(v+6);const D=i(Je)(ee(V)),ke=j??Ee(y.conductor),Ge=(Math.max(ke.length,1)-1)*6,We=x.filter(Pe=>Pe.year>=y.year-1&&Pe.year<=y.year+1).map(Pe=>({year:Pe.year,y:i(Je)(ee(Pe))})).sort((Pe,$e)=>Pe.year-$e.year),ut=We.findIndex(Pe=>Pe.year===y.year);let Ye=!0;if(ut>0&&ut<We.length-1){const Pe=We[ut-1],$e=We[ut+1],vt=Math.abs(D-Pe.y),Ct=Math.abs(D-$e.y);(vt<p+4||Ct<p+4)&&(Ye=!1)}const Ne=v+10,nt=p+Z*Ne+Ge,rt=D-nt;if(Ye&&rt>M)return rt;const yt=m+Z*Ne+Ge,it=D+yt;if(it<=P)return it;const ot=P-Z*Ne;return ot>M?ot:Math.max(M,Math.min(P,D))}function Xe(x,y,j){return`M ${x} ${y-j} L ${x+j} ${y+j} L ${x-j} ${y+j} Z`}function ht(x){if(!x)return Number.POSITIVE_INFINITY;const y=x.trim().toLowerCase();if(y==="elite")return 0;const j=y.match(/(\d+)/);return j?parseInt(j[1],10):Number.POSITIVE_INFINITY}function ct(x,y){const j=ht(x),V=ht(y);return j!==V?j-V:x.localeCompare(y)}let St=T(()=>n().map(x=>({band:x,entries:De(x.entries)}))),pt=T(()=>i(St).reduce((x,y)=>(x.push(...y.entries),x),[])),gt=T(()=>(()=>{if(r().length)return r();if(!i(pt).length)return[0];const x=new Set(i(pt).map(y=>y.year));return Array.from(x).sort((y,j)=>y-j)})()),lt=T(()=>Yh().domain(i(gt)).range([l.left,u-l.right])),$t=T(()=>a()||(i(pt).length?Math.max(...i(pt).map(x=>x.field_size??0)):1)),xt=T(()=>s()==="relative"?[100,0]:[i($t)+1,0]),Je=T(()=>zl().domain(i(xt)).range([c-l.bottom,l.top])),mt=T(()=>i(St).map((x,y)=>{const j=[...x.entries].sort((Ae,Ge)=>Ae.year-Ge.year),V=i(gt).map(Ae=>j.find(Ge=>Ge.year===Ae)??null),D=sp().defined(Ae=>Ae!==null).x(Ae=>Ae?i(lt)(Ae.year)??l.left:l.left).y(Ae=>Ae?i(Je)(ee(Ae)):i(Je)(i(xt)[1])).curve(op)(V)??void 0,ke=E()?He(j):[];return{band:x.band,entries:j,timeline:V,pathData:D,conductorChanges:ke,color:d[y%d.length],shape:h[y%h.length]}})),rn=T(()=>E()&&i(mt).length?i(mt)[0].conductorChanges.map(x=>{const y=Ee(x.conductor),j=y.reduce((Z,D)=>Math.max(Z,D.length),0),V=he(x,j);return{...x,...V,y:Ke(i(mt)[0].entries,x,y),labelLines:y}}):[]),Kt=T(()=>(()=>{if(s()==="relative")return Array.from({length:11},(x,y)=>y*10);{const x=Array.from(new Set(ol(1,i($t),6).map(y=>Math.round(y)))).filter(y=>y>=1).sort((y,j)=>y-j);return x.includes(1)?x:[1,...x]}})()),an=T(()=>new Set(i(pt).map(x=>x.year))),Ue=T(()=>i(gt).length>30?5:i(gt).length>18?3:1),W=T(()=>i(gt).filter((x,y)=>y===0||y===i(gt).length-1||x===2019?!0:x%i(Ue)===0)),C=T(()=>i(W).map(x=>{const y=i(lt)(x)??l.left,j=i(Q).offsetX+y*i(Q).scaleX;return{year:x,x:j,inactive:!i(an).has(x)}})),J=T(()=>i(Q).offsetY+(c-l.bottom)*i(Q).scaleY+I),ae=T(()=>Array.from(new Set(i(pt).map(x=>x.division))).filter(x=>typeof x=="string"&&x.length>0).sort(ct));const se=()=>i(ae).length>0;function me(x,y,j,V){const Z=x.currentTarget,D=Z.ownerSVGElement;if(!D)return;const ke=D.getBoundingClientRect();if(x instanceof MouseEvent)B(G,x.clientX-ke.left),B(ie,x.clientY-ke.top);else{const Ae=Z.getBoundingClientRect();B(G,Ae.left+Ae.width/2-ke.left),B(ie,Ae.top+Ae.height/2-ke.top)}B(ge,{entry:y,bandName:j,lineColor:V},!0)}function ce(){B(ge,null)}function Ce(x){return x.aggregate_entries}var ye=qp(),Re=we(ye),Se=g(Re);q(Se,"viewBox",`0 0 ${u} ${c}`);var pe=S(g(Se));Be(pe,21,()=>i(Kt),Ve,(x,y)=>{var j=lp(),V=we(j),Z=S(V),D=g(Z);K((ke,Ae,Ge)=>{q(V,"x1",l.left),q(V,"x2",u-l.right),q(V,"y1",ke),q(V,"y2",Ae),q(Z,"x",l.left-12),q(Z,"y",Ge),z(D,s()==="relative"?`${i(y)}%`:`#${i(y)}`)},[()=>i(Je)(i(y)),()=>i(Je)(i(y)),()=>i(Je)(i(y))+4]),b(x,j)});var xe=S(pe);Be(xe,17,()=>i(mt),Ve,(x,y)=>{var j=Qe(),V=we(j);{var Z=D=>{var ke=up();K(()=>{q(ke,"d",i(y).pathData),q(ke,"stroke",i(y).color)}),b(D,ke)};H(V,D=>{i(y).pathData&&D(Z)})}b(x,j)});var qe=S(xe);{var ze=x=>{var y=Qe(),j=we(y);Be(j,17,()=>i(rn),Ve,(V,Z)=>{var D=Qe(),ke=we(D);{var Ae=Ge=>{var We=Qe(),ut=we(We);Fc(ut,()=>`${i(Z).year}-${i(Z).conductor}`,Ye=>{var Ne=fp(),nt=g(Ne),rt=S(nt);Be(rt,21,()=>i(Z).labelLines,Ve,(yt,it,ot,Pe)=>{var $e=cp();q($e,"dy",ot===0?0:"1.1em");var vt=g($e);K(Ct=>{q($e,"x",Ct),z(vt,i(it))},[()=>i(lt)(i(Z).year)]),b(yt,$e)}),K((yt,it,ot)=>{q(nt,"x1",yt),q(nt,"x2",it),q(nt,"y1",l.top),q(nt,"y2",c-l.bottom),q(rt,"x",ot),q(rt,"y",i(Z).y),q(rt,"text-anchor",i(Z).anchor),q(rt,"dx",i(Z).dx)},[()=>i(lt)(i(Z).year),()=>i(lt)(i(Z).year),()=>i(lt)(i(Z).year)]),b(Ye,Ne)}),b(Ge,We)};H(ke,Ge=>{i(lt)(i(Z).year)!==void 0&&Ge(Ae)})}b(V,D)}),b(x,y)};H(qe,x=>{E()&&x(ze)})}var ft=S(qe);Be(ft,17,()=>i(mt),Ve,(x,y)=>{var j=Qe(),V=we(j);Be(V,17,()=>i(y).entries,Z=>Z.year,(Z,D)=>{var ke=Qe(),Ae=we(ke);{var Ge=We=>{const ut=T(()=>i(lt)(i(D).year)??l.left),Ye=T(()=>i(Je)(ee(i(D)))),Ne=T(()=>(i(D).field_size??0)>0),nt=T(()=>i(Ne)?`${fe(i(D)).toFixed(1)}%`:null);var rt=pp(),yt=g(rt);{var it=Pe=>{var $e=dp();q($e,"r",_),K(()=>{q($e,"cx",i(ut)),q($e,"cy",i(Ye)),q($e,"fill",f[i(D).division]??"#f8fafc"),q($e,"stroke",i(y).color),q($e,"aria-label",`${i(y).band.name}: ${i(D).year} – ${i(D).division} plass ${i(D).rank} (absolutt #${i(D).absolute_position}${i(nt)?` · relativ ${i(nt)}`:""})${i(D).conductor?` – Dirigent: ${i(D).conductor}`:""}`)}),Yt("mouseenter",$e,vt=>me(vt,i(D),i(y).band.name,i(y).color)),Yt("mouseleave",$e,ce),Yt("focus",$e,vt=>me(vt,i(D),i(y).band.name,i(y).color)),Yt("blur",$e,ce),b(Pe,$e)},ot=Pe=>{var $e=Qe(),vt=we($e);{var Ct=Pt=>{var le=vp();q(le,"width",_*2),q(le,"height",_*2),K(()=>{q(le,"x",i(ut)-_),q(le,"y",i(Ye)-_),q(le,"fill",f[i(D).division]??"#f8fafc"),q(le,"stroke",i(y).color),q(le,"aria-label",`${i(y).band.name}: ${i(D).year} – ${i(D).division} plass ${i(D).rank} (absolutt #${i(D).absolute_position}${i(nt)?` · relativ ${i(nt)}`:""})${i(D).conductor?` – Dirigent: ${i(D).conductor}`:""}`)}),Yt("mouseenter",le,Le=>me(Le,i(D),i(y).band.name,i(y).color)),Yt("mouseleave",le,ce),Yt("focus",le,Le=>me(Le,i(D),i(y).band.name,i(y).color)),Yt("blur",le,ce),b(Pt,le)},mn=Pt=>{var le=hp();K(Le=>{q(le,"d",Le),q(le,"fill",f[i(D).division]??"#f8fafc"),q(le,"stroke",i(y).color),q(le,"aria-label",`${i(y).band.name}: ${i(D).year} – ${i(D).division} plass ${i(D).rank} (absolutt #${i(D).absolute_position}${i(nt)?` · relativ ${i(nt)}`:""})${i(D).conductor?` – Dirigent: ${i(D).conductor}`:""}`)},[()=>Xe(i(ut),i(Ye),_)]),Yt("mouseenter",le,Le=>me(Le,i(D),i(y).band.name,i(y).color)),Yt("mouseleave",le,ce),Yt("focus",le,Le=>me(Le,i(D),i(y).band.name,i(y).color)),Yt("blur",le,ce),b(Pt,le)};H(vt,Pt=>{i(y).shape==="square"?Pt(Ct):Pt(mn,!1)},!0)}b(Pe,$e)};H(yt,Pe=>{i(y).shape==="circle"?Pe(it):Pe(ot,!1)})}b(We,rt)};H(Ae,We=>{i(lt)(i(D).year)!==void 0&&We(Ge)})}b(Z,ke)}),b(x,j)}),Kc(Se,x=>B(Y,x),()=>i(Y));var bt=S(Se,2);{var Bt=x=>{const y=T(()=>Ce(i(ge).entry));var j=$p(),V=g(j),Z=g(V),D=S(V,2);{var ke=Ge=>{var We=Qe(),ut=we(We);Be(ut,17,()=>i(y),Ve,(Ye,Ne,nt)=>{var rt=wp(),yt=we(rt),it=g(yt),ot=g(it),Pe=S(it,2),$e=g(Pe),vt=S(Pe,2),Ct=g(vt),mn=S(vt,2);{var Pt=_t=>{const Ut=T(()=>fe(i(Ne)).toFixed(1));var Mn=_p(),xr=g(Mn);K(()=>z(xr,`Relativ plassering: ${i(Ut)??""}%`)),b(_t,Mn)};H(mn,_t=>{(i(Ne).field_size??0)>0&&_t(Pt)})}var le=S(mn,2),Le=g(le),et=S(le,2);{var Rt=_t=>{var Ut=gp(),Mn=g(Ut);K(()=>z(Mn,`Poeng: ${i(Ne).points??""} / ${i(Ne).max_points??""}`)),b(_t,Ut)};H(et,_t=>{i(Ne).points!==null&&_t(Rt)})}var wr=S(et,2);{var br=_t=>{var Ut=mp(),Mn=g(Ut);K(xr=>z(Mn,`Stykker: ${xr??""}`),[()=>i(Ne).pieces.join("; ")]),b(_t,Ut)};H(wr,_t=>{i(Ne).pieces.length>0&&_t(br)})}var On=S(yt,2);{var Dn=_t=>{var Ut=yp();b(_t,Ut)};H(On,_t=>{nt<i(y).length-1&&_t(Dn)})}K(()=>{z(ot,i(Ne).band_name??"Ukjent korps"),z($e,`${i(Ne).division??""} · #${i(Ne).rank??""}`),z(Ct,`Absolutt plassering: #${i(Ne).absolute_position??""}`),z(Le,`Deltakere: ${i(Ne).division_size??""} (div) / ${i(Ne).field_size??""} (totalt)`)}),b(Ye,rt)}),b(Ge,We)},Ae=Ge=>{var We=Sp(),ut=we(We),Ye=g(ut),Ne=S(ut,2);{var nt=le=>{var Le=bp(),et=g(Le);K(()=>z(et,`Dirigent: ${i(ge).entry.conductor??""}`)),b(le,Le)};H(Ne,le=>{i(ge).entry.conductor&&le(nt)})}var rt=S(Ne,2),yt=g(rt),it=S(rt,2);{var ot=le=>{const Le=T(()=>fe(i(ge).entry).toFixed(1));var et=xp(),Rt=g(et);K(()=>z(Rt,`Relativ plassering: ${i(Le)??""}%`)),b(le,et)};H(it,le=>{(i(ge).entry.field_size??0)>0&&le(ot)})}var Pe=S(it,2),$e=g(Pe),vt=S(Pe,2);{var Ct=le=>{var Le=kp(),et=g(Le);K(()=>z(et,`Poeng: ${i(ge).entry.points??""} / ${i(ge).entry.max_points??""}`)),b(le,Le)};H(vt,le=>{i(ge).entry.points!==null&&le(Ct)})}var mn=S(vt,2);{var Pt=le=>{var Le=Np(),et=g(Le);K(Rt=>z(et,`Stykker: ${Rt??""}`),[()=>i(ge).entry.pieces.join("; ")]),b(le,Le)};H(mn,le=>{i(ge).entry.pieces.length>0&&le(Pt)})}K(()=>{z(Ye,`${i(ge).entry.division??""} · #${i(ge).entry.rank??""}`),z(yt,`Absolutt plassering: #${i(ge).entry.absolute_position??""}`),z($e,`Deltakere: ${i(ge).entry.division_size??""} (div) / ${i(ge).entry.field_size??""} (totalt)`)}),b(Ge,We)};H(D,Ge=>{i(y)&&i(y).length?Ge(ke):Ge(Ae,!1)})}K(()=>{Mi(j,`left: ${i(G)}px; top: ${i(ie)}px`),z(Z,`${i(ge).entry.year??""} · ${i(ge).bandName??""}`)}),b(x,j)};H(bt,x=>{i(ge)&&x(Bt)})}var jt=S(bt,2);Be(jt,21,()=>i(C),Ve,(x,y)=>{var j=Mp();let V;var Z=g(j);K(D=>{Mi(j,`left: ${i(y).x}px`),V=Bn(j,1,"svelte-idxsrp",null,V,D),z(Z,i(y).year)},[()=>({inactive:i(y).inactive})]),b(x,j)});var sn=S(Re,2);{var Fn=x=>{var y=Cp();Be(y,21,()=>i(mt),Ve,(j,V)=>{var Z=Ip(),D=g(Z),ke=g(D),Ae=S(ke);{var Ge=Ye=>{var Ne=Ep();K(()=>q(Ne,"stroke",i(V).color)),b(Ye,Ne)},We=Ye=>{var Ne=Qe(),nt=we(Ne);{var rt=it=>{var ot=Ap();K(()=>q(ot,"stroke",i(V).color)),b(it,ot)},yt=it=>{var ot=Tp();K(Pe=>{q(ot,"d",Pe),q(ot,"stroke",i(V).color)},[()=>Xe(21,7,6)]),b(it,ot)};H(nt,it=>{i(V).shape==="square"?it(rt):it(yt,!1)},!0)}b(Ye,Ne)};H(Ae,Ye=>{i(V).shape==="circle"?Ye(Ge):Ye(We,!1)})}var ut=S(D);K(()=>{q(ke,"stroke",i(V).color),z(ut,` ${i(V).band.name??""}`)}),b(j,Z)}),b(x,y)};H(sn,x=>{i(mt).length>0&&x(Fn)})}var er=S(sn,2);{var dt=x=>{var y=Rp();Be(y,21,()=>i(ae),Ve,(j,V)=>{var Z=Pp(),D=g(Z),ke=S(D);K(()=>{Mi(D,`background-color: ${f[i(V)]??"#94a3b8"}`),z(ke,` ${i(V)??""}`)}),b(j,Z)}),b(x,y)};H(er,x=>{se()&&x(dt)})}K(()=>Mi(jt,`top: ${i(J)}px`)),b(e,ye),Jn()}function tt(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}var Fp=$('<a class="entity-link svelte-urxxqj"> </a>'),Op=$("<span> </span>"),Dp=$("<span>Ukjent</span>"),zp=$('<li class="svelte-urxxqj"><!></li>'),Bp=$('<ul class="piece-list svelte-urxxqj"></ul>'),jp=$("<span>Ukjent</span>"),Up=$('<a class="entity-link svelte-urxxqj"> </a>'),Yp=$("<span>Ukjent</span>"),Vp=$('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),Hp=$('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),Kp=$("<!> <!>",1),Xp=$('<div class="streaming-links svelte-urxxqj"></div>'),Gp=$('<span class="streaming-missing svelte-urxxqj" aria-hidden="true">–</span>'),Wp=$('<tr class="svelte-urxxqj"><td data-label="År" class="svelte-urxxqj"> </td><td data-label="Divisjon" class="division-cell svelte-urxxqj"> </td><td data-label="Stykke" class="piece-cell svelte-urxxqj"><!></td><td data-label="Plass" class="svelte-urxxqj"> </td><td data-label="Poeng" class="svelte-urxxqj"> </td><td data-label="Dirigent" class="svelte-urxxqj"><!></td><td data-label="Opptak" class="streaming-cell svelte-urxxqj"><!></td></tr>'),Zp=$('<article class="band-card svelte-urxxqj"><header class="band-header svelte-urxxqj"><div><h2 class="svelte-urxxqj"> </h2> <p class="band-count svelte-urxxqj"> </p></div></header> <div class="table-wrapper svelte-urxxqj" role="region"><table class="svelte-urxxqj"><thead class="svelte-urxxqj"><tr><th scope="col" class="svelte-urxxqj">År</th><th scope="col" class="division-column svelte-urxxqj">Divisjon</th><th scope="col" class="svelte-urxxqj">Stykke</th><th scope="col" class="svelte-urxxqj">Plass</th><th scope="col" class="svelte-urxxqj">Poeng</th><th scope="col" class="svelte-urxxqj">Dirigent</th><th scope="col" class="streaming-column svelte-urxxqj">Opptak</th></tr></thead><tbody class="svelte-urxxqj"></tbody></table></div></article>'),Qp=$('<section class="band-performances svelte-urxxqj"></section>');function Jp(e,t){Qn(t,!0);let n=Nt(t,"bands",19,()=>[]),r=Nt(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(v){return[...v].sort((p,m)=>{const M=p.year-m.year;if(M!==0)return M;const P=p.rank??Number.POSITIVE_INFINITY,I=m.rank??Number.POSITIVE_INFINITY;return P!==I?P-I:(p.absolute_position??Number.POSITIVE_INFINITY)-(m.absolute_position??Number.POSITIVE_INFINITY)})}function o(v){return v==null?"–":a.format(v)}function l(v){return v!=null?`${v}`:"–"}function u(v){return!!(v!=null&&v.spotify||v!=null&&v.apple_music)}function c(v){if(!v)return null;const p=v.trim();if(!p)return null;if(!/^https?:\/\//i.test(p))return p;try{const m=new URL(p);return`music://${`${m.host}${m.pathname}${m.search}${m.hash}`}`}catch(m){return console.warn("Kunne ikke konvertere Apple Music-lenke",m),p}}function f(v,p,m){var U,Y;if(!p)return v;const M=(U=p.recording_title)==null?void 0:U.trim(),P=(Y=p.album)==null?void 0:Y.trim(),I=m==="spotify"?"Spotify":"Apple Music",X=M&&M.length>0?M:v;return P&&P.length>0?`${X} • ${P} (${I})`:`${X} (${I})`}function d(v,p,m){return t.streamingResolver?t.streamingResolver(v,p,m)??null:null}let h=T(()=>n().map(v=>({...v,entries:s(v.entries)})));var _=Qp();Be(_,21,()=>i(h),Ve,(v,p)=>{var m=Zp(),M=g(m),P=g(M),I=g(P),X=g(I),U=S(I,2),Y=g(U),Q=S(M,2),ve=g(Q),je=S(g(ve));Be(je,21,()=>i(p).entries,Ve,(ge,G)=>{const ie=T(()=>Array.isArray(i(G).pieces)?i(G).pieces:[]),E=T(()=>i(ie).filter(W=>W&&W.trim().length>0)),fe=T(()=>{var W;return((W=i(G).conductor)==null?void 0:W.trim())??""}),ee=T(()=>i(fe).length>0),Fe=T(()=>i(ee)?tt(i(fe)):""),De=T(()=>i(E).map(W=>{const C=W.trim(),J=C?tt(C):"",ae=C?d(i(G),i(p).name,C):null;return{pieceName:C,pieceSlug:J,streaming:ae}})),He=T(()=>i(De).filter(W=>u(W.streaming)));var N=Wp(),L=g(N),ne=g(L),he=S(L),Ee=g(he),Ke=S(he),Xe=g(Ke);{var ht=W=>{var C=Bp();Be(C,21,()=>i(De),Ve,(J,ae)=>{var se=zp(),me=g(se);{var ce=ye=>{var Re=Fp(),Se=g(Re);K(pe=>{q(Re,"href",pe),z(Se,i(ae).pieceName)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(ae).pieceSlug)}`]),b(ye,Re)},Ce=ye=>{var Re=Qe(),Se=we(Re);{var pe=qe=>{var ze=Op(),ft=g(ze);K(()=>z(ft,i(ae).pieceName)),b(qe,ze)},xe=qe=>{var ze=Dp();b(qe,ze)};H(Se,qe=>{i(ae).pieceName?qe(pe):qe(xe,!1)},!0)}b(ye,Re)};H(me,ye=>{i(ae).pieceSlug?ye(ce):ye(Ce,!1)})}b(J,se)}),b(W,C)},ct=W=>{var C=jp();b(W,C)};H(Xe,W=>{i(De).length>0?W(ht):W(ct,!1)})}var St=S(Ke),pt=g(St),gt=S(St),lt=g(gt),$t=S(gt),xt=g($t);{var Je=W=>{var C=Up(),J=g(C);K(ae=>{q(C,"href",ae),z(J,i(fe))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(i(Fe))}`]),b(W,C)},mt=W=>{var C=Yp();b(W,C)};H(xt,W=>{i(ee)?W(Je):W(mt,!1)})}var rn=S($t),Kt=g(rn);{var an=W=>{var C=Xp();Be(C,21,()=>i(He),Ve,(J,ae)=>{const se=T(()=>i(ae).streaming);var me=Kp(),ce=we(me);{var Ce=Se=>{var pe=Vp(),xe=g(pe),qe=g(xe);K(ze=>{q(pe,"href",i(se).spotify),q(pe,"title",ze),z(qe,`Hør ${i(ae).pieceName??""} på Spotify`)},[()=>f(i(ae).pieceName,i(se),"spotify")]),b(Se,pe)};H(ce,Se=>{var pe;(pe=i(se))!=null&&pe.spotify&&Se(Ce)})}var ye=S(ce,2);{var Re=Se=>{const pe=T(()=>c(i(se).apple_music));var xe=Qe(),qe=we(xe);{var ze=ft=>{var bt=Hp(),Bt=g(bt),jt=g(Bt);K(sn=>{q(bt,"href",i(pe)),q(bt,"title",sn),z(jt,`Hør ${i(ae).pieceName??""} på Apple Music`)},[()=>f(i(ae).pieceName,i(se),"apple")]),b(ft,bt)};H(qe,ft=>{i(pe)&&ft(ze)})}b(Se,xe)};H(ye,Se=>{var pe;(pe=i(se))!=null&&pe.apple_music&&Se(Re)})}b(J,me)}),b(W,C)},Ue=W=>{var C=Gp();b(W,C)};H(Kt,W=>{i(He).length>0?W(an):W(Ue,!1)})}K((W,C)=>{z(ne,i(G).year),z(Ee,i(G).division),z(pt,W),z(lt,C)},[()=>l(i(G).rank),()=>o(i(G).points)]),b(ge,N)}),K(()=>{z(X,i(p).name),z(Y,`${i(p).entries.length??""} fremføringer`),q(Q,"aria-label",`Fremføringer av ${i(p).name}`)}),b(v,m)}),b(e,_),Jn()}var e_=$('<a class="entity-link svelte-7tq4ct"> </a>'),t_=$("<span> </span>"),n_=$("<span>Ukjent</span>"),r_=$('<a class="entity-link svelte-7tq4ct"> </a>'),i_=$("<span> </span>"),a_=$("<span>Ukjent</span>"),s_=$('<li class="svelte-7tq4ct"><!></li>'),o_=$('<ul class="piece-list svelte-7tq4ct"></ul>'),l_=$("<span>Ukjent</span>"),u_=$('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),c_=$('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),f_=$("<!> <!>",1),d_=$('<div class="streaming-links svelte-7tq4ct"></div>'),v_=$('<span class="streaming-missing svelte-7tq4ct" aria-hidden="true">–</span>'),h_=$('<tr class="svelte-7tq4ct"><td data-label="År" class="svelte-7tq4ct"> </td><td data-label="Divisjon" class="division-cell svelte-7tq4ct"> </td><td data-label="Korps" class="svelte-7tq4ct"><!></td><td data-label="Stykke" class="piece-cell svelte-7tq4ct"><!></td><td data-label="Plass" class="svelte-7tq4ct"> </td><td data-label="Poeng" class="svelte-7tq4ct"> </td><td data-label="Opptak" class="streaming-cell svelte-7tq4ct"><!></td></tr>'),p_=$('<article class="conductor-card svelte-7tq4ct"><header class="conductor-header svelte-7tq4ct"><div><h2 class="svelte-7tq4ct"> </h2> <p class="conductor-count svelte-7tq4ct"> </p></div></header> <div class="table-wrapper svelte-7tq4ct" role="region"><table class="svelte-7tq4ct"><thead class="svelte-7tq4ct"><tr><th scope="col" class="svelte-7tq4ct">År</th><th scope="col" class="division-column svelte-7tq4ct">Divisjon</th><th scope="col" class="svelte-7tq4ct">Korps</th><th scope="col" class="svelte-7tq4ct">Stykke</th><th scope="col" class="svelte-7tq4ct">Plass</th><th scope="col" class="svelte-7tq4ct">Poeng</th><th scope="col" class="streaming-column svelte-7tq4ct">Opptak</th></tr></thead><tbody class="svelte-7tq4ct"></tbody></table></div></article>'),__=$('<section class="conductor-performances svelte-7tq4ct"></section>');function g_(e,t){Qn(t,!0);let n=Nt(t,"conductors",19,()=>[]),r=Nt(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(p){return[...p].sort((m,M)=>{const P=m.year-M.year;if(P!==0)return P;const I=m.rank??Number.POSITIVE_INFINITY,X=M.rank??Number.POSITIVE_INFINITY;if(I!==X)return I-X;const U=(m.band_name??"").toLowerCase(),Y=(M.band_name??"").toLowerCase();return U!==Y?U.localeCompare(Y):(m.absolute_position??Number.POSITIVE_INFINITY)-(M.absolute_position??Number.POSITIVE_INFINITY)})}function o(p){return p==null?"–":a.format(p)}function l(p){return p!=null?`${p}`:"–"}function u(p){return!!(p!=null&&p.spotify||p!=null&&p.apple_music)}function c(p){if(!p)return null;const m=p.trim();if(!m)return null;if(!/^https?:\/\//i.test(m))return m;try{const M=new URL(m);return`music://${`${M.host}${M.pathname}${M.search}${M.hash}`}`}catch(M){return console.warn("Kunne ikke konvertere Apple Music-lenke",M),m}}function f(p,m,M){var Y,Q;if(!m)return p;const P=(Y=m.recording_title)==null?void 0:Y.trim(),I=(Q=m.album)==null?void 0:Q.trim(),X=M==="spotify"?"Spotify":"Apple Music",U=P&&P.length>0?P:p;return I&&I.length>0?`${U} • ${I} (${X})`:`${U} (${X})`}function d(p,m,M){return t.streamingResolver?t.streamingResolver(p,m,M)??null:null}function h(p){const M=(p.entries??[]).flatMap(P=>(P.aggregate_entries&&Array.isArray(P.aggregate_entries)?P.aggregate_entries:[P]).map(X=>({...X,band_name:X.band_name??P.band_name??null})));return s(M)}let _=T(()=>n().map(p=>({...p,performances:h(p)})));var v=__();Be(v,21,()=>i(_),Ve,(p,m)=>{var M=p_(),P=g(M),I=g(P),X=g(I),U=g(X),Y=S(X,2),Q=g(Y),ve=S(P,2),je=g(ve),ge=S(g(je));Be(ge,21,()=>i(m).performances,Ve,(G,ie)=>{const E=T(()=>{var C;return((C=i(ie).band_name)==null?void 0:C.trim())??""}),fe=T(()=>i(E).length>0),ee=T(()=>i(fe)?tt(i(E)):""),Fe=T(()=>Array.isArray(i(ie).pieces)?i(ie).pieces:[]),De=T(()=>i(Fe).filter(C=>C&&C.trim().length>0)),He=T(()=>i(De).map(C=>{const J=C.trim(),ae=J?tt(J):"",se=i(fe)&&J?d(i(ie),i(E),J):null;return{pieceName:J,pieceSlug:ae,streaming:se}})),N=T(()=>i(He).filter(C=>u(C.streaming)));var L=h_(),ne=g(L),he=g(ne),Ee=S(ne),Ke=g(Ee),Xe=S(Ee),ht=g(Xe);{var ct=C=>{var J=e_(),ae=g(J);K(se=>{q(J,"href",se),z(ae,i(E))},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(i(ee))}`]),b(C,J)},St=C=>{var J=Qe(),ae=we(J);{var se=ce=>{var Ce=t_(),ye=g(Ce);K(()=>z(ye,i(E))),b(ce,Ce)},me=ce=>{var Ce=n_();b(ce,Ce)};H(ae,ce=>{i(fe)?ce(se):ce(me,!1)},!0)}b(C,J)};H(ht,C=>{i(fe)&&i(ee)?C(ct):C(St,!1)})}var pt=S(Xe),gt=g(pt);{var lt=C=>{var J=o_();Be(J,21,()=>i(He),Ve,(ae,se)=>{var me=s_(),ce=g(me);{var Ce=Re=>{var Se=r_(),pe=g(Se);K(xe=>{q(Se,"href",xe),z(pe,i(se).pieceName)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(se).pieceSlug)}`]),b(Re,Se)},ye=Re=>{var Se=Qe(),pe=we(Se);{var xe=ze=>{var ft=i_(),bt=g(ft);K(()=>z(bt,i(se).pieceName)),b(ze,ft)},qe=ze=>{var ft=a_();b(ze,ft)};H(pe,ze=>{i(se).pieceName?ze(xe):ze(qe,!1)},!0)}b(Re,Se)};H(ce,Re=>{i(se).pieceSlug?Re(Ce):Re(ye,!1)})}b(ae,me)}),b(C,J)},$t=C=>{var J=l_();b(C,J)};H(gt,C=>{i(He).length>0?C(lt):C($t,!1)})}var xt=S(pt),Je=g(xt),mt=S(xt),rn=g(mt),Kt=S(mt),an=g(Kt);{var Ue=C=>{var J=d_();Be(J,21,()=>i(N),Ve,(ae,se)=>{const me=T(()=>i(se).streaming);var ce=f_(),Ce=we(ce);{var ye=pe=>{var xe=u_(),qe=g(xe),ze=g(qe);K(ft=>{q(xe,"href",i(me).spotify),q(xe,"title",ft),z(ze,`Hør ${i(se).pieceName??""} på Spotify`)},[()=>f(i(se).pieceName,i(me),"spotify")]),b(pe,xe)};H(Ce,pe=>{var xe;(xe=i(me))!=null&&xe.spotify&&pe(ye)})}var Re=S(Ce,2);{var Se=pe=>{const xe=T(()=>c(i(me).apple_music));var qe=Qe(),ze=we(qe);{var ft=bt=>{var Bt=c_(),jt=g(Bt),sn=g(jt);K(Fn=>{q(Bt,"href",i(xe)),q(Bt,"title",Fn),z(sn,`Hør ${i(se).pieceName??""} på Apple Music`)},[()=>f(i(se).pieceName,i(me),"apple")]),b(bt,Bt)};H(ze,bt=>{i(xe)&&bt(ft)})}b(pe,qe)};H(Re,pe=>{var xe;(xe=i(me))!=null&&xe.apple_music&&pe(Se)})}b(ae,ce)}),b(C,J)},W=C=>{var J=v_();b(C,J)};H(an,C=>{i(N).length>0?C(Ue):C(W,!1)})}K((C,J)=>{z(he,i(ie).year),z(Ke,i(ie).division),z(Je,C),z(rn,J)},[()=>l(i(ie).rank),()=>o(i(ie).points)]),b(G,L)}),K(()=>{z(U,i(m).name),z(Q,`${i(m).performances.length??""} fremføringer`),q(ve,"aria-label",`Fremføringer av ${i(m).name}`)}),b(p,M)}),b(e,v),Jn()}function m_(e,t){const n=Number(e.target.value);B(t,Number.isNaN(n)?null:n,!0)}function y_(e,t){B(t,e.target.value||null,!0)}var w_=$('<p class="svelte-1e9ky18"> </p>'),b_=$('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),x_=$('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),k_=$("<option> </option>"),N_=$("<option selected>Ingen divisjoner</option>"),S_=$("<option> </option>"),$_=$('<span class="svelte-1e9ky18"> </span>'),M_=$('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),E_=$('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),A_=$('<a class="entity-link svelte-1e9ky18"> </a>'),T_=$("<span>Ukjent</span>"),I_=$("<span>–</span>"),C_=$('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-1e9ky18"><span class="sr-only svelte-1e9ky18">Hør på Spotify</span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),P_=$('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-1e9ky18"><span class="sr-only svelte-1e9ky18">Hør på Apple Music</span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),R_=$('<span class="streaming-links svelte-1e9ky18"><!> <!></span>'),q_=$('<span class="program-piece svelte-1e9ky18"><a class="program-link svelte-1e9ky18"> </a> <!></span> ',1),L_=$('<tr class="svelte-1e9ky18"><td data-label="Plass" class="svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td></tr>'),F_=$('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),O_=$('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!>',1),D_=$('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2> <!></div> <!></section>');function z_(e,t){Qn(t,!0);let n=Nt(t,"dataset",3,null),r=Nt(t,"bandType",3,"wind"),a=Nt(t,"streamingResolver",3,void 0);const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let o=Ie(null),l=Ie(null),u=T(()=>n()?p(n()):new Map),c=T(()=>{var N,L;return((L=(N=n())==null?void 0:N.metadata)==null?void 0:L.years)??[]}),f=T(()=>{var N,L;return((L=(N=n())==null?void 0:N.metadata)==null?void 0:L.generated_at)??null}),d=T(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||i(o)==null||!i(u).has(i(o)))return[];const N=i(u).get(i(o))??new Map,L=n().metadata.divisions.filter(he=>N.has(he)),ne=Array.from(N.keys()).filter(he=>!L.includes(he)).sort();return[...L,...ne]})()),h=T(()=>(()=>{if(i(o)!=null&&i(l)&&i(u).has(i(o))){const N=i(u).get(i(o)),L=(i(l)&&(N==null?void 0:N.get(i(l))))??[];return P(L)}return[]})()),_=T(()=>(()=>{var N;if(i(h).length>0){const L=(N=i(h)[0])==null?void 0:N.entry,ne=(L==null?void 0:L.division_size)??i(h).length;return ne&&ne>0?ne:null}return null})()),v=T(()=>(()=>{var N;if(i(h).length>0){const L=(N=i(h)[0])==null?void 0:N.entry,ne=(L==null?void 0:L.field_size)??null;return ne&&ne>0?ne:null}return null})());function p(N){const L=new Map;if(!(N!=null&&N.bands)||!Array.isArray(N.bands))return L;for(const ne of N.bands)if(!(!ne||!ne.entries||!Array.isArray(ne.entries)))for(const he of ne.entries){if(!he||typeof he.year!="number"||!he.division)continue;let Ee=L.get(he.year);Ee||(Ee=new Map,L.set(he.year,Ee));const Ke=he.division;let Xe=Ee.get(Ke);Xe||(Xe=[],Ee.set(Ke,Xe)),Xe.push({band:ne.name,entry:he})}return L}function m(N){return N.length?i(o)&&N.includes(i(o))?i(o):N[N.length-1]??null:null}function M(N){return N.length?i(l)&&N.includes(i(l))?i(l):N[0]??null:null}function P(N){return[...N].sort((L,ne)=>{const he=L.entry.rank??Number.POSITIVE_INFINITY,Ee=ne.entry.rank??Number.POSITIVE_INFINITY;if(he!==Ee)return he-Ee;const Ke=L.entry.absolute_position??Number.POSITIVE_INFINITY,Xe=ne.entry.absolute_position??Number.POSITIVE_INFINITY;return Ke!==Xe?Ke-Xe:L.band.localeCompare(ne.band)})}function I(N){return N!=null?`${N}`:"–"}function X(N,L){if(N==null&&L==null)return"–";const ne=N==null?"–":s.format(N);return L==null,ne}function U(N){return N.map(L=>L.trim()).filter(Boolean)}function Y(N,L,ne){if(typeof a()!="function")return null;try{return a()(N,L,ne)??null}catch(he){return console.error("Kunne ikke hente streaming-lenke",he),null}}function Q(N){return!!(N!=null&&N.spotify||N!=null&&N.apple_music)}function ve(N){if(!N)return null;const L=N.trim();if(!L)return null;if(!/^https?:\/\//i.test(L))return L;try{const ne=new URL(L);return`music://${`${ne.host}${ne.pathname}${ne.search}${ne.hash}`}`}catch(ne){return console.warn("Kunne ikke konvertere Apple Music-lenke",ne),L}}function je(N,L,ne){var ht,ct;if(!L)return N;const he=(ht=L.recording_title)==null?void 0:ht.trim(),Ee=(ct=L.album)==null?void 0:ct.trim(),Ke=ne==="spotify"?"Spotify":"Apple Music",Xe=he&&he.length>0?he:N;return Ee&&Ee.length>0?`${Xe} • ${Ee} (${Ke})`:`${Xe} (${Ke})`}function ge(N){if(!N)return null;const L=new Date(N);return Number.isNaN(L.getTime())?N:new Intl.DateTimeFormat("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(L)}li(()=>{if(n()&&i(c)&&Array.isArray(i(c))&&i(c).length>0){const N=m(i(c));i(o)!==N&&B(o,N,!0)}else B(o,null),B(l,null)}),li(()=>{if(i(o)!=null&&i(d)&&Array.isArray(i(d))&&i(d).length>0){const N=M(i(d));i(l)!==N&&B(l,N,!0)}else i(o)!=null&&B(l,null)});let G=T(()=>ge(i(f)));var ie=D_(),E=g(ie),fe=S(g(E),2);{var ee=N=>{var L=w_(),ne=g(L);K(()=>z(ne,`Data oppdatert ${i(G)??""}`)),b(N,L)};H(fe,N=>{i(G)&&N(ee)})}var Fe=S(E,2);{var De=N=>{var L=b_();b(N,L)},He=N=>{var L=Qe(),ne=we(L);{var he=Ke=>{var Xe=x_();b(Ke,Xe)},Ee=Ke=>{var Xe=O_(),ht=we(Xe),ct=g(ht),St=S(g(ct),2);St.__change=[m_,o],Be(St,21,()=>i(c)||[],Ve,(Ue,W)=>{var C=k_(),J=g(C),ae={};K(()=>{js(C,i(o)===i(W)),z(J,i(W)),ae!==(ae=i(W))&&(C.value=(C.__value=i(W))??"")}),b(Ue,C)});var pt=S(ct,2),gt=S(g(pt),2);gt.__change=[y_,l];var lt=g(gt);{var $t=Ue=>{var W=N_();W.value=W.__value="",b(Ue,W)},xt=Ue=>{var W=Qe(),C=we(W);Be(C,17,()=>i(d),Ve,(J,ae)=>{var se=S_(),me=g(se),ce={};K(()=>{js(se,i(l)===i(ae)),z(me,i(ae)),ce!==(ce=i(ae))&&(se.value=(se.__value=i(ae))??"")}),b(J,se)}),b(Ue,W)};H(lt,Ue=>{!i(d)||i(d).length===0?Ue($t):Ue(xt,!1)})}var Je=S(pt,2);{var mt=Ue=>{var W=M_(),C=g(W),J=g(C),ae=S(C,2);{var se=me=>{var ce=$_(),Ce=g(ce);K(()=>z(Ce,`Totalt felt: ${i(v)??""}`)),b(me,ce)};H(ae,me=>{i(v)&&me(se)})}K(()=>z(J,`${i(_)??""} korps`)),b(Ue,W)};H(Je,Ue=>{i(_)&&Ue(mt)})}var rn=S(ht,2);{var Kt=Ue=>{var W=E_();b(Ue,W)},an=Ue=>{var W=F_(),C=g(W),J=S(g(C));Be(J,21,()=>i(h),Ve,(ae,se)=>{let me=()=>i(se).band,ce=()=>i(se).entry;var Ce=L_(),ye=g(Ce),Re=g(ye),Se=S(ye),pe=g(Se),xe=g(pe),qe=S(Se),ze=g(qe);{var ft=dt=>{var x=A_(),y=g(x);K((j,V)=>{q(x,"href",j),z(y,V)},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(tt(ce().conductor))}`,()=>ce().conductor.trim()]),b(dt,x)},bt=dt=>{var x=T_();b(dt,x)};H(ze,dt=>{ce().conductor&&ce().conductor.trim().length>0?dt(ft):dt(bt,!1)})}var Bt=S(qe),jt=g(Bt),sn=S(Bt),Fn=g(sn);{var er=dt=>{const x=T(()=>U(ce().pieces));var y=Qe(),j=we(y);{var V=D=>{var ke=I_();b(D,ke)},Z=D=>{var ke=Qe(),Ae=we(ke);Be(Ae,17,()=>i(x),Ve,(Ge,We,ut)=>{const Ye=T(()=>Y(ce(),me(),i(We)));var Ne=q_(),nt=we(Ne),rt=g(nt),yt=g(rt),it=S(rt,2);{var ot=$e=>{var vt=R_(),Ct=g(vt);{var mn=Le=>{var et=C_();K(Rt=>{q(et,"href",i(Ye).spotify),q(et,"title",Rt)},[()=>je(i(We),i(Ye),"spotify")]),b(Le,et)};H(Ct,Le=>{var et;(et=i(Ye))!=null&&et.spotify&&Le(mn)})}var Pt=S(Ct,2);{var le=Le=>{const et=T(()=>ve(i(Ye).apple_music));var Rt=Qe(),wr=we(Rt);{var br=On=>{var Dn=P_();K(_t=>{q(Dn,"href",i(et)),q(Dn,"title",_t)},[()=>je(i(We),i(Ye),"apple")]),b(On,Dn)};H(wr,On=>{i(et)&&On(br)})}b(Le,Rt)};H(Pt,Le=>{var et;(et=i(Ye))!=null&&et.apple_music&&Le(le)})}b($e,vt)};H(it,$e=>{Q(i(Ye))&&$e(ot)})}var Pe=S(nt,1,!0);K($e=>{q(rt,"href",$e),z(yt,i(We)),z(Pe,ut<i(x).length-1?", ":"")},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(tt(i(We)))}`]),b(Ge,Ne)}),b(D,ke)};H(j,D=>{i(x).length===0?D(V):D(Z,!1)})}b(dt,y)};H(Fn,dt=>{dt(er)})}K((dt,x,y)=>{z(Re,dt),q(pe,"href",x),z(xe,me()),z(jt,y)},[()=>I(ce().rank),()=>`?type=${r()}&view=bands&band=${encodeURIComponent(tt(me()))}`,()=>X(ce().points,ce().max_points)]),b(ae,Ce)}),b(Ue,W)};H(rn,Ue=>{!i(h)||i(h).length===0?Ue(Kt):Ue(an,!1)})}b(Ke,Xe)};H(ne,Ke=>{!i(c)||!i(c).length?Ke(he):Ke(Ee,!1)},!0)}b(N,L)};H(Fe,N=>{n()?N(He,!1):N(De)})}b(e,ie),Jn()}nl(["change"]);function jl(e){return e.replace(/\s+/g," ").trim()}const B_=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function j_(e){return e.replace(B_,"").trim()}function Ka(e){if(!e)return[];const t=j_(e);if(!t)return[];const r=t.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/·]/g,",").split(/[;,]/).map(s=>jl(s)).filter(s=>s.length>0),a=new Map;for(const s of r){const o=s.toLowerCase();a.has(o)||a.set(o,s)}return Array.from(a.values())}var U_=$('<a class="composer-link svelte-18hgr5c"> </a> ',1),Y_=$('<p class="piece-composer svelte-18hgr5c"></p>'),V_=$('<p class="piece-composer svelte-18hgr5c"> </p>'),H_=$('<a class="entity-link svelte-18hgr5c"> </a>'),K_=$("<span>Ukjent</span>"),X_=$('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Spotify</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),G_=$('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Apple Music</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),W_=$('<div class="streaming-links svelte-18hgr5c"><!> <!></div>'),Z_=$('<span class="streaming-missing svelte-18hgr5c" aria-hidden="true">–</span>'),Q_=$('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td><td data-label="Opptak" class="streaming-cell svelte-18hgr5c"><!></td></tr>'),J_=$('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="svelte-18hgr5c">År</th><th scope="col" class="svelte-18hgr5c">Divisjon</th><th scope="col" class="svelte-18hgr5c">Korps</th><th scope="col" class="svelte-18hgr5c">Plass</th><th scope="col" class="svelte-18hgr5c">Poeng</th><th scope="col" class="svelte-18hgr5c">Dirigent</th><th scope="col" class="streaming-column svelte-18hgr5c">Opptak</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),e0=$('<section class="pieces-view svelte-18hgr5c"></section>');function t0(e,t){Qn(t,!0);let n=Nt(t,"pieces",19,()=>[]),r=Nt(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(v){return[...v].sort((p,m)=>{const M=p.entry.year-m.entry.year;if(M!==0)return M;const P=p.entry.rank??Number.POSITIVE_INFINITY,I=m.entry.rank??Number.POSITIVE_INFINITY;return P!==I?P-I:p.band.localeCompare(m.band)})}function o(v){return v.composerNames&&v.composerNames.length>0?v.composerNames:v.composer?Ka(v.composer):[]}function l(v){return v==null?"–":a.format(v)}function u(v){return v!=null?`${v}`:"–"}function c(v){return!!(v!=null&&v.spotify||v!=null&&v.apple_music)}function f(v){if(!v)return null;const p=v.trim();if(!p)return null;if(!/^https?:\/\//i.test(p))return p;try{const m=new URL(p);return`music://${`${m.host}${m.pathname}${m.search}${m.hash}`}`}catch(m){return console.warn("Kunne ikke konvertere Apple Music-lenke",m),p}}function d(v,p,m){var U,Y;if(!p)return v;const M=(U=p.recording_title)==null?void 0:U.trim(),P=(Y=p.album)==null?void 0:Y.trim(),I=m==="spotify"?"Spotify":"Apple Music",X=M&&M.length>0?M:v;return P&&P.length>0?`${X} • ${P} (${I})`:`${X} (${I})`}let h=T(()=>n().map(v=>({...v,performances:s(v.performances)})));var _=e0();Be(_,21,()=>i(h),Ve,(v,p)=>{const m=T(()=>o(i(p)));var M=J_(),P=g(M),I=g(P),X=g(I),U=g(X),Y=S(X,2);{var Q=fe=>{var ee=Y_();Be(ee,21,()=>i(m),Ve,(Fe,De,He)=>{var N=U_(),L=we(N),ne=g(L),he=S(L,1,!0);K(Ee=>{q(L,"href",Ee),z(ne,i(De)),z(he,He<i(m).length-1?", ":"")},[()=>`?type=${r()}&view=composers&composer=${encodeURIComponent(tt(i(De)))}`]),b(Fe,N)}),b(fe,ee)},ve=fe=>{var ee=Qe(),Fe=we(ee);{var De=He=>{var N=V_(),L=g(N);K(()=>z(L,i(p).composer)),b(He,N)};H(Fe,He=>{i(p).composer&&He(De)},!0)}b(fe,ee)};H(Y,fe=>{i(m).length>0?fe(Q):fe(ve,!1)})}var je=S(Y,2),ge=g(je),G=S(P,2),ie=g(G),E=S(g(ie));Be(E,21,()=>i(p).performances,Ve,(fe,ee)=>{const Fe=T(()=>{var C;return((C=i(ee).entry.conductor)==null?void 0:C.trim())??""}),De=T(()=>i(Fe).length>0),He=T(()=>i(De)?tt(i(Fe)):""),N=T(()=>tt(i(ee).band)),L=T(()=>i(ee).streaming??null);var ne=Q_(),he=g(ne),Ee=g(he),Ke=S(he),Xe=g(Ke),ht=S(Ke),ct=g(ht),St=g(ct),pt=S(ht),gt=g(pt),lt=S(pt),$t=g(lt),xt=S(lt),Je=g(xt);{var mt=C=>{var J=H_(),ae=g(J);K(se=>{q(J,"href",se),z(ae,i(Fe))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(i(He))}`]),b(C,J)},rn=C=>{var J=K_();b(C,J)};H(Je,C=>{i(De)?C(mt):C(rn,!1)})}var Kt=S(xt),an=g(Kt);{var Ue=C=>{var J=W_(),ae=g(J);{var se=Ce=>{var ye=X_();K(Re=>{q(ye,"href",i(L).spotify),q(ye,"title",Re)},[()=>d(i(p).name,i(L),"spotify")]),b(Ce,ye)};H(ae,Ce=>{var ye;(ye=i(L))!=null&&ye.spotify&&Ce(se)})}var me=S(ae,2);{var ce=Ce=>{const ye=T(()=>f(i(L).apple_music));var Re=Qe(),Se=we(Re);{var pe=xe=>{var qe=G_();K(ze=>{q(qe,"href",i(ye)),q(qe,"title",ze)},[()=>d(i(p).name,i(L),"apple")]),b(xe,qe)};H(Se,xe=>{i(ye)&&xe(pe)})}b(Ce,Re)};H(me,Ce=>{var ye;(ye=i(L))!=null&&ye.apple_music&&Ce(ce)})}b(C,J)},W=C=>{var J=Z_();b(C,J)};H(an,C=>{c(i(L))?C(Ue):C(W,!1)})}K((C,J,ae)=>{z(Ee,i(ee).entry.year),z(Xe,i(ee).entry.division),q(ct,"href",C),z(St,i(ee).band),z(gt,J),z($t,ae)},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(i(N))}`,()=>u(i(ee).entry.rank),()=>l(i(ee).entry.points)]),b(fe,ne)}),K(()=>{z(U,i(p).name),z(ge,`${i(p).performances.length??""} fremføringer`),q(G,"aria-label",`Fremføringer av ${i(p).name}`)}),b(v,M)}),b(e,_),Jn()}var n0=$('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),r0=$('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),i0=$('<section class="composers-view svelte-1njzana"></section>');function a0(e,t){Qn(t,!0);let n=Nt(t,"composers",19,()=>[]),r=Nt(t,"bandType",3,"wind"),a=T(()=>[...n()].sort((o,l)=>o.name.localeCompare(l.name)));var s=i0();Be(s,21,()=>i(a),Ve,(o,l)=>{var u=r0(),c=g(u),f=g(c),d=g(f),h=g(d),_=S(d,2),v=g(_),p=S(c,2);Be(p,21,()=>i(l).pieces,Ve,(m,M)=>{var P=n0(),I=g(P),X=g(I);K(U=>{q(I,"href",U),z(X,i(M).name)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(M).slug)}`]),b(m,P)}),K(()=>{z(h,i(l).name),z(v,`${i(l).pieces.length??""} ${i(l).pieces.length===1?"stykke":"stykker"}`)}),b(o,u)}),b(e,s),Jn()}function s0(e,t){B(t,!i(t))}function o0(e,t){B(t,!i(t))}function l0(e,t,n,r,a,s){t(i(n)==="dark"?"light":"dark"),r(),a(),s()}function u0(e,t,n,r,a,s){t(i(n)==="wind"?"brass":"wind"),r(),a(),s()}function c0(e,t,n){B(t,e.target.value,!0),B(n,-1)}function f0(e,t,n,r){i(t).length&&(e.key==="ArrowDown"?(e.preventDefault(),B(n,(i(n)+1)%i(t).length)):e.key==="ArrowUp"?(e.preventDefault(),B(n,(i(n)-1+i(t).length)%i(t).length)):e.key==="Enter"&&i(n)>=0&&(e.preventDefault(),r(i(t)[i(n)])))}var d0=(e,t,n)=>t(i(n)),v0=$('<button type="button"> </button>'),h0=$('<div role="option" tabindex="-1"> </div>'),p0=$('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),_0=$('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!>',1),g0=$('<section class="status svelte-1n46o8q">Laster data…</section>'),m0=$('<section class="status error svelte-1n46o8q"> </section>'),y0=$('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),w0=(e,t)=>t("absolute"),b0=(e,t)=>t("relative"),x0=(e,t)=>t("absolute"),k0=(e,t)=>t("relative"),N0=$('<div class="mode-toggle__menu svelte-1n46o8q" id="mode-toggle-menu" role="menu"><button type="button">Absolutt</button> <button type="button">Relativ</button></div>'),S0=$('<p class="comparison-summary svelte-1n46o8q"> </p>'),$0=$('<section class="chart-card svelte-1n46o8q"><div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Plassering:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg plasseringsvisning"><button type="button">Absolutt</button> <button type="button">Relativ</button></div> <button type="button" class="mode-toggle__menu-trigger svelte-1n46o8q" aria-controls="mode-toggle-menu">Tilpass</button> <!></div> <div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),M0=(e,t,n)=>t(i(n).slug),E0=$('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),A0=$('<!> <div class="selected-entities selected-entities--below svelte-1n46o8q" role="list"></div> <!>',1),T0=$('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),I0=$('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><div class="page-header__title svelte-1n46o8q"><h1 class="svelte-1n46o8q"> </h1> <button class="menu-toggle svelte-1n46o8q" type="button" aria-controls="primary-controls"><span class="menu-toggle__icon svelte-1n46o8q" aria-hidden="true">☰</span> <span class="menu-toggle__text svelte-1n46o8q">Meny</span></button></div> <div id="primary-controls"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button class="band-type-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="band-type-toggle__text svelte-1n46o8q"> </span></button> <button class="theme-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="theme-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function C0(e,t){Qn(t,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},r="mode",a="view",s="type",o=",",l="relative",u="bands",c="wind",f="nmkorps-theme",d="nmkorps-band-type",h={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat"},_=["bands","conductors","pieces","composers","data"];let v=Ie(null),p=Ie(Lt([])),m=Ie(Lt([])),M=Ie(Lt([])),P=Ie(!0),I=Ie(null),X=Ie(""),U=Ie(Lt([])),Y=Ie(Lt([])),Q=Ie(Lt([])),ve=Ie(Lt([])),je=Ie(-1),ge=!1,G="",ie=Ie(l),E=Ie(u),fe=Ie("dark"),ee=Ie("wind"),Fe=Ie(!1),De=Ie(!1),He=Ie(!1),N=new Map,L=new Map;function ne(w){const k=new Map;for(const R of w){if(!R||!R.slug)continue;const F=R.slug.trim();if(!F)continue;const A=k.get(F);A?A.push(R):k.set(F,[R])}return k}function he(w){var R,F;const k=new Map;for(const A of w){if(!A)continue;const re=Number(A.year);if(!Number.isFinite(re))continue;const te=A.division_slug??A.division,oe=A.band_slug??A.band,_e=A.result_piece_slug??A.result_piece;if(!te||!oe||!_e)continue;const Te=tt(te),de=tt(oe);if(Te==="uidentifisert"||!de||de==="uidentifisert")continue;const at=new Set,st=tt(_e);if(st!=="uidentifisert"&&at.add(st),A.alternate_result_piece_slugs&&Array.isArray(A.alternate_result_piece_slugs))for(const Gt of A.alternate_result_piece_slugs){const En=Gt?tt(Gt):"";En&&En!=="uidentifisert"&&at.add(En)}if(A.result_piece&&A.result_piece.trim()){const Gt=tt(A.result_piece);Gt!=="uidentifisert"&&at.add(Gt)}if(!at.size)continue;const on=typeof A.spotify=="string"&&A.spotify.trim().length>0?A.spotify.trim():null,Xt=typeof A.apple_music=="string"&&A.apple_music.trim().length>0?A.apple_music.trim():null;if(!on&&!Xt)continue;const yn={spotify:on,apple_music:Xt,album:((R=A.album)==null?void 0:R.trim())??null,recording_title:((F=A.recording_title)==null?void 0:F.trim())??null};for(const Gt of at){const En=`${re}|${Te}|${de}|${Gt}`;k.set(En,yn)}}return k}function Ee(w,k,R){if(!L.size)return null;const F=tt(w.division),A=tt(k);if(F==="uidentifisert"||!A||A==="uidentifisert")return null;const re=`${w.year}|${F}|${A}`;let te=St(R);if(!te.length){const oe=tt(R);te=oe!=="uidentifisert"?[oe]:[]}for(const oe of te){const _e=`${re}|${oe}`,Te=L.get(_e);if(Te)return Te}return null}const Ke=/["'«»“”„‟]/g,Xe=/\([^)]*\)/g;function ht(w){return w.replace(Xe," ")}function ct(w){return w.replace(Ke,"").replace(/\s+/g," ").trim().toLowerCase()}function St(w){const k=w.trim();if(!k)return[];const R=new Set,F=tt(k);F!=="uidentifisert"&&R.add(F);const A=ht(k),re=tt(A);re!=="uidentifisert"&&R.add(re);const te=ct(k),oe=tt(te.replace(/[-–—]/g," "));oe!=="uidentifisert"&&R.add(oe);const _e=tt(te.replace(/[:;·]/g," "));_e!=="uidentifisert"&&R.add(_e);const Te=[];A.includes("-")&&Te.push(A.split(/[-–—]/)[0]),A.includes(":")&&Te.push(A.split(":")[0]);for(const de of Te){const at=tt(de);at!=="uidentifisert"&&R.add(at)}return Array.from(R)}function pt(w,k){const R=St(w);if(!R.length)return null;const F=ct(w),A=ct(ht(w));for(const re of R){const te=k.get(re);if(!te||te.length===0)continue;if(te.length===1)return te[0].composer??null;const oe=te.find(Te=>ct(Te.title)===F);if(oe)return oe.composer??null;const _e=te.find(Te=>ct(ht(Te.title))===A);return _e?_e.composer??null:te[0].composer??null}return null}function gt(w,k){const R=Array.isArray(w.pieces)?[...w.pieces]:w.pieces!=null?[`${w.pieces}`.trim()].filter(Boolean):[],F={...w,pieces:R,conductor:w.conductor};return k&&(F.band_name=k),F}function lt(w){var R;const k=new Map;for(const F of w)for(const A of F.entries){const re=(R=A.conductor)==null?void 0:R.trim();if(!re)continue;const te=tt(re);let oe=k.get(te);oe||(oe={name:re,slug:te,years:new Map},k.set(te,oe));let _e=oe.years.get(A.year);_e||(_e={entries:[]},oe.years.set(A.year,_e)),_e.entries.push(gt(A,F.name))}return Array.from(k.values()).map(F=>({name:F.name,slug:F.slug,entries:Array.from(F.years.entries()).map(([A,re])=>{const te=[...re.entries].sort((_e,Te)=>{const de=_e.absolute_position??Number.POSITIVE_INFINITY,at=Te.absolute_position??Number.POSITIVE_INFINITY;return de!==at?de-at:(_e.rank??Number.POSITIVE_INFINITY)-(Te.rank??Number.POSITIVE_INFINITY)});return{...te[0],year:A,conductor:F.name,aggregate_entries:te}}).sort((A,re)=>A.year-re.year)})).sort((F,A)=>F.name.localeCompare(A.name))}function $t(w,k){var F;const R=new Map;for(const A of w)for(const re of A.entries){const te=Array.isArray(re.pieces)?re.pieces:re.pieces!=null?[`${re.pieces}`]:[];for(const oe of te){const _e=oe.trim();if(!_e)continue;const Te=tt(_e);let de=R.get(Te);const at=pt(_e,k),st=at?Ka(at):[],on=st.length>0?st.join(", "):null;de?(!de.composer||!((F=de.composerNames)!=null&&F.length))&&on&&(de.composer=on,de.composerNames=st):(de={name:_e,slug:Te,composer:on,composerNames:st,performances:[]},R.set(Te,de));const Xt=Ee(re,A.name,_e);de.performances.push({band:A.name,entry:re,streaming:Xt})}}return Array.from(R.values()).map(A=>({...A,performances:A.performances.map(({band:re,entry:te,streaming:oe})=>({band:re,entry:{...te,pieces:[...te.pieces]},streaming:oe??null}))})).sort((A,re)=>A.name.localeCompare(re.name))}function xt(w){const k=new Map;for(const F of w){const A=F.composerNames&&F.composerNames.length>0?F.composerNames:Ka(F.composer??null);if(A.length)for(const re of A){const te=jl(re);if(!te)continue;const oe=tt(te);if(oe==="uidentifisert")continue;let _e=k.get(oe);_e||(_e={name:te,slug:oe,normalized:te.toLowerCase(),pieces:new Map},k.set(oe,_e)),_e.pieces.has(F.slug)||_e.pieces.set(F.slug,{name:F.name,slug:F.slug})}}const R=Array.from(k.values()).map(F=>({name:F.name,slug:F.slug,normalized:F.normalized,pieces:Array.from(F.pieces.values()).sort((A,re)=>A.name.localeCompare(re.name))})).sort((F,A)=>F.name.localeCompare(A.name));return new Map(R.map(F=>[F.slug,F])),R}function Je(w){return w==="data"?"data":n[w]}function mt(){if(typeof window>"u")return l;const k=new URLSearchParams(window.location.search).get(r);return(k?k.toLowerCase():null)==="absolute"?"absolute":"relative"}function rn(){var k;if(typeof window>"u")return"dark";try{const R=window.localStorage.getItem(f);if(R==="light"||R==="dark")return R}catch(R){console.error("Kunne ikke lese lagret tema",R)}return((k=window.matchMedia)==null?void 0:k.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function Kt(w){typeof document>"u"||(w==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function an(){var R;if(typeof window>"u")return c;const k=(R=new URLSearchParams(window.location.search).get(s))==null?void 0:R.toLowerCase();return k==="brass"||k==="brassband"?"brass":k==="wind"||k==="janitsjar"?"wind":c}function Ue(){var R;if(typeof window>"u")return c;const k=(R=new URLSearchParams(window.location.search).get(s))==null?void 0:R.toLowerCase();if(k==="brass"||k==="brassband")return"brass";if(k==="wind"||k==="janitsjar")return"wind";try{const F=window.localStorage.getItem(d);if(F==="wind"||F==="brass")return F}catch(F){console.error("Kunne ikke lese lagret korptype",F)}return c}function W(w){typeof document>"u"||(document.documentElement.dataset.bandType=w)}function C(w){if(B(fe,w,!0),Kt(w),typeof window<"u")try{window.localStorage.setItem(f,w)}catch(k){console.error("Kunne ikke lagre tema",k)}}function J(w,k=!0){if(i(ee)!==w){if(B(ee,w,!0),W(w),typeof window<"u")try{window.localStorage.setItem(d,w)}catch(R){console.error("Kunne ikke lagre korptype",R)}if(B(U,[],!0),B(Y,[],!0),B(Q,[],!0),B(ve,[],!0),B(X,""),B(je,-1),k&&typeof window<"u"){const R=new URLSearchParams;R.set(s,w);const F=`${window.location.pathname}?${R.toString()}${window.location.hash}`;window.history.replaceState({},"",F)}B(P,!0),B(I,null),B(v,null),B(p,[],!0),B(m,[],!0),B(M,[],!0),L=new Map,sn(w)}}function ae(){B(Fe,!1)}function se(){B(De,!1)}function me(){B(He,!1)}function ce(){var R;if(typeof window>"u")return u;const k=(R=new URLSearchParams(window.location.search).get(a))==null?void 0:R.toLowerCase();return k?k==="conductors"||k==="dirigent"||k==="conductor"?"conductors":k==="pieces"||k==="piece"||k==="stykke"||k==="stykker"?"pieces":k==="composers"||k==="komponist"||k==="composer"?"composers":k==="data"||k==="resultat"||k==="results"?"data":"bands":u}function Ce(w){if(typeof window>"u")return[];const R=new URLSearchParams(window.location.search).get(Je(w));return R?R.split(o).map(F=>decodeURIComponent(F.trim())).filter(Boolean):[]}function ye(w,k){if(!w.length||!k.length)return[];const R=new Map(w.map(F=>[F.slug,F]));return k.map(F=>R.get(F)??R.get(F.toLowerCase())).filter(F=>!!F)}function Re(w,k){return w.length!==k.length?!1:w.every((R,F)=>R.slug===k[F].slug)}function Se(){if(typeof window>"u")return;const w=new URLSearchParams(window.location.search);w.set(s,i(ee));const k=i(U).map(oe=>encodeURIComponent(oe.slug)).join(o);k.length?w.set(Je("bands"),k):w.delete(Je("bands"));const R=i(Y).map(oe=>encodeURIComponent(oe.slug)).join(o);R.length?w.set(Je("conductors"),R):w.delete(Je("conductors"));const F=i(Q).map(oe=>encodeURIComponent(oe.slug)).join(o);F.length?w.set(Je("pieces"),F):w.delete(Je("pieces"));const A=i(ve).map(oe=>encodeURIComponent(oe.slug)).join(o);A.length?w.set(Je("composers"),A):w.delete(Je("composers")),w.set(r,i(ie)),w.set(a,i(E));const re=w.toString(),te=`${window.location.pathname}${re?`?${re}`:""}${window.location.hash}`;window.history.replaceState({},"",te)}function pe({updateHistory:w=!1}={}){const k=mt(),R=ce(),F=an();let A=!1;if(F!==i(ee))return J(F,!1),A=!0,A;if(k!==i(ie)&&(B(ie,k,!0),A=!0),R!==i(E)&&(B(E,R,!0),A=!0),!i(v))return w&&Se(),A;const re=ye(i(v).bands,Ce("bands"));Re(i(U),re)||(B(U,re,!0),A=!0),i(p).length||B(p,lt(i(v).bands),!0);const te=ye(i(p),Ce("conductors"));Re(i(Y),te)||(B(Y,te,!0),A=!0),i(m).length||(B(m,$t(i(v).bands,N),!0),B(M,xt(i(m)),!0));const oe=ye(i(m),Ce("pieces"));Re(i(Q),oe)||(B(Q,oe,!0),A=!0),i(M).length||B(M,xt(i(m)),!0);const _e=ye(i(M),Ce("composers"));return Re(i(ve),_e)||(B(ve,_e,!0),A=!0),w&&Se(),A}function xe(){const w=i(U).map(A=>A.slug).join(o),k=i(Y).map(A=>A.slug).join(o),R=i(Q).map(A=>A.slug).join(o),F=i(ve).map(A=>A.slug).join(o);return`${i(ee)}|${i(E)}|${i(ie)}|${w}|${k}|${R}|${F}`}function qe(){if(!ge)return;const w=xe();w!==G&&(Se(),G=w)}function ze(w){if(i(E)==="bands"){if(i(U).some(k=>k.slug===w.slug))return;B(U,[...i(U),w],!0)}else if(i(E)==="conductors"){if(i(Y).some(k=>k.slug===w.slug))return;B(Y,[...i(Y),w],!0)}else if(i(E)==="pieces"){const k=w;if(i(Q).some(R=>R.slug===k.slug))return;B(Q,[...i(Q),k],!0)}else if(i(E)==="composers"){const k=w;if(i(ve).some(R=>R.slug===k.slug))return;B(ve,[...i(ve),k],!0)}B(X,""),B(je,-1),qe()}function ft(w){i(E)==="bands"?B(U,i(U).filter(k=>k.slug!==w),!0):i(E)==="conductors"?B(Y,i(Y).filter(k=>k.slug!==w),!0):i(E)==="pieces"?B(Q,i(Q).filter(k=>k.slug!==w),!0):i(E)==="composers"&&B(ve,i(ve).filter(k=>k.slug!==w),!0),B(je,-1),qe()}function bt(){if(i(Fn).length===0)return;const w=i(x).find(k=>k.name.toLowerCase()===i(er));w?ze(w):i(j).length>0&&ze(i(j)[0])}function Bt(w){if(w===i(E)){ae(),se();return}B(E,w,!0),B(X,""),B(je,-1),ae(),se(),qe()}function jt(w){if(i(ie)===w){se();return}B(ie,w,!0),se(),qe()}async function sn(w){try{const k=w==="wind"?"data/band_positions.json":"data/brass_positions.json",R=w==="wind"?"data/piece_metadata.json":"data/brass_piece_metadata.json",F="data/piece_streaming_links.json",[A,re,te]=await Promise.all([fetch(k),fetch(R),fetch(F)]);if(!A.ok)throw new Error(`Kunne ikke laste data (status ${A.status})`);let oe=[];if(re.ok)try{const de=await re.json();oe=(Array.isArray(de.pieces)?de.pieces:[]).filter(st=>!!(st!=null&&st.title&&(st!=null&&st.slug))).map(st=>({title:st.title.trim(),slug:st.slug.trim(),composer:st.composer??null}))}catch(de){console.warn("Kunne ikke tolke stykke-metadata",de)}else console.warn(`Kunne ikke laste stykke-metadata (status ${re.status})`);N=ne(oe);let _e=[];if(te.ok)try{const de=await te.json(),at=de==null?void 0:de[w];Array.isArray(at)&&(_e=at.filter(st=>!!st))}catch(de){console.warn("Kunne ikke tolke opptakslenker",de)}else te.status!==404&&console.warn(`Kunne ikke laste opptakslenker (status ${te.status})`);L=he(_e);const Te=await A.json();B(v,Te,!0),B(p,lt(Te.bands),!0),B(m,$t(Te.bands,N),!0),B(M,xt(i(m)),!0),pe({updateHistory:!1}),G=xe(),Se(),ge=!0}catch(k){B(I,k instanceof Error?k.message:"Ukjent feil ved lasting av data.",!0)}finally{B(P,!1)}}Yi(async()=>{const w=rn();B(fe,w,!0),Kt(w);const k=Ue();B(ee,k,!0),W(k),await sn(k)}),Yi(()=>{const w=()=>{i(v)&&(pe({updateHistory:!1}),G=xe())};return window.addEventListener("popstate",w),()=>window.removeEventListener("popstate",w)}),li(()=>{document.title=i(ee)==="wind"?"NM Janitsjar - Resultatoversikt":"NM Brass - Resultatoversikt"});let Fn=T(()=>i(X).trim()),er=T(()=>i(Fn).toLowerCase()),dt=T(()=>i(E)==="bands"||i(E)==="conductors"||i(E)==="pieces"||i(E)==="composers"),x=T(()=>{var w;return i(dt)?i(E)==="bands"?((w=i(v))==null?void 0:w.bands)??[]:i(E)==="conductors"?i(p):i(E)==="pieces"?i(m):i(M):[]}),y=T(()=>i(E)==="bands"?i(U):i(E)==="conductors"?i(Y):i(E)==="pieces"?i(Q):i(E)==="composers"?i(ve):[]),j=T(()=>i(dt)&&i(x)&&i(er).length>=2?i(x).filter(w=>w.name.toLowerCase().includes(i(er))&&!i(y).some(k=>k.slug===w.slug)).slice(0,10):[]),V=T(()=>i(v)?i(v).metadata.years:[]),Z=T(()=>i(v)?i(v).metadata.max_field_size:0),D=T(()=>{var w;return i(dt)?i(E)==="bands"?((w=i(v))==null?void 0:w.bands.length)??0:i(E)==="conductors"?i(p).length:i(E)==="pieces"?i(m).length:i(M).length:0}),ke=T(()=>i(E)==="bands"?"korps":i(E)==="conductors"?"dirigenter":i(E)==="pieces"?"stykker":"komponister"),Ae=T(()=>i(v)?`Dekker ${i(D)} ${i(ke)} · ${i(V).length} år (${i(v).metadata.min_year}–${i(v).metadata.max_year})`:""),Ge=T(()=>i(E)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":i(E)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":i(E)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":i(E)==="composers"?"Begynn å skrive et komponistnavn (minst 2 bokstaver)…":""),We=T(()=>i(E)==="bands"?"Søk etter korps":i(E)==="conductors"?"Søk etter dirigent":i(E)==="pieces"?"Søk etter musikkstykke":"Søk etter komponist"),ut=T(()=>i(E)==="bands"?"Korpsforslag":i(E)==="conductors"?"Dirigentforslag":i(E)==="pieces"?"Stykke-forslag":"Komponistforslag"),Ye=T(()=>i(E)==="bands"?"Valgte korps":i(E)==="conductors"?"Valgte dirigenter":i(E)==="pieces"?"Valgte stykker":"Valgte komponister"),Ne=T(()=>i(E)==="bands"?"Ingen korps valgt ennå":i(E)==="conductors"?"Ingen dirigenter valgt ennå":i(E)==="pieces"?"Ingen stykker valgt ennå":"Ingen komponister valgt ennå"),nt=T(()=>i(E)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":i(E)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":i(E)==="pieces"?"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer.":"Finn en komponist i søkefeltet for å se hvilke stykker vi har registrert av dem."),rt=T(()=>i(E)==="bands"?i(ee)==="wind"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":"Søk etter et brassband for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":i(E)==="conductors"?"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.":i(E)==="pieces"?"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.":i(E)==="composers"?"Søk etter en komponist for å se hvilke NM-stykker de står bak.":"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen."),yt=T(()=>i(fe)==="dark"?"Bytt til lyst tema":"Bytt til mørkt tema"),it=T(()=>i(fe)==="dark"?"Mørk":"Lys"),ot=T(()=>i(fe)==="dark"?"🌙":"☀️"),Pe=T(()=>i(ee)==="wind"?"Bytt til brassband":"Bytt til janitsjarkorps"),$e=T(()=>i(ee)==="wind"?"Janitsjar":"Brass"),vt=T(()=>i(ee)==="wind"?"🎷":"🎺"),Ct=T(()=>i(Fe)?"Lukk meny":"Åpne meny"),mn=T(()=>i(De)?"Lukk tilpassingsmeny":"Åpne tilpassingsmeny"),Pt=T(()=>i(y).length===1?i(y)[0].name:i(y).length>1?`${i(y).length} ${i(ke)} valgt`:""),le=T(()=>i(y).length>1?i(y).map(w=>w.name).join(" · "):""),Le=T(()=>i(E)==="pieces"?i(y):[]),et=T(()=>i(E)==="composers"?i(y):[]),Rt=T(()=>i(E)==="bands"||i(E)==="conductors"?i(y):[]);var wr=I0(),br=g(wr),On=g(br),Dn=g(On),_t=g(Dn),Ut=S(Dn,2);Ut.__click=[s0,Fe];var Mn=S(On,2);let xr;var ms=g(Mn);Be(ms,21,()=>_,Ve,(w,k)=>{var R=v0();R.__click=[d0,Bt,k];let F;var A=g(R);K(re=>{q(R,"aria-pressed",i(E)===i(k)),F=Bn(R,1,"svelte-1n46o8q",null,F,re),z(A,h[i(k)])},[()=>({selected:i(E)===i(k)})]),b(w,R)});var xi=S(ms,2);xi.__click=[u0,J,ee,me,ae,se];var ys=g(xi),Ul=g(ys),Yl=S(ys,2),Vl=g(Yl),_a=S(xi,2);_a.__click=[l0,C,fe,ae,se,me];var ws=g(_a),Hl=g(ws),Kl=S(ws,2),Xl=g(Kl),bs=S(br,2),Gl=g(bs),xs=S(bs,2);{var Wl=w=>{var k=_0(),R=we(k),F=T(()=>Vs(bt)),A=g(R),re=g(A),te=S(A,2);te.__input=[c0,X,je],te.__keydown=[f0,j,je,ze];var oe=S(R,2);{var _e=Te=>{var de=p0();Be(de,21,()=>i(j),Ve,(at,st,on)=>{var Xt=h0(),yn=T(()=>Vs(()=>ze(i(st))));Xt.__mousedown=function(...En){var ki;(ki=i(yn))==null||ki.apply(this,En)};var Gt=g(Xt);K(()=>{Bn(Xt,1,`suggestion ${on===i(je)?"active":""}`,"svelte-1n46o8q"),q(Xt,"aria-selected",on===i(je)),z(Gt,i(st).name)}),b(at,Xt)}),K(()=>q(de,"aria-label",i(ut))),b(Te,de)};H(oe,Te=>{i(j).length>0&&Te(_e)})}K(()=>{z(re,i(We)),q(te,"placeholder",i(Ge))}),Yt("submit",R,function(...Te){var de;(de=i(F))==null||de.apply(this,Te)}),Hc(te,()=>i(X),Te=>B(X,Te)),b(w,k)};H(xs,w=>{i(dt)&&w(Wl)})}var Zl=S(xs,2);{var Ql=w=>{var k=g0();b(w,k)},Jl=w=>{var k=Qe(),R=we(k);{var F=re=>{var te=m0(),oe=g(te);K(()=>z(oe,i(I))),b(re,te)},A=re=>{var te=Qe(),oe=we(te);{var _e=de=>{var at=y0();b(de,at)},Te=de=>{var at=Qe(),st=we(at);{var on=yn=>{var Gt=Qe(),En=we(Gt);{var ki=kr=>{var Gr=A0(),Wr=we(Gr);{var ga=Mt=>{t0(Mt,{get pieces(){return i(Le)},get bandType(){return i(ee)}})},ma=Mt=>{var An=Qe(),Qr=we(An);{var Nr=Tn=>{a0(Tn,{get composers(){return i(et)},get bandType(){return i(ee)}})},zn=Tn=>{var Ni=$0(),Jr=g(Ni),ks=S(g(Jr),2),Si=g(ks);Si.__click=[w0,jt];let Ns;var ya=S(Si,2);ya.__click=[b0,jt];let Ss;var $i=S(ks,2);$i.__click=[o0,De];var iu=S($i,2);{var au=ln=>{var tr=N0(),Sr=g(tr);Sr.__click=[x0,jt];let As;var wa=S(Sr,2);wa.__click=[k0,jt];let Ts;K((fu,du)=>{q(Sr,"aria-pressed",i(ie)==="absolute"),As=Bn(Sr,1,"svelte-1n46o8q",null,As,fu),q(wa,"aria-pressed",i(ie)==="relative"),Ts=Bn(wa,1,"svelte-1n46o8q",null,Ts,du)},[()=>({selected:i(ie)==="absolute"}),()=>({selected:i(ie)==="relative"})]),b(ln,tr)};H(iu,ln=>{i(De)&&ln(au)})}var $s=S(Jr,2),Ms=g($s),su=g(Ms),Es=S(Ms,2),ou=g(Es),lu=S(Es,2);{var uu=ln=>{var tr=S0(),Sr=g(tr);K(()=>z(Sr,i(le))),b(ln,tr)};H(lu,ln=>{i(le)&&ln(uu)})}var cu=S($s,2);{let ln=T(()=>i(E)==="bands");Lp(cu,{get years(){return i(V)},get maxFieldSize(){return i(Z)},get bands(){return i(Rt)},get yMode(){return i(ie)},get showConductorMarkers(){return i(ln)}})}K((ln,tr)=>{q(Si,"aria-pressed",i(ie)==="absolute"),Ns=Bn(Si,1,"svelte-1n46o8q",null,Ns,ln),q(ya,"aria-pressed",i(ie)==="relative"),Ss=Bn(ya,1,"svelte-1n46o8q",null,Ss,tr),q($i,"aria-label",i(mn)),q($i,"aria-expanded",i(De)),z(su,i(Pt)),z(ou,i(Ae))},[()=>({selected:i(ie)==="absolute"}),()=>({selected:i(ie)==="relative"})]),b(Tn,Ni)};H(Qr,Tn=>{i(E)==="composers"?Tn(Nr):Tn(zn,!1)},!0)}b(Mt,An)};H(Wr,Mt=>{i(E)==="pieces"?Mt(ga):Mt(ma,!1)})}var Zr=S(Wr,2);Be(Zr,21,()=>i(y),Ve,(Mt,An,Qr)=>{var Nr=E0(),zn=g(Nr);zn.textContent=Qr+1;var Tn=S(zn,2),Ni=g(Tn),Jr=S(Tn,2);Jr.__click=[M0,ft,An],K(()=>{z(Ni,i(An).name),q(Jr,"aria-label",`Fjern ${i(An).name}`)}),b(Mt,Nr)});var tu=S(Zr,2);{var nu=Mt=>{Jp(Mt,{get bands(){return i(Rt)},get bandType(){return i(ee)},streamingResolver:Ee})},ru=Mt=>{var An=Qe(),Qr=we(An);{var Nr=zn=>{g_(zn,{get conductors(){return i(Rt)},get bandType(){return i(ee)},streamingResolver:Ee})};H(Qr,zn=>{i(E)==="conductors"&&zn(Nr)},!0)}b(Mt,An)};H(tu,Mt=>{i(E)==="bands"?Mt(nu):Mt(ru,!1)})}K(()=>q(Zr,"aria-label",i(Ye))),b(kr,Gr)},eu=kr=>{var Gr=T0(),Wr=g(Gr),ga=g(Wr),ma=S(Wr,2),Zr=g(ma);K(()=>{z(ga,i(Ne)),z(Zr,i(nt))}),b(kr,Gr)};H(En,kr=>{i(y).length>0?kr(ki):kr(eu,!1)})}b(yn,Gt)},Xt=yn=>{z_(yn,{get dataset(){return i(v)},get bandType(){return i(ee)},streamingResolver:Ee})};H(st,yn=>{i(dt)?yn(on):yn(Xt,!1)},!0)}b(de,at)};H(oe,de=>{i(v)?de(Te,!1):de(_e)},!0)}b(re,te)};H(R,re=>{i(I)?re(F):re(A,!1)},!0)}b(w,k)};H(Zl,w=>{i(P)?w(Ql):w(Jl,!1)})}K(w=>{z(_t,i(ee)==="wind"?"NM Janitsjar":"NM Brass"),q(Ut,"aria-label",i(Ct)),q(Ut,"aria-expanded",i(Fe)),xr=Bn(Mn,1,"header-controls svelte-1n46o8q",null,xr,w),q(xi,"aria-label",i(Pe)),z(Ul,i(vt)),z(Vl,i($e)),q(_a,"aria-label",i(yt)),z(Hl,i(ot)),z(Xl,i(it)),z(Gl,i(rt))},[()=>({"header-controls--mobile-open":i(Fe)})]),b(e,wr),Jn()}nl(["click","input","keydown","mousedown"]);Pc(C0,{target:document.getElementById("app")});
