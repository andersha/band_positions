var Ac=Object.defineProperty;var Vs=e=>{throw TypeError(e)};var $c=(e,t,n)=>t in e?Ac(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qr=(e,t,n)=>$c(e,typeof t!="symbol"?t+"":t,n),La=(e,t,n)=>t.has(e)||Vs("Cannot "+n);var D=(e,t,n)=>(La(e,t,"read from private field"),n?n.call(e):t.get(e)),Ke=(e,t,n)=>t.has(e)?Vs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_e=(e,t,n,r)=>(La(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ut=(e,t,n)=>(La(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Tc="5";var Ro;typeof window<"u"&&((Ro=window.__svelte??(window.__svelte={})).v??(Ro.v=new Set)).add(Tc);const ga=1,ma=2,Lo=4,Ic=8,Pc=16,Cc=1,Rc=4,Lc=8,qc=16,qo=1,Fc=2,Ct=Symbol(),Oc="http://www.w3.org/1999/xhtml",Fo=!1;var ls=Array.isArray,Dc=Array.prototype.indexOf,cs=Array.from,za=Object.defineProperty,Br=Object.getOwnPropertyDescriptor,Bc=Object.getOwnPropertyDescriptors,Uc=Object.prototype,jc=Array.prototype,Oo=Object.getPrototypeOf,Hs=Object.isExtensible;function Do(e){for(var t=0;t<e.length;t++)e[t]()}function zc(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const sn=2,us=4,fs=8,ei=16,Xn=32,Ar=64,ds=128,gn=256,ea=512,Ot=1024,yn=2048,or=4096,En=8192,$r=16384,vs=32768,ya=65536,Ks=1<<17,Yc=1<<18,ti=1<<19,Vc=1<<20,Ya=1<<21,hs=1<<22,wr=1<<23,pi=Symbol("$state"),Hc=Symbol("legacy props"),Kc=Symbol(""),ps=new class extends Error{constructor(){super(...arguments);qr(this,"name","StaleReactionError");qr(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Bo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Xc(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Gc(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Wc(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Zc(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Qc(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Jc(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function eu(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function tu(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function nu(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ru(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function iu(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let au=!1;function Uo(e){return e===this.v}function su(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ou(e,t){return e!==t}function jo(e){return!su(e,this.v)}let lu=!1,Qt=null;function Kr(e){Qt=e}function lr(e,t=!1,n){Qt={p:Qt,c:null,e:null,s:e,x:null,l:null}}function cr(e){var t=Qt,n=t.e;if(n!==null){t.e=null;for(var r of n)rl(r)}return Qt=t.p,{}}function zo(){return!0}let rr=[],ta=[];function Yo(){var e=rr;rr=[],Do(e)}function cu(){var e=ta;ta=[],Do(e)}function uu(){return rr.length>0||ta.length>0}function ni(e){if(rr.length===0&&!_i){var t=rr;queueMicrotask(()=>{t===rr&&Yo()})}rr.push(e)}function fu(){rr.length>0&&Yo(),ta.length>0&&cu()}const du=new WeakMap;function Vo(e){var t=Le;if(t===null)return Te.f|=wr,e;if(t.f&vs)Xr(e,t);else{if(!(t.f&ds))throw!t.parent&&e instanceof Error&&Ho(e),e;t.b.error(e)}}function Xr(e,t){for(;t!==null;){if(t.f&ds)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Ho(e),e}function Ho(e){const t=du.get(e);t&&(za(e,"message",{value:t.message}),za(e,"stack",{value:t.stack}))}const qa=new Set;let ct=null,Hi=null,Va=new Set,Sr=[],wa=null,Ha=!1,_i=!1;var Ni,Yr,Qn,Ei,Mi,pr,Vr,_r,Jn,Hr,Ai,$i,Mn,Ko,Ki,Ka;const ha=class ha{constructor(){Ke(this,Mn);qr(this,"current",new Map);Ke(this,Ni,new Map);Ke(this,Yr,new Set);Ke(this,Qn,0);Ke(this,Ei,null);Ke(this,Mi,!1);Ke(this,pr,[]);Ke(this,Vr,[]);Ke(this,_r,[]);Ke(this,Jn,[]);Ke(this,Hr,[]);Ke(this,Ai,[]);Ke(this,$i,[]);qr(this,"skipped_effects",new Set)}process(t){var a;Sr=[],Hi=null;for(const s of t)Ut(this,Mn,Ko).call(this,s);if(D(this,pr).length===0&&D(this,Qn)===0){Ut(this,Mn,Ka).call(this);var n=D(this,_r),r=D(this,Jn);_e(this,_r,[]),_e(this,Jn,[]),_e(this,Hr,[]),Hi=ct,ct=null,Xs(n),Xs(r),ct===null?ct=this:qa.delete(this),(a=D(this,Ei))==null||a.resolve()}else Ut(this,Mn,Ki).call(this,D(this,_r)),Ut(this,Mn,Ki).call(this,D(this,Jn)),Ut(this,Mn,Ki).call(this,D(this,Hr));for(const s of D(this,pr))jr(s);for(const s of D(this,Vr))jr(s);_e(this,pr,[]),_e(this,Vr,[])}capture(t,n){D(this,Ni).has(t)||D(this,Ni).set(t,n),this.current.set(t,t.v)}activate(){ct=this}deactivate(){ct=null,Hi=null;for(const t of Va)if(Va.delete(t),t(),ct!==null)break}neuter(){_e(this,Mi,!0)}flush(){Sr.length>0?Xo():Ut(this,Mn,Ka).call(this),ct===this&&(D(this,Qn)===0&&qa.delete(this),this.deactivate())}increment(){_e(this,Qn,D(this,Qn)+1)}decrement(){if(_e(this,Qn,D(this,Qn)-1),D(this,Qn)===0){for(const t of D(this,Ai))Zt(t,yn),Gr(t);for(const t of D(this,$i))Zt(t,or),Gr(t);_e(this,_r,[]),_e(this,Jn,[]),this.flush()}else this.deactivate()}add_callback(t){D(this,Yr).add(t)}settled(){return(D(this,Ei)??_e(this,Ei,zc())).promise}static ensure(){if(ct===null){const t=ct=new ha;qa.add(ct),_i||ha.enqueue(()=>{ct===t&&t.flush()})}return ct}static enqueue(t){ni(t)}};Ni=new WeakMap,Yr=new WeakMap,Qn=new WeakMap,Ei=new WeakMap,Mi=new WeakMap,pr=new WeakMap,Vr=new WeakMap,_r=new WeakMap,Jn=new WeakMap,Hr=new WeakMap,Ai=new WeakMap,$i=new WeakMap,Mn=new WeakSet,Ko=function(t){var f;t.f^=Ot;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Xn|Ar))!==0,s=a&&(r&Ot)!==0,o=s||(r&En)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(a)n.f^=Ot;else if(r&us)D(this,Jn).push(n);else if(!(r&Ot))if(r&hs){var l=(f=n.b)!=null&&f.is_pending()?D(this,Vr):D(this,pr);l.push(n)}else Sa(n)&&(n.f&ei&&D(this,Hr).push(n),jr(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Ki=function(t){for(const n of t)(n.f&yn?D(this,Ai):D(this,$i)).push(n),Zt(n,Ot);t.length=0},Ka=function(){if(!D(this,Mi))for(const t of D(this,Yr))t();D(this,Yr).clear()};let ar=ha;function vu(e){var t=_i;_i=!0;try{for(var n;;){if(fu(),Sr.length===0&&!uu()&&(ct==null||ct.flush(),Sr.length===0))return wa=null,n;Xo()}}finally{_i=t}}function Xo(){var e=Ur;Ha=!0;try{var t=0;for(Zs(!0);Sr.length>0;){var n=ar.ensure();if(t++>1e3){var r,a;hu()}n.process(Sr),sr.clear()}}finally{Ha=!1,Zs(e),wa=null}}function hu(){try{Qc()}catch(e){Xr(e,wa)}}let Vn=null;function Xs(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&($r|En))&&Sa(r)&&(Vn=[],jr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?sl(r):r.fn=null),(Vn==null?void 0:Vn.length)>0)){sr.clear();for(const a of Vn)jr(a);Vn=[]}}Vn=null}}function Gr(e){for(var t=wa=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ha&&t===Le&&n&ei)return;if(n&(Ar|Xn)){if(!(n&Ot))return;t.f^=Ot}}Sr.push(t)}function pu(e){let t=0,n=Nr(0),r;return()=>{Cu()&&(i(n),ms(()=>(t===0&&(r=ii(()=>e(()=>gi(n)))),t+=1,()=>{ni(()=>{t-=1,t===0&&(r==null||r(),r=void 0,gi(n))})})))}}var _u=ya|ti|ds;function gu(e,t,n){new mu(e,t,n)}var xn,hn,os,Cn,gr,Rn,pn,Kt,Ln,er,mr,tr,yr,nr,pa,_a,Yt,yu,wu,Xi,Gi,Xa;class mu{constructor(t,n,r){Ke(this,Yt);qr(this,"parent");Ke(this,xn,!1);Ke(this,hn);Ke(this,os,null);Ke(this,Cn);Ke(this,gr);Ke(this,Rn);Ke(this,pn,null);Ke(this,Kt,null);Ke(this,Ln,null);Ke(this,er,null);Ke(this,mr,0);Ke(this,tr,0);Ke(this,yr,!1);Ke(this,nr,null);Ke(this,pa,()=>{D(this,nr)&&Wr(D(this,nr),D(this,mr))});Ke(this,_a,pu(()=>(_e(this,nr,Nr(D(this,mr))),()=>{_e(this,nr,null)})));_e(this,hn,t),_e(this,Cn,n),_e(this,gr,r),this.parent=Le.b,_e(this,xn,!!D(this,Cn).pending),_e(this,Rn,ka(()=>{Le.b=this;{try{_e(this,pn,_n(()=>r(D(this,hn))))}catch(a){this.error(a)}D(this,tr)>0?Ut(this,Yt,Gi).call(this):_e(this,xn,!1)}},_u))}is_pending(){return D(this,xn)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!D(this,Cn).pending}update_pending_count(t){Ut(this,Yt,Xa).call(this,t),_e(this,mr,D(this,mr)+t),Va.add(D(this,pa))}get_effect_pending(){return D(this,_a).call(this),i(D(this,nr))}error(t){var n=D(this,Cn).onerror;let r=D(this,Cn).failed;if(D(this,yr)||!n&&!r)throw t;D(this,pn)&&(mn(D(this,pn)),_e(this,pn,null)),D(this,Kt)&&(mn(D(this,Kt)),_e(this,Kt,null)),D(this,Ln)&&(mn(D(this,Ln)),_e(this,Ln,null));var a=!1,s=!1;const o=()=>{if(a){iu();return}a=!0,s&&ru(),ar.ensure(),_e(this,mr,0),D(this,Ln)!==null&&br(D(this,Ln),()=>{_e(this,Ln,null)}),_e(this,xn,this.has_pending_snippet()),_e(this,pn,Ut(this,Yt,Xi).call(this,()=>(_e(this,yr,!1),_n(()=>D(this,gr).call(this,D(this,hn)))))),D(this,tr)>0?Ut(this,Yt,Gi).call(this):_e(this,xn,!1)};var l=Te;try{Gt(null),s=!0,n==null||n(t,o),s=!1}catch(c){Xr(c,D(this,Rn)&&D(this,Rn).parent)}finally{Gt(l)}r&&ni(()=>{_e(this,Ln,Ut(this,Yt,Xi).call(this,()=>{_e(this,yr,!0);try{return _n(()=>{r(D(this,hn),()=>t,()=>o)})}catch(c){return Xr(c,D(this,Rn).parent),null}finally{_e(this,yr,!1)}}))})}}xn=new WeakMap,hn=new WeakMap,os=new WeakMap,Cn=new WeakMap,gr=new WeakMap,Rn=new WeakMap,pn=new WeakMap,Kt=new WeakMap,Ln=new WeakMap,er=new WeakMap,mr=new WeakMap,tr=new WeakMap,yr=new WeakMap,nr=new WeakMap,pa=new WeakMap,_a=new WeakMap,Yt=new WeakSet,yu=function(){try{_e(this,pn,_n(()=>D(this,gr).call(this,D(this,hn))))}catch(t){this.error(t)}_e(this,xn,!1)},wu=function(){const t=D(this,Cn).pending;t&&(_e(this,Kt,_n(()=>t(D(this,hn)))),ar.enqueue(()=>{_e(this,pn,Ut(this,Yt,Xi).call(this,()=>(ar.ensure(),_n(()=>D(this,gr).call(this,D(this,hn)))))),D(this,tr)>0?Ut(this,Yt,Gi).call(this):(br(D(this,Kt),()=>{_e(this,Kt,null)}),_e(this,xn,!1))}))},Xi=function(t){var n=Le,r=Te,a=Qt;Fn(D(this,Rn)),Gt(D(this,Rn)),Kr(D(this,Rn).ctx);try{return t()}catch(s){return Vo(s),null}finally{Fn(n),Gt(r),Kr(a)}},Gi=function(){const t=D(this,Cn).pending;D(this,pn)!==null&&(_e(this,er,document.createDocumentFragment()),bu(D(this,pn),D(this,er))),D(this,Kt)===null&&_e(this,Kt,_n(()=>t(D(this,hn))))},Xa=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Ut(n=this.parent,Yt,Xa).call(n,t);return}_e(this,tr,D(this,tr)+t),D(this,tr)===0&&(_e(this,xn,!1),D(this,Kt)&&br(D(this,Kt),()=>{_e(this,Kt,null)}),D(this,er)&&(D(this,hn).before(D(this,er)),_e(this,er,null)))};function bu(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:Ti(n);t.append(n),n=a}}function xu(e,t,n){const r=ba;if(t.length===0){n(e.map(r));return}var a=ct,s=Le,o=ku();Promise.all(t.map(l=>Su(l))).then(l=>{a==null||a.activate(),o();try{n([...e.map(r),...l])}catch(c){s.f&$r||Xr(c,s)}a==null||a.deactivate(),Go()}).catch(l=>{Xr(l,s)})}function ku(){var e=Le,t=Te,n=Qt,r=ct;return function(){Fn(e),Gt(t),Kr(n),r==null||r.activate()}}function Go(){Fn(null),Gt(null),Kr(null)}function ba(e){var t=sn|yn,n=Te!==null&&Te.f&sn?Te:null;return Le===null||n!==null&&n.f&gn?t|=gn:Le.f|=ti,{ctx:Qt,deps:null,effects:null,equals:Uo,f:t,fn:e,reactions:null,rv:0,v:Ct,wv:0,parent:n??Le,ac:null}}function Su(e,t){let n=Le;n===null&&Xc();var r=n.b,a=void 0,s=Nr(Ct),o=null,l=!Te;return Fu(()=>{try{var c=e();o&&Promise.resolve(c).catch(()=>{})}catch(_){c=Promise.reject(_)}var u=()=>c;a=(o==null?void 0:o.then(u,u))??Promise.resolve(c),o=a;var f=ct,d=r.is_pending();l&&(r.update_pending_count(1),d||f.increment());const v=(_,h=void 0)=>{o=null,d||f.activate(),h?h!==ps&&(s.f|=wr,Wr(s,h)):(s.f&wr&&(s.f^=wr),Wr(s,_)),l&&(r.update_pending_count(-1),d||f.decrement()),Go()};if(a.then(v,_=>v(null,_||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(c=>{function u(f){function d(){f===a?c(s):u(a)}f.then(d,d)}u(a)})}function M(e){const t=ba(e);return cl(t),t}function Wo(e){const t=ba(e);return t.equals=jo,t}function Zo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)mn(t[n])}}function Nu(e){for(var t=e.parent;t!==null;){if(!(t.f&sn))return t;t=t.parent}return null}function _s(e){var t,n=Le;Fn(Nu(e));try{Zo(e),t=vl(e)}finally{Fn(n)}return t}function Qo(e){var t=_s(e);if(e.equals(t)||(e.v=t,e.wv=fl()),!Tr){var n=(ir||e.f&gn)&&e.deps!==null?or:Ot;Zt(e,n)}}const sr=new Map;function Nr(e,t){var n={f:0,v:e,reactions:null,equals:Uo,rv:0,wv:0};return n}function Pe(e,t){const n=Nr(e);return cl(n),n}function Eu(e,t=!1,n=!0){const r=Nr(e);return t||(r.equals=jo),r}function U(e,t,n=!1){Te!==null&&(!Sn||Te.f&Ks)&&zo()&&Te.f&(sn|ei|hs|Ks)&&!(zt!=null&&zt.includes(e))&&nu();let r=n?Xt(t):t;return Wr(e,r)}function Wr(e,t){if(!e.equals(t)){var n=e.v;Tr?sr.set(e,t):sr.set(e,n),e.v=t;var r=ar.ensure();r.capture(e,n),e.f&sn&&(e.f&yn&&_s(e),Zt(e,e.f&gn?or:Ot)),e.wv=fl(),Jo(e,yn),Le!==null&&Le.f&Ot&&!(Le.f&(Xn|Ar))&&(dn===null?Bu([e]):dn.push(e))}return t}function gi(e){U(e,e.v+1)}function Jo(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,a=0;a<r;a++){var s=n[a],o=s.f,l=(o&yn)===0;l&&Zt(s,t),o&sn?Jo(s,or):l&&(o&ei&&Vn!==null&&Vn.push(s),Gr(s))}}function Xt(e){if(typeof e!="object"||e===null||pi in e)return e;const t=Oo(e);if(t!==Uc&&t!==jc)return e;var n=new Map,r=ls(e),a=Pe(0),s=xr,o=l=>{if(xr===s)return l();var c=Te,u=xr;Gt(null),Js(s);var f=l();return Gt(c),Js(u),f};return r&&n.set("length",Pe(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&eu();var f=n.get(c);return f===void 0?f=o(()=>{var d=Pe(u.value);return n.set(c,d),d}):U(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=o(()=>Pe(Ct));n.set(c,f),gi(a)}}else U(u,Ct),gi(a);return!0},get(l,c,u){var _;if(c===pi)return e;var f=n.get(c),d=c in l;if(f===void 0&&(!d||(_=Br(l,c))!=null&&_.writable)&&(f=o(()=>{var h=Xt(d?l[c]:Ct),b=Pe(h);return b}),n.set(c,f)),f!==void 0){var v=i(f);return v===Ct?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=i(f))}else if(u===void 0){var d=n.get(c),v=d==null?void 0:d.v;if(d!==void 0&&v!==Ct)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){var v;if(c===pi)return!0;var u=n.get(c),f=u!==void 0&&u.v!==Ct||Reflect.has(l,c);if(u!==void 0||Le!==null&&(!f||(v=Br(l,c))!=null&&v.writable)){u===void 0&&(u=o(()=>{var _=f?Xt(l[c]):Ct,h=Pe(_);return h}),n.set(c,u));var d=i(u);if(d===Ct)return!1}return f},set(l,c,u,f){var N;var d=n.get(c),v=c in l;if(r&&c==="length")for(var _=u;_<d.v;_+=1){var h=n.get(_+"");h!==void 0?U(h,Ct):_ in l&&(h=o(()=>Pe(Ct)),n.set(_+"",h))}if(d===void 0)(!v||(N=Br(l,c))!=null&&N.writable)&&(d=o(()=>Pe(void 0)),U(d,Xt(u)),n.set(c,d));else{v=d.v!==Ct;var b=o(()=>Xt(u));U(d,b)}var x=Reflect.getOwnPropertyDescriptor(l,c);if(x!=null&&x.set&&x.set.call(f,u),!v){if(r&&typeof c=="string"){var S=n.get("length"),E=Number(c);Number.isInteger(E)&&E>=S.v&&U(S,E+1)}gi(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(d=>{var v=n.get(d);return v===void 0||v.v!==Ct});for(var[u,f]of n)f.v!==Ct&&!(u in l)&&c.push(u);return c},setPrototypeOf(){tu()}})}var Gs,el,tl,nl;function Mu(){if(Gs===void 0){Gs=window,el=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;tl=Br(t,"firstChild").get,nl=Br(t,"nextSibling").get,Hs(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Hs(n)&&(n.__t=void 0)}}function ri(e=""){return document.createTextNode(e)}function Hn(e){return tl.call(e)}function Ti(e){return nl.call(e)}function p(e,t){return Hn(e)}function Me(e,t=!1){{var n=Hn(e);return n instanceof Comment&&n.data===""?Ti(n):n}}function $(e,t=1,n=!1){let r=e;for(;t--;)r=Ti(r);return r}function Au(e){e.textContent=""}function gs(){return!1}let Ws=!1;function $u(){Ws||(Ws=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function xa(e){var t=Te,n=Le;Gt(null),Fn(null);try{return e()}finally{Gt(t),Fn(n)}}function Tu(e,t,n,r=n){e.addEventListener(t,()=>xa(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),$u()}function Iu(e){Le===null&&Te===null&&Zc(),Te!==null&&Te.f&gn&&Le===null&&Wc(),Tr&&Gc()}function Pu(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Gn(e,t,n,r=!0){var a=Le;a!==null&&a.f&En&&(e|=En);var s={ctx:Qt,deps:null,nodes_start:null,nodes_end:null,f:e|yn,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{jr(s),s.f|=vs}catch(c){throw mn(s),c}else t!==null&&Gr(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&ti)&&(o=o.first),o!==null&&(o.parent=a,a!==null&&Pu(o,a),Te!==null&&Te.f&sn&&!(e&Ar))){var l=Te;(l.effects??(l.effects=[])).push(o)}}return s}function Cu(){return Te!==null&&!Sn}function Ru(e){const t=Gn(fs,null,!1);return Zt(t,Ot),t.teardown=e,t}function yi(e){Iu();var t=Le.f,n=!Te&&(t&Xn)!==0&&(t&vs)===0;if(n){var r=Qt;(r.e??(r.e=[])).push(e)}else return rl(e)}function rl(e){return Gn(us|Vc,e,!1)}function Lu(e){ar.ensure();const t=Gn(Ar|ti,e,!0);return(n={})=>new Promise(r=>{n.outro?br(t,()=>{mn(t),r(void 0)}):(mn(t),r(void 0))})}function qu(e){return Gn(us,e,!1)}function Fu(e){return Gn(hs|ti,e,!0)}function ms(e,t=0){return Gn(fs|t,e,!0)}function K(e,t=[],n=[]){xu(t,n,r=>{Gn(fs,()=>e(...r.map(i)),!0)})}function ka(e,t=0){var n=Gn(ei|t,e,!0);return n}function _n(e,t=!0){return Gn(Xn|ti,e,!0,t)}function il(e){var t=e.teardown;if(t!==null){const n=Tr,r=Te;Qs(!0),Gt(null);try{t.call(null)}finally{Qs(n),Gt(r)}}}function al(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&xa(()=>{a.abort(ps)});var r=n.next;n.f&Ar?n.parent=null:mn(n,t),n=r}}function Ou(e){for(var t=e.first;t!==null;){var n=t.next;t.f&Xn||mn(t),t=n}}function mn(e,t=!0){var n=!1;(t||e.f&Yc)&&e.nodes_start!==null&&e.nodes_end!==null&&(Du(e.nodes_start,e.nodes_end),n=!0),al(e,t&&!n),na(e,0),Zt(e,$r);var r=e.transitions;if(r!==null)for(const s of r)s.stop();il(e);var a=e.parent;a!==null&&a.first!==null&&sl(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Du(e,t){for(;e!==null;){var n=e===t?null:Ti(e);e.remove(),e=n}}function sl(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function br(e,t){var n=[];ys(e,n,!0),ol(n,()=>{mn(e),t&&t()})}function ol(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ys(e,t,n){if(!(e.f&En)){if(e.f^=En,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&ya)!==0||(r.f&Xn)!==0;ys(r,t,s?n:!1),r=a}}}function ws(e){ll(e,!0)}function ll(e,t){if(e.f&En){e.f^=En,e.f&Ot||(Zt(e,yn),Gr(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&ya)!==0||(n.f&Xn)!==0;ll(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Ur=!1;function Zs(e){Ur=e}let Tr=!1;function Qs(e){Tr=e}let Te=null,Sn=!1;function Gt(e){Te=e}let Le=null;function Fn(e){Le=e}let zt=null;function cl(e){Te!==null&&(zt===null?zt=[e]:zt.push(e))}let jt=null,an=0,dn=null;function Bu(e){dn=e}let ul=1,wi=0,xr=wi;function Js(e){xr=e}let ir=!1;function fl(){return++ul}function Sa(e){var d;var t=e.f;if(t&yn)return!0;if(t&or){var n=e.deps,r=(t&gn)!==0;if(n!==null){var a,s,o=(t&ea)!==0,l=r&&Le!==null&&!ir,c=n.length;if((o||l)&&(Le===null||!(Le.f&$r))){var u=e,f=u.parent;for(a=0;a<c;a++)s=n[a],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(u)))&&(s.reactions??(s.reactions=[])).push(u);o&&(u.f^=ea),l&&f!==null&&!(f.f&gn)&&(u.f^=gn)}for(a=0;a<c;a++)if(s=n[a],Sa(s)&&Qo(s),s.wv>e.wv)return!0}(!r||Le!==null&&!ir)&&Zt(e,Ot)}return!1}function dl(e,t,n=!0){var r=e.reactions;if(r!==null&&!(zt!=null&&zt.includes(e)))for(var a=0;a<r.length;a++){var s=r[a];s.f&sn?dl(s,t,!1):t===s&&(n?Zt(s,yn):s.f&Ot&&Zt(s,or),Gr(s))}}function vl(e){var b;var t=jt,n=an,r=dn,a=Te,s=ir,o=zt,l=Qt,c=Sn,u=xr,f=e.f;jt=null,an=0,dn=null,ir=(f&gn)!==0&&(Sn||!Ur||Te===null),Te=f&(Xn|Ar)?null:e,zt=null,Kr(e.ctx),Sn=!1,xr=++wi,e.ac!==null&&(xa(()=>{e.ac.abort(ps)}),e.ac=null);try{e.f|=Ya;var d=e.fn,v=d(),_=e.deps;if(jt!==null){var h;if(na(e,an),_!==null&&an>0)for(_.length=an+jt.length,h=0;h<jt.length;h++)_[an+h]=jt[h];else e.deps=_=jt;if(!ir||f&sn&&e.reactions!==null)for(h=an;h<_.length;h++)((b=_[h]).reactions??(b.reactions=[])).push(e)}else _!==null&&an<_.length&&(na(e,an),_.length=an);if(zo()&&dn!==null&&!Sn&&_!==null&&!(e.f&(sn|or|yn)))for(h=0;h<dn.length;h++)dl(dn[h],e);return a!==null&&a!==e&&(wi++,dn!==null&&(r===null?r=dn:r.push(...dn))),e.f&wr&&(e.f^=wr),v}catch(x){return Vo(x)}finally{e.f^=Ya,jt=t,an=n,dn=r,Te=a,ir=s,zt=o,Kr(l),Sn=c,xr=u}}function Uu(e,t){let n=t.reactions;if(n!==null){var r=Dc.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&t.f&sn&&(jt===null||!jt.includes(t))&&(Zt(t,or),t.f&(gn|ea)||(t.f^=ea),Zo(t),na(t,0))}function na(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Uu(e,n[r])}function jr(e){var t=e.f;if(!(t&$r)){Zt(e,Ot);var n=Le,r=Ur;Le=e,Ur=!0;try{t&ei?Ou(e):al(e),il(e);var a=vl(e);e.teardown=typeof a=="function"?a:null,e.wv=ul;var s;Fo&&lu&&e.f&yn&&e.deps}finally{Ur=r,Le=n}}}async function ju(){await Promise.resolve(),vu()}function i(e){var t=e.f,n=(t&sn)!==0;if(Te!==null&&!Sn){var r=Le!==null&&(Le.f&$r)!==0;if(!r&&!(zt!=null&&zt.includes(e))){var a=Te.deps;if(Te.f&Ya)e.rv<wi&&(e.rv=wi,jt===null&&a!==null&&a[an]===e?an++:jt===null?jt=[e]:(!ir||!jt.includes(e))&&jt.push(e));else{(Te.deps??(Te.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[Te]:s.includes(Te)||s.push(Te)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&!(l.f&gn)&&(o.f^=gn)}if(Tr){if(sr.has(e))return sr.get(e);if(n){o=e;var c=o.v;return(!(o.f&Ot)&&o.reactions!==null||hl(o))&&(c=_s(o)),sr.set(o,c),c}}else n&&(o=e,Sa(o)&&Qo(o));if(e.f&wr)throw e.v;return e.v}function hl(e){if(e.v===Ct)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(sr.has(t)||t.f&sn&&hl(t))return!0;return!1}function ii(e){var t=Sn;try{return Sn=!0,e()}finally{Sn=t}}const zu=-7169;function Zt(e,t){e.f=e.f&zu|t}const pl=new Set,Ga=new Set;function Yu(e,t,n,r={}){function a(s){if(r.capture||ui.call(t,s),!s.cancelBubble)return xa(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ni(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function rn(e,t,n,r,a){var s={capture:r,passive:a},o=Yu(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ru(()=>{t.removeEventListener(e,o,s)})}function _l(e){for(var t=0;t<e.length;t++)pl.add(e[t]);for(var n of Ga)n(e)}let eo=null;function ui(e){var E;var t=this,n=t.ownerDocument,r=e.type,a=((E=e.composedPath)==null?void 0:E.call(e))||[],s=a[0]||e.target;eo=e;var o=0,l=eo===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(o=c)}if(s=a[o]||e.target,s!==t){za(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=Te,d=Le;Gt(null),Fn(null);try{for(var v,_=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var b=s["__"+r];if(b!=null&&(!s.disabled||e.target===s))if(ls(b)){var[x,...S]=b;x.apply(s,[e,...S])}else b.call(s,e)}catch(N){v?_.push(N):v=N}if(e.cancelBubble||h===t||h===null)break;s=h}if(v){for(let N of _)queueMicrotask(()=>{throw N});throw v}}finally{e.__root=t,delete e.currentTarget,Gt(f),Fn(d)}}}function gl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function bi(e,t){var n=Le;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function A(e,t){var n=(t&qo)!==0,r=(t&Fc)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=gl(s?e:"<!>"+e),n||(a=Hn(a)));var o=r||el?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Hn(o),c=o.lastChild;bi(l,c)}else bi(o,o);return o}}function Vu(e,t,n="svg"){var r=!e.startsWith("<!>"),a=(t&qo)!==0,s=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var l=gl(s),c=Hn(l);if(a)for(o=document.createDocumentFragment();Hn(c);)o.appendChild(Hn(c));else o=Hn(c)}var u=o.cloneNode(!0);if(a){var f=Hn(u),d=u.lastChild;bi(f,d)}else bi(u,u);return u}}function $n(e,t){return Vu(e,t,"svg")}function tt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=ri();return e.append(t,n),bi(t,n),e}function y(e,t){e!==null&&e.before(t)}const Hu=["touchstart","touchmove"];function Ku(e){return Hu.includes(e)}function B(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Xu(e,t){return Gu(e,t)}const Fr=new Map;function Gu(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:o=!0}){Mu();var l=new Set,c=d=>{for(var v=0;v<d.length;v++){var _=d[v];if(!l.has(_)){l.add(_);var h=Ku(_);t.addEventListener(_,ui,{passive:h});var b=Fr.get(_);b===void 0?(document.addEventListener(_,ui,{passive:h}),Fr.set(_,1)):Fr.set(_,b+1)}}};c(cs(pl)),Ga.add(c);var u=void 0,f=Lu(()=>{var d=n??t.appendChild(ri());return gu(d,{pending:()=>{}},v=>{if(s){lr({});var _=Qt;_.c=s}a&&(r.$$events=a),u=e(v,r)||{},s&&cr()}),()=>{var h;for(var v of l){t.removeEventListener(v,ui);var _=Fr.get(v);--_===0?(document.removeEventListener(v,ui),Fr.delete(v)):Fr.set(v,_)}Ga.delete(c),d!==n&&((h=d.parentNode)==null||h.removeChild(d))}});return Wu.set(u,f),u}let Wu=new WeakMap;function mi(e){Qt===null&&Bo(),yi(()=>{const t=ii(e);if(typeof t=="function")return t})}function Zu(e){Qt===null&&Bo(),mi(()=>()=>ii(e))}function V(e,t,n=!1){var r=e,a=null,s=null,o=Ct,l=n?ya:0,c=!1;const u=(_,h=!0)=>{c=!0,v(h,_)};var f=null;function d(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var _=o?a:s,h=o?s:a;_&&ws(_),h&&br(h,()=>{o?s=null:a=null})}const v=(_,h)=>{if(o!==(o=_)){var b=gs(),x=r;if(b&&(f=document.createDocumentFragment(),f.append(x=ri())),o?a??(a=h&&_n(()=>h(x))):s??(s=h&&_n(()=>h(x))),b){var S=ct,E=o?a:s,N=o?s:a;E&&S.skipped_effects.delete(E),N&&S.skipped_effects.add(N),S.add_callback(d)}else d()}};ka(()=>{c=!1,t(u),c||v(null,null)},l)}function Qu(e,t,n){var r=e,a=Ct,s,o,l=null,c=ou;function u(){s&&br(s),l!==null&&(l.lastChild.remove(),r.before(l),l=null),s=o}ka(()=>{if(c(a,a=t())){var f=r,d=gs();d&&(l=document.createDocumentFragment(),l.append(f=ri())),o=_n(()=>n(f)),d?ct.add_callback(u):u()}})}function We(e,t){return t}function Ju(e,t,n){for(var r=e.items,a=[],s=t.length,o=0;o<s;o++)ys(t[o].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Au(c),c.append(n),r.clear(),Pn(e,t[0].prev,t[s-1].next)}ol(a,()=>{for(var u=0;u<s;u++){var f=t[u];l||(r.delete(f.k),Pn(e,f.prev,f.next)),mn(f.e,!l)}})}function Xe(e,t,n,r,a,s=null){var o=e,l={flags:t,items:new Map,first:null},c=(t&Lo)!==0;if(c){var u=e;o=u.appendChild(ri())}var f=null,d=!1,v=new Map,_=Wo(()=>{var S=n();return ls(S)?S:S==null?[]:cs(S)}),h,b;function x(){ef(b,h,l,v,o,a,t,r,n),s!==null&&(h.length===0?f?ws(f):f=_n(()=>s(o)):f!==null&&br(f,()=>{f=null}))}ka(()=>{b??(b=Le),h=i(_);var S=h.length;if(!(d&&S===0)){d=S===0;var E,N,X,H;if(gs()){var G=new Set,se=ct;for(N=0;N<S;N+=1){X=h[N],H=r(X,N);var ke=l.items.get(H)??v.get(H);ke?t&(ga|ma)&&ml(ke,X,N,t):(E=yl(null,l,null,null,X,H,N,a,t,n,!0),v.set(H,E)),G.add(H)}for(const[Oe,Ee]of l.items)G.has(Oe)||se.skipped_effects.add(Ee.e);se.add_callback(x)}else x();i(_)}})}function ef(e,t,n,r,a,s,o,l,c){var Ne,ze,Tt,I;var u=(o&Ic)!==0,f=(o&(ga|ma))!==0,d=t.length,v=n.items,_=n.first,h=_,b,x=null,S,E=[],N=[],X,H,G,se;if(u)for(se=0;se<d;se+=1)X=t[se],H=l(X,se),G=v.get(H),G!==void 0&&((Ne=G.a)==null||Ne.measure(),(S??(S=new Set)).add(G));for(se=0;se<d;se+=1){if(X=t[se],H=l(X,se),G=v.get(H),G===void 0){var ke=r.get(H);if(ke!==void 0){r.delete(H),v.set(H,ke);var Oe=x?x.next:h;Pn(n,x,ke),Pn(n,ke,Oe),Fa(ke,Oe,a),x=ke}else{var Ee=h?h.e.nodes_start:a;x=yl(Ee,n,x,x===null?n.first:x.next,X,H,se,s,o,c)}v.set(H,x),E=[],N=[],h=x.next;continue}if(f&&ml(G,X,se,o),G.e.f&En&&(ws(G.e),u&&((ze=G.a)==null||ze.unfix(),(S??(S=new Set)).delete(G))),G!==h){if(b!==void 0&&b.has(G)){if(E.length<N.length){var Z=N[0],ge;x=Z.prev;var Se=E[0],Y=E[E.length-1];for(ge=0;ge<E.length;ge+=1)Fa(E[ge],Z,a);for(ge=0;ge<N.length;ge+=1)b.delete(N[ge]);Pn(n,Se.prev,Y.next),Pn(n,x,Se),Pn(n,Y,Z),h=Z,x=Y,se-=1,E=[],N=[]}else b.delete(G),Fa(G,h,a),Pn(n,G.prev,G.next),Pn(n,G,x===null?n.first:x.next),Pn(n,x,G),x=G;continue}for(E=[],N=[];h!==null&&h.k!==H;)h.e.f&En||(b??(b=new Set)).add(h),N.push(h),h=h.next;if(h===null)continue;G=h}E.push(G),x=G,h=G.next}if(h!==null||b!==void 0){for(var fe=b===void 0?[]:cs(b);h!==null;)h.e.f&En||fe.push(h),h=h.next;var R=fe.length;if(R>0){var qe=o&Lo&&d===0?a:null;if(u){for(se=0;se<R;se+=1)(Tt=fe[se].a)==null||Tt.measure();for(se=0;se<R;se+=1)(I=fe[se].a)==null||I.fix()}Ju(n,fe,qe)}}u&&ni(()=>{var j;if(S!==void 0)for(G of S)(j=G.a)==null||j.apply()}),e.first=n.first&&n.first.e,e.last=x&&x.e;for(var oe of r.values())mn(oe.e);r.clear()}function ml(e,t,n,r){r&ga&&Wr(e.v,t),r&ma?Wr(e.i,n):e.i=n}function yl(e,t,n,r,a,s,o,l,c,u,f){var d=(c&ga)!==0,v=(c&Pc)===0,_=d?v?Eu(a,!1,!1):Nr(a):a,h=c&ma?Nr(o):o,b={i:h,v:_,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var x=document.createDocumentFragment();x.append(e=ri())}return b.e=_n(()=>l(e,_,h,u),au),b.e.prev=n&&n.e,b.e.next=r&&r.e,n===null?f||(t.first=b):(n.next=b,n.e.next=b.e),r!==null&&(r.prev=b,r.e.prev=b.e),b}finally{}}function Fa(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var o=Ti(s);a.before(s),s=o}}function Pn(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const to=[...` 	
\r\f \v\uFEFF`];function tf(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,o=0;(o=r.indexOf(a,o))>=0;){var l=o+s;(o===0||to.includes(r[o-1]))&&(l===r.length||to.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function nf(e,t){return e==null?null:String(e)}function vn(e,t,n,r,a,s){var o=e.__className;if(o!==n||o===void 0){var l=tf(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function Bi(e,t,n,r){var a=e.__style;if(a!==t){var s=nf(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const rf=Symbol("is custom element"),af=Symbol("is html");function no(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function O(e,t,n,r){var a=sf(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Kc]=n),n==null?e.removeAttribute(t):typeof n!="string"&&of(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function sf(e){return e.__attributes??(e.__attributes={[rf]:e.nodeName.includes("-"),[af]:e.namespaceURI===Oc})}var ro=new Map;function of(e){var t=e.getAttribute("is")||e.nodeName,n=ro.get(t);if(n)return n;ro.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=Bc(a);for(var o in r)r[o].set&&n.push(o);a=Oo(a)}return n}function lf(e,t,n=t){var r=new WeakSet;Tu(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=Oa(e)?Da(s):s,n(s),ct!==null&&r.add(ct),await ju(),s!==(s=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),ii(t)==null&&e.value&&(n(Oa(e)?Da(e.value):e.value),ct!==null&&r.add(ct)),ms(()=>{var a=t();if(e===document.activeElement){var s=Hi??ct;if(r.has(s))return}Oa(e)&&a===Da(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Oa(e){var t=e.type;return t==="number"||t==="range"}function Da(e){return e===""?null:+e}function io(e,t){return e===t||(e==null?void 0:e[pi])===t}function cf(e={},t,n,r){return qu(()=>{var a,s;return ms(()=>{a=s,s=[],ii(()=>{e!==n(...s)&&(t(e,...s),a&&io(n(...a),e)&&t(null,...a))})}),()=>{ni(()=>{s&&io(n(...s),e)&&t(null,...s)})}}),e}function ao(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}let Ui=!1;function uf(e){var t=Ui;try{return Ui=!1,[e(),Ui]}finally{Ui=t}}function $t(e,t,n,r){var E;var a=(n&Lc)!==0,s=(n&qc)!==0,o=r,l=!0,c=()=>(l&&(l=!1,o=s?ii(r):r),o),u;if(a){var f=pi in e||Hc in e;u=((E=Br(e,t))==null?void 0:E.set)??(f&&t in e?N=>e[t]=N:void 0)}var d,v=!1;a?[d,v]=uf(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=c(),u&&(Jc(),u(d)));var _;if(_=()=>{var N=e[t];return N===void 0?c():(l=!0,N)},!(n&Rc))return _;if(u){var h=e.$$legacy;return function(N,X){return arguments.length>0?((!X||h||v)&&u(X?_():N),N):_()}}var b=!1,x=(n&Cc?ba:Wo)(()=>(b=!1,_()));a&&i(x);var S=Le;return function(N,X){if(arguments.length>0){const H=X?i(x):a?Xt(N):N;return U(x,H),b=!0,o!==void 0&&(o=H),N}return Tr&&b||S.f&$r?x.v:i(x)}}function Wi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ff(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wl(e){let t,n,r;e.length!==2?(t=Wi,n=(l,c)=>Wi(e(l),c),r=(l,c)=>e(l)-c):(t=e===Wi||e===ff?e:df,n=e,r=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&r(l[d-1],c)>-r(l[d],c)?d-1:d}return{left:a,center:o,right:s}}function df(){return 0}function vf(e){return e===null?NaN:+e}const hf=wl(Wi),pf=hf.right;wl(vf).center;class so extends Map{constructor(t,n=mf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(oo(this,t))}has(t){return super.has(oo(this,t))}set(t,n){return super.set(_f(this,t),n)}delete(t){return super.delete(gf(this,t))}}function oo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _f({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function gf({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function mf(e){return e!==null&&typeof e=="object"?e.valueOf():e}const yf=Math.sqrt(50),wf=Math.sqrt(10),bf=Math.sqrt(2);function ra(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=yf?10:s>=wf?5:s>=bf?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?ra(e,t,n*2):[l,c,u]}function bl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,o]=r?ra(t,e,n):ra(e,t,n);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Wa(e,t,n){return t=+t,e=+e,n=+n,ra(e,t,n)[2]}function xf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Wa(t,e,n):Wa(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function kf(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}var Sf={value:()=>{}};function xl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zi(n)}function Zi(e){this._=e}function Nf(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zi.prototype=xl.prototype={constructor:Zi,on:function(e,t){var n=this._,r=Nf(e+"",n),a,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((a=(e=r[s]).type)&&(a=Ef(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=r[s]).type)n[a]=lo(n[a],e.name,t);else if(t==null)for(a in n)n[a]=lo(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zi(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};function Ef(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function lo(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=Sf,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Za="http://www.w3.org/1999/xhtml";const co={svg:"http://www.w3.org/2000/svg",xhtml:Za,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Na(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),co.hasOwnProperty(t)?{space:co[t],local:e}:e}function Mf(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Za&&t.documentElement.namespaceURI===Za?t.createElement(e):t.createElementNS(n,e)}}function Af(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function kl(e){var t=Na(e);return(t.local?Af:Mf)(t)}function $f(){}function bs(e){return e==null?$f:function(){return this.querySelector(e)}}function Tf(e){typeof e!="function"&&(e=bs(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=new Array(o),c,u,f=0;f<o;++f)(c=s[f])&&(u=e.call(c,c.__data__,f,s))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new An(r,this._parents)}function If(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Pf(){return[]}function Sl(e){return e==null?Pf:function(){return this.querySelectorAll(e)}}function Cf(e){return function(){return If(e.apply(this,arguments))}}function Rf(e){typeof e=="function"?e=Cf(e):e=Sl(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var o=t[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),a.push(c));return new An(r,a)}function Nl(e){return function(){return this.matches(e)}}function El(e){return function(t){return t.matches(e)}}var Lf=Array.prototype.find;function qf(e){return function(){return Lf.call(this.children,e)}}function Ff(){return this.firstElementChild}function Of(e){return this.select(e==null?Ff:qf(typeof e=="function"?e:El(e)))}var Df=Array.prototype.filter;function Bf(){return Array.from(this.children)}function Uf(e){return function(){return Df.call(this.children,e)}}function jf(e){return this.selectAll(e==null?Bf:Uf(typeof e=="function"?e:El(e)))}function zf(e){typeof e!="function"&&(e=Nl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new An(r,this._parents)}function Ml(e){return new Array(e.length)}function Yf(){return new An(this._enter||this._groups.map(Ml),this._parents)}function ia(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ia.prototype={constructor:ia,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Vf(e){return function(){return e}}function Hf(e,t,n,r,a,s){for(var o=0,l,c=t.length,u=s.length;o<u;++o)(l=t[o])?(l.__data__=s[o],r[o]=l):n[o]=new ia(e,s[o]);for(;o<c;++o)(l=t[o])&&(a[o]=l)}function Kf(e,t,n,r,a,s,o){var l,c,u=new Map,f=t.length,d=s.length,v=new Array(f),_;for(l=0;l<f;++l)(c=t[l])&&(v[l]=_=o.call(c,c.__data__,l,t)+"",u.has(_)?a[l]=c:u.set(_,c));for(l=0;l<d;++l)_=o.call(e,s[l],l,s)+"",(c=u.get(_))?(r[l]=c,c.__data__=s[l],u.delete(_)):n[l]=new ia(e,s[l]);for(l=0;l<f;++l)(c=t[l])&&u.get(v[l])===c&&(a[l]=c)}function Xf(e){return e.__data__}function Gf(e,t){if(!arguments.length)return Array.from(this,Xf);var n=t?Kf:Hf,r=this._parents,a=this._groups;typeof e!="function"&&(e=Vf(e));for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var f=r[u],d=a[u],v=d.length,_=Wf(e.call(f,f&&f.__data__,u,r)),h=_.length,b=l[u]=new Array(h),x=o[u]=new Array(h),S=c[u]=new Array(v);n(f,d,b,x,S,_,t);for(var E=0,N=0,X,H;E<h;++E)if(X=b[E]){for(E>=N&&(N=E+1);!(H=x[N])&&++N<h;);X._next=H||null}}return o=new An(o,r),o._enter=l,o._exit=c,o}function Wf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zf(){return new An(this._exit||this._groups.map(Ml),this._parents)}function Qf(e,t,n){var r=this.enter(),a=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function Jf(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),l=new Array(a),c=0;c<o;++c)for(var u=n[c],f=r[c],d=u.length,v=l[c]=new Array(d),_,h=0;h<d;++h)(_=u[h]||f[h])&&(v[h]=_);for(;c<a;++c)l[c]=n[c];return new An(l,this._parents)}function ed(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,s=r[a],o;--a>=0;)(o=r[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function td(e){e||(e=nd);function t(d,v){return d&&v?e(d.__data__,v.__data__):!d-!v}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,c=a[s]=new Array(l),u,f=0;f<l;++f)(u=o[f])&&(c[f]=u);c.sort(t)}return new An(a,this._parents).order()}function nd(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function rd(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function id(){return Array.from(this)}function ad(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var o=r[a];if(o)return o}return null}function sd(){let e=0;for(const t of this)++e;return e}function od(){return!this.node()}function ld(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function cd(e){return function(){this.removeAttribute(e)}}function ud(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fd(e,t){return function(){this.setAttribute(e,t)}}function dd(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function vd(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function hd(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pd(e,t){var n=Na(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ud:cd:typeof t=="function"?n.local?hd:vd:n.local?dd:fd)(n,t))}function Al(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _d(e){return function(){this.style.removeProperty(e)}}function gd(e,t,n){return function(){this.style.setProperty(e,t,n)}}function md(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function yd(e,t,n){return arguments.length>1?this.each((t==null?_d:typeof t=="function"?md:gd)(e,t,n??"")):Zr(this.node(),e)}function Zr(e,t){return e.style.getPropertyValue(t)||Al(e).getComputedStyle(e,null).getPropertyValue(t)}function wd(e){return function(){delete this[e]}}function bd(e,t){return function(){this[e]=t}}function xd(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function kd(e,t){return arguments.length>1?this.each((t==null?wd:typeof t=="function"?xd:bd)(e,t)):this.node()[e]}function $l(e){return e.trim().split(/^|\s+/)}function xs(e){return e.classList||new Tl(e)}function Tl(e){this._node=e,this._names=$l(e.getAttribute("class")||"")}Tl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Il(e,t){for(var n=xs(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Pl(e,t){for(var n=xs(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function Sd(e){return function(){Il(this,e)}}function Nd(e){return function(){Pl(this,e)}}function Ed(e,t){return function(){(t.apply(this,arguments)?Il:Pl)(this,e)}}function Md(e,t){var n=$l(e+"");if(arguments.length<2){for(var r=xs(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?Ed:t?Sd:Nd)(n,t))}function Ad(){this.textContent=""}function $d(e){return function(){this.textContent=e}}function Td(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Id(e){return arguments.length?this.each(e==null?Ad:(typeof e=="function"?Td:$d)(e)):this.node().textContent}function Pd(){this.innerHTML=""}function Cd(e){return function(){this.innerHTML=e}}function Rd(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ld(e){return arguments.length?this.each(e==null?Pd:(typeof e=="function"?Rd:Cd)(e)):this.node().innerHTML}function qd(){this.nextSibling&&this.parentNode.appendChild(this)}function Fd(){return this.each(qd)}function Od(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dd(){return this.each(Od)}function Bd(e){var t=typeof e=="function"?e:kl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ud(){return null}function jd(e,t){var n=typeof e=="function"?e:kl(e),r=t==null?Ud:typeof t=="function"?t:bs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zd(){var e=this.parentNode;e&&e.removeChild(this)}function Yd(){return this.each(zd)}function Vd(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Hd(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kd(e){return this.select(e?Hd:Vd)}function Xd(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Gd(e){return function(t){e.call(this,t,this.__data__)}}function Wd(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Zd(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Qd(e,t,n){return function(){var r=this.__on,a,s=Gd(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(a):this.__on=[a]}}function Jd(e,t,n){var r=Wd(e+""),a,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(a=0,f=l[c];a<s;++a)if((o=r[a]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?Qd:Zd,a=0;a<s;++a)this.each(l(r[a],t,n));return this}function Cl(e,t,n){var r=Al(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function ev(e,t){return function(){return Cl(this,e,t)}}function tv(e,t){return function(){return Cl(this,e,t.apply(this,arguments))}}function nv(e,t){return this.each((typeof t=="function"?tv:ev)(e,t))}function*rv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length,o;a<s;++a)(o=r[a])&&(yield o)}var iv=[null];function An(e,t){this._groups=e,this._parents=t}function Ii(){return new An([[document.documentElement]],iv)}function av(){return this}An.prototype=Ii.prototype={constructor:An,select:Tf,selectAll:Rf,selectChild:Of,selectChildren:jf,filter:zf,data:Gf,enter:Yf,exit:Zf,join:Qf,merge:Jf,selection:av,order:ed,sort:td,call:rd,nodes:id,node:ad,size:sd,empty:od,each:ld,attr:pd,style:yd,property:kd,classed:Md,text:Id,html:Ld,raise:Fd,lower:Dd,append:Bd,insert:jd,remove:Yd,clone:Kd,datum:Xd,on:Jd,dispatch:nv,[Symbol.iterator]:rv};function ks(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Rl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pi(){}var xi=.7,aa=1/xi,zr="\\s*([+-]?\\d+)\\s*",ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sv=/^#([0-9a-f]{3,8})$/,ov=new RegExp(`^rgb\\(${zr},${zr},${zr}\\)$`),lv=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),cv=new RegExp(`^rgba\\(${zr},${zr},${zr},${ki}\\)$`),uv=new RegExp(`^rgba\\(${qn},${qn},${qn},${ki}\\)$`),fv=new RegExp(`^hsl\\(${ki},${qn},${qn}\\)$`),dv=new RegExp(`^hsla\\(${ki},${qn},${qn},${ki}\\)$`),uo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ks(Pi,Er,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fo,formatHex:fo,formatHex8:vv,formatHsl:hv,formatRgb:vo,toString:vo});function fo(){return this.rgb().formatHex()}function vv(){return this.rgb().formatHex8()}function hv(){return Ll(this).formatHsl()}function vo(){return this.rgb().formatRgb()}function Er(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sv.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ho(t):n===3?new Wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ji(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ji(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ov.exec(e))?new Wt(t[1],t[2],t[3],1):(t=lv.exec(e))?new Wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cv.exec(e))?ji(t[1],t[2],t[3],t[4]):(t=uv.exec(e))?ji(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fv.exec(e))?go(t[1],t[2]/100,t[3]/100,1):(t=dv.exec(e))?go(t[1],t[2]/100,t[3]/100,t[4]):uo.hasOwnProperty(e)?ho(uo[e]):e==="transparent"?new Wt(NaN,NaN,NaN,0):null}function ho(e){return new Wt(e>>16&255,e>>8&255,e&255,1)}function ji(e,t,n,r){return r<=0&&(e=t=n=NaN),new Wt(e,t,n,r)}function pv(e){return e instanceof Pi||(e=Er(e)),e?(e=e.rgb(),new Wt(e.r,e.g,e.b,e.opacity)):new Wt}function Qa(e,t,n,r){return arguments.length===1?pv(e):new Wt(e,t,n,r??1)}function Wt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ks(Wt,Qa,Rl(Pi,{brighter(e){return e=e==null?aa:Math.pow(aa,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xi:Math.pow(xi,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wt(kr(this.r),kr(this.g),kr(this.b),sa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:po,formatHex:po,formatHex8:_v,formatRgb:_o,toString:_o}));function po(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}`}function _v(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}${hr((isNaN(this.opacity)?1:this.opacity)*255)}`}function _o(){const e=sa(this.opacity);return`${e===1?"rgb(":"rgba("}${kr(this.r)}, ${kr(this.g)}, ${kr(this.b)}${e===1?")":`, ${e})`}`}function sa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hr(e){return e=kr(e),(e<16?"0":"")+e.toString(16)}function go(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nn(e,t,n,r)}function Ll(e){if(e instanceof Nn)return new Nn(e.h,e.s,e.l,e.opacity);if(e instanceof Pi||(e=Er(e)),!e)return new Nn;if(e instanceof Nn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new Nn(o,l,c,e.opacity)}function gv(e,t,n,r){return arguments.length===1?Ll(e):new Nn(e,t,n,r??1)}function Nn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ks(Nn,gv,Rl(Pi,{brighter(e){return e=e==null?aa:Math.pow(aa,e),new Nn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xi:Math.pow(xi,e),new Nn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Wt(Ba(e>=240?e-240:e+120,a,r),Ba(e,a,r),Ba(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Nn(mo(this.h),zi(this.s),zi(this.l),sa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sa(this.opacity);return`${e===1?"hsl(":"hsla("}${mo(this.h)}, ${zi(this.s)*100}%, ${zi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mo(e){return e=(e||0)%360,e<0?e+360:e}function zi(e){return Math.max(0,Math.min(1,e||0))}function Ba(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ss=e=>()=>e;function mv(e,t){return function(n){return e+n*t}}function yv(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wv(e){return(e=+e)==1?ql:function(t,n){return n-t?yv(t,n,e):Ss(isNaN(t)?n:t)}}function ql(e,t){var n=t-e;return n?mv(e,n):Ss(isNaN(e)?t:e)}const oa=function e(t){var n=wv(t);function r(a,s){var o=n((a=Qa(a)).r,(s=Qa(s)).r),l=n(a.g,s.g),c=n(a.b,s.b),u=ql(a.opacity,s.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return r.gamma=e,r}(1);function bv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function xv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kv(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)a[o]=Ns(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<r;++o)s[o]=a[o](l);return s}}function Sv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function kn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Nv(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Ns(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Ja=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ua=new RegExp(Ja.source,"g");function Ev(e){return function(){return e}}function Mv(e){return function(t){return e(t)+""}}function Fl(e,t){var n=Ja.lastIndex=Ua.lastIndex=0,r,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Ja.exec(e))&&(a=Ua.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:kn(r,a)})),n=Ua.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Mv(c[0].x):Ev(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Ns(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ss(t):(n==="number"?kn:n==="string"?(r=Er(t))?(t=r,oa):Fl:t instanceof Er?oa:t instanceof Date?Sv:xv(t)?bv:Array.isArray(t)?kv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Nv:kn)(e,t)}function Av(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var yo=180/Math.PI,es={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ol(e,t,n,r,a,s){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*yo,skewX:Math.atan(c)*yo,scaleX:o,scaleY:l}}var Yi;function $v(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?es:Ol(t.a,t.b,t.c,t.d,t.e,t.f)}function Tv(e){return e==null||(Yi||(Yi=document.createElementNS("http://www.w3.org/2000/svg","g")),Yi.setAttribute("transform",e),!(e=Yi.transform.baseVal.consolidate()))?es:(e=e.matrix,Ol(e.a,e.b,e.c,e.d,e.e,e.f))}function Dl(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function s(u,f,d,v,_,h){if(u!==d||f!==v){var b=_.push("translate(",null,t,null,n);h.push({i:b-4,x:kn(u,d)},{i:b-2,x:kn(f,v)})}else(d||v)&&_.push("translate("+d+t+v+n)}function o(u,f,d,v){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),v.push({i:d.push(a(d)+"rotate(",null,r)-2,x:kn(u,f)})):f&&d.push(a(d)+"rotate("+f+r)}function l(u,f,d,v){u!==f?v.push({i:d.push(a(d)+"skewX(",null,r)-2,x:kn(u,f)}):f&&d.push(a(d)+"skewX("+f+r)}function c(u,f,d,v,_,h){if(u!==d||f!==v){var b=_.push(a(_)+"scale(",null,",",null,")");h.push({i:b-4,x:kn(u,d)},{i:b-2,x:kn(f,v)})}else(d!==1||v!==1)&&_.push(a(_)+"scale("+d+","+v+")")}return function(u,f){var d=[],v=[];return u=e(u),f=e(f),s(u.translateX,u.translateY,f.translateX,f.translateY,d,v),o(u.rotate,f.rotate,d,v),l(u.skewX,f.skewX,d,v),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,v),u=f=null,function(_){for(var h=-1,b=v.length,x;++h<b;)d[(x=v[h]).i]=x.x(_);return d.join("")}}}var Iv=Dl($v,"px, ","px)","deg)"),Pv=Dl(Tv,", ",")",")"),Qr=0,fi=0,ci=0,Bl=1e3,la,di,ca=0,Mr=0,Ea=0,Si=typeof performance=="object"&&performance.now?performance:Date,Ul=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Es(){return Mr||(Ul(Cv),Mr=Si.now()+Ea)}function Cv(){Mr=0}function ua(){this._call=this._time=this._next=null}ua.prototype=jl.prototype={constructor:ua,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Es():+n)+(t==null?0:+t),!this._next&&di!==this&&(di?di._next=this:la=this,di=this),this._call=e,this._time=n,ts()},stop:function(){this._call&&(this._call=null,this._time=1/0,ts())}};function jl(e,t,n){var r=new ua;return r.restart(e,t,n),r}function Rv(){Es(),++Qr;for(var e=la,t;e;)(t=Mr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Qr}function wo(){Mr=(ca=Si.now())+Ea,Qr=fi=0;try{Rv()}finally{Qr=0,qv(),Mr=0}}function Lv(){var e=Si.now(),t=e-ca;t>Bl&&(Ea-=t,ca=e)}function qv(){for(var e,t=la,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:la=n);di=e,ts(r)}function ts(e){if(!Qr){fi&&(fi=clearTimeout(fi));var t=e-Mr;t>24?(e<1/0&&(fi=setTimeout(wo,e-Si.now()-Ea)),ci&&(ci=clearInterval(ci))):(ci||(ca=Si.now(),ci=setInterval(Lv,Bl)),Qr=1,Ul(wo))}}function bo(e,t,n){var r=new ua;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var Fv=xl("start","end","cancel","interrupt"),Ov=[],zl=0,xo=1,ns=2,Qi=3,ko=4,rs=5,Ji=6;function Ma(e,t,n,r,a,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Dv(e,n,{name:t,index:r,group:a,on:Fv,tween:Ov,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:zl})}function Ms(e,t){var n=Tn(e,t);if(n.state>zl)throw new Error("too late; already scheduled");return n}function On(e,t){var n=Tn(e,t);if(n.state>Qi)throw new Error("too late; already running");return n}function Tn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Dv(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=jl(s,0,n.time);function s(u){n.state=xo,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,d,v,_;if(n.state!==xo)return c();for(f in r)if(_=r[f],_.name===n.name){if(_.state===Qi)return bo(o);_.state===ko?(_.state=Ji,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete r[f]):+f<t&&(_.state=Ji,_.timer.stop(),_.on.call("cancel",e,e.__data__,_.index,_.group),delete r[f])}if(bo(function(){n.state===Qi&&(n.state=ko,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=ns,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ns){for(n.state=Qi,a=new Array(v=n.tween.length),f=0,d=-1;f<v;++f)(_=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=_);a.length=d+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=rs,1),d=-1,v=a.length;++d<v;)a[d].call(e,f);n.state===rs&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Ji,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Bv(e,t){var n=e.__transition,r,a,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}a=r.state>ns&&r.state<rs,r.state=Ji,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function Uv(e){return this.each(function(){Bv(this,e)})}function jv(e,t){var n,r;return function(){var a=On(this,e),s=a.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function zv(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=On(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}s.tween=a}}function Yv(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Tn(this.node(),n).tween,a=0,s=r.length,o;a<s;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?jv:zv)(n,e,t))}function As(e,t,n){var r=e._id;return e.each(function(){var a=On(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Tn(a,r).value[t]}}function Yl(e,t){var n;return(typeof t=="number"?kn:t instanceof Er?oa:(n=Er(t))?(t=n,oa):Fl)(e,t)}function Vv(e){return function(){this.removeAttribute(e)}}function Hv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kv(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===r?s:s=t(r=o,n)}}function Xv(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?s:s=t(r=o,n)}}function Gv(e,t,n){var r,a,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l)))}}function Wv(e,t,n){var r,a,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l)))}}function Zv(e,t){var n=Na(e),r=n==="transform"?Pv:Yl;return this.attrTween(e,typeof t=="function"?(n.local?Wv:Gv)(n,r,As(this,"attr."+e,t)):t==null?(n.local?Hv:Vv)(n):(n.local?Xv:Kv)(n,r,t))}function Qv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Jv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function eh(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Jv(e,s)),n}return a._value=t,a}function th(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Qv(e,s)),n}return a._value=t,a}function nh(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Na(e);return this.tween(n,(r.local?eh:th)(r,t))}function rh(e,t){return function(){Ms(this,e).delay=+t.apply(this,arguments)}}function ih(e,t){return t=+t,function(){Ms(this,e).delay=t}}function ah(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rh:ih)(t,e)):Tn(this.node(),t).delay}function sh(e,t){return function(){On(this,e).duration=+t.apply(this,arguments)}}function oh(e,t){return t=+t,function(){On(this,e).duration=t}}function lh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sh:oh)(t,e)):Tn(this.node(),t).duration}function ch(e,t){if(typeof t!="function")throw new Error;return function(){On(this,e).ease=t}}function uh(e){var t=this._id;return arguments.length?this.each(ch(t,e)):Tn(this.node(),t).ease}function fh(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;On(this,e).ease=n}}function dh(e){if(typeof e!="function")throw new Error;return this.each(fh(this._id,e))}function vh(e){typeof e!="function"&&(e=Nl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Kn(r,this._parents,this._name,this._id)}function hh(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var c=t[l],u=n[l],f=c.length,d=o[l]=new Array(f),v,_=0;_<f;++_)(v=c[_]||u[_])&&(d[_]=v);for(;l<r;++l)o[l]=t[l];return new Kn(o,this._parents,this._name,this._id)}function ph(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function _h(e,t,n){var r,a,s=ph(t)?Ms:On;return function(){var o=s(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function gh(e,t){var n=this._id;return arguments.length<2?Tn(this.node(),n).on.on(e):this.each(_h(n,e,t))}function mh(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function yh(){return this.on("end.remove",mh(this._id))}function wh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bs(e));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var l=r[o],c=l.length,u=s[o]=new Array(c),f,d,v=0;v<c;++v)(f=l[v])&&(d=e.call(f,f.__data__,v,l))&&("__data__"in f&&(d.__data__=f.__data__),u[v]=d,Ma(u[v],t,n,v,u,Tn(f,n)));return new Kn(s,this._parents,t,n)}function bh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Sl(e));for(var r=this._groups,a=r.length,s=[],o=[],l=0;l<a;++l)for(var c=r[l],u=c.length,f,d=0;d<u;++d)if(f=c[d]){for(var v=e.call(f,f.__data__,d,c),_,h=Tn(f,n),b=0,x=v.length;b<x;++b)(_=v[b])&&Ma(_,t,n,b,v,h);s.push(v),o.push(f)}return new Kn(s,o,t,n)}var xh=Ii.prototype.constructor;function kh(){return new xh(this._groups,this._parents)}function Sh(e,t){var n,r,a;return function(){var s=Zr(this,e),o=(this.style.removeProperty(e),Zr(this,e));return s===o?null:s===n&&o===r?a:a=t(n=s,r=o)}}function Vl(e){return function(){this.style.removeProperty(e)}}function Nh(e,t,n){var r,a=n+"",s;return function(){var o=Zr(this,e);return o===a?null:o===r?s:s=t(r=o,n)}}function Eh(e,t,n){var r,a,s;return function(){var o=Zr(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Zr(this,e))),o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l))}}function Mh(e,t){var n,r,a,s="style."+t,o="end."+s,l;return function(){var c=On(this,e),u=c.on,f=c.value[s]==null?l||(l=Vl(t)):void 0;(u!==n||a!==f)&&(r=(n=u).copy()).on(o,a=f),c.on=r}}function Ah(e,t,n){var r=(e+="")=="transform"?Iv:Yl;return t==null?this.styleTween(e,Sh(e,r)).on("end.style."+e,Vl(e)):typeof t=="function"?this.styleTween(e,Eh(e,r,As(this,"style."+e,t))).each(Mh(this._id,e)):this.styleTween(e,Nh(e,r,t),n).on("end.style."+e,null)}function $h(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Th(e,t,n){var r,a;function s(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&$h(e,o,n)),r}return s._value=t,s}function Ih(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Th(e,t,n??""))}function Ph(e){return function(){this.textContent=e}}function Ch(e){return function(){var t=e(this);this.textContent=t??""}}function Rh(e){return this.tween("text",typeof e=="function"?Ch(As(this,"text",e)):Ph(e==null?"":e+""))}function Lh(e){return function(t){this.textContent=e.call(this,t)}}function qh(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&Lh(a)),t}return r._value=e,r}function Fh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,qh(e))}function Oh(){for(var e=this._name,t=this._id,n=Hl(),r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var f=Tn(c,t);Ma(c,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Kn(r,this._parents,e,n)}function Dh(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--a===0&&s()}};n.each(function(){var u=On(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&s()})}var Bh=0;function Kn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Hl(){return++Bh}var Yn=Ii.prototype;Kn.prototype={constructor:Kn,select:wh,selectAll:bh,selectChild:Yn.selectChild,selectChildren:Yn.selectChildren,filter:vh,merge:hh,selection:kh,transition:Oh,call:Yn.call,nodes:Yn.nodes,node:Yn.node,size:Yn.size,empty:Yn.empty,each:Yn.each,on:gh,attr:Zv,attrTween:nh,style:Ah,styleTween:Ih,text:Rh,textTween:Fh,remove:yh,tween:Yv,delay:ah,duration:lh,ease:uh,easeVarying:dh,end:Dh,[Symbol.iterator]:Yn[Symbol.iterator]};function Uh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var jh={time:null,delay:0,duration:250,ease:Uh};function zh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Yh(e){var t,n;e instanceof Kn?(t=e._id,e=e._name):(t=Hl(),(n=jh).time=Es(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&Ma(c,e,t,u,o,n||zh(c,t));return new Kn(r,this._parents,e,t)}Ii.prototype.interrupt=Uv;Ii.prototype.transition=Yh;const is=Math.PI,as=2*is,vr=1e-6,Vh=as-vr;function Kl(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Hh(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Kl;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Kh{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Kl:Hh(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,f=o-t,d=l-n,v=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>vr)if(!(Math.abs(d*c-u*f)>vr)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-o,h=a-l,b=c*c+u*u,x=_*_+h*h,S=Math.sqrt(b),E=Math.sqrt(v),N=s*Math.tan((is-Math.acos((b+v-x)/(2*S*E)))/2),X=N/E,H=N/S;Math.abs(X-1)>vr&&this._append`L${t+X*f},${n+X*d}`,this._append`A${s},${s},0,0,${+(d*_>f*h)},${this._x1=t+H*c},${this._y1=n+H*u}`}}arc(t,n,r,a,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,f=n+c,d=1^o,v=o?a-s:s-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>vr||Math.abs(this._y1-f)>vr)&&this._append`L${u},${f}`,r&&(v<0&&(v=v%as+as),v>Vh?this._append`A${r},${r},0,1,${d},${t-l},${n-c}A${r},${r},0,1,${d},${this._x1=u},${this._y1=f}`:v>vr&&this._append`A${r},${r},0,${+(v>=is)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Xh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fa(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Jr(e){return e=fa(Math.abs(e)),e?e[1]:NaN}function Gh(e,t){return function(n,r){for(var a=n.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Wh(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Zh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function da(e){if(!(t=Zh.exec(e)))throw new Error("invalid format: "+e);var t;return new $s({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}da.prototype=$s.prototype;function $s(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qh(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Xl;function Jh(e,t){var n=fa(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(Xl=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+fa(e,Math.max(0,t+s-1))[0]}function So(e,t){var n=fa(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const No={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Xh,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>So(e*100,t),r:So,s:Jh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Eo(e){return e}var Mo=Array.prototype.map,Ao=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ep(e){var t=e.grouping===void 0||e.thousands===void 0?Eo:Gh(Mo.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Eo:Wh(Mo.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=da(d);var v=d.fill,_=d.align,h=d.sign,b=d.symbol,x=d.zero,S=d.width,E=d.comma,N=d.precision,X=d.trim,H=d.type;H==="n"?(E=!0,H="g"):No[H]||(N===void 0&&(N=12),X=!0,H="g"),(x||v==="0"&&_==="=")&&(x=!0,v="0",_="=");var G=b==="$"?n:b==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",se=b==="$"?r:/[%p]/.test(H)?o:"",ke=No[H],Oe=/[defgprs%]/.test(H);N=N===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function Ee(Z){var ge=G,Se=se,Y,fe,R;if(H==="c")Se=ke(Z)+Se,Z="";else{Z=+Z;var qe=Z<0||1/Z<0;if(Z=isNaN(Z)?c:ke(Math.abs(Z),N),X&&(Z=Qh(Z)),qe&&+Z==0&&h!=="+"&&(qe=!1),ge=(qe?h==="("?h:l:h==="-"||h==="("?"":h)+ge,Se=(H==="s"?Ao[8+Xl/3]:"")+Se+(qe&&h==="("?")":""),Oe){for(Y=-1,fe=Z.length;++Y<fe;)if(R=Z.charCodeAt(Y),48>R||R>57){Se=(R===46?a+Z.slice(Y+1):Z.slice(Y))+Se,Z=Z.slice(0,Y);break}}}E&&!x&&(Z=t(Z,1/0));var oe=ge.length+Z.length+Se.length,Ne=oe<S?new Array(S-oe+1).join(v):"";switch(E&&x&&(Z=t(Ne+Z,Ne.length?S-Se.length:1/0),Ne=""),_){case"<":Z=ge+Z+Se+Ne;break;case"=":Z=ge+Ne+Z+Se;break;case"^":Z=Ne.slice(0,oe=Ne.length>>1)+ge+Z+Se+Ne.slice(oe);break;default:Z=Ne+ge+Z+Se;break}return s(Z)}return Ee.toString=function(){return d+""},Ee}function f(d,v){var _=u((d=da(d),d.type="f",d)),h=Math.max(-8,Math.min(8,Math.floor(Jr(v)/3)))*3,b=Math.pow(10,-h),x=Ao[8+h/3];return function(S){return _(b*S)+x}}return{format:u,formatPrefix:f}}var Vi,Gl,Wl;tp({thousands:",",grouping:[3],currency:["$",""]});function tp(e){return Vi=ep(e),Gl=Vi.format,Wl=Vi.formatPrefix,Vi}function np(e){return Math.max(0,-Jr(Math.abs(e)))}function rp(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jr(t)/3)))*3-Jr(Math.abs(e)))}function ip(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jr(t)-Jr(e))+1}function Ts(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const $o=Symbol("implicit");function Zl(){var e=new so,t=[],n=[],r=$o;function a(s){let o=e.get(s);if(o===void 0){if(r!==$o)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new so;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Zl(t,n).unknown(r)},Ts.apply(a,arguments),a}function Ql(){var e=Zl().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var v=t().length,_=a<r,h=_?a:r,b=_?r:a;s=(b-h)/Math.max(1,v-c+u*2),l&&(s=Math.floor(s)),h+=(b-h-s*(v-c))*f,o=s*(1-c),l&&(h=Math.round(h),o=Math.round(o));var x=kf(v).map(function(S){return h+s*S});return n(_?x.reverse():x)}return e.domain=function(v){return arguments.length?(t(v),d()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(v){return arguments.length?(l=!!v,d()):l},e.padding=function(v){return arguments.length?(c=Math.min(1,u=+v),d()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),d()):c},e.paddingOuter=function(v){return arguments.length?(u=+v,d()):u},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),d()):f},e.copy=function(){return Ql(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Ts.apply(d(),arguments)}function Jl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Jl(t())},e}function ap(){return Jl(Ql.apply(null,arguments).paddingInner(1))}function sp(e){return function(){return e}}function op(e){return+e}var To=[0,1];function Dr(e){return e}function ss(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:sp(isNaN(t)?NaN:.5)}function lp(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function cp(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=ss(a,r),s=n(o,s)):(r=ss(r,a),s=n(s,o)),function(l){return s(r(l))}}function up(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=ss(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(l){var c=pf(e,l,1,r)-1;return s[c](a[c](l))}}function fp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dp(){var e=To,t=To,n=Ns,r,a,s,o=Dr,l,c,u;function f(){var v=Math.min(e.length,t.length);return o!==Dr&&(o=lp(e[0],e[v-1])),l=v>2?up:cp,c=u=null,d}function d(v){return v==null||isNaN(v=+v)?s:(c||(c=l(e.map(r),t,n)))(r(o(v)))}return d.invert=function(v){return o(a((u||(u=l(t,e.map(r),kn)))(v)))},d.domain=function(v){return arguments.length?(e=Array.from(v,op),f()):e.slice()},d.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},d.rangeRound=function(v){return t=Array.from(v),n=Av,f()},d.clamp=function(v){return arguments.length?(o=v?!0:Dr,f()):o!==Dr},d.interpolate=function(v){return arguments.length?(n=v,f()):n},d.unknown=function(v){return arguments.length?(s=v,d):s},function(v,_){return r=v,a=_,f()}}function vp(){return dp()(Dr,Dr)}function hp(e,t,n,r){var a=xf(e,t,n),s;switch(r=da(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=rp(a,o))&&(r.precision=s),Wl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=ip(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=np(a))&&(r.precision=s-(r.type==="%")*2);break}}return Gl(r)}function pp(e){var t=e.domain;return e.ticks=function(n){var r=t();return bl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return hp(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,o=r[a],l=r[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);f-- >0;){if(u=Wa(o,l,n),u===c)return r[a]=o,r[s]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ec(){var e=vp();return e.copy=function(){return fp(e,ec())},Ts.apply(e,arguments),pp(e)}function Or(e){return function(){return e}}function _p(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Kh(t)}function gp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tc(e){this._context=e}tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mp(e){return new tc(e)}function yp(e){return e[0]}function wp(e){return e[1]}function bp(e,t){var n=Or(!0),r=null,a=mp,s=null,o=_p(l);e=typeof e=="function"?e:e===void 0?yp:Or(e),t=typeof t=="function"?t:t===void 0?wp:Or(t);function l(c){var u,f=(c=gp(c)).length,d,v=!1,_;for(r==null&&(s=a(_=o())),u=0;u<=f;++u)!(u<f&&n(d=c[u],u,c))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(d,u,c),+t(d,u,c));if(_)return s=null,_+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Or(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Or(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Or(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(s=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=s=null:s=a(r=c),l):r},l}function Io(e){return e<0?-1:1}function Po(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(s*a+o*r)/(r+a);return(Io(s)+Io(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Co(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ja(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,a+l*t,s-l,o-l*n,s,o)}function va(e){this._context=e}va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ja(this,this._t0,Co(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ja(this,Co(this,n=Po(this,e,t)),n);break;default:ja(this,this._t0,n=Po(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(va.prototype).point=function(e,t){va.prototype.point.call(this,t,e)};function xp(e){return new va(e)}function vi(e,t,n){this.k=e,this.x=t,this.y=n}vi.prototype={constructor:vi,scale:function(e){return e===1?this:new vi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new vi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};vi.prototype;var kp=$n('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),Sp=$n('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),Np=$n("<tspan> </tspan>"),Ep=$n('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),Mp=$n('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),Ap=$n('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),$p=$n('<path stroke-width="1.5" role="button" tabindex="0"></path>'),Tp=$n("<g><!></g>"),Ip=A("<div> </div>"),Pp=A("<div> </div>"),Cp=A("<div> </div>"),Rp=A('<div class="tooltip-divider svelte-idxsrp"></div>'),Lp=A('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),qp=A("<div> </div>"),Fp=A("<div> </div>"),Op=A("<div> </div>"),Dp=A("<div> </div>"),Bp=A("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),Up=A('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),jp=A("<span> </span>"),zp=$n('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),Yp=$n('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),Vp=$n('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),Hp=A('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),Kp=A('<div class="band-legend svelte-idxsrp"></div>'),Xp=A('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),Gp=A('<div class="legend svelte-idxsrp"></div>'),Wp=A('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function Zp(e,t){lr(t,!0);let n=$t(t,"bands",19,()=>[]),r=$t(t,"years",19,()=>[]),a=$t(t,"maxFieldSize",3,0),s=$t(t,"yMode",3,"relative"),o=$t(t,"yAxisScale",3,"fitted"),l=$t(t,"showConductorMarkers",3,!0);const c={top:24,right:48,bottom:48,left:72},u=880,f=360,d={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},v=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],_=["circle","square","triangle"],h=6,b=24,x=26,S=30,E=c.top+12,N=f-c.bottom-22,X=10,H=6,G=[0,1,2,3],se=.08,ke=5,Oe=.5;let Ee=Pe(null),Z=Pe(Xt({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),ge=null,Se=null,Y=Pe(null),fe=Pe(0),R=Pe(0);const qe=()=>l()&&n().length===1;function oe(m){if(m.absolute_position==null)return 0;const w=m.field_size??i(Dt)??a()??1;return w?m.absolute_position/w*100:0}function Ne(m){return s()==="relative"?oe(m):m.absolute_position??0}function ze(m){const w=m.pieces??m.pieces,C=Array.isArray(w)?w.map(T=>`${T}`.trim()).filter(Boolean):w!=null&&`${w}`.trim().length?[`${w}`.trim()]:[],z={...m,pieces:C},F=m;return F.band_name!=null&&(z.band_name=F.band_name),Array.isArray(F.aggregate_entries)&&F.aggregate_entries.length>0&&(z.aggregate_entries=F.aggregate_entries.map(T=>ze(T))),z}function Tt(m){return m.map(w=>ze(w))}function I(m){const w=[];let C=0;if(m.length>0){const z=m[0];z.conductor&&(w.push({year:z.year,conductor:z.conductor,lane:C}),C+=1)}for(let z=1;z<m.length;z+=1){const F=m[z-1],T=m[z];F.conductor&&T.conductor&&F.conductor!==T.conductor&&(w.push({year:T.year,conductor:T.conductor,lane:C}),C+=1)}return w}function j(){if(!i(Ee))return;const m=i(Ee).getBoundingClientRect(),w=i(Ee).parentElement;if(!w)return;const C=w.getBoundingClientRect();if(m.width===0||m.height===0)return;const z={offsetX:m.left-C.left,scaleX:m.width/u,offsetY:m.top-C.top,scaleY:m.height/f};(Math.abs(z.offsetX-i(Z).offsetX)>.1||Math.abs(z.scaleX-i(Z).scaleX)>.001||Math.abs(z.offsetY-i(Z).offsetY)>.1||Math.abs(z.scaleY-i(Z).scaleY)>.001)&&U(Z,z,!0)}function ne(){!ge||!i(Ee)||Se!==i(Ee)&&(Se&&ge.unobserve(Se),ge.observe(i(Ee)),Se=i(Ee))}mi(()=>{typeof ResizeObserver<"u"&&(ge=new ResizeObserver(()=>j())),ne(),j(),window.addEventListener("resize",j)}),yi(()=>{ne(),j()}),Zu(()=>{ge==null||ge.disconnect(),window.removeEventListener("resize",j)});function Ae(m){return G[m%G.length]??0}function Ze(m,w){const C=i(bt);if(!C)return{anchor:"middle",dx:0};const z=C(m.year)??c.left,F=48,T=c.left-F,we=u-c.right+F,he=Math.max(w,1)*H/2;return z+he>we?{anchor:"end",dx:0}:z-he<T?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function Ye(m){const w=m==null?void 0:m.trim();if(!w)return[""];const C=w.split(/\s+/);if(C.length<=1)return[w];const z=C.pop(),F=C.join(" ");return F?[F,z]:[z]}function ut(m,w,C){const z=m.find(Re=>Re.year===w.year),F=Ae(w.lane);if(!z)return c.top-8+F*(b+6);const T=i(le)(Ne(z)),we=C??Ye(w.conductor),me=(Math.max(we.length,1)-1)*6,Be=m.filter(Re=>Re.year>=w.year-1&&Re.year<=w.year+1).map(Re=>({year:Re.year,y:i(le)(Ne(Re))})).sort((Re,Ue)=>Re.year-Ue.year),dt=Be.findIndex(Re=>Re.year===w.year);let Je=!0;if(dt>0&&dt<Be.length-1){const Re=Be[dt-1],Ue=Be[dt+1],et=Math.abs(T-Re.y),ot=Math.abs(T-Ue.y);(et<x+4||ot<x+4)&&(Je=!1)}const Ie=b+10,nt=x+F*Ie+me,He=T-nt;if(Je&&He>E)return He;const mt=S+F*Ie+me,Ce=T+mt;if(Ce<=N)return Ce;const Ge=N-F*Ie;return Ge>E?Ge:Math.max(E,Math.min(N,T))}function It(m,w,C){return`M ${m} ${w-C} L ${m+C} ${w+C} L ${m-C} ${w+C} Z`}function St(m){if(!m)return Number.POSITIVE_INFINITY;const w=m.trim().toLowerCase();if(w==="elite")return 0;const C=w.match(/(\d+)/);return C?parseInt(C[1],10):Number.POSITIVE_INFINITY}function Rt(m,w){const C=St(m),z=St(w);return C!==z?C-z:m.localeCompare(w)}function Jt(m){if(!m||m.length===0)return null;let w=1/0,C=-1/0;for(const z of m)z<w&&(w=z),z>C&&(C=z);return!Number.isFinite(w)||!Number.isFinite(C)?null:[w,C]}function Vt([m,w],C){m>w&&([m,w]=[w,m]);const z=w-m,F=C?0:1,T=C?100:1/0;let we=z*se;z===0&&(we=C?ke:Oe);let he=m-we,me=w+we;if(C&&m<=0||!C&&m<=1?he=m:he=Math.max(he,F),C&&w>=100?me=w:C&&(me=Math.min(me,T)),me===he){const Je=C?ke:Oe;he=Math.max(he-Je,F),me=C?Math.min(me+Je,T):me+Je}return[he,me]}let en=M(()=>n().map(m=>({band:m,entries:Tt(m.entries)}))),Nt=M(()=>i(en).reduce((m,w)=>(m.push(...w.entries),m),[])),Lt=M(()=>(()=>{if(r().length)return r();if(!i(Nt).length)return[0];const m=new Set(i(Nt).map(w=>w.year));return Array.from(m).sort((w,C)=>w-C)})()),bt=M(()=>ap().domain(i(Lt)).range([c.left,u-c.right])),Dt=M(()=>a()||(i(Nt).length?Math.max(...i(Nt).map(m=>m.field_size??0)):1)),Et=M(()=>(()=>{const m=[];for(const w of i(Nt)){const C=Ne(w);C!=null&&Number.isFinite(C)&&m.push(C)}return m})()),on=M(()=>Jt(i(Et))),re=M(()=>i(on)?Vt(i(on),s()==="relative"):null),W=M(()=>(()=>{if(o()==="fitted"&&i(re)){const[m,w]=i(re);return[w,m]}return s()==="relative"?[100,0]:[i(Dt)+1,0]})()),le=M(()=>ec().domain(i(W)).range([f-c.bottom,c.top])),ve=M(()=>i(en).map((m,w)=>{const C=[...m.entries].sort((he,me)=>he.year-me.year),z=i(Lt).map(he=>C.find(me=>me.year===he)??null),T=bp().defined(he=>he!==null).x(he=>he?i(bt)(he.year)??c.left:c.left).y(he=>he?i(le)(Ne(he)):i(le)(i(W)[1])).curve(xp)(z)??void 0,we=qe()?I(C):[];return{band:m.band,entries:C,timeline:z,pathData:T,conductorChanges:we,color:v[w%v.length],shape:_[w%_.length]}})),at=M(()=>qe()&&i(ve).length?i(ve)[0].conductorChanges.map(m=>{const w=Ye(m.conductor),C=w.reduce((F,T)=>Math.max(F,T.length),0),z=Ze(m,C);return{...m,...z,y:ut(i(ve)[0].entries,m,w),labelLines:w}}):[]),te=M(()=>(()=>{const m=i(W)[0],w=i(W)[1],C=f-c.top-c.bottom,z=Math.max(4,Math.min(8,Math.floor(C/50)));let F=Array.from(new Set(bl(w,m,z).map(T=>(s()==="relative",Math.round(T))))).filter(T=>T>=w&&T<=m).sort((T,we)=>T-we);return s()==="absolute"&&w<=1&&m>=1&&!F.includes(1)&&(F=[1,...F.filter(T=>T!==1)].sort((T,we)=>T-we)),F})()),ae=M(()=>new Set(i(Nt).map(m=>m.year))),be=M(()=>i(Lt).length>30?5:i(Lt).length>18?3:1),ie=M(()=>i(Lt).filter((m,w)=>w===0||w===i(Lt).length-1||m===2019?!0:m%i(be)===0)),Fe=M(()=>i(ie).map(m=>{const w=i(bt)(m)??c.left,C=i(Z).offsetX+w*i(Z).scaleX;return{year:m,x:C,inactive:!i(ae).has(m)}})),st=M(()=>i(Z).offsetY+(f-c.bottom)*i(Z).scaleY+X),De=M(()=>Array.from(new Set(i(Nt).map(m=>m.division))).filter(m=>typeof m=="string"&&m.length>0).sort(Rt));const _t=()=>i(De).length>0;function Ve(m,w,C,z){const F=m.currentTarget,T=F.ownerSVGElement;if(!T)return;const we=T.getBoundingClientRect();if(m instanceof MouseEvent)U(fe,m.clientX-we.left),U(R,m.clientY-we.top);else{const he=F.getBoundingClientRect();U(fe,he.left+he.width/2-we.left),U(R,he.top+he.height/2-we.top)}U(Y,{entry:w,bandName:C,lineColor:z},!0)}function ft(){U(Y,null)}function ht(m){return m.aggregate_entries}var xe=Wp(),Qe=Me(xe),pt=p(Qe);O(pt,"viewBox",`0 0 ${u} ${f}`);var yt=$(p(pt));Xe(yt,21,()=>i(te),We,(m,w)=>{var C=kp(),z=Me(C),F=$(z),T=p(F);K((we,he,me)=>{O(z,"x1",c.left),O(z,"x2",u-c.right),O(z,"y1",we),O(z,"y2",he),O(F,"x",c.left-12),O(F,"y",me),B(T,s()==="relative"?`${i(w)}%`:`#${i(w)}`)},[()=>i(le)(i(w)),()=>i(le)(i(w)),()=>i(le)(i(w))+4]),y(m,C)});var Pt=$(yt);Xe(Pt,17,()=>i(ve),We,(m,w)=>{var C=tt(),z=Me(C);{var F=T=>{var we=Sp();K(()=>{O(we,"d",i(w).pathData),O(we,"stroke",i(w).color)}),y(T,we)};V(z,T=>{i(w).pathData&&T(F)})}y(m,C)});var gt=$(Pt);{var ln=m=>{var w=tt(),C=Me(w);Xe(C,17,()=>i(at),We,(z,F)=>{var T=tt(),we=Me(T);{var he=me=>{var Be=tt(),dt=Me(Be);Qu(dt,()=>`${i(F).year}-${i(F).conductor}`,Je=>{var Ie=Ep(),nt=p(Ie),He=$(nt);Xe(He,21,()=>i(F).labelLines,We,(mt,Ce,Ge,Re)=>{var Ue=Np();O(Ue,"dy",Ge===0?0:"1.1em");var et=p(Ue);K(ot=>{O(Ue,"x",ot),B(et,i(Ce))},[()=>i(bt)(i(F).year)]),y(mt,Ue)}),K((mt,Ce,Ge)=>{O(nt,"x1",mt),O(nt,"x2",Ce),O(nt,"y1",c.top),O(nt,"y2",f-c.bottom),O(He,"x",Ge),O(He,"y",i(F).y),O(He,"text-anchor",i(F).anchor),O(He,"dx",i(F).dx)},[()=>i(bt)(i(F).year),()=>i(bt)(i(F).year),()=>i(bt)(i(F).year)]),y(Je,Ie)}),y(me,Be)};V(we,me=>{i(bt)(i(F).year)!==void 0&&me(he)})}y(z,T)}),y(m,w)};V(gt,m=>{qe()&&m(ln)})}var cn=$(gt);Xe(cn,17,()=>i(ve),We,(m,w)=>{var C=tt(),z=Me(C);Xe(z,17,()=>i(w).entries,F=>F.year,(F,T)=>{var we=tt(),he=Me(we);{var me=Be=>{const dt=M(()=>i(bt)(i(T).year)??c.left),Je=M(()=>i(le)(Ne(i(T)))),Ie=M(()=>(i(T).field_size??0)>0),nt=M(()=>i(Ie)?`${oe(i(T)).toFixed(1)}%`:null);var He=Tp(),mt=p(He);{var Ce=Re=>{var Ue=Mp();O(Ue,"r",h),K(()=>{O(Ue,"cx",i(dt)),O(Ue,"cy",i(Je)),O(Ue,"fill",d[i(T).division]??"#f8fafc"),O(Ue,"stroke",i(w).color),O(Ue,"aria-label",`${i(w).band.name}: ${i(T).year} – ${i(T).division} plass ${i(T).rank} (absolutt #${i(T).absolute_position}${i(nt)?` · relativ ${i(nt)}`:""})${i(T).conductor?` – Dirigent: ${i(T).conductor}`:""}`)}),rn("mouseenter",Ue,et=>Ve(et,i(T),i(w).band.name,i(w).color)),rn("mouseleave",Ue,ft),rn("focus",Ue,et=>Ve(et,i(T),i(w).band.name,i(w).color)),rn("blur",Ue,ft),y(Re,Ue)},Ge=Re=>{var Ue=tt(),et=Me(Ue);{var ot=Ft=>{var de=Ap();O(de,"width",h*2),O(de,"height",h*2),K(()=>{O(de,"x",i(dt)-h),O(de,"y",i(Je)-h),O(de,"fill",d[i(T).division]??"#f8fafc"),O(de,"stroke",i(w).color),O(de,"aria-label",`${i(w).band.name}: ${i(T).year} – ${i(T).division} plass ${i(T).rank} (absolutt #${i(T).absolute_position}${i(nt)?` · relativ ${i(nt)}`:""})${i(T).conductor?` – Dirigent: ${i(T).conductor}`:""}`)}),rn("mouseenter",de,rt=>Ve(rt,i(T),i(w).band.name,i(w).color)),rn("mouseleave",de,ft),rn("focus",de,rt=>Ve(rt,i(T),i(w).band.name,i(w).color)),rn("blur",de,ft),y(Ft,de)},nn=Ft=>{var de=$p();K(rt=>{O(de,"d",rt),O(de,"fill",d[i(T).division]??"#f8fafc"),O(de,"stroke",i(w).color),O(de,"aria-label",`${i(w).band.name}: ${i(T).year} – ${i(T).division} plass ${i(T).rank} (absolutt #${i(T).absolute_position}${i(nt)?` · relativ ${i(nt)}`:""})${i(T).conductor?` – Dirigent: ${i(T).conductor}`:""}`)},[()=>It(i(dt),i(Je),h)]),rn("mouseenter",de,rt=>Ve(rt,i(T),i(w).band.name,i(w).color)),rn("mouseleave",de,ft),rn("focus",de,rt=>Ve(rt,i(T),i(w).band.name,i(w).color)),rn("blur",de,ft),y(Ft,de)};V(et,Ft=>{i(w).shape==="square"?Ft(ot):Ft(nn,!1)},!0)}y(Re,Ue)};V(mt,Re=>{i(w).shape==="circle"?Re(Ce):Re(Ge,!1)})}y(Be,He)};V(he,Be=>{i(bt)(i(T).year)!==void 0&&Be(me)})}y(F,we)}),y(m,C)}),cf(pt,m=>U(Ee,m),()=>i(Ee));var Dn=$(pt,2);{var ai=m=>{const w=M(()=>ht(i(Y).entry));var C=Up(),z=p(C),F=p(z),T=$(z,2);{var we=me=>{var Be=tt(),dt=Me(Be);Xe(dt,17,()=>i(w),We,(Je,Ie,nt)=>{var He=Lp(),mt=Me(He),Ce=p(mt),Ge=p(Ce),Re=$(Ce,2),Ue=p(Re),et=$(Re,2),ot=p(et),nn=$(et,2);{var Ft=At=>{const un=M(()=>oe(i(Ie)).toFixed(1));var Bn=Ip(),Cr=p(Bn);K(()=>B(Cr,`Relativ plassering: ${i(un)??""}%`)),y(At,Bn)};V(nn,At=>{(i(Ie).field_size??0)>0&&At(Ft)})}var de=$(nn,2),rt=p(de),xt=$(de,2);{var In=At=>{var un=Pp(),Bn=p(un);K(()=>B(Bn,`Poeng: ${i(Ie).points??""} / ${i(Ie).max_points??""}`)),y(At,un)};V(xt,At=>{i(Ie).points!==null&&At(In)})}var Ir=$(xt,2);{var Pr=At=>{var un=Cp(),Bn=p(un);K(Cr=>B(Bn,`Stykker: ${Cr??""}`),[()=>i(Ie).pieces.join("; ")]),y(At,un)};V(Ir,At=>{i(Ie).pieces.length>0&&At(Pr)})}var Ci=$(mt,2);{var Aa=At=>{var un=Rp();y(At,un)};V(Ci,At=>{nt<i(w).length-1&&At(Aa)})}K(()=>{B(Ge,i(Ie).band_name??"Ukjent korps"),B(Ue,`${i(Ie).division??""} · #${i(Ie).rank??""}`),B(ot,`Absolutt plassering: #${i(Ie).absolute_position??""}`),B(rt,`Deltakere: ${i(Ie).division_size??""} (div) / ${i(Ie).field_size??""} (totalt)`)}),y(Je,He)}),y(me,Be)},he=me=>{var Be=Bp(),dt=Me(Be),Je=p(dt),Ie=$(dt,2);{var nt=de=>{var rt=qp(),xt=p(rt);K(()=>B(xt,`Dirigent: ${i(Y).entry.conductor??""}`)),y(de,rt)};V(Ie,de=>{i(Y).entry.conductor&&de(nt)})}var He=$(Ie,2),mt=p(He),Ce=$(He,2);{var Ge=de=>{const rt=M(()=>oe(i(Y).entry).toFixed(1));var xt=Fp(),In=p(xt);K(()=>B(In,`Relativ plassering: ${i(rt)??""}%`)),y(de,xt)};V(Ce,de=>{(i(Y).entry.field_size??0)>0&&de(Ge)})}var Re=$(Ce,2),Ue=p(Re),et=$(Re,2);{var ot=de=>{var rt=Op(),xt=p(rt);K(()=>B(xt,`Poeng: ${i(Y).entry.points??""} / ${i(Y).entry.max_points??""}`)),y(de,rt)};V(et,de=>{i(Y).entry.points!==null&&de(ot)})}var nn=$(et,2);{var Ft=de=>{var rt=Dp(),xt=p(rt);K(In=>B(xt,`Stykker: ${In??""}`),[()=>i(Y).entry.pieces.join("; ")]),y(de,rt)};V(nn,de=>{i(Y).entry.pieces.length>0&&de(Ft)})}K(()=>{B(Je,`${i(Y).entry.division??""} · #${i(Y).entry.rank??""}`),B(mt,`Absolutt plassering: #${i(Y).entry.absolute_position??""}`),B(Ue,`Deltakere: ${i(Y).entry.division_size??""} (div) / ${i(Y).entry.field_size??""} (totalt)`)}),y(me,Be)};V(T,me=>{i(w)&&i(w).length?me(we):me(he,!1)})}K(()=>{Bi(C,`left: ${i(fe)}px; top: ${i(R)}px`),B(F,`${i(Y).entry.year??""} · ${i(Y).bandName??""}`)}),y(m,C)};V(Dn,m=>{i(Y)&&m(ai)})}var ur=$(Dn,2);Xe(ur,21,()=>i(Fe),We,(m,w)=>{var C=jp();let z;var F=p(C);K(T=>{Bi(C,`left: ${i(w).x}px`),z=vn(C,1,"svelte-idxsrp",null,z,T),B(F,i(w).year)},[()=>({inactive:i(w).inactive})]),y(m,C)});var wt=$(Qe,2);{var Mt=m=>{var w=Kp();Xe(w,21,()=>i(ve),We,(C,z)=>{var F=Hp(),T=p(F),we=p(T),he=$(we);{var me=Je=>{var Ie=zp();K(()=>O(Ie,"stroke",i(z).color)),y(Je,Ie)},Be=Je=>{var Ie=tt(),nt=Me(Ie);{var He=Ce=>{var Ge=Yp();K(()=>O(Ge,"stroke",i(z).color)),y(Ce,Ge)},mt=Ce=>{var Ge=Vp();K(Re=>{O(Ge,"d",Re),O(Ge,"stroke",i(z).color)},[()=>It(21,7,6)]),y(Ce,Ge)};V(nt,Ce=>{i(z).shape==="square"?Ce(He):Ce(mt,!1)},!0)}y(Je,Ie)};V(he,Je=>{i(z).shape==="circle"?Je(me):Je(Be,!1)})}var dt=$(T);K(()=>{O(we,"stroke",i(z).color),B(dt,` ${i(z).band.name??""}`)}),y(C,F)}),y(m,w)};V(wt,m=>{i(ve).length>0&&m(Mt)})}var qt=$(wt,2);{var tn=m=>{var w=Gp();Xe(w,21,()=>i(De),We,(C,z)=>{var F=Xp(),T=p(F),we=$(T);K(()=>{Bi(T,`background-color: ${d[i(z)]??"#94a3b8"}`),B(we,` ${i(z)??""}`)}),y(C,F)}),y(m,w)};V(qt,m=>{_t()&&m(tn)})}K(()=>Bi(ur,`top: ${i(st)}px`)),y(e,xe),cr()}function it(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}var Qp=A('<span class="test-piece-label svelte-urxxqj" title="Pliktstykke (fredag)">P:</span>'),Jp=A('<span class="own-choice-label svelte-urxxqj" title="Selvvalgt (lørdag)">S:</span>'),e_=A("<a> </a>"),t_=A("<span> </span>"),n_=A("<span>Ukjent</span>"),r_=A('<li class="svelte-urxxqj"><!> <!></li>'),i_=A('<ul class="piece-list svelte-urxxqj"></ul>'),a_=A("<span>Ukjent</span>"),s_=A('<a class="entity-link svelte-urxxqj"> </a>'),o_=A("<span>Ukjent</span>"),l_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),c_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),u_=A("<!> <!>",1),f_=A('<div class="streaming-links svelte-urxxqj"></div>'),d_=A('<span class="streaming-missing svelte-urxxqj" aria-hidden="true">–</span>'),v_=A('<tr class="svelte-urxxqj"><td data-label="År" class="svelte-urxxqj"> </td><td data-label="Divisjon" class="division-cell svelte-urxxqj"> </td><td data-label="Stykke" class="piece-cell svelte-urxxqj"><!></td><td data-label="Plass" class="svelte-urxxqj"> </td><td data-label="Poeng" class="svelte-urxxqj"> </td><td data-label="Dirigent" class="svelte-urxxqj"><!></td><td data-label="Opptak" class="streaming-cell svelte-urxxqj"><!></td></tr>'),h_=A('<article class="band-card svelte-urxxqj"><header class="band-header svelte-urxxqj"><div><h2 class="svelte-urxxqj"> </h2> <p class="band-count svelte-urxxqj"> </p></div></header> <div class="table-wrapper svelte-urxxqj" role="region"><table class="svelte-urxxqj"><thead class="svelte-urxxqj"><tr><th scope="col" class="svelte-urxxqj">År</th><th scope="col" class="division-column svelte-urxxqj">Divisjon</th><th scope="col" class="svelte-urxxqj">Stykke</th><th scope="col" class="svelte-urxxqj">Plass</th><th scope="col" class="svelte-urxxqj">Poeng</th><th scope="col" class="svelte-urxxqj">Dirigent</th><th scope="col" class="streaming-column svelte-urxxqj">Opptak</th></tr></thead><tbody class="svelte-urxxqj"></tbody></table></div></article>'),p_=A('<section class="band-performances svelte-urxxqj"></section>');function __(e,t){lr(t,!0);let n=$t(t,"bands",19,()=>[]),r=$t(t,"bandType",3,"wind"),a=$t(t,"eliteTestPieces",3,null);const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function o(S){return[...S].sort((E,N)=>{const X=E.year-N.year;if(X!==0)return X;const H=E.rank??Number.POSITIVE_INFINITY,G=N.rank??Number.POSITIVE_INFINITY;return H!==G?H-G:(E.absolute_position??Number.POSITIVE_INFINITY)-(N.absolute_position??Number.POSITIVE_INFINITY)})}function l(S){return S==null?"–":s.format(S)}function c(S){return S!=null?`${S}`:"–"}function u(S){return!!(S!=null&&S.spotify||S!=null&&S.apple_music)}function f(S){if(!S)return null;const E=S.trim();if(!E)return null;if(!/^https?:\/\//i.test(E))return E;try{const N=new URL(E);return`music://${`${N.host}${N.pathname}${N.search}${N.hash}`}`}catch(N){return console.warn("Kunne ikke konvertere Apple Music-lenke",N),E}}function d(S,E,N){var ke,Oe;if(!E)return S;const X=(ke=E.recording_title)==null?void 0:ke.trim(),H=(Oe=E.album)==null?void 0:Oe.trim(),G=N==="spotify"?"Spotify":"Apple Music",se=X&&X.length>0?X:S;return H&&H.length>0?`${se} • ${H} (${G})`:`${se} (${G})`}function v(S,E,N){return t.streamingResolver?t.streamingResolver(S,E,N)??null:null}function _(S){var X,H;const E=String(S),N=(H=(X=a())==null?void 0:X.test_pieces)==null?void 0:H[E];return N?{composer:N.composer,piece:N.piece}:null}function h(S){return(S||"").toLowerCase()==="elite"}let b=M(()=>n().map(S=>({...S,entries:o(S.entries)})));var x=p_();Xe(x,21,()=>i(b),We,(S,E)=>{var N=h_(),X=p(N),H=p(X),G=p(H),se=p(G),ke=$(G,2),Oe=p(ke),Ee=$(X,2),Z=p(Ee),ge=$(p(Z));Xe(ge,21,()=>i(E).entries,We,(Se,Y)=>{const fe=M(()=>Array.isArray(i(Y).pieces)?i(Y).pieces:[]),R=M(()=>i(fe).filter(te=>te&&te.trim().length>0)),qe=M(()=>r()==="brass"&&h(i(Y).division)?_(i(Y).year):null),oe=M(()=>{var te;return((te=i(Y).conductor)==null?void 0:te.trim())??""}),Ne=M(()=>i(oe).length>0),ze=M(()=>i(Ne)?it(i(oe)):""),Tt=M(()=>i(R).map(te=>{const ae=te.trim(),be=ae?it(ae):"",ie=ae?v(i(Y),i(E).name,ae):null;return{pieceName:ae,pieceSlug:be,streaming:ie,isTestPiece:!1}})),I=M(()=>i(qe)?[{pieceName:i(qe).piece,pieceSlug:it(i(qe).piece),streaming:v(i(Y),i(E).name,i(qe).piece),isTestPiece:!0}]:[]),j=M(()=>[...i(I),...i(Tt)]),ne=M(()=>i(j).filter(te=>u(te.streaming)));var Ae=v_(),Ze=p(Ae),Ye=p(Ze),ut=$(Ze),It=p(ut),St=$(ut),Rt=p(St);{var Jt=te=>{var ae=i_();Xe(ae,21,()=>i(j),We,(be,ie)=>{var Fe=r_(),st=p(Fe);{var De=xe=>{var Qe=Qp();y(xe,Qe)},_t=xe=>{var Qe=tt(),pt=Me(Qe);{var yt=Pt=>{var gt=Jp();y(Pt,gt)};V(pt,Pt=>{r()==="brass"&&h(i(Y).division)&&Pt(yt)},!0)}y(xe,Qe)};V(st,xe=>{i(ie).isTestPiece?xe(De):xe(_t,!1)})}var Ve=$(st,2);{var ft=xe=>{var Qe=e_();let pt;var yt=p(Qe);K((Pt,gt)=>{O(Qe,"href",Pt),pt=vn(Qe,1,"entity-link svelte-urxxqj",null,pt,gt),B(yt,i(ie).pieceName)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(ie).pieceSlug)}`,()=>({"test-piece-link":i(ie).isTestPiece})]),y(xe,Qe)},ht=xe=>{var Qe=tt(),pt=Me(Qe);{var yt=gt=>{var ln=t_(),cn=p(ln);K(()=>B(cn,i(ie).pieceName)),y(gt,ln)},Pt=gt=>{var ln=n_();y(gt,ln)};V(pt,gt=>{i(ie).pieceName?gt(yt):gt(Pt,!1)},!0)}y(xe,Qe)};V(Ve,xe=>{i(ie).pieceSlug?xe(ft):xe(ht,!1)})}y(be,Fe)}),y(te,ae)},Vt=te=>{var ae=a_();y(te,ae)};V(Rt,te=>{i(j).length>0?te(Jt):te(Vt,!1)})}var en=$(St),Nt=p(en),Lt=$(en),bt=p(Lt),Dt=$(Lt),Et=p(Dt);{var on=te=>{var ae=s_(),be=p(ae);K(ie=>{O(ae,"href",ie),B(be,i(oe))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(i(ze))}`]),y(te,ae)},re=te=>{var ae=o_();y(te,ae)};V(Et,te=>{i(Ne)?te(on):te(re,!1)})}var W=$(Dt),le=p(W);{var ve=te=>{var ae=f_();Xe(ae,21,()=>i(ne),We,(be,ie)=>{const Fe=M(()=>i(ie).streaming);var st=u_(),De=Me(st);{var _t=ht=>{var xe=l_(),Qe=p(xe),pt=p(Qe);K(yt=>{O(xe,"href",i(Fe).spotify),O(xe,"title",yt),B(pt,`Hør ${i(ie).pieceName??""} på Spotify`)},[()=>d(i(ie).pieceName,i(Fe),"spotify")]),y(ht,xe)};V(De,ht=>{var xe;(xe=i(Fe))!=null&&xe.spotify&&ht(_t)})}var Ve=$(De,2);{var ft=ht=>{const xe=M(()=>f(i(Fe).apple_music));var Qe=tt(),pt=Me(Qe);{var yt=Pt=>{var gt=c_(),ln=p(gt),cn=p(ln);K(Dn=>{O(gt,"href",i(xe)),O(gt,"title",Dn),B(cn,`Hør ${i(ie).pieceName??""} på Apple Music`)},[()=>d(i(ie).pieceName,i(Fe),"apple")]),y(Pt,gt)};V(pt,Pt=>{i(xe)&&Pt(yt)})}y(ht,Qe)};V(Ve,ht=>{var xe;(xe=i(Fe))!=null&&xe.apple_music&&ht(ft)})}y(be,st)}),y(te,ae)},at=te=>{var ae=d_();y(te,ae)};V(le,te=>{i(ne).length>0?te(ve):te(at,!1)})}K((te,ae)=>{B(Ye,i(Y).year),B(It,i(Y).division),B(Nt,te),B(bt,ae)},[()=>c(i(Y).rank),()=>l(i(Y).points)]),y(Se,Ae)}),K(()=>{B(se,i(E).name),B(Oe,`${i(E).entries.length??""} fremføringer`),O(Ee,"aria-label",`Fremføringer av ${i(E).name}`)}),y(S,N)}),y(e,x),cr()}var g_=A('<a class="entity-link svelte-7tq4ct"> </a>'),m_=A("<span> </span>"),y_=A("<span>Ukjent</span>"),w_=A('<a class="entity-link svelte-7tq4ct"> </a>'),b_=A("<span> </span>"),x_=A("<span>Ukjent</span>"),k_=A('<li class="svelte-7tq4ct"><!></li>'),S_=A('<ul class="piece-list svelte-7tq4ct"></ul>'),N_=A("<span>Ukjent</span>"),E_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),M_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),A_=A("<!> <!>",1),$_=A('<div class="streaming-links svelte-7tq4ct"></div>'),T_=A('<span class="streaming-missing svelte-7tq4ct" aria-hidden="true">–</span>'),I_=A('<tr class="svelte-7tq4ct"><td data-label="År" class="svelte-7tq4ct"> </td><td data-label="Divisjon" class="division-cell svelte-7tq4ct"> </td><td data-label="Korps" class="svelte-7tq4ct"><!></td><td data-label="Stykke" class="piece-cell svelte-7tq4ct"><!></td><td data-label="Plass" class="svelte-7tq4ct"> </td><td data-label="Poeng" class="svelte-7tq4ct"> </td><td data-label="Opptak" class="streaming-cell svelte-7tq4ct"><!></td></tr>'),P_=A('<article class="conductor-card svelte-7tq4ct"><header class="conductor-header svelte-7tq4ct"><div><h2 class="svelte-7tq4ct"> </h2> <p class="conductor-count svelte-7tq4ct"> </p></div></header> <div class="table-wrapper svelte-7tq4ct" role="region"><table class="svelte-7tq4ct"><thead class="svelte-7tq4ct"><tr><th scope="col" class="svelte-7tq4ct">År</th><th scope="col" class="division-column svelte-7tq4ct">Divisjon</th><th scope="col" class="svelte-7tq4ct">Korps</th><th scope="col" class="svelte-7tq4ct">Stykke</th><th scope="col" class="svelte-7tq4ct">Plass</th><th scope="col" class="svelte-7tq4ct">Poeng</th><th scope="col" class="streaming-column svelte-7tq4ct">Opptak</th></tr></thead><tbody class="svelte-7tq4ct"></tbody></table></div></article>'),C_=A('<section class="conductor-performances svelte-7tq4ct"></section>');function R_(e,t){lr(t,!0);let n=$t(t,"conductors",19,()=>[]),r=$t(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(b){return[...b].sort((x,S)=>{const E=x.year-S.year;if(E!==0)return E;const N=x.rank??Number.POSITIVE_INFINITY,X=S.rank??Number.POSITIVE_INFINITY;if(N!==X)return N-X;const H=(x.band_name??"").toLowerCase(),G=(S.band_name??"").toLowerCase();return H!==G?H.localeCompare(G):(x.absolute_position??Number.POSITIVE_INFINITY)-(S.absolute_position??Number.POSITIVE_INFINITY)})}function o(b){return b==null?"–":a.format(b)}function l(b){return b!=null?`${b}`:"–"}function c(b){return!!(b!=null&&b.spotify||b!=null&&b.apple_music)}function u(b){if(!b)return null;const x=b.trim();if(!x)return null;if(!/^https?:\/\//i.test(x))return x;try{const S=new URL(x);return`music://${`${S.host}${S.pathname}${S.search}${S.hash}`}`}catch(S){return console.warn("Kunne ikke konvertere Apple Music-lenke",S),x}}function f(b,x,S){var G,se;if(!x)return b;const E=(G=x.recording_title)==null?void 0:G.trim(),N=(se=x.album)==null?void 0:se.trim(),X=S==="spotify"?"Spotify":"Apple Music",H=E&&E.length>0?E:b;return N&&N.length>0?`${H} • ${N} (${X})`:`${H} (${X})`}function d(b,x,S){return t.streamingResolver?t.streamingResolver(b,x,S)??null:null}function v(b){const S=(b.entries??[]).flatMap(E=>(E.aggregate_entries&&Array.isArray(E.aggregate_entries)?E.aggregate_entries:[E]).map(X=>({...X,band_name:X.band_name??E.band_name??null})));return s(S)}let _=M(()=>n().map(b=>({...b,performances:v(b)})));var h=C_();Xe(h,21,()=>i(_),We,(b,x)=>{var S=P_(),E=p(S),N=p(E),X=p(N),H=p(X),G=$(X,2),se=p(G),ke=$(E,2),Oe=p(ke),Ee=$(p(Oe));Xe(Ee,21,()=>i(x).performances,We,(Z,ge)=>{const Se=M(()=>{var re;return((re=i(ge).band_name)==null?void 0:re.trim())??""}),Y=M(()=>i(Se).length>0),fe=M(()=>i(Y)?it(i(Se)):""),R=M(()=>Array.isArray(i(ge).pieces)?i(ge).pieces:[]),qe=M(()=>i(R).filter(re=>re&&re.trim().length>0)),oe=M(()=>i(qe).map(re=>{const W=re.trim(),le=W?it(W):"",ve=i(Y)&&W?d(i(ge),i(Se),W):null;return{pieceName:W,pieceSlug:le,streaming:ve}})),Ne=M(()=>i(oe).filter(re=>c(re.streaming)));var ze=I_(),Tt=p(ze),I=p(Tt),j=$(Tt),ne=p(j),Ae=$(j),Ze=p(Ae);{var Ye=re=>{var W=g_(),le=p(W);K(ve=>{O(W,"href",ve),B(le,i(Se))},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(i(fe))}`]),y(re,W)},ut=re=>{var W=tt(),le=Me(W);{var ve=te=>{var ae=m_(),be=p(ae);K(()=>B(be,i(Se))),y(te,ae)},at=te=>{var ae=y_();y(te,ae)};V(le,te=>{i(Y)?te(ve):te(at,!1)},!0)}y(re,W)};V(Ze,re=>{i(Y)&&i(fe)?re(Ye):re(ut,!1)})}var It=$(Ae),St=p(It);{var Rt=re=>{var W=S_();Xe(W,21,()=>i(oe),We,(le,ve)=>{var at=k_(),te=p(at);{var ae=ie=>{var Fe=w_(),st=p(Fe);K(De=>{O(Fe,"href",De),B(st,i(ve).pieceName)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(ve).pieceSlug)}`]),y(ie,Fe)},be=ie=>{var Fe=tt(),st=Me(Fe);{var De=Ve=>{var ft=b_(),ht=p(ft);K(()=>B(ht,i(ve).pieceName)),y(Ve,ft)},_t=Ve=>{var ft=x_();y(Ve,ft)};V(st,Ve=>{i(ve).pieceName?Ve(De):Ve(_t,!1)},!0)}y(ie,Fe)};V(te,ie=>{i(ve).pieceSlug?ie(ae):ie(be,!1)})}y(le,at)}),y(re,W)},Jt=re=>{var W=N_();y(re,W)};V(St,re=>{i(oe).length>0?re(Rt):re(Jt,!1)})}var Vt=$(It),en=p(Vt),Nt=$(Vt),Lt=p(Nt),bt=$(Nt),Dt=p(bt);{var Et=re=>{var W=$_();Xe(W,21,()=>i(Ne),We,(le,ve)=>{const at=M(()=>i(ve).streaming);var te=A_(),ae=Me(te);{var be=st=>{var De=E_(),_t=p(De),Ve=p(_t);K(ft=>{O(De,"href",i(at).spotify),O(De,"title",ft),B(Ve,`Hør ${i(ve).pieceName??""} på Spotify`)},[()=>f(i(ve).pieceName,i(at),"spotify")]),y(st,De)};V(ae,st=>{var De;(De=i(at))!=null&&De.spotify&&st(be)})}var ie=$(ae,2);{var Fe=st=>{const De=M(()=>u(i(at).apple_music));var _t=tt(),Ve=Me(_t);{var ft=ht=>{var xe=M_(),Qe=p(xe),pt=p(Qe);K(yt=>{O(xe,"href",i(De)),O(xe,"title",yt),B(pt,`Hør ${i(ve).pieceName??""} på Apple Music`)},[()=>f(i(ve).pieceName,i(at),"apple")]),y(ht,xe)};V(Ve,ht=>{i(De)&&ht(ft)})}y(st,_t)};V(ie,st=>{var De;(De=i(at))!=null&&De.apple_music&&st(Fe)})}y(le,te)}),y(re,W)},on=re=>{var W=T_();y(re,W)};V(Dt,re=>{i(Ne).length>0?re(Et):re(on,!1)})}K((re,W)=>{B(I,i(ge).year),B(ne,i(ge).division),B(en,re),B(Lt,W)},[()=>l(i(ge).rank),()=>o(i(ge).points)]),y(Z,ze)}),K(()=>{B(H,i(x).name),B(se,`${i(x).performances.length??""} fremføringer`),O(ke,"aria-label",`Fremføringer av ${i(x).name}`)}),y(b,S)}),y(e,h),cr()}function L_(e,t){const n=Number(e.target.value);U(t,Number.isNaN(n)?null:n,!0)}function q_(e,t){U(t,e.target.value||null,!0)}var F_=A('<p class="svelte-1e9ky18"> </p>'),O_=A('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),D_=A('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),B_=A("<option> </option>"),U_=A("<option selected>Ingen divisjoner</option>"),j_=A("<option> </option>"),z_=A('<span class="svelte-1e9ky18"> </span>'),Y_=A('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),V_=A('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),H_=A('<a class="entity-link svelte-1e9ky18"> </a>'),K_=A("<span>Ukjent</span>"),X_=A("<span>–</span>"),G_=A('<span class="test-piece-label svelte-1e9ky18" title="Pliktstykke (fredag)">P:</span>'),W_=A('<span class="own-choice-label svelte-1e9ky18" title="Selvvalgt (lørdag)">S:</span>'),Z_=A('<div class="program-piece svelte-1e9ky18"><!> <a> </a></div>'),Q_=A('<div class="program-list svelte-1e9ky18"></div>'),J_=A('<span class="streaming-missing" aria-hidden="true">–</span>'),eg=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),tg=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),ng=A('<span class="streaming-links svelte-1e9ky18"><!> <!></span>'),rg=A('<span class="streaming-missing" aria-hidden="true">–</span>'),ig=A('<div class="streaming-piece-row"><!></div>'),ag=A('<div class="streaming-list"></div>'),sg=A('<tr class="svelte-1e9ky18"><td data-label="Plass" class="svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td><td data-label="Opptak" class="streaming-cell svelte-1e9ky18"><!></td></tr>'),og=A('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th><th scope="col" class="streaming-column svelte-1e9ky18">Opptak</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),lg=A('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!>',1),cg=A('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2> <!></div> <!></section>');function ug(e,t){lr(t,!0);let n=$t(t,"dataset",3,null),r=$t(t,"bandType",3,"wind"),a=$t(t,"streamingResolver",3,void 0),s=$t(t,"eliteTestPieces",3,null);const o=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let l=Pe(null),c=Pe(null),u=M(()=>n()?x(n()):new Map),f=M(()=>{var I,j;return((j=(I=n())==null?void 0:I.metadata)==null?void 0:j.years)??[]}),d=M(()=>{var I,j;return((j=(I=n())==null?void 0:I.metadata)==null?void 0:j.generated_at)??null}),v=M(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||i(l)==null||!i(u).has(i(l)))return[];const I=i(u).get(i(l))??new Map,j=n().metadata.divisions.filter(Ae=>I.has(Ae)),ne=Array.from(I.keys()).filter(Ae=>!j.includes(Ae)).sort();return[...j,...ne]})()),_=M(()=>(()=>{if(i(l)!=null&&i(c)&&i(u).has(i(l))){const I=i(u).get(i(l)),j=(i(c)&&(I==null?void 0:I.get(i(c))))??[];return N(j)}return[]})()),h=M(()=>(()=>{var I;if(i(_).length>0){const j=(I=i(_)[0])==null?void 0:I.entry,ne=(j==null?void 0:j.division_size)??i(_).length;return ne&&ne>0?ne:null}return null})()),b=M(()=>(()=>{var I;if(i(_).length>0){const j=(I=i(_)[0])==null?void 0:I.entry,ne=(j==null?void 0:j.field_size)??null;return ne&&ne>0?ne:null}return null})());function x(I){const j=new Map;if(!(I!=null&&I.bands)||!Array.isArray(I.bands))return j;for(const ne of I.bands)if(!(!ne||!ne.entries||!Array.isArray(ne.entries)))for(const Ae of ne.entries){if(!Ae||typeof Ae.year!="number"||!Ae.division)continue;let Ze=j.get(Ae.year);Ze||(Ze=new Map,j.set(Ae.year,Ze));const Ye=Ae.division;let ut=Ze.get(Ye);ut||(ut=[],Ze.set(Ye,ut)),ut.push({band:ne.name,entry:Ae})}return j}function S(I){return I.length?i(l)&&I.includes(i(l))?i(l):I[I.length-1]??null:null}function E(I){return I.length?i(c)&&I.includes(i(c))?i(c):I[0]??null:null}function N(I){return[...I].sort((j,ne)=>{const Ae=j.entry.rank??Number.POSITIVE_INFINITY,Ze=ne.entry.rank??Number.POSITIVE_INFINITY;if(Ae!==Ze)return Ae-Ze;const Ye=j.entry.absolute_position??Number.POSITIVE_INFINITY,ut=ne.entry.absolute_position??Number.POSITIVE_INFINITY;return Ye!==ut?Ye-ut:j.band.localeCompare(ne.band)})}function X(I){return I!=null?`${I}`:"–"}function H(I,j){if(I==null&&j==null)return"–";const ne=I==null?"–":o.format(I);return j==null,ne}function G(I){return I.map(j=>j.trim()).filter(Boolean)}function se(I,j,ne){if(typeof a()!="function")return null;try{return a()(I,j,ne)??null}catch(Ae){return console.error("Kunne ikke hente streaming-lenke",Ae),null}}function ke(I){return!!(I!=null&&I.spotify||I!=null&&I.apple_music)}function Oe(I){if(!I)return null;const j=I.trim();if(!j)return null;if(!/^https?:\/\//i.test(j))return j;try{const ne=new URL(j);return`music://${`${ne.host}${ne.pathname}${ne.search}${ne.hash}`}`}catch(ne){return console.warn("Kunne ikke konvertere Apple Music-lenke",ne),j}}function Ee(I,j,ne){var It,St;if(!j)return I;const Ae=(It=j.recording_title)==null?void 0:It.trim(),Ze=(St=j.album)==null?void 0:St.trim(),Ye=ne==="spotify"?"Spotify":"Apple Music",ut=Ae&&Ae.length>0?Ae:I;return Ze&&Ze.length>0?`${ut} • ${Ze} (${Ye})`:`${ut} (${Ye})`}function Z(I){if(!I)return null;const j=new Date(I);return Number.isNaN(j.getTime())?I:new Intl.DateTimeFormat("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(j)}function ge(I){var Ae,Ze;const j=String(I),ne=(Ze=(Ae=s())==null?void 0:Ae.test_pieces)==null?void 0:Ze[j];return ne?{composer:ne.composer,piece:ne.piece}:null}function Se(I){return(I||"").toLowerCase()==="elite"}yi(()=>{if(n()&&i(f)&&Array.isArray(i(f))&&i(f).length>0){const I=S(i(f));i(l)!==I&&U(l,I,!0)}else U(l,null),U(c,null)}),yi(()=>{if(i(l)!=null&&i(v)&&Array.isArray(i(v))&&i(v).length>0){const I=E(i(v));i(c)!==I&&U(c,I,!0)}else i(l)!=null&&U(c,null)});let Y=M(()=>Z(i(d)));var fe=cg(),R=p(fe),qe=$(p(R),2);{var oe=I=>{var j=F_(),ne=p(j);K(()=>B(ne,`Data oppdatert ${i(Y)??""}`)),y(I,j)};V(qe,I=>{i(Y)&&I(oe)})}var Ne=$(R,2);{var ze=I=>{var j=O_();y(I,j)},Tt=I=>{var j=tt(),ne=Me(j);{var Ae=Ye=>{var ut=D_();y(Ye,ut)},Ze=Ye=>{var ut=lg(),It=Me(ut),St=p(It),Rt=$(p(St),2);Rt.__change=[L_,l],Xe(Rt,21,()=>i(f)||[],We,(W,le)=>{var ve=B_(),at=p(ve),te={};K(()=>{no(ve,i(l)===i(le)),B(at,i(le)),te!==(te=i(le))&&(ve.value=(ve.__value=i(le))??"")}),y(W,ve)});var Jt=$(St,2),Vt=$(p(Jt),2);Vt.__change=[q_,c];var en=p(Vt);{var Nt=W=>{var le=U_();le.value=le.__value="",y(W,le)},Lt=W=>{var le=tt(),ve=Me(le);Xe(ve,17,()=>i(v),We,(at,te)=>{var ae=j_(),be=p(ae),ie={};K(()=>{no(ae,i(c)===i(te)),B(be,i(te)),ie!==(ie=i(te))&&(ae.value=(ae.__value=i(te))??"")}),y(at,ae)}),y(W,le)};V(en,W=>{!i(v)||i(v).length===0?W(Nt):W(Lt,!1)})}var bt=$(Jt,2);{var Dt=W=>{var le=Y_(),ve=p(le),at=p(ve),te=$(ve,2);{var ae=be=>{var ie=z_(),Fe=p(ie);K(()=>B(Fe,`Totalt felt: ${i(b)??""}`)),y(be,ie)};V(te,be=>{i(b)&&be(ae)})}K(()=>B(at,`${i(h)??""} korps`)),y(W,le)};V(bt,W=>{i(h)&&W(Dt)})}var Et=$(It,2);{var on=W=>{var le=V_();y(W,le)},re=W=>{var le=og(),ve=p(le),at=$(p(ve));Xe(at,21,()=>i(_),We,(te,ae)=>{let be=()=>i(ae).band,ie=()=>i(ae).entry;var Fe=sg(),st=p(Fe),De=p(st),_t=$(st),Ve=p(_t),ft=p(Ve),ht=$(_t),xe=p(ht);{var Qe=wt=>{var Mt=H_(),qt=p(Mt);K((tn,m)=>{O(Mt,"href",tn),B(qt,m)},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(it(ie().conductor))}`,()=>ie().conductor.trim()]),y(wt,Mt)},pt=wt=>{var Mt=K_();y(wt,Mt)};V(xe,wt=>{ie().conductor&&ie().conductor.trim().length>0?wt(Qe):wt(pt,!1)})}var yt=$(ht),Pt=p(yt),gt=$(yt),ln=p(gt);{var cn=wt=>{const Mt=M(()=>r()==="brass"&&Se(ie().division)?ge(ie().year):null),qt=M(()=>G(ie().pieces)),tn=M(()=>i(Mt)?[{name:i(Mt).piece,isTestPiece:!0},...i(qt).map(F=>({name:F,isTestPiece:!1}))]:i(qt).map(F=>({name:F,isTestPiece:!1})));var m=tt(),w=Me(m);{var C=F=>{var T=X_();y(F,T)},z=F=>{var T=Q_();Xe(T,21,()=>i(tn),We,(we,he)=>{const me=M(()=>i(he).name);var Be=Z_(),dt=p(Be);{var Je=Ce=>{var Ge=G_();y(Ce,Ge)},Ie=Ce=>{var Ge=tt(),Re=Me(Ge);{var Ue=et=>{var ot=W_();y(et,ot)};V(Re,et=>{r()==="brass"&&Se(ie().division)&&et(Ue)},!0)}y(Ce,Ge)};V(dt,Ce=>{i(he).isTestPiece?Ce(Je):Ce(Ie,!1)})}var nt=$(dt,2);let He;var mt=p(nt);K((Ce,Ge)=>{O(nt,"href",Ce),He=vn(nt,1,"program-link svelte-1e9ky18",null,He,Ge),B(mt,i(me))},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(it(i(me)))}`,()=>({"test-piece-link":i(he).isTestPiece})]),y(we,Be)}),y(F,T)};V(w,F=>{i(tn).length===0?F(C):F(z,!1)})}y(wt,m)};V(ln,wt=>{wt(cn)})}var Dn=$(gt),ai=p(Dn);{var ur=wt=>{const Mt=M(()=>r()==="brass"&&Se(ie().division)?ge(ie().year):null),qt=M(()=>G(ie().pieces)),tn=M(()=>i(Mt)?[{name:i(Mt).piece,isTestPiece:!0},...i(qt).map(F=>({name:F,isTestPiece:!1}))]:i(qt).map(F=>({name:F,isTestPiece:!1})));var m=tt(),w=Me(m);{var C=F=>{var T=J_();y(F,T)},z=F=>{var T=ag();Xe(T,21,()=>i(tn),We,(we,he)=>{const me=M(()=>i(he).name),Be=M(()=>se(ie(),be(),i(me)));var dt=ig(),Je=p(dt);{var Ie=He=>{var mt=ng(),Ce=p(mt);{var Ge=et=>{var ot=eg(),nn=p(ot),Ft=p(nn);K(de=>{O(ot,"href",i(Be).spotify),O(ot,"title",de),B(Ft,`Hør ${i(me)??""} på Spotify`)},[()=>Ee(i(me),i(Be),"spotify")]),y(et,ot)};V(Ce,et=>{var ot;(ot=i(Be))!=null&&ot.spotify&&et(Ge)})}var Re=$(Ce,2);{var Ue=et=>{const ot=M(()=>Oe(i(Be).apple_music));var nn=tt(),Ft=Me(nn);{var de=rt=>{var xt=tg(),In=p(xt),Ir=p(In);K(Pr=>{O(xt,"href",i(ot)),O(xt,"title",Pr),B(Ir,`Hør ${i(me)??""} på Apple Music`)},[()=>Ee(i(me),i(Be),"apple")]),y(rt,xt)};V(Ft,rt=>{i(ot)&&rt(de)})}y(et,nn)};V(Re,et=>{var ot;(ot=i(Be))!=null&&ot.apple_music&&et(Ue)})}y(He,mt)},nt=He=>{var mt=rg();y(He,mt)};V(Je,He=>{ke(i(Be))?He(Ie):He(nt,!1)})}y(we,dt)}),y(F,T)};V(w,F=>{i(tn).length===0?F(C):F(z,!1)})}y(wt,m)};V(ai,wt=>{wt(ur)})}K((wt,Mt,qt)=>{B(De,wt),O(Ve,"href",Mt),B(ft,be()),B(Pt,qt)},[()=>X(ie().rank),()=>`?type=${r()}&view=bands&band=${encodeURIComponent(it(be()))}`,()=>H(ie().points,ie().max_points)]),y(te,Fe)}),y(W,le)};V(Et,W=>{!i(_)||i(_).length===0?W(on):W(re,!1)})}y(Ye,ut)};V(ne,Ye=>{!i(f)||!i(f).length?Ye(Ae):Ye(Ze,!1)},!0)}y(I,j)};V(Ne,I=>{n()?I(Tt,!1):I(ze)})}y(e,fe),cr()}_l(["change"]);function nc(e){return e.replace(/\s+/g," ").trim()}const fg=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function dg(e){return e.replace(fg,"").trim()}function hi(e){if(!e)return[];const t=dg(e);if(!t)return[];const r=t.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/·]/g,",").split(/[;,]/).map(s=>nc(s)).filter(s=>s.length>0),a=new Map;for(const s of r){const o=s.toLowerCase();a.has(o)||a.set(o,s)}return Array.from(a.values())}var vg=A('<a class="composer-link svelte-18hgr5c"> </a> ',1),hg=A('<p class="piece-composer svelte-18hgr5c"></p>'),pg=A('<p class="piece-composer svelte-18hgr5c"> </p>'),_g=A('<a class="entity-link svelte-18hgr5c"> </a>'),gg=A("<span>Ukjent</span>"),mg=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Spotify</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),yg=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Apple Music</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),wg=A('<div class="streaming-links svelte-18hgr5c"><!> <!></div>'),bg=A('<span class="streaming-missing svelte-18hgr5c" aria-hidden="true">–</span>'),xg=A('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td><td data-label="Opptak" class="streaming-cell svelte-18hgr5c"><!></td></tr>'),kg=A('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="svelte-18hgr5c">År</th><th scope="col" class="svelte-18hgr5c">Divisjon</th><th scope="col" class="svelte-18hgr5c">Korps</th><th scope="col" class="svelte-18hgr5c">Plass</th><th scope="col" class="svelte-18hgr5c">Poeng</th><th scope="col" class="svelte-18hgr5c">Dirigent</th><th scope="col" class="streaming-column svelte-18hgr5c">Opptak</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),Sg=A('<section class="pieces-view svelte-18hgr5c"></section>');function Ng(e,t){lr(t,!0);let n=$t(t,"pieces",19,()=>[]),r=$t(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(h){return[...h].sort((b,x)=>{const S=b.entry.year-x.entry.year;if(S!==0)return S;const E=b.entry.rank??Number.POSITIVE_INFINITY,N=x.entry.rank??Number.POSITIVE_INFINITY;return E!==N?E-N:b.band.localeCompare(x.band)})}function o(h){return h.composerNames&&h.composerNames.length>0?h.composerNames:h.composer?hi(h.composer):[]}function l(h){return h==null?"–":a.format(h)}function c(h){return h!=null?`${h}`:"–"}function u(h){return!!(h!=null&&h.spotify||h!=null&&h.apple_music)}function f(h){if(!h)return null;const b=h.trim();if(!b)return null;if(!/^https?:\/\//i.test(b))return b;try{const x=new URL(b);return`music://${`${x.host}${x.pathname}${x.search}${x.hash}`}`}catch(x){return console.warn("Kunne ikke konvertere Apple Music-lenke",x),b}}function d(h,b,x){var H,G;if(!b)return h;const S=(H=b.recording_title)==null?void 0:H.trim(),E=(G=b.album)==null?void 0:G.trim(),N=x==="spotify"?"Spotify":"Apple Music",X=S&&S.length>0?S:h;return E&&E.length>0?`${X} • ${E} (${N})`:`${X} (${N})`}let v=M(()=>n().map(h=>({...h,performances:s(h.performances)})));var _=Sg();Xe(_,21,()=>i(v),We,(h,b)=>{const x=M(()=>o(i(b)));var S=kg(),E=p(S),N=p(E),X=p(N),H=p(X),G=$(X,2);{var se=Y=>{var fe=hg();Xe(fe,21,()=>i(x),We,(R,qe,oe)=>{var Ne=vg(),ze=Me(Ne),Tt=p(ze),I=$(ze,1,!0);K(j=>{O(ze,"href",j),B(Tt,i(qe)),B(I,oe<i(x).length-1?", ":"")},[()=>`?type=${r()}&view=composers&composer=${encodeURIComponent(it(i(qe)))}`]),y(R,Ne)}),y(Y,fe)},ke=Y=>{var fe=tt(),R=Me(fe);{var qe=oe=>{var Ne=pg(),ze=p(Ne);K(()=>B(ze,i(b).composer)),y(oe,Ne)};V(R,oe=>{i(b).composer&&oe(qe)},!0)}y(Y,fe)};V(G,Y=>{i(x).length>0?Y(se):Y(ke,!1)})}var Oe=$(G,2),Ee=p(Oe),Z=$(E,2),ge=p(Z),Se=$(p(ge));Xe(Se,21,()=>i(b).performances,We,(Y,fe)=>{const R=M(()=>{var re;return((re=i(fe).entry.conductor)==null?void 0:re.trim())??""}),qe=M(()=>i(R).length>0),oe=M(()=>i(qe)?it(i(R)):""),Ne=M(()=>it(i(fe).band)),ze=M(()=>i(fe).streaming??null);var Tt=xg(),I=p(Tt),j=p(I),ne=$(I),Ae=p(ne),Ze=$(ne),Ye=p(Ze),ut=p(Ye),It=$(Ze),St=p(It),Rt=$(It),Jt=p(Rt),Vt=$(Rt),en=p(Vt);{var Nt=re=>{var W=_g(),le=p(W);K(ve=>{O(W,"href",ve),B(le,i(R))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(i(oe))}`]),y(re,W)},Lt=re=>{var W=gg();y(re,W)};V(en,re=>{i(qe)?re(Nt):re(Lt,!1)})}var bt=$(Vt),Dt=p(bt);{var Et=re=>{var W=wg(),le=p(W);{var ve=ae=>{var be=mg();K(ie=>{O(be,"href",i(ze).spotify),O(be,"title",ie)},[()=>d(i(b).name,i(ze),"spotify")]),y(ae,be)};V(le,ae=>{var be;(be=i(ze))!=null&&be.spotify&&ae(ve)})}var at=$(le,2);{var te=ae=>{const be=M(()=>f(i(ze).apple_music));var ie=tt(),Fe=Me(ie);{var st=De=>{var _t=yg();K(Ve=>{O(_t,"href",i(be)),O(_t,"title",Ve)},[()=>d(i(b).name,i(ze),"apple")]),y(De,_t)};V(Fe,De=>{i(be)&&De(st)})}y(ae,ie)};V(at,ae=>{var be;(be=i(ze))!=null&&be.apple_music&&ae(te)})}y(re,W)},on=re=>{var W=bg();y(re,W)};V(Dt,re=>{u(i(ze))?re(Et):re(on,!1)})}K((re,W,le)=>{B(j,i(fe).entry.year),B(Ae,i(fe).entry.division),O(Ye,"href",re),B(ut,i(fe).band),B(St,W),B(Jt,le)},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(i(Ne))}`,()=>c(i(fe).entry.rank),()=>l(i(fe).entry.points)]),y(Y,Tt)}),K(()=>{B(H,i(b).name),B(Ee,`${i(b).performances.length??""} fremføringer`),O(Z,"aria-label",`Fremføringer av ${i(b).name}`)}),y(h,S)}),y(e,_),cr()}var Eg=A('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),Mg=A('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),Ag=A('<section class="composers-view svelte-1njzana"></section>');function $g(e,t){lr(t,!0);let n=$t(t,"composers",19,()=>[]),r=$t(t,"bandType",3,"wind"),a=M(()=>[...n()].sort((o,l)=>o.name.localeCompare(l.name)));var s=Ag();Xe(s,21,()=>i(a),We,(o,l)=>{var c=Mg(),u=p(c),f=p(u),d=p(f),v=p(d),_=$(d,2),h=p(_),b=$(u,2);Xe(b,21,()=>i(l).pieces,We,(x,S)=>{var E=Eg(),N=p(E),X=p(N);K(H=>{O(N,"href",H),B(X,i(S).name)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(S).slug)}`]),y(x,E)}),K(()=>{B(v,i(l).name),B(h,`${i(l).pieces.length??""} ${i(l).pieces.length===1?"stykke":"stykker"}`)}),y(o,c)}),y(e,s),cr()}function Tg(e,t){U(t,!i(t))}function Ig(e,t){U(t,!i(t))}function Pg(e,t,n,r,a,s){t(i(n)==="dark"?"light":"dark"),r(),a(),s()}function Cg(e,t,n,r,a,s){t(i(n)==="wind"?"brass":"wind"),r(),a(),s()}function Rg(e,t,n){U(t,e.target.value,!0),U(n,-1)}function Lg(e,t,n,r){i(t).length&&(e.key==="ArrowDown"?(e.preventDefault(),U(n,(i(n)+1)%i(t).length)):e.key==="ArrowUp"?(e.preventDefault(),U(n,(i(n)-1+i(t).length)%i(t).length)):e.key==="Enter"&&i(n)>=0&&(e.preventDefault(),r(i(t)[i(n)])))}var qg=(e,t,n)=>t(i(n)),Fg=A('<button type="button"> </button>'),Og=A('<div role="option" tabindex="-1"> </div>'),Dg=A('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),Bg=A('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!>',1),Ug=A('<section class="status svelte-1n46o8q">Laster data…</section>'),jg=A('<section class="status error svelte-1n46o8q"> </section>'),zg=A('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),Yg=(e,t)=>t("absolute"),Vg=(e,t)=>t("relative"),Hg=(e,t)=>t("fitted"),Kg=(e,t)=>t("full"),Xg=(e,t)=>t("absolute"),Gg=(e,t)=>t("relative"),Wg=A('<div class="mode-toggle__menu svelte-1n46o8q" id="mode-toggle-menu" role="menu"><button type="button">Absolutt</button> <button type="button">Relativ</button></div>'),Zg=A('<p class="comparison-summary svelte-1n46o8q"> </p>'),Qg=A('<section class="chart-card svelte-1n46o8q"><div class="mode-toggles-container svelte-1n46o8q"><div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Plassering:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg plasseringsvisning"><button type="button">Absolutt</button> <button type="button">Relativ</button></div></div> <div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Y-akse:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg y-akse skalering"><button type="button">Tilpasset</button> <button type="button">Full</button></div></div> <button type="button" class="mode-toggle__menu-trigger svelte-1n46o8q" aria-controls="mode-toggle-menu">Tilpass</button> <!></div> <div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),Jg=(e,t,n)=>t(i(n).slug),em=A('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),tm=A('<!> <div class="selected-entities selected-entities--below svelte-1n46o8q" role="list"></div> <!>',1),nm=A('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),rm=A('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><div class="page-header__title svelte-1n46o8q"><h1 class="svelte-1n46o8q"> </h1> <button class="menu-toggle svelte-1n46o8q" type="button" aria-controls="primary-controls"><span class="menu-toggle__icon svelte-1n46o8q" aria-hidden="true">☰</span> <span class="menu-toggle__text svelte-1n46o8q">Meny</span></button></div> <div id="primary-controls"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button class="band-type-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="band-type-toggle__text svelte-1n46o8q"> </span></button> <button class="theme-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="theme-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function im(e,t){lr(t,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},r="mode",a="yaxis",s="view",o="type",l=",",c="relative",u="fitted",f="bands",d="wind",v="nmkorps-theme",_="nmkorps-band-type",h={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat"},b=["bands","conductors","pieces","composers","data"];let x=Pe(null),S=Pe(Xt([])),E=Pe(Xt([])),N=Pe(Xt([])),X=Pe(!0),H=Pe(null),G=Pe(""),se=Pe(Xt([])),ke=Pe(Xt([])),Oe=Pe(Xt([])),Ee=Pe(Xt([])),Z=Pe(-1),ge=!1,Se="",Y=Pe(c),fe=Pe("fitted"),R=Pe(f),qe=Pe("dark"),oe=Pe("wind"),Ne=Pe(!1),ze=Pe(!1),Tt=Pe(!1),I=new Map,j=new Map,ne=Pe(null);function Ae(g){const k=new Map;for(const L of g){if(!L||!L.slug)continue;const P=L.slug.trim();if(!P)continue;const q=k.get(P);q?q.push(L):k.set(P,[L])}return k}function Ze(g){var L,P;const k=new Map;for(const q of g){if(!q)continue;const Q=Number(q.year);if(!Number.isFinite(Q))continue;const ee=q.division_slug??q.division,J=q.band_slug??q.band,ue=q.result_piece_slug??q.result_piece;if(!ee||!J||!ue)continue;const ce=it(ee),pe=it(J);if(ce==="uidentifisert"||!pe||pe==="uidentifisert")continue;const $e=new Set,ye=it(ue);if(ye!=="uidentifisert"&&$e.add(ye),q.alternate_result_piece_slugs&&Array.isArray(q.alternate_result_piece_slugs))for(const kt of q.alternate_result_piece_slugs){const Ht=kt?it(kt):"";Ht&&Ht!=="uidentifisert"&&$e.add(Ht)}if(q.result_piece&&q.result_piece.trim()){const kt=it(q.result_piece);kt!=="uidentifisert"&&$e.add(kt)}if(!$e.size)continue;const vt=typeof q.spotify=="string"&&q.spotify.trim().length>0?q.spotify.trim():null,je=typeof q.apple_music=="string"&&q.apple_music.trim().length>0?q.apple_music.trim():null;if(!vt&&!je)continue;const lt={spotify:vt,apple_music:je,album:((L=q.album)==null?void 0:L.trim())??null,recording_title:((P=q.recording_title)==null?void 0:P.trim())??null};for(const kt of $e){const Ht=`${Q}|${ce}|${pe}|${kt}`;k.set(Ht,lt)}}return k}function Ye(g,k,L){if(!j.size)return null;const P=it(g.division),q=it(k);if(P==="uidentifisert"||!q||q==="uidentifisert")return null;const Q=`${g.year}|${P}|${q}`;let ee=Jt(L);if(!ee.length){const J=it(L);ee=J!=="uidentifisert"?[J]:[]}for(const J of ee){const ue=`${Q}|${J}`,ce=j.get(ue);if(ce)return ce}return null}const ut=/["'«»“”„‟]/g,It=/\([^)]*\)/g;function St(g){return g.replace(It," ")}function Rt(g){return g.replace(ut,"").replace(/\s+/g," ").trim().toLowerCase()}function Jt(g){const k=g.trim();if(!k)return[];const L=new Set,P=it(k);P!=="uidentifisert"&&L.add(P);const q=St(k),Q=it(q);Q!=="uidentifisert"&&L.add(Q);const ee=Rt(k),J=it(ee.replace(/[-–—]/g," "));J!=="uidentifisert"&&L.add(J);const ue=it(ee.replace(/[:;·]/g," "));ue!=="uidentifisert"&&L.add(ue);const ce=[];q.includes("-")&&ce.push(q.split(/[-–—]/)[0]),q.includes(":")&&ce.push(q.split(":")[0]);for(const pe of ce){const $e=it(pe);$e!=="uidentifisert"&&L.add($e)}return Array.from(L)}function Vt(g,k){const L=Jt(g);if(!L.length)return null;const P=Rt(g),q=Rt(St(g));for(const Q of L){const ee=k.get(Q);if(!ee||ee.length===0)continue;if(ee.length===1)return ee[0].composer??null;const J=ee.find(ce=>Rt(ce.title)===P);if(J)return J.composer??null;const ue=ee.find(ce=>Rt(St(ce.title))===q);return ue?ue.composer??null:ee[0].composer??null}return null}function en(g,k){const L=Array.isArray(g.pieces)?[...g.pieces]:g.pieces!=null?[`${g.pieces}`.trim()].filter(Boolean):[],P={...g,pieces:L,conductor:g.conductor};return k&&(P.band_name=k),P}function Nt(g){var L;const k=new Map;for(const P of g)for(const q of P.entries){const Q=(L=q.conductor)==null?void 0:L.trim();if(!Q)continue;const ee=it(Q);let J=k.get(ee);J||(J={name:Q,slug:ee,years:new Map},k.set(ee,J));let ue=J.years.get(q.year);ue||(ue={entries:[]},J.years.set(q.year,ue)),ue.entries.push(en(q,P.name))}return Array.from(k.values()).map(P=>({name:P.name,slug:P.slug,entries:Array.from(P.years.entries()).map(([q,Q])=>{const ee=[...Q.entries].sort((ue,ce)=>{const pe=ue.absolute_position??Number.POSITIVE_INFINITY,$e=ce.absolute_position??Number.POSITIVE_INFINITY;return pe!==$e?pe-$e:(ue.rank??Number.POSITIVE_INFINITY)-(ce.rank??Number.POSITIVE_INFINITY)});return{...ee[0],year:q,conductor:P.name,aggregate_entries:ee}}).sort((q,Q)=>q.year-Q.year)})).sort((P,q)=>P.name.localeCompare(q.name))}function Lt(g,k,L){if(!(L!=null&&L.test_pieces))return;const P=new Map;for(const q of k)for(const Q of q.entries)P.has(Q.year)||P.set(Q.year,[]),P.get(Q.year).push({band:q.name,entry:Q});for(const[q,Q]of Object.entries(L.test_pieces)){const ee=Number(q);if(!P.has(ee))continue;const J=Q.piece,ue=Q.composer,ce=it(J),$e=P.get(ee).filter(({entry:vt})=>vt.division.toLowerCase()==="elite");if($e.length===0)continue;let ye=g.get(ce);if(ye)!ye.composer&&ue&&(ye.composer=ue,ye.composerNames=hi(ue));else{const vt=ue?hi(ue):[];ye={name:J,slug:ce,composer:ue??null,composerNames:vt,performances:[]},g.set(ce,ye)}for(const{band:vt,entry:je}of $e){const lt=Ye(je,vt,J);ye.performances.push({band:vt,entry:je,streaming:lt})}}}function bt(g,k,L,P){var Q;const q=new Map;for(const ee of g)for(const J of ee.entries){const ue=Array.isArray(J.pieces)?J.pieces:J.pieces!=null?[`${J.pieces}`]:[];for(const ce of ue){const pe=ce.trim();if(!pe)continue;const $e=it(pe);let ye=q.get($e);const vt=Vt(pe,k),je=vt?hi(vt):[],lt=je.length>0?je.join(", "):null;ye?(!ye.composer||!((Q=ye.composerNames)!=null&&Q.length))&&lt&&(ye.composer=lt,ye.composerNames=je):(ye={name:pe,slug:$e,composer:lt,composerNames:je,performances:[]},q.set($e,ye));const kt=Ye(J,ee.name,pe);ye.performances.push({band:ee.name,entry:J,streaming:kt})}}return P==="brass"&&Lt(q,g,L),Array.from(q.values()).map(ee=>({...ee,performances:ee.performances.map(({band:J,entry:ue,streaming:ce})=>({band:J,entry:{...ue,pieces:[...ue.pieces]},streaming:ce??null}))})).sort((ee,J)=>ee.name.localeCompare(J.name))}function Dt(g){const k=new Map;for(const P of g){const q=P.composerNames&&P.composerNames.length>0?P.composerNames:hi(P.composer??null);if(q.length)for(const Q of q){const ee=nc(Q);if(!ee)continue;const J=it(ee);if(J==="uidentifisert")continue;let ue=k.get(J);ue||(ue={name:ee,slug:J,normalized:ee.toLowerCase(),pieces:new Map},k.set(J,ue)),ue.pieces.has(P.slug)||ue.pieces.set(P.slug,{name:P.name,slug:P.slug})}}const L=Array.from(k.values()).map(P=>({name:P.name,slug:P.slug,normalized:P.normalized,pieces:Array.from(P.pieces.values()).sort((q,Q)=>q.name.localeCompare(Q.name))})).sort((P,q)=>P.name.localeCompare(q.name));return new Map(L.map(P=>[P.slug,P])),L}function Et(g){return g==="data"?"data":n[g]}function on(){if(typeof window>"u")return c;const k=new URLSearchParams(window.location.search).get(r);return(k?k.toLowerCase():null)==="absolute"?"absolute":"relative"}function re(){if(typeof window>"u")return u;const k=new URLSearchParams(window.location.search).get(a);return(k?k.toLowerCase():null)==="full"?"full":"fitted"}function W(){var k;if(typeof window>"u")return"dark";try{const L=window.localStorage.getItem(v);if(L==="light"||L==="dark")return L}catch(L){console.error("Kunne ikke lese lagret tema",L)}return((k=window.matchMedia)==null?void 0:k.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function le(g){typeof document>"u"||(g==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function ve(){var L;if(typeof window>"u")return d;const k=(L=new URLSearchParams(window.location.search).get(o))==null?void 0:L.toLowerCase();return k==="brass"||k==="brassband"?"brass":k==="wind"||k==="janitsjar"?"wind":d}function at(){var L;if(typeof window>"u")return d;const k=(L=new URLSearchParams(window.location.search).get(o))==null?void 0:L.toLowerCase();if(k==="brass"||k==="brassband")return"brass";if(k==="wind"||k==="janitsjar")return"wind";try{const P=window.localStorage.getItem(_);if(P==="wind"||P==="brass")return P}catch(P){console.error("Kunne ikke lese lagret korptype",P)}return d}function te(g){typeof document>"u"||(document.documentElement.dataset.bandType=g)}function ae(g){if(U(qe,g,!0),le(g),typeof window<"u")try{window.localStorage.setItem(v,g)}catch(k){console.error("Kunne ikke lagre tema",k)}}function be(g,k=!0){if(i(oe)!==g){if(U(oe,g,!0),te(g),typeof window<"u")try{window.localStorage.setItem(_,g)}catch(L){console.error("Kunne ikke lagre korptype",L)}if(U(se,[],!0),U(ke,[],!0),U(Oe,[],!0),U(Ee,[],!0),U(G,""),U(Z,-1),k&&typeof window<"u"){const L=new URLSearchParams;L.set(o,g);const P=`${window.location.pathname}?${L.toString()}${window.location.hash}`;window.history.replaceState({},"",P)}U(X,!0),U(H,null),U(x,null),U(S,[],!0),U(E,[],!0),U(N,[],!0),j=new Map,ur(g)}}function ie(){U(Ne,!1)}function Fe(){U(ze,!1)}function st(){U(Tt,!1)}function De(){var L;if(typeof window>"u")return f;const k=(L=new URLSearchParams(window.location.search).get(s))==null?void 0:L.toLowerCase();return k?k==="conductors"||k==="dirigent"||k==="conductor"?"conductors":k==="pieces"||k==="piece"||k==="stykke"||k==="stykker"?"pieces":k==="composers"||k==="komponist"||k==="composer"?"composers":k==="data"||k==="resultat"||k==="results"?"data":"bands":f}function _t(g){if(typeof window>"u")return[];const L=new URLSearchParams(window.location.search).get(Et(g));return L?L.split(l).map(P=>decodeURIComponent(P.trim())).filter(Boolean):[]}function Ve(g,k){if(!g.length||!k.length)return[];const L=new Map(g.map(P=>[P.slug,P]));return k.map(P=>L.get(P)??L.get(P.toLowerCase())).filter(P=>!!P)}function ft(g,k){return g.length!==k.length?!1:g.every((L,P)=>L.slug===k[P].slug)}function ht(){if(typeof window>"u")return;const g=new URLSearchParams(window.location.search);g.set(o,i(oe));const k=i(se).map(J=>encodeURIComponent(J.slug)).join(l);k.length?g.set(Et("bands"),k):g.delete(Et("bands"));const L=i(ke).map(J=>encodeURIComponent(J.slug)).join(l);L.length?g.set(Et("conductors"),L):g.delete(Et("conductors"));const P=i(Oe).map(J=>encodeURIComponent(J.slug)).join(l);P.length?g.set(Et("pieces"),P):g.delete(Et("pieces"));const q=i(Ee).map(J=>encodeURIComponent(J.slug)).join(l);q.length?g.set(Et("composers"),q):g.delete(Et("composers")),g.set(r,i(Y)),g.set(a,i(fe)),g.set(s,i(R));const Q=g.toString(),ee=`${window.location.pathname}${Q?`?${Q}`:""}${window.location.hash}`;window.history.replaceState({},"",ee)}function xe({updateHistory:g=!1}={}){const k=on(),L=re(),P=De(),q=ve();let Q=!1;if(q!==i(oe))return be(q,!1),Q=!0,Q;if(k!==i(Y)&&(U(Y,k,!0),Q=!0),L!==i(fe)&&(U(fe,L,!0),Q=!0),P!==i(R)&&(U(R,P,!0),Q=!0),!i(x))return g&&ht(),Q;const ee=Ve(i(x).bands,_t("bands")),J=[...i(se)];for(const je of ee)J.some(lt=>lt.slug===je.slug)||J.push(je);ft(i(se),J)||(U(se,J,!0),Q=!0),i(S).length||U(S,Nt(i(x).bands),!0);const ue=Ve(i(S),_t("conductors")),ce=[...i(ke)];for(const je of ue)ce.some(lt=>lt.slug===je.slug)||ce.push(je);ft(i(ke),ce)||(U(ke,ce,!0),Q=!0),i(E).length||(U(E,bt(i(x).bands,I,i(ne),i(oe)),!0),U(N,Dt(i(E)),!0));const pe=Ve(i(E),_t("pieces")),$e=[...i(Oe)];for(const je of pe)$e.some(lt=>lt.slug===je.slug)||$e.push(je);ft(i(Oe),$e)||(U(Oe,$e,!0),Q=!0),i(N).length||U(N,Dt(i(E)),!0);const ye=Ve(i(N),_t("composers")),vt=[...i(Ee)];for(const je of ye)vt.some(lt=>lt.slug===je.slug)||vt.push(je);return ft(i(Ee),vt)||(U(Ee,vt,!0),Q=!0),g&&ht(),Q}function Qe(){const g=i(se).map(q=>q.slug).join(l),k=i(ke).map(q=>q.slug).join(l),L=i(Oe).map(q=>q.slug).join(l),P=i(Ee).map(q=>q.slug).join(l);return`${i(oe)}|${i(R)}|${i(Y)}|${i(fe)}|${g}|${k}|${L}|${P}`}function pt(){if(!ge)return;const g=Qe();g!==Se&&(ht(),Se=g)}function yt(g){if(i(R)==="bands"){if(i(se).some(k=>k.slug===g.slug))return;U(se,[...i(se),g],!0)}else if(i(R)==="conductors"){if(i(ke).some(k=>k.slug===g.slug))return;U(ke,[...i(ke),g],!0)}else if(i(R)==="pieces"){const k=g;if(i(Oe).some(L=>L.slug===k.slug))return;U(Oe,[...i(Oe),k],!0)}else if(i(R)==="composers"){const k=g;if(i(Ee).some(L=>L.slug===k.slug))return;U(Ee,[...i(Ee),k],!0)}U(G,""),U(Z,-1),pt()}function Pt(g){i(R)==="bands"?U(se,i(se).filter(k=>k.slug!==g),!0):i(R)==="conductors"?U(ke,i(ke).filter(k=>k.slug!==g),!0):i(R)==="pieces"?U(Oe,i(Oe).filter(k=>k.slug!==g),!0):i(R)==="composers"&&U(Ee,i(Ee).filter(k=>k.slug!==g),!0),U(Z,-1),pt()}function gt(){if(i(wt).length===0)return;const g=i(tn).find(k=>k.name.toLowerCase()===i(Mt));g?yt(g):i(w).length>0&&yt(i(w)[0])}function ln(g){if(g===i(R)){ie(),Fe();return}U(R,g,!0),U(G,""),U(Z,-1),ie(),Fe(),pt()}function cn(g){if(i(Y)===g){Fe();return}U(Y,g,!0),Fe(),pt()}function Dn(g){i(fe)!==g&&(U(fe,g,!0),pt())}async function ai(){try{const g=await fetch("data/elite_test_pieces.json",{cache:"no-cache"});if(!g.ok)throw new Error("Failed to load elite_test_pieces.json");U(ne,await g.json(),!0)}catch(g){console.error("Could not load Elite test pieces:",g),U(ne,null)}}async function ur(g){try{const k=g==="wind"?"data/band_positions.json":"data/brass_positions.json",L=g==="wind"?"data/piece_metadata.json":"data/brass_piece_metadata.json",P="data/piece_streaming_links.json",[q,Q,ee]=await Promise.all([fetch(k),fetch(L),fetch(P)]);if(g==="brass"&&i(ne)===null&&await ai(),!q.ok)throw new Error(`Kunne ikke laste data (status ${q.status})`);let J=[];if(Q.ok)try{const pe=await Q.json();J=(Array.isArray(pe.pieces)?pe.pieces:[]).filter(ye=>!!(ye!=null&&ye.title&&(ye!=null&&ye.slug))).map(ye=>({title:ye.title.trim(),slug:ye.slug.trim(),composer:ye.composer??null}))}catch(pe){console.warn("Kunne ikke tolke stykke-metadata",pe)}else console.warn(`Kunne ikke laste stykke-metadata (status ${Q.status})`);I=Ae(J);let ue=[];if(ee.ok)try{const pe=await ee.json(),$e=pe==null?void 0:pe[g];Array.isArray($e)&&(ue=$e.filter(ye=>!!ye))}catch(pe){console.warn("Kunne ikke tolke opptakslenker",pe)}else ee.status!==404&&console.warn(`Kunne ikke laste opptakslenker (status ${ee.status})`);j=Ze(ue);const ce=await q.json();U(x,ce,!0),U(S,Nt(ce.bands),!0),U(E,bt(ce.bands,I,i(ne),g),!0),U(N,Dt(i(E)),!0),xe({updateHistory:!1}),Se=Qe(),ht(),ge=!0}catch(k){U(H,k instanceof Error?k.message:"Ukjent feil ved lasting av data.",!0)}finally{U(X,!1)}}mi(async()=>{const g=W();U(qe,g,!0),le(g);const k=at();U(oe,k,!0),te(k),await ur(k)}),mi(()=>{const g=()=>{i(x)&&(xe({updateHistory:!1}),Se=Qe())};return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)}),mi(()=>{const g=k=>{var q,Q,ee,J;const P=k.target.closest("a.entity-link, a.program-link");if(!(!P||!(P instanceof HTMLAnchorElement))&&!(k.ctrlKey||k.metaKey||k.shiftKey))try{const ue=new URL(P.href),ce=new URLSearchParams(ue.search),pe=ce.get("band"),$e=ce.get("conductor"),ye=ce.get("piece"),vt=ce.get("composer"),je=ce.get("type"),lt=ce.get("view");if(je&&je!==i(oe))return;k.preventDefault();const kt=new URLSearchParams(window.location.search),Ht=((q=kt.get("band"))==null?void 0:q.split(",").filter(Boolean))||[],Un=((Q=kt.get("conductor"))==null?void 0:Q.split(",").filter(Boolean))||[],Rr=((ee=kt.get("piece"))==null?void 0:ee.split(",").filter(Boolean))||[],wn=((J=kt.get("composer"))==null?void 0:J.split(",").filter(Boolean))||[];pe&&!Ht.includes(pe)&&Ht.push(pe),$e&&!Un.includes($e)&&Un.push($e),ye&&!Rr.includes(ye)&&Rr.push(ye),vt&&!wn.includes(vt)&&wn.push(vt);const fn=new URLSearchParams(kt);Ht.length&&fn.set("band",Ht.join(",")),Un.length&&fn.set("conductor",Un.join(",")),Rr.length&&fn.set("piece",Rr.join(",")),wn.length&&fn.set("composer",wn.join(",")),lt&&fn.set("view",lt);const fr=`${window.location.pathname}?${fn.toString()}${window.location.hash}`;window.history.pushState({},"",fr),xe({updateHistory:!1}),Se=Qe()}catch(ue){console.error("Error handling link click:",ue)}};return document.addEventListener("click",g),()=>document.removeEventListener("click",g)}),yi(()=>{document.title=i(oe)==="wind"?"NM Janitsjar - Resultatoversikt":"NM Brass - Resultatoversikt"});let wt=M(()=>i(G).trim()),Mt=M(()=>i(wt).toLowerCase()),qt=M(()=>i(R)==="bands"||i(R)==="conductors"||i(R)==="pieces"||i(R)==="composers"),tn=M(()=>{var g;return i(qt)?i(R)==="bands"?((g=i(x))==null?void 0:g.bands)??[]:i(R)==="conductors"?i(S):i(R)==="pieces"?i(E):i(N):[]}),m=M(()=>i(R)==="bands"?i(se):i(R)==="conductors"?i(ke):i(R)==="pieces"?i(Oe):i(R)==="composers"?i(Ee):[]),w=M(()=>i(qt)&&i(tn)&&i(Mt).length>=2?i(tn).filter(g=>g.name.toLowerCase().includes(i(Mt))&&!i(m).some(k=>k.slug===g.slug)).slice(0,10):[]),C=M(()=>i(x)?i(x).metadata.years:[]),z=M(()=>i(x)?i(x).metadata.max_field_size:0),F=M(()=>{var g;return i(qt)?i(R)==="bands"?((g=i(x))==null?void 0:g.bands.length)??0:i(R)==="conductors"?i(S).length:i(R)==="pieces"?i(E).length:i(N).length:0}),T=M(()=>i(R)==="bands"?"korps":i(R)==="conductors"?"dirigenter":i(R)==="pieces"?"stykker":"komponister"),we=M(()=>i(x)?`Dekker ${i(F)} ${i(T)} · ${i(C).length} år (${i(x).metadata.min_year}–${i(x).metadata.max_year})`:""),he=M(()=>i(R)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":i(R)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":i(R)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":i(R)==="composers"?"Begynn å skrive et komponistnavn (minst 2 bokstaver)…":""),me=M(()=>i(R)==="bands"?"Søk etter korps":i(R)==="conductors"?"Søk etter dirigent":i(R)==="pieces"?"Søk etter musikkstykke":"Søk etter komponist"),Be=M(()=>i(R)==="bands"?"Korpsforslag":i(R)==="conductors"?"Dirigentforslag":i(R)==="pieces"?"Stykke-forslag":"Komponistforslag"),dt=M(()=>i(R)==="bands"?"Valgte korps":i(R)==="conductors"?"Valgte dirigenter":i(R)==="pieces"?"Valgte stykker":"Valgte komponister"),Je=M(()=>i(R)==="bands"?"Ingen korps valgt ennå":i(R)==="conductors"?"Ingen dirigenter valgt ennå":i(R)==="pieces"?"Ingen stykker valgt ennå":"Ingen komponister valgt ennå"),Ie=M(()=>i(R)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":i(R)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":i(R)==="pieces"?"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer.":"Finn en komponist i søkefeltet for å se hvilke stykker vi har registrert av dem."),nt=M(()=>i(R)==="bands"?i(oe)==="wind"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":"Søk etter et brassband for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":i(R)==="conductors"?"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.":i(R)==="pieces"?"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.":i(R)==="composers"?"Søk etter en komponist for å se hvilke NM-stykker de står bak.":"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen."),He=M(()=>i(qe)==="dark"?"Bytt til lyst tema":"Bytt til mørkt tema"),mt=M(()=>i(qe)==="dark"?"Mørk":"Lys"),Ce=M(()=>i(qe)==="dark"?"🌙":"☀️"),Ge=M(()=>i(oe)==="wind"?"Bytt til brassband":"Bytt til janitsjarkorps"),Re=M(()=>i(oe)==="wind"?"Janitsjar":"Brass"),Ue=M(()=>i(oe)==="wind"?"🎷":"🎺"),et=M(()=>i(Ne)?"Lukk meny":"Åpne meny"),ot=M(()=>i(ze)?"Lukk tilpassingsmeny":"Åpne tilpassingsmeny"),nn=M(()=>i(m).length===1?i(m)[0].name:i(m).length>1?`${i(m).length} ${i(T)} valgt`:""),Ft=M(()=>i(m).length>1?i(m).map(g=>g.name).join(" · "):""),de=M(()=>i(R)==="pieces"?i(m):[]),rt=M(()=>i(R)==="composers"?i(m):[]),xt=M(()=>i(R)==="bands"||i(R)==="conductors"?i(m):[]);var In=rm(),Ir=p(In),Pr=p(Ir),Ci=p(Pr),Aa=p(Ci),At=$(Ci,2);At.__click=[Tg,Ne];var un=$(Pr,2);let Bn;var Cr=p(un);Xe(Cr,21,()=>b,We,(g,k)=>{var L=Fg();L.__click=[qg,ln,k];let P;var q=p(L);K(Q=>{O(L,"aria-pressed",i(R)===i(k)),P=vn(L,1,"svelte-1n46o8q",null,P,Q),B(q,h[i(k)])},[()=>({selected:i(R)===i(k)})]),y(g,L)});var Ri=$(Cr,2);Ri.__click=[Cg,be,oe,st,ie,Fe];var Is=p(Ri),rc=p(Is),ic=$(Is,2),ac=p(ic),$a=$(Ri,2);$a.__click=[Pg,ae,qe,ie,Fe,st];var Ps=p($a),sc=p(Ps),oc=$(Ps,2),lc=p(oc),Cs=$(Ir,2),cc=p(Cs),Rs=$(Cs,2);{var uc=g=>{var k=Bg(),L=Me(k),P=M(()=>ao(gt)),q=p(L),Q=p(q),ee=$(q,2);ee.__input=[Rg,G,Z],ee.__keydown=[Lg,w,Z,yt];var J=$(L,2);{var ue=ce=>{var pe=Dg();Xe(pe,21,()=>i(w),We,($e,ye,vt)=>{var je=Og(),lt=M(()=>ao(()=>yt(i(ye))));je.__mousedown=function(...Ht){var Un;(Un=i(lt))==null||Un.apply(this,Ht)};var kt=p(je);K(()=>{vn(je,1,`suggestion ${vt===i(Z)?"active":""}`,"svelte-1n46o8q"),O(je,"aria-selected",vt===i(Z)),B(kt,i(ye).name)}),y($e,je)}),K(()=>O(pe,"aria-label",i(Be))),y(ce,pe)};V(J,ce=>{i(w).length>0&&ce(ue)})}K(()=>{B(Q,i(me)),O(ee,"placeholder",i(he))}),rn("submit",L,function(...ce){var pe;(pe=i(P))==null||pe.apply(this,ce)}),lf(ee,()=>i(G),ce=>U(G,ce)),y(g,k)};V(Rs,g=>{i(qt)&&g(uc)})}var fc=$(Rs,2);{var dc=g=>{var k=Ug();y(g,k)},vc=g=>{var k=tt(),L=Me(k);{var P=Q=>{var ee=jg(),J=p(ee);K(()=>B(J,i(H))),y(Q,ee)},q=Q=>{var ee=tt(),J=Me(ee);{var ue=pe=>{var $e=zg();y(pe,$e)},ce=pe=>{var $e=tt(),ye=Me($e);{var vt=lt=>{var kt=tt(),Ht=Me(kt);{var Un=wn=>{var fn=tm(),fr=Me(fn);{var Ta=Bt=>{Ng(Bt,{get pieces(){return i(de)},get bandType(){return i(oe)}})},Ia=Bt=>{var jn=tt(),oi=Me(jn);{var Lr=zn=>{$g(zn,{get composers(){return i(rt)},get bandType(){return i(oe)}})},Wn=zn=>{var Li=Qg(),li=p(Li),Ls=p(li),gc=$(p(Ls),2),qi=p(gc);qi.__click=[Yg,cn];let qs;var Pa=$(qi,2);Pa.__click=[Vg,cn];let Fs;var Os=$(Ls,2),mc=$(p(Os),2),Fi=p(mc);Fi.__click=[Hg,Dn];let Ds;var Ca=$(Fi,2);Ca.__click=[Kg,Dn];let Bs;var Oi=$(Os,2);Oi.__click=[Ig,ze];var yc=$(Oi,2);{var wc=bn=>{var dr=Wg(),Zn=p(dr);Zn.__click=[Xg,cn];let Di;var Ra=$(Zn,2);Ra.__click=[Gg,cn];let Ys;K((Ec,Mc)=>{O(Zn,"aria-pressed",i(Y)==="absolute"),Di=vn(Zn,1,"svelte-1n46o8q",null,Di,Ec),O(Ra,"aria-pressed",i(Y)==="relative"),Ys=vn(Ra,1,"svelte-1n46o8q",null,Ys,Mc)},[()=>({selected:i(Y)==="absolute"}),()=>({selected:i(Y)==="relative"})]),y(bn,dr)};V(yc,bn=>{i(ze)&&bn(wc)})}var Us=$(li,2),js=p(Us),bc=p(js),zs=$(js,2),xc=p(zs),kc=$(zs,2);{var Sc=bn=>{var dr=Zg(),Zn=p(dr);K(()=>B(Zn,i(Ft))),y(bn,dr)};V(kc,bn=>{i(Ft)&&bn(Sc)})}var Nc=$(Us,2);{let bn=M(()=>i(R)==="bands");Zp(Nc,{get years(){return i(C)},get maxFieldSize(){return i(z)},get bands(){return i(xt)},get yMode(){return i(Y)},get yAxisScale(){return i(fe)},get showConductorMarkers(){return i(bn)}})}K((bn,dr,Zn,Di)=>{O(qi,"aria-pressed",i(Y)==="absolute"),qs=vn(qi,1,"svelte-1n46o8q",null,qs,bn),O(Pa,"aria-pressed",i(Y)==="relative"),Fs=vn(Pa,1,"svelte-1n46o8q",null,Fs,dr),O(Fi,"aria-pressed",i(fe)==="fitted"),Ds=vn(Fi,1,"svelte-1n46o8q",null,Ds,Zn),O(Ca,"aria-pressed",i(fe)==="full"),Bs=vn(Ca,1,"svelte-1n46o8q",null,Bs,Di),O(Oi,"aria-label",i(ot)),O(Oi,"aria-expanded",i(ze)),B(bc,i(nn)),B(xc,i(we))},[()=>({selected:i(Y)==="absolute"}),()=>({selected:i(Y)==="relative"}),()=>({selected:i(fe)==="fitted"}),()=>({selected:i(fe)==="full"})]),y(zn,Li)};V(oi,zn=>{i(R)==="composers"?zn(Lr):zn(Wn,!1)},!0)}y(Bt,jn)};V(fr,Bt=>{i(R)==="pieces"?Bt(Ta):Bt(Ia,!1)})}var si=$(fr,2);Xe(si,21,()=>i(m),We,(Bt,jn,oi)=>{var Lr=em(),Wn=p(Lr);Wn.textContent=oi+1;var zn=$(Wn,2),Li=p(zn),li=$(zn,2);li.__click=[Jg,Pt,jn],K(()=>{B(Li,i(jn).name),O(li,"aria-label",`Fjern ${i(jn).name}`)}),y(Bt,Lr)});var hc=$(si,2);{var pc=Bt=>{__(Bt,{get bands(){return i(xt)},get bandType(){return i(oe)},streamingResolver:Ye,get eliteTestPieces(){return i(ne)}})},_c=Bt=>{var jn=tt(),oi=Me(jn);{var Lr=Wn=>{R_(Wn,{get conductors(){return i(xt)},get bandType(){return i(oe)},streamingResolver:Ye})};V(oi,Wn=>{i(R)==="conductors"&&Wn(Lr)},!0)}y(Bt,jn)};V(hc,Bt=>{i(R)==="bands"?Bt(pc):Bt(_c,!1)})}K(()=>O(si,"aria-label",i(dt))),y(wn,fn)},Rr=wn=>{var fn=nm(),fr=p(fn),Ta=p(fr),Ia=$(fr,2),si=p(Ia);K(()=>{B(Ta,i(Je)),B(si,i(Ie))}),y(wn,fn)};V(Ht,wn=>{i(m).length>0?wn(Un):wn(Rr,!1)})}y(lt,kt)},je=lt=>{ug(lt,{get dataset(){return i(x)},get bandType(){return i(oe)},streamingResolver:Ye,get eliteTestPieces(){return i(ne)}})};V(ye,lt=>{i(qt)?lt(vt):lt(je,!1)},!0)}y(pe,$e)};V(J,pe=>{i(x)?pe(ce,!1):pe(ue)},!0)}y(Q,ee)};V(L,Q=>{i(H)?Q(P):Q(q,!1)},!0)}y(g,k)};V(fc,g=>{i(X)?g(dc):g(vc,!1)})}K(g=>{B(Aa,i(oe)==="wind"?"NM Janitsjar":"NM Brass"),O(At,"aria-label",i(et)),O(At,"aria-expanded",i(Ne)),Bn=vn(un,1,"header-controls svelte-1n46o8q",null,Bn,g),O(Ri,"aria-label",i(Ge)),B(rc,i(Ue)),B(ac,i(Re)),O($a,"aria-label",i(He)),B(sc,i(Ce)),B(lc,i(mt)),B(cc,i(nt))},[()=>({"header-controls--mobile-open":i(Ne)})]),y(e,In),cr()}_l(["click","input","keydown","mousedown"]);Xu(im,{target:document.getElementById("app")});
