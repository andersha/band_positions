var _c=Object.defineProperty;var Rs=e=>{throw TypeError(e)};var gc=(e,t,n)=>t in e?_c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Er=(e,t,n)=>gc(e,typeof t!="symbol"?t+"":t,n),Na=(e,t,n)=>t.has(e)||Rs("Cannot "+n);var F=(e,t,n)=>(Na(e,t,"read from private field"),n?n.call(e):t.get(e)),Ye=(e,t,n)=>t.has(e)?Rs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),fe=(e,t,n,r)=>(Na(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),zt=(e,t,n)=>(Na(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const mc="5";var ko;typeof window<"u"&&((ko=window.__svelte??(window.__svelte={})).v??(ko.v=new Set)).add(mc);const ca=1,ua=2,So=4,yc=8,wc=16,bc=1,xc=4,kc=8,Sc=16,No=1,Nc=2,$t=Symbol(),Ec="http://www.w3.org/1999/xhtml",Eo=!1;var Qa=Array.isArray,Mc=Array.prototype.indexOf,Ja=Array.from,Ca=Object.defineProperty,Tr=Object.getOwnPropertyDescriptor,$c=Object.getOwnPropertyDescriptors,Ac=Object.prototype,Tc=Array.prototype,Mo=Object.getPrototypeOf,qs=Object.isExtensible;function $o(e){for(var t=0;t<e.length;t++)e[t]()}function Ic(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const tn=2,es=4,ts=8,Yr=16,Bn=32,wr=64,ns=128,un=256,Vi=512,Rt=1024,dn=2048,er=4096,wn=8192,br=16384,rs=32768,fa=65536,Ls=1<<17,Pc=1<<18,Vr=1<<19,Cc=1<<20,Ra=1<<21,is=1<<22,dr=1<<23,oi=Symbol("$state"),Rc=Symbol("legacy props"),qc=Symbol(""),as=new class extends Error{constructor(){super(...arguments);Er(this,"name","StaleReactionError");Er(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Ao(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Lc(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Fc(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Oc(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Dc(e){throw new Error("https://svelte.dev/e/effect_orphan")}function zc(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function jc(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Bc(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Uc(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Yc(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Vc(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Hc(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Kc=!1;function To(e){return e===this.v}function Xc(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Gc(e,t){return e!==t}function Io(e){return!Xc(e,this.v)}let Wc=!1,Zt=null;function Fr(e){Zt=e}function tr(e,t=!1,n){Zt={p:Zt,c:null,e:null,s:e,x:null,l:null}}function nr(e){var t=Zt,n=t.e;if(n!==null){t.e=null;for(var r of n)Ho(r)}return Zt=t.p,{}}function Po(){return!0}let Wn=[],Hi=[];function Co(){var e=Wn;Wn=[],$o(e)}function Zc(){var e=Hi;Hi=[],$o(e)}function Qc(){return Wn.length>0||Hi.length>0}function Hr(e){if(Wn.length===0&&!li){var t=Wn;queueMicrotask(()=>{t===Wn&&Co()})}Wn.push(e)}function Jc(){Wn.length>0&&Co(),Hi.length>0&&Zc()}const eu=new WeakMap;function Ro(e){var t=Le;if(t===null)return Me.f|=dr,e;if(t.f&rs)Or(e,t);else{if(!(t.f&ns))throw!t.parent&&e instanceof Error&&qo(e),e;t.b.error(e)}}function Or(e,t){for(;t!==null;){if(t.f&ns)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&qo(e),e}function qo(e){const t=eu.get(e);t&&(Ca(e,"message",{value:t.message}),Ca(e,"stack",{value:t.stack}))}const Ea=new Set;let rt=null,Fi=null,qa=new Set,_r=[],da=null,La=!1,li=!1;var _i,Rr,Vn,gi,mi,or,qr,lr,Hn,Lr,yi,wi,bn,Lo,Oi,Fa;const sa=class sa{constructor(){Ye(this,bn);Er(this,"current",new Map);Ye(this,_i,new Map);Ye(this,Rr,new Set);Ye(this,Vn,0);Ye(this,gi,null);Ye(this,mi,!1);Ye(this,or,[]);Ye(this,qr,[]);Ye(this,lr,[]);Ye(this,Hn,[]);Ye(this,Lr,[]);Ye(this,yi,[]);Ye(this,wi,[]);Er(this,"skipped_effects",new Set)}process(t){var a;_r=[],Fi=null;for(const s of t)zt(this,bn,Lo).call(this,s);if(F(this,or).length===0&&F(this,Vn)===0){zt(this,bn,Fa).call(this);var n=F(this,lr),r=F(this,Hn);fe(this,lr,[]),fe(this,Hn,[]),fe(this,Lr,[]),Fi=rt,rt=null,Fs(n),Fs(r),rt===null?rt=this:Ea.delete(this),(a=F(this,gi))==null||a.resolve()}else zt(this,bn,Oi).call(this,F(this,lr)),zt(this,bn,Oi).call(this,F(this,Hn)),zt(this,bn,Oi).call(this,F(this,Lr));for(const s of F(this,or))Pr(s);for(const s of F(this,qr))Pr(s);fe(this,or,[]),fe(this,qr,[])}capture(t,n){F(this,_i).has(t)||F(this,_i).set(t,n),this.current.set(t,t.v)}activate(){rt=this}deactivate(){rt=null,Fi=null;for(const t of qa)if(qa.delete(t),t(),rt!==null)break}neuter(){fe(this,mi,!0)}flush(){_r.length>0?Fo():zt(this,bn,Fa).call(this),rt===this&&(F(this,Vn)===0&&Ea.delete(this),this.deactivate())}increment(){fe(this,Vn,F(this,Vn)+1)}decrement(){if(fe(this,Vn,F(this,Vn)-1),F(this,Vn)===0){for(const t of F(this,yi))Wt(t,dn),Dr(t);for(const t of F(this,wi))Wt(t,er),Dr(t);fe(this,lr,[]),fe(this,Hn,[]),this.flush()}else this.deactivate()}add_callback(t){F(this,Rr).add(t)}settled(){return(F(this,gi)??fe(this,gi,Ic())).promise}static ensure(){if(rt===null){const t=rt=new sa;Ea.add(rt),li||sa.enqueue(()=>{rt===t&&t.flush()})}return rt}static enqueue(t){Hr(t)}};_i=new WeakMap,Rr=new WeakMap,Vn=new WeakMap,gi=new WeakMap,mi=new WeakMap,or=new WeakMap,qr=new WeakMap,lr=new WeakMap,Hn=new WeakMap,Lr=new WeakMap,yi=new WeakMap,wi=new WeakMap,bn=new WeakSet,Lo=function(t){var f;t.f^=Rt;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Bn|wr))!==0,s=a&&(r&Rt)!==0,o=s||(r&wn)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(a)n.f^=Rt;else if(r&es)F(this,Hn).push(n);else if(!(r&Rt))if(r&is){var l=(f=n.b)!=null&&f.is_pending()?F(this,qr):F(this,or);l.push(n)}else _a(n)&&(n.f&Yr&&F(this,Lr).push(n),Pr(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Oi=function(t){for(const n of t)(n.f&dn?F(this,yi):F(this,wi)).push(n),Wt(n,Rt);t.length=0},Fa=function(){if(!F(this,mi))for(const t of F(this,Rr))t();F(this,Rr).clear()};let Qn=sa;function tu(e){var t=li;li=!0;try{for(var n;;){if(Jc(),_r.length===0&&!Qc()&&(rt==null||rt.flush(),_r.length===0))return da=null,n;Fo()}}finally{li=t}}function Fo(){var e=Ir;La=!0;try{var t=0;for(zs(!0);_r.length>0;){var n=Qn.ensure();if(t++>1e3){var r,a;nu()}n.process(_r),Jn.clear()}}finally{La=!1,zs(e),da=null}}function nu(){try{zc()}catch(e){Or(e,da)}}let Dn=null;function Fs(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(br|wn))&&_a(r)&&(Dn=[],Pr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Go(r):r.fn=null),(Dn==null?void 0:Dn.length)>0)){Jn.clear();for(const a of Dn)Pr(a);Dn=[]}}Dn=null}}function Dr(e){for(var t=da=e;t.parent!==null;){t=t.parent;var n=t.f;if(La&&t===Le&&n&Yr)return;if(n&(wr|Bn)){if(!(n&Rt))return;t.f^=Rt}}_r.push(t)}function ru(e){let t=0,n=gr(0),r;return()=>{bu()&&(i(n),ls(()=>(t===0&&(r=Xr(()=>e(()=>ci(n)))),t+=1,()=>{Hr(()=>{t-=1,t===0&&(r==null||r(),r=void 0,ci(n))})})))}}var iu=fa|Vr|ns;function au(e,t,n){new su(e,t,n)}var _n,on,Za,$n,cr,An,ln,Ht,Tn,Kn,ur,Xn,fr,Gn,oa,la,Ut,ou,lu,Di,zi,Oa;class su{constructor(t,n,r){Ye(this,Ut);Er(this,"parent");Ye(this,_n,!1);Ye(this,on);Ye(this,Za,null);Ye(this,$n);Ye(this,cr);Ye(this,An);Ye(this,ln,null);Ye(this,Ht,null);Ye(this,Tn,null);Ye(this,Kn,null);Ye(this,ur,0);Ye(this,Xn,0);Ye(this,fr,!1);Ye(this,Gn,null);Ye(this,oa,()=>{F(this,Gn)&&zr(F(this,Gn),F(this,ur))});Ye(this,la,ru(()=>(fe(this,Gn,gr(F(this,ur))),()=>{fe(this,Gn,null)})));fe(this,on,t),fe(this,$n,n),fe(this,cr,r),this.parent=Le.b,fe(this,_n,!!F(this,$n).pending),fe(this,An,pa(()=>{Le.b=this;{try{fe(this,ln,cn(()=>r(F(this,on))))}catch(a){this.error(a)}F(this,Xn)>0?zt(this,Ut,zi).call(this):fe(this,_n,!1)}},iu))}is_pending(){return F(this,_n)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!F(this,$n).pending}update_pending_count(t){zt(this,Ut,Oa).call(this,t),fe(this,ur,F(this,ur)+t),qa.add(F(this,oa))}get_effect_pending(){return F(this,la).call(this),i(F(this,Gn))}error(t){var n=F(this,$n).onerror;let r=F(this,$n).failed;if(F(this,fr)||!n&&!r)throw t;F(this,ln)&&(fn(F(this,ln)),fe(this,ln,null)),F(this,Ht)&&(fn(F(this,Ht)),fe(this,Ht,null)),F(this,Tn)&&(fn(F(this,Tn)),fe(this,Tn,null));var a=!1,s=!1;const o=()=>{if(a){Hc();return}a=!0,s&&Vc(),Qn.ensure(),fe(this,ur,0),F(this,Tn)!==null&&vr(F(this,Tn),()=>{fe(this,Tn,null)}),fe(this,_n,this.has_pending_snippet()),fe(this,ln,zt(this,Ut,Di).call(this,()=>(fe(this,fr,!1),cn(()=>F(this,cr).call(this,F(this,on)))))),F(this,Xn)>0?zt(this,Ut,zi).call(this):fe(this,_n,!1)};var l=Me;try{Xt(null),s=!0,n==null||n(t,o),s=!1}catch(c){Or(c,F(this,An)&&F(this,An).parent)}finally{Xt(l)}r&&Hr(()=>{fe(this,Tn,zt(this,Ut,Di).call(this,()=>{fe(this,fr,!0);try{return cn(()=>{r(F(this,on),()=>t,()=>o)})}catch(c){return Or(c,F(this,An).parent),null}finally{fe(this,fr,!1)}}))})}}_n=new WeakMap,on=new WeakMap,Za=new WeakMap,$n=new WeakMap,cr=new WeakMap,An=new WeakMap,ln=new WeakMap,Ht=new WeakMap,Tn=new WeakMap,Kn=new WeakMap,ur=new WeakMap,Xn=new WeakMap,fr=new WeakMap,Gn=new WeakMap,oa=new WeakMap,la=new WeakMap,Ut=new WeakSet,ou=function(){try{fe(this,ln,cn(()=>F(this,cr).call(this,F(this,on))))}catch(t){this.error(t)}fe(this,_n,!1)},lu=function(){const t=F(this,$n).pending;t&&(fe(this,Ht,cn(()=>t(F(this,on)))),Qn.enqueue(()=>{fe(this,ln,zt(this,Ut,Di).call(this,()=>(Qn.ensure(),cn(()=>F(this,cr).call(this,F(this,on)))))),F(this,Xn)>0?zt(this,Ut,zi).call(this):(vr(F(this,Ht),()=>{fe(this,Ht,null)}),fe(this,_n,!1))}))},Di=function(t){var n=Le,r=Me,a=Zt;Pn(F(this,An)),Xt(F(this,An)),Fr(F(this,An).ctx);try{return t()}catch(s){return Ro(s),null}finally{Pn(n),Xt(r),Fr(a)}},zi=function(){const t=F(this,$n).pending;F(this,ln)!==null&&(fe(this,Kn,document.createDocumentFragment()),cu(F(this,ln),F(this,Kn))),F(this,Ht)===null&&fe(this,Ht,cn(()=>t(F(this,on))))},Oa=function(t){var n;if(!this.has_pending_snippet()){this.parent&&zt(n=this.parent,Ut,Oa).call(n,t);return}fe(this,Xn,F(this,Xn)+t),F(this,Xn)===0&&(fe(this,_n,!1),F(this,Ht)&&vr(F(this,Ht),()=>{fe(this,Ht,null)}),F(this,Kn)&&(F(this,on).before(F(this,Kn)),fe(this,Kn,null)))};function cu(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:bi(n);t.append(n),n=a}}function uu(e,t,n){const r=va;if(t.length===0){n(e.map(r));return}var a=rt,s=Le,o=fu();Promise.all(t.map(l=>du(l))).then(l=>{a==null||a.activate(),o();try{n([...e.map(r),...l])}catch(c){s.f&br||Or(c,s)}a==null||a.deactivate(),Oo()}).catch(l=>{Or(l,s)})}function fu(){var e=Le,t=Me,n=Zt,r=rt;return function(){Pn(e),Xt(t),Fr(n),r==null||r.activate()}}function Oo(){Pn(null),Xt(null),Fr(null)}function va(e){var t=tn|dn,n=Me!==null&&Me.f&tn?Me:null;return Le===null||n!==null&&n.f&un?t|=un:Le.f|=Vr,{ctx:Zt,deps:null,effects:null,equals:To,f:t,fn:e,reactions:null,rv:0,v:$t,wv:0,parent:n??Le,ac:null}}function du(e,t){let n=Le;n===null&&Lc();var r=n.b,a=void 0,s=gr($t),o=null,l=!Me;return Nu(()=>{try{var c=e();o&&Promise.resolve(c).catch(()=>{})}catch(_){c=Promise.reject(_)}var u=()=>c;a=(o==null?void 0:o.then(u,u))??Promise.resolve(c),o=a;var f=rt,d=r.is_pending();l&&(r.update_pending_count(1),d||f.increment());const v=(_,h=void 0)=>{o=null,d||f.activate(),h?h!==as&&(s.f|=dr,zr(s,h)):(s.f&dr&&(s.f^=dr),zr(s,_)),l&&(r.update_pending_count(-1),d||f.decrement()),Oo()};if(a.then(v,_=>v(null,_||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(c=>{function u(f){function d(){f===a?c(s):u(a)}f.then(d,d)}u(a)})}function M(e){const t=va(e);return Qo(t),t}function Do(e){const t=va(e);return t.equals=Io,t}function zo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)fn(t[n])}}function vu(e){for(var t=e.parent;t!==null;){if(!(t.f&tn))return t;t=t.parent}return null}function ss(e){var t,n=Le;Pn(vu(e));try{zo(e),t=nl(e)}finally{Pn(n)}return t}function jo(e){var t=ss(e);if(e.equals(t)||(e.v=t,e.wv=el()),!xr){var n=(Zn||e.f&un)&&e.deps!==null?er:Rt;Wt(e,n)}}const Jn=new Map;function gr(e,t){var n={f:0,v:e,reactions:null,equals:To,rv:0,wv:0};return n}function qe(e,t){const n=gr(e);return Qo(n),n}function hu(e,t=!1,n=!0){const r=gr(e);return t||(r.equals=Io),r}function z(e,t,n=!1){Me!==null&&(!mn||Me.f&Ls)&&Po()&&Me.f&(tn|Yr|is|Ls)&&!(Bt!=null&&Bt.includes(e))&&Yc();let r=n?Kt(t):t;return zr(e,r)}function zr(e,t){if(!e.equals(t)){var n=e.v;xr?Jn.set(e,t):Jn.set(e,n),e.v=t;var r=Qn.ensure();r.capture(e,n),e.f&tn&&(e.f&dn&&ss(e),Wt(e,e.f&un?er:Rt)),e.wv=el(),Bo(e,dn),Le!==null&&Le.f&Rt&&!(Le.f&(Bn|wr))&&(sn===null?$u([e]):sn.push(e))}return t}function ci(e){z(e,e.v+1)}function Bo(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,a=0;a<r;a++){var s=n[a],o=s.f,l=(o&dn)===0;l&&Wt(s,t),o&tn?Bo(s,er):l&&(o&Yr&&Dn!==null&&Dn.push(s),Dr(s))}}function Kt(e){if(typeof e!="object"||e===null||oi in e)return e;const t=Mo(e);if(t!==Ac&&t!==Tc)return e;var n=new Map,r=Qa(e),a=qe(0),s=hr,o=l=>{if(hr===s)return l();var c=Me,u=hr;Xt(null),Bs(s);var f=l();return Xt(c),Bs(u),f};return r&&n.set("length",qe(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Bc();var f=n.get(c);return f===void 0?f=o(()=>{var d=qe(u.value);return n.set(c,d),d}):z(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=o(()=>qe($t));n.set(c,f),ci(a)}}else z(u,$t),ci(a);return!0},get(l,c,u){var _;if(c===oi)return e;var f=n.get(c),d=c in l;if(f===void 0&&(!d||(_=Tr(l,c))!=null&&_.writable)&&(f=o(()=>{var h=Kt(d?l[c]:$t),y=qe(h);return y}),n.set(c,f)),f!==void 0){var v=i(f);return v===$t?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=i(f))}else if(u===void 0){var d=n.get(c),v=d==null?void 0:d.v;if(d!==void 0&&v!==$t)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){var v;if(c===oi)return!0;var u=n.get(c),f=u!==void 0&&u.v!==$t||Reflect.has(l,c);if(u!==void 0||Le!==null&&(!f||(v=Tr(l,c))!=null&&v.writable)){u===void 0&&(u=o(()=>{var _=f?Kt(l[c]):$t,h=qe(_);return h}),n.set(c,u));var d=i(u);if(d===$t)return!1}return f},set(l,c,u,f){var E;var d=n.get(c),v=c in l;if(r&&c==="length")for(var _=u;_<d.v;_+=1){var h=n.get(_+"");h!==void 0?z(h,$t):_ in l&&(h=o(()=>qe($t)),n.set(_+"",h))}if(d===void 0)(!v||(E=Tr(l,c))!=null&&E.writable)&&(d=o(()=>qe(void 0)),z(d,Kt(u)),n.set(c,d));else{v=d.v!==$t;var y=o(()=>Kt(u));z(d,y)}var x=Reflect.getOwnPropertyDescriptor(l,c);if(x!=null&&x.set&&x.set.call(f,u),!v){if(r&&typeof c=="string"){var S=n.get("length"),$=Number(c);Number.isInteger($)&&$>=S.v&&z(S,$+1)}ci(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(d=>{var v=n.get(d);return v===void 0||v.v!==$t});for(var[u,f]of n)f.v!==$t&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Uc()}})}var Os,Uo,Yo,Vo;function pu(){if(Os===void 0){Os=window,Uo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Yo=Tr(t,"firstChild").get,Vo=Tr(t,"nextSibling").get,qs(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),qs(n)&&(n.__t=void 0)}}function Kr(e=""){return document.createTextNode(e)}function zn(e){return Yo.call(e)}function bi(e){return Vo.call(e)}function p(e,t){return zn(e)}function ke(e,t=!1){{var n=zn(e);return n instanceof Comment&&n.data===""?bi(n):n}}function A(e,t=1,n=!1){let r=e;for(;t--;)r=bi(r);return r}function _u(e){e.textContent=""}function os(){return!1}let Ds=!1;function gu(){Ds||(Ds=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ha(e){var t=Me,n=Le;Xt(null),Pn(null);try{return e()}finally{Xt(t),Pn(n)}}function mu(e,t,n,r=n){e.addEventListener(t,()=>ha(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),gu()}function yu(e){Le===null&&Me===null&&Dc(),Me!==null&&Me.f&un&&Le===null&&Oc(),xr&&Fc()}function wu(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Un(e,t,n,r=!0){var a=Le;a!==null&&a.f&wn&&(e|=wn);var s={ctx:Zt,deps:null,nodes_start:null,nodes_end:null,f:e|dn,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Pr(s),s.f|=rs}catch(c){throw fn(s),c}else t!==null&&Dr(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&Vr)&&(o=o.first),o!==null&&(o.parent=a,a!==null&&wu(o,a),Me!==null&&Me.f&tn&&!(e&wr))){var l=Me;(l.effects??(l.effects=[])).push(o)}}return s}function bu(){return Me!==null&&!mn}function xu(e){const t=Un(ts,null,!1);return Wt(t,Rt),t.teardown=e,t}function ui(e){yu();var t=Le.f,n=!Me&&(t&Bn)!==0&&(t&rs)===0;if(n){var r=Zt;(r.e??(r.e=[])).push(e)}else return Ho(e)}function Ho(e){return Un(es|Cc,e,!1)}function ku(e){Qn.ensure();const t=Un(wr|Vr,e,!0);return(n={})=>new Promise(r=>{n.outro?vr(t,()=>{fn(t),r(void 0)}):(fn(t),r(void 0))})}function Su(e){return Un(es,e,!1)}function Nu(e){return Un(is|Vr,e,!0)}function ls(e,t=0){return Un(ts|t,e,!0)}function G(e,t=[],n=[]){uu(t,n,r=>{Un(ts,()=>e(...r.map(i)),!0)})}function pa(e,t=0){var n=Un(Yr|t,e,!0);return n}function cn(e,t=!0){return Un(Bn|Vr,e,!0,t)}function Ko(e){var t=e.teardown;if(t!==null){const n=xr,r=Me;js(!0),Xt(null);try{t.call(null)}finally{js(n),Xt(r)}}}function Xo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&ha(()=>{a.abort(as)});var r=n.next;n.f&wr?n.parent=null:fn(n,t),n=r}}function Eu(e){for(var t=e.first;t!==null;){var n=t.next;t.f&Bn||fn(t),t=n}}function fn(e,t=!0){var n=!1;(t||e.f&Pc)&&e.nodes_start!==null&&e.nodes_end!==null&&(Mu(e.nodes_start,e.nodes_end),n=!0),Xo(e,t&&!n),Ki(e,0),Wt(e,br);var r=e.transitions;if(r!==null)for(const s of r)s.stop();Ko(e);var a=e.parent;a!==null&&a.first!==null&&Go(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Mu(e,t){for(;e!==null;){var n=e===t?null:bi(e);e.remove(),e=n}}function Go(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function vr(e,t){var n=[];cs(e,n,!0),Wo(n,()=>{fn(e),t&&t()})}function Wo(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function cs(e,t,n){if(!(e.f&wn)){if(e.f^=wn,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&fa)!==0||(r.f&Bn)!==0;cs(r,t,s?n:!1),r=a}}}function us(e){Zo(e,!0)}function Zo(e,t){if(e.f&wn){e.f^=wn,e.f&Rt||(Wt(e,dn),Dr(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&fa)!==0||(n.f&Bn)!==0;Zo(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Ir=!1;function zs(e){Ir=e}let xr=!1;function js(e){xr=e}let Me=null,mn=!1;function Xt(e){Me=e}let Le=null;function Pn(e){Le=e}let Bt=null;function Qo(e){Me!==null&&(Bt===null?Bt=[e]:Bt.push(e))}let jt=null,en=0,sn=null;function $u(e){sn=e}let Jo=1,fi=0,hr=fi;function Bs(e){hr=e}let Zn=!1;function el(){return++Jo}function _a(e){var d;var t=e.f;if(t&dn)return!0;if(t&er){var n=e.deps,r=(t&un)!==0;if(n!==null){var a,s,o=(t&Vi)!==0,l=r&&Le!==null&&!Zn,c=n.length;if((o||l)&&(Le===null||!(Le.f&br))){var u=e,f=u.parent;for(a=0;a<c;a++)s=n[a],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(u)))&&(s.reactions??(s.reactions=[])).push(u);o&&(u.f^=Vi),l&&f!==null&&!(f.f&un)&&(u.f^=un)}for(a=0;a<c;a++)if(s=n[a],_a(s)&&jo(s),s.wv>e.wv)return!0}(!r||Le!==null&&!Zn)&&Wt(e,Rt)}return!1}function tl(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Bt!=null&&Bt.includes(e)))for(var a=0;a<r.length;a++){var s=r[a];s.f&tn?tl(s,t,!1):t===s&&(n?Wt(s,dn):s.f&Rt&&Wt(s,er),Dr(s))}}function nl(e){var y;var t=jt,n=en,r=sn,a=Me,s=Zn,o=Bt,l=Zt,c=mn,u=hr,f=e.f;jt=null,en=0,sn=null,Zn=(f&un)!==0&&(mn||!Ir||Me===null),Me=f&(Bn|wr)?null:e,Bt=null,Fr(e.ctx),mn=!1,hr=++fi,e.ac!==null&&(ha(()=>{e.ac.abort(as)}),e.ac=null);try{e.f|=Ra;var d=e.fn,v=d(),_=e.deps;if(jt!==null){var h;if(Ki(e,en),_!==null&&en>0)for(_.length=en+jt.length,h=0;h<jt.length;h++)_[en+h]=jt[h];else e.deps=_=jt;if(!Zn||f&tn&&e.reactions!==null)for(h=en;h<_.length;h++)((y=_[h]).reactions??(y.reactions=[])).push(e)}else _!==null&&en<_.length&&(Ki(e,en),_.length=en);if(Po()&&sn!==null&&!mn&&_!==null&&!(e.f&(tn|er|dn)))for(h=0;h<sn.length;h++)tl(sn[h],e);return a!==null&&a!==e&&(fi++,sn!==null&&(r===null?r=sn:r.push(...sn))),e.f&dr&&(e.f^=dr),v}catch(x){return Ro(x)}finally{e.f^=Ra,jt=t,en=n,sn=r,Me=a,Zn=s,Bt=o,Fr(l),mn=c,hr=u}}function Au(e,t){let n=t.reactions;if(n!==null){var r=Mc.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&t.f&tn&&(jt===null||!jt.includes(t))&&(Wt(t,er),t.f&(un|Vi)||(t.f^=Vi),zo(t),Ki(t,0))}function Ki(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Au(e,n[r])}function Pr(e){var t=e.f;if(!(t&br)){Wt(e,Rt);var n=Le,r=Ir;Le=e,Ir=!0;try{t&Yr?Eu(e):Xo(e),Ko(e);var a=nl(e);e.teardown=typeof a=="function"?a:null,e.wv=Jo;var s;Eo&&Wc&&e.f&dn&&e.deps}finally{Ir=r,Le=n}}}async function Tu(){await Promise.resolve(),tu()}function i(e){var t=e.f,n=(t&tn)!==0;if(Me!==null&&!mn){var r=Le!==null&&(Le.f&br)!==0;if(!r&&!(Bt!=null&&Bt.includes(e))){var a=Me.deps;if(Me.f&Ra)e.rv<fi&&(e.rv=fi,jt===null&&a!==null&&a[en]===e?en++:jt===null?jt=[e]:(!Zn||!jt.includes(e))&&jt.push(e));else{(Me.deps??(Me.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[Me]:s.includes(Me)||s.push(Me)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&!(l.f&un)&&(o.f^=un)}if(xr){if(Jn.has(e))return Jn.get(e);if(n){o=e;var c=o.v;return(!(o.f&Rt)&&o.reactions!==null||rl(o))&&(c=ss(o)),Jn.set(o,c),c}}else n&&(o=e,_a(o)&&jo(o));if(e.f&dr)throw e.v;return e.v}function rl(e){if(e.v===$t)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Jn.has(t)||t.f&tn&&rl(t))return!0;return!1}function Xr(e){var t=mn;try{return mn=!0,e()}finally{mn=t}}const Iu=-7169;function Wt(e,t){e.f=e.f&Iu|t}const il=new Set,Da=new Set;function Pu(e,t,n,r={}){function a(s){if(r.capture||ni.call(t,s),!s.cancelBubble)return ha(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Hr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Jt(e,t,n,r,a){var s={capture:r,passive:a},o=Pu(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&xu(()=>{t.removeEventListener(e,o,s)})}function al(e){for(var t=0;t<e.length;t++)il.add(e[t]);for(var n of Da)n(e)}let Us=null;function ni(e){var $;var t=this,n=t.ownerDocument,r=e.type,a=(($=e.composedPath)==null?void 0:$.call(e))||[],s=a[0]||e.target;Us=e;var o=0,l=Us===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(o=c)}if(s=a[o]||e.target,s!==t){Ca(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=Me,d=Le;Xt(null),Pn(null);try{for(var v,_=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var y=s["__"+r];if(y!=null&&(!s.disabled||e.target===s))if(Qa(y)){var[x,...S]=y;x.apply(s,[e,...S])}else y.call(s,e)}catch(E){v?_.push(E):v=E}if(e.cancelBubble||h===t||h===null)break;s=h}if(v){for(let E of _)queueMicrotask(()=>{throw E});throw v}}finally{e.__root=t,delete e.currentTarget,Xt(f),Pn(d)}}}function sl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function di(e,t){var n=Le;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function N(e,t){var n=(t&No)!==0,r=(t&Nc)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=sl(s?e:"<!>"+e),n||(a=zn(a)));var o=r||Uo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=zn(o),c=o.lastChild;di(l,c)}else di(o,o);return o}}function Cu(e,t,n="svg"){var r=!e.startsWith("<!>"),a=(t&No)!==0,s=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var l=sl(s),c=zn(l);if(a)for(o=document.createDocumentFragment();zn(c);)o.appendChild(zn(c));else o=zn(c)}var u=o.cloneNode(!0);if(a){var f=zn(u),d=u.lastChild;di(f,d)}else di(u,u);return u}}function kn(e,t){return Cu(e,t,"svg")}function Je(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Kr();return e.append(t,n),di(t,n),e}function m(e,t){e!==null&&e.before(t)}const Ru=["touchstart","touchmove"];function qu(e){return Ru.includes(e)}function O(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Lu(e,t){return Fu(e,t)}const Mr=new Map;function Fu(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:o=!0}){pu();var l=new Set,c=d=>{for(var v=0;v<d.length;v++){var _=d[v];if(!l.has(_)){l.add(_);var h=qu(_);t.addEventListener(_,ni,{passive:h});var y=Mr.get(_);y===void 0?(document.addEventListener(_,ni,{passive:h}),Mr.set(_,1)):Mr.set(_,y+1)}}};c(Ja(il)),Da.add(c);var u=void 0,f=ku(()=>{var d=n??t.appendChild(Kr());return au(d,{pending:()=>{}},v=>{if(s){tr({});var _=Zt;_.c=s}a&&(r.$$events=a),u=e(v,r)||{},s&&nr()}),()=>{var h;for(var v of l){t.removeEventListener(v,ni);var _=Mr.get(v);--_===0?(document.removeEventListener(v,ni),Mr.delete(v)):Mr.set(v,_)}Da.delete(c),d!==n&&((h=d.parentNode)==null||h.removeChild(d))}});return Ou.set(u,f),u}let Ou=new WeakMap;function Xi(e){Zt===null&&Ao(),ui(()=>{const t=Xr(e);if(typeof t=="function")return t})}function Du(e){Zt===null&&Ao(),Xi(()=>()=>Xr(e))}function U(e,t,n=!1){var r=e,a=null,s=null,o=$t,l=n?fa:0,c=!1;const u=(_,h=!0)=>{c=!0,v(h,_)};var f=null;function d(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var _=o?a:s,h=o?s:a;_&&us(_),h&&vr(h,()=>{o?s=null:a=null})}const v=(_,h)=>{if(o!==(o=_)){var y=os(),x=r;if(y&&(f=document.createDocumentFragment(),f.append(x=Kr())),o?a??(a=h&&cn(()=>h(x))):s??(s=h&&cn(()=>h(x))),y){var S=rt,$=o?a:s,E=o?s:a;$&&S.skipped_effects.delete($),E&&S.skipped_effects.add(E),S.add_callback(d)}else d()}};pa(()=>{c=!1,t(u),c||v(null,null)},l)}function zu(e,t,n){var r=e,a=$t,s,o,l=null,c=Gc;function u(){s&&vr(s),l!==null&&(l.lastChild.remove(),r.before(l),l=null),s=o}pa(()=>{if(c(a,a=t())){var f=r,d=os();d&&(l=document.createDocumentFragment(),l.append(f=Kr())),o=cn(()=>n(f)),d?rt.add_callback(u):u()}})}function We(e,t){return t}function ju(e,t,n){for(var r=e.items,a=[],s=t.length,o=0;o<s;o++)cs(t[o].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;_u(c),c.append(n),r.clear(),En(e,t[0].prev,t[s-1].next)}Wo(a,()=>{for(var u=0;u<s;u++){var f=t[u];l||(r.delete(f.k),En(e,f.prev,f.next)),fn(f.e,!l)}})}function Ve(e,t,n,r,a,s=null){var o=e,l={flags:t,items:new Map,first:null},c=(t&So)!==0;if(c){var u=e;o=u.appendChild(Kr())}var f=null,d=!1,v=new Map,_=Do(()=>{var S=n();return Qa(S)?S:S==null?[]:Ja(S)}),h,y;function x(){Bu(y,h,l,v,o,a,t,r,n),s!==null&&(h.length===0?f?us(f):f=cn(()=>s(o)):f!==null&&vr(f,()=>{f=null}))}pa(()=>{y??(y=Le),h=i(_);var S=h.length;if(!(d&&S===0)){d=S===0;var $,E,V,D;if(os()){var j=new Set,Z=rt;for(E=0;E<S;E+=1){V=h[E],D=r(V,E);var ve=l.items.get(D)??v.get(D);ve?t&(ca|ua)&&ol(ve,V,E,t):($=ll(null,l,null,null,V,D,E,a,t,n,!0),v.set(D,$)),j.add(D)}for(const[De,we]of l.items)j.has(De)||Z.skipped_effects.add(we.e);Z.add_callback(x)}else x();i(_)}})}function Bu(e,t,n,r,a,s,o,l,c){var Se,je,lt,T;var u=(o&yc)!==0,f=(o&(ca|ua))!==0,d=t.length,v=n.items,_=n.first,h=_,y,x=null,S,$=[],E=[],V,D,j,Z;if(u)for(Z=0;Z<d;Z+=1)V=t[Z],D=l(V,Z),j=v.get(D),j!==void 0&&((Se=j.a)==null||Se.measure(),(S??(S=new Set)).add(j));for(Z=0;Z<d;Z+=1){if(V=t[Z],D=l(V,Z),j=v.get(D),j===void 0){var ve=r.get(D);if(ve!==void 0){r.delete(D),v.set(D,ve);var De=x?x.next:h;En(n,x,ve),En(n,ve,De),Ma(ve,De,a),x=ve}else{var we=h?h.e.nodes_start:a;x=ll(we,n,x,x===null?n.first:x.next,V,D,Z,s,o,c)}v.set(D,x),$=[],E=[],h=x.next;continue}if(f&&ol(j,V,Z,o),j.e.f&wn&&(us(j.e),u&&((je=j.a)==null||je.unfix(),(S??(S=new Set)).delete(j))),j!==h){if(y!==void 0&&y.has(j)){if($.length<E.length){var ae=E[0],oe;x=ae.prev;var I=$[0],le=$[$.length-1];for(oe=0;oe<$.length;oe+=1)Ma($[oe],ae,a);for(oe=0;oe<E.length;oe+=1)y.delete(E[oe]);En(n,I.prev,le.next),En(n,x,I),En(n,le,ae),h=ae,x=le,Z-=1,$=[],E=[]}else y.delete(j),Ma(j,h,a),En(n,j.prev,j.next),En(n,j,x===null?n.first:x.next),En(n,x,j),x=j;continue}for($=[],E=[];h!==null&&h.k!==D;)h.e.f&wn||(y??(y=new Set)).add(h),E.push(h),h=h.next;if(h===null)continue;j=h}$.push(j),x=j,h=j.next}if(h!==null||y!==void 0){for(var ie=y===void 0?[]:Ja(y);h!==null;)h.e.f&wn||ie.push(h),h=h.next;var Oe=ie.length;if(Oe>0){var ze=o&So&&d===0?a:null;if(u){for(Z=0;Z<Oe;Z+=1)(lt=ie[Z].a)==null||lt.measure();for(Z=0;Z<Oe;Z+=1)(T=ie[Z].a)==null||T.fix()}ju(n,ie,ze)}}u&&Hr(()=>{var Y;if(S!==void 0)for(j of S)(Y=j.a)==null||Y.apply()}),e.first=n.first&&n.first.e,e.last=x&&x.e;for(var et of r.values())fn(et.e);r.clear()}function ol(e,t,n,r){r&ca&&zr(e.v,t),r&ua?zr(e.i,n):e.i=n}function ll(e,t,n,r,a,s,o,l,c,u,f){var d=(c&ca)!==0,v=(c&wc)===0,_=d?v?hu(a,!1,!1):gr(a):a,h=c&ua?gr(o):o,y={i:h,v:_,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var x=document.createDocumentFragment();x.append(e=Kr())}return y.e=cn(()=>l(e,_,h,u),Kc),y.e.prev=n&&n.e,y.e.next=r&&r.e,n===null?f||(t.first=y):(n.next=y,n.e.next=y.e),r!==null&&(r.prev=y,r.e.prev=y.e),y}finally{}}function Ma(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var o=bi(s);a.before(s),s=o}}function En(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const Ys=[...` 	
\r\f \v\uFEFF`];function Uu(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,o=0;(o=r.indexOf(a,o))>=0;){var l=o+s;(o===0||Ys.includes(r[o-1]))&&(l===r.length||Ys.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Yu(e,t){return e==null?null:String(e)}function Mn(e,t,n,r,a,s){var o=e.__className;if(o!==n||o===void 0){var l=Uu(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function Ii(e,t,n,r){var a=e.__style;if(a!==t){var s=Yu(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const Vu=Symbol("is custom element"),Hu=Symbol("is html");function Vs(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function L(e,t,n,r){var a=Ku(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[qc]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Xu(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ku(e){return e.__attributes??(e.__attributes={[Vu]:e.nodeName.includes("-"),[Hu]:e.namespaceURI===Ec})}var Hs=new Map;function Xu(e){var t=e.getAttribute("is")||e.nodeName,n=Hs.get(t);if(n)return n;Hs.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=$c(a);for(var o in r)r[o].set&&n.push(o);a=Mo(a)}return n}function Gu(e,t,n=t){var r=new WeakSet;mu(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=$a(e)?Aa(s):s,n(s),rt!==null&&r.add(rt),await Tu(),s!==(s=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),Xr(t)==null&&e.value&&(n($a(e)?Aa(e.value):e.value),rt!==null&&r.add(rt)),ls(()=>{var a=t();if(e===document.activeElement){var s=Fi??rt;if(r.has(s))return}$a(e)&&a===Aa(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function $a(e){var t=e.type;return t==="number"||t==="range"}function Aa(e){return e===""?null:+e}function Ks(e,t){return e===t||(e==null?void 0:e[oi])===t}function Wu(e={},t,n,r){return Su(()=>{var a,s;return ls(()=>{a=s,s=[],Xr(()=>{e!==n(...s)&&(t(e,...s),a&&Ks(n(...a),e)&&t(null,...a))})}),()=>{Hr(()=>{s&&Ks(n(...s),e)&&t(null,...s)})}}),e}function Xs(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}let Pi=!1;function Zu(e){var t=Pi;try{return Pi=!1,[e(),Pi]}finally{Pi=t}}function At(e,t,n,r){var $;var a=(n&kc)!==0,s=(n&Sc)!==0,o=r,l=!0,c=()=>(l&&(l=!1,o=s?Xr(r):r),o),u;if(a){var f=oi in e||Rc in e;u=(($=Tr(e,t))==null?void 0:$.set)??(f&&t in e?E=>e[t]=E:void 0)}var d,v=!1;a?[d,v]=Zu(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=c(),u&&(jc(),u(d)));var _;if(_=()=>{var E=e[t];return E===void 0?c():(l=!0,E)},!(n&xc))return _;if(u){var h=e.$$legacy;return function(E,V){return arguments.length>0?((!V||h||v)&&u(V?_():E),E):_()}}var y=!1,x=(n&bc?va:Do)(()=>(y=!1,_()));a&&i(x);var S=Le;return function(E,V){if(arguments.length>0){const D=V?i(x):a?Kt(E):E;return z(x,D),y=!0,o!==void 0&&(o=D),E}return xr&&y||S.f&br?x.v:i(x)}}function ji(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cl(e){let t,n,r;e.length!==2?(t=ji,n=(l,c)=>ji(e(l),c),r=(l,c)=>e(l)-c):(t=e===ji||e===Qu?e:Ju,n=e,r=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&r(l[d-1],c)>-r(l[d],c)?d-1:d}return{left:a,center:o,right:s}}function Ju(){return 0}function ef(e){return e===null?NaN:+e}const tf=cl(ji),nf=tf.right;cl(ef).center;class Gs extends Map{constructor(t,n=sf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(Ws(this,t))}has(t){return super.has(Ws(this,t))}set(t,n){return super.set(rf(this,t),n)}delete(t){return super.delete(af(this,t))}}function Ws({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function rf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function af({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function sf(e){return e!==null&&typeof e=="object"?e.valueOf():e}const of=Math.sqrt(50),lf=Math.sqrt(10),cf=Math.sqrt(2);function Gi(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=of?10:s>=lf?5:s>=cf?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?Gi(e,t,n*2):[l,c,u]}function ul(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,o]=r?Gi(t,e,n):Gi(e,t,n);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function za(e,t,n){return t=+t,e=+e,n=+n,Gi(e,t,n)[2]}function uf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?za(t,e,n):za(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function ff(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}var df={value:()=>{}};function fl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bi(n)}function Bi(e){this._=e}function vf(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Bi.prototype=fl.prototype={constructor:Bi,on:function(e,t){var n=this._,r=vf(e+"",n),a,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((a=(e=r[s]).type)&&(a=hf(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=r[s]).type)n[a]=Zs(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Zs(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Bi(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};function hf(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function Zs(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=df,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ja="http://www.w3.org/1999/xhtml";const Qs={svg:"http://www.w3.org/2000/svg",xhtml:ja,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ga(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Qs.hasOwnProperty(t)?{space:Qs[t],local:e}:e}function pf(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ja&&t.documentElement.namespaceURI===ja?t.createElement(e):t.createElementNS(n,e)}}function _f(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dl(e){var t=ga(e);return(t.local?_f:pf)(t)}function gf(){}function fs(e){return e==null?gf:function(){return this.querySelector(e)}}function mf(e){typeof e!="function"&&(e=fs(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=new Array(o),c,u,f=0;f<o;++f)(c=s[f])&&(u=e.call(c,c.__data__,f,s))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new xn(r,this._parents)}function yf(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function wf(){return[]}function vl(e){return e==null?wf:function(){return this.querySelectorAll(e)}}function bf(e){return function(){return yf(e.apply(this,arguments))}}function xf(e){typeof e=="function"?e=bf(e):e=vl(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var o=t[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),a.push(c));return new xn(r,a)}function hl(e){return function(){return this.matches(e)}}function pl(e){return function(t){return t.matches(e)}}var kf=Array.prototype.find;function Sf(e){return function(){return kf.call(this.children,e)}}function Nf(){return this.firstElementChild}function Ef(e){return this.select(e==null?Nf:Sf(typeof e=="function"?e:pl(e)))}var Mf=Array.prototype.filter;function $f(){return Array.from(this.children)}function Af(e){return function(){return Mf.call(this.children,e)}}function Tf(e){return this.selectAll(e==null?$f:Af(typeof e=="function"?e:pl(e)))}function If(e){typeof e!="function"&&(e=hl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new xn(r,this._parents)}function _l(e){return new Array(e.length)}function Pf(){return new xn(this._enter||this._groups.map(_l),this._parents)}function Wi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Wi.prototype={constructor:Wi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Cf(e){return function(){return e}}function Rf(e,t,n,r,a,s){for(var o=0,l,c=t.length,u=s.length;o<u;++o)(l=t[o])?(l.__data__=s[o],r[o]=l):n[o]=new Wi(e,s[o]);for(;o<c;++o)(l=t[o])&&(a[o]=l)}function qf(e,t,n,r,a,s,o){var l,c,u=new Map,f=t.length,d=s.length,v=new Array(f),_;for(l=0;l<f;++l)(c=t[l])&&(v[l]=_=o.call(c,c.__data__,l,t)+"",u.has(_)?a[l]=c:u.set(_,c));for(l=0;l<d;++l)_=o.call(e,s[l],l,s)+"",(c=u.get(_))?(r[l]=c,c.__data__=s[l],u.delete(_)):n[l]=new Wi(e,s[l]);for(l=0;l<f;++l)(c=t[l])&&u.get(v[l])===c&&(a[l]=c)}function Lf(e){return e.__data__}function Ff(e,t){if(!arguments.length)return Array.from(this,Lf);var n=t?qf:Rf,r=this._parents,a=this._groups;typeof e!="function"&&(e=Cf(e));for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var f=r[u],d=a[u],v=d.length,_=Of(e.call(f,f&&f.__data__,u,r)),h=_.length,y=l[u]=new Array(h),x=o[u]=new Array(h),S=c[u]=new Array(v);n(f,d,y,x,S,_,t);for(var $=0,E=0,V,D;$<h;++$)if(V=y[$]){for($>=E&&(E=$+1);!(D=x[E])&&++E<h;);V._next=D||null}}return o=new xn(o,r),o._enter=l,o._exit=c,o}function Of(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Df(){return new xn(this._exit||this._groups.map(_l),this._parents)}function zf(e,t,n){var r=this.enter(),a=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function jf(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),l=new Array(a),c=0;c<o;++c)for(var u=n[c],f=r[c],d=u.length,v=l[c]=new Array(d),_,h=0;h<d;++h)(_=u[h]||f[h])&&(v[h]=_);for(;c<a;++c)l[c]=n[c];return new xn(l,this._parents)}function Bf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,s=r[a],o;--a>=0;)(o=r[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Uf(e){e||(e=Yf);function t(d,v){return d&&v?e(d.__data__,v.__data__):!d-!v}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,c=a[s]=new Array(l),u,f=0;f<l;++f)(u=o[f])&&(c[f]=u);c.sort(t)}return new xn(a,this._parents).order()}function Yf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Vf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Hf(){return Array.from(this)}function Kf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var o=r[a];if(o)return o}return null}function Xf(){let e=0;for(const t of this)++e;return e}function Gf(){return!this.node()}function Wf(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function Zf(e){return function(){this.removeAttribute(e)}}function Qf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Jf(e,t){return function(){this.setAttribute(e,t)}}function ed(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function td(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function nd(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function rd(e,t){var n=ga(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Qf:Zf:typeof t=="function"?n.local?nd:td:n.local?ed:Jf)(n,t))}function gl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function id(e){return function(){this.style.removeProperty(e)}}function ad(e,t,n){return function(){this.style.setProperty(e,t,n)}}function sd(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function od(e,t,n){return arguments.length>1?this.each((t==null?id:typeof t=="function"?sd:ad)(e,t,n??"")):jr(this.node(),e)}function jr(e,t){return e.style.getPropertyValue(t)||gl(e).getComputedStyle(e,null).getPropertyValue(t)}function ld(e){return function(){delete this[e]}}function cd(e,t){return function(){this[e]=t}}function ud(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function fd(e,t){return arguments.length>1?this.each((t==null?ld:typeof t=="function"?ud:cd)(e,t)):this.node()[e]}function ml(e){return e.trim().split(/^|\s+/)}function ds(e){return e.classList||new yl(e)}function yl(e){this._node=e,this._names=ml(e.getAttribute("class")||"")}yl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wl(e,t){for(var n=ds(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function bl(e,t){for(var n=ds(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function dd(e){return function(){wl(this,e)}}function vd(e){return function(){bl(this,e)}}function hd(e,t){return function(){(t.apply(this,arguments)?wl:bl)(this,e)}}function pd(e,t){var n=ml(e+"");if(arguments.length<2){for(var r=ds(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?hd:t?dd:vd)(n,t))}function _d(){this.textContent=""}function gd(e){return function(){this.textContent=e}}function md(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function yd(e){return arguments.length?this.each(e==null?_d:(typeof e=="function"?md:gd)(e)):this.node().textContent}function wd(){this.innerHTML=""}function bd(e){return function(){this.innerHTML=e}}function xd(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function kd(e){return arguments.length?this.each(e==null?wd:(typeof e=="function"?xd:bd)(e)):this.node().innerHTML}function Sd(){this.nextSibling&&this.parentNode.appendChild(this)}function Nd(){return this.each(Sd)}function Ed(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Md(){return this.each(Ed)}function $d(e){var t=typeof e=="function"?e:dl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ad(){return null}function Td(e,t){var n=typeof e=="function"?e:dl(e),r=t==null?Ad:typeof t=="function"?t:fs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Id(){var e=this.parentNode;e&&e.removeChild(this)}function Pd(){return this.each(Id)}function Cd(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Rd(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qd(e){return this.select(e?Rd:Cd)}function Ld(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Fd(e){return function(t){e.call(this,t,this.__data__)}}function Od(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Dd(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function zd(e,t,n){return function(){var r=this.__on,a,s=Fd(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(a):this.__on=[a]}}function jd(e,t,n){var r=Od(e+""),a,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(a=0,f=l[c];a<s;++a)if((o=r[a]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?zd:Dd,a=0;a<s;++a)this.each(l(r[a],t,n));return this}function xl(e,t,n){var r=gl(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Bd(e,t){return function(){return xl(this,e,t)}}function Ud(e,t){return function(){return xl(this,e,t.apply(this,arguments))}}function Yd(e,t){return this.each((typeof t=="function"?Ud:Bd)(e,t))}function*Vd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length,o;a<s;++a)(o=r[a])&&(yield o)}var Hd=[null];function xn(e,t){this._groups=e,this._parents=t}function xi(){return new xn([[document.documentElement]],Hd)}function Kd(){return this}xn.prototype=xi.prototype={constructor:xn,select:mf,selectAll:xf,selectChild:Ef,selectChildren:Tf,filter:If,data:Ff,enter:Pf,exit:Df,join:zf,merge:jf,selection:Kd,order:Bf,sort:Uf,call:Vf,nodes:Hf,node:Kf,size:Xf,empty:Gf,each:Wf,attr:rd,style:od,property:fd,classed:pd,text:yd,html:kd,raise:Nd,lower:Md,append:$d,insert:Td,remove:Pd,clone:qd,datum:Ld,on:jd,dispatch:Yd,[Symbol.iterator]:Vd};function vs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ki(){}var vi=.7,Zi=1/vi,Cr="\\s*([+-]?\\d+)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",In="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xd=/^#([0-9a-f]{3,8})$/,Gd=new RegExp(`^rgb\\(${Cr},${Cr},${Cr}\\)$`),Wd=new RegExp(`^rgb\\(${In},${In},${In}\\)$`),Zd=new RegExp(`^rgba\\(${Cr},${Cr},${Cr},${hi}\\)$`),Qd=new RegExp(`^rgba\\(${In},${In},${In},${hi}\\)$`),Jd=new RegExp(`^hsl\\(${hi},${In},${In}\\)$`),ev=new RegExp(`^hsla\\(${hi},${In},${In},${hi}\\)$`),Js={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vs(ki,mr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eo,formatHex:eo,formatHex8:tv,formatHsl:nv,formatRgb:to,toString:to});function eo(){return this.rgb().formatHex()}function tv(){return this.rgb().formatHex8()}function nv(){return Sl(this).formatHsl()}function to(){return this.rgb().formatRgb()}function mr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Xd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?no(t):n===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ci(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ci(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Gd.exec(e))?new Gt(t[1],t[2],t[3],1):(t=Wd.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zd.exec(e))?Ci(t[1],t[2],t[3],t[4]):(t=Qd.exec(e))?Ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Jd.exec(e))?ao(t[1],t[2]/100,t[3]/100,1):(t=ev.exec(e))?ao(t[1],t[2]/100,t[3]/100,t[4]):Js.hasOwnProperty(e)?no(Js[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function no(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function Ci(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gt(e,t,n,r)}function rv(e){return e instanceof ki||(e=mr(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function Ba(e,t,n,r){return arguments.length===1?rv(e):new Gt(e,t,n,r??1)}function Gt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vs(Gt,Ba,kl(ki,{brighter(e){return e=e==null?Zi:Math.pow(Zi,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vi:Math.pow(vi,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(pr(this.r),pr(this.g),pr(this.b),Qi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ro,formatHex:ro,formatHex8:iv,formatRgb:io,toString:io}));function ro(){return`#${sr(this.r)}${sr(this.g)}${sr(this.b)}`}function iv(){return`#${sr(this.r)}${sr(this.g)}${sr(this.b)}${sr((isNaN(this.opacity)?1:this.opacity)*255)}`}function io(){const e=Qi(this.opacity);return`${e===1?"rgb(":"rgba("}${pr(this.r)}, ${pr(this.g)}, ${pr(this.b)}${e===1?")":`, ${e})`}`}function Qi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sr(e){return e=pr(e),(e<16?"0":"")+e.toString(16)}function ao(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yn(e,t,n,r)}function Sl(e){if(e instanceof yn)return new yn(e.h,e.s,e.l,e.opacity);if(e instanceof ki||(e=mr(e)),!e)return new yn;if(e instanceof yn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new yn(o,l,c,e.opacity)}function av(e,t,n,r){return arguments.length===1?Sl(e):new yn(e,t,n,r??1)}function yn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vs(yn,av,kl(ki,{brighter(e){return e=e==null?Zi:Math.pow(Zi,e),new yn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vi:Math.pow(vi,e),new yn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Gt(Ta(e>=240?e-240:e+120,a,r),Ta(e,a,r),Ta(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new yn(so(this.h),Ri(this.s),Ri(this.l),Qi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qi(this.opacity);return`${e===1?"hsl(":"hsla("}${so(this.h)}, ${Ri(this.s)*100}%, ${Ri(this.l)*100}%${e===1?")":`, ${e})`}`}}));function so(e){return e=(e||0)%360,e<0?e+360:e}function Ri(e){return Math.max(0,Math.min(1,e||0))}function Ta(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hs=e=>()=>e;function sv(e,t){return function(n){return e+n*t}}function ov(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lv(e){return(e=+e)==1?Nl:function(t,n){return n-t?ov(t,n,e):hs(isNaN(t)?n:t)}}function Nl(e,t){var n=t-e;return n?sv(e,n):hs(isNaN(e)?t:e)}const Ji=function e(t){var n=lv(t);function r(a,s){var o=n((a=Ba(a)).r,(s=Ba(s)).r),l=n(a.g,s.g),c=n(a.b,s.b),u=Nl(a.opacity,s.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return r.gamma=e,r}(1);function cv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function uv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fv(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)a[o]=ps(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<r;++o)s[o]=a[o](l);return s}}function dv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vv(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=ps(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Ua=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ia=new RegExp(Ua.source,"g");function hv(e){return function(){return e}}function pv(e){return function(t){return e(t)+""}}function El(e,t){var n=Ua.lastIndex=Ia.lastIndex=0,r,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Ua.exec(e))&&(a=Ia.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:gn(r,a)})),n=Ia.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?pv(c[0].x):hv(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function ps(e,t){var n=typeof t,r;return t==null||n==="boolean"?hs(t):(n==="number"?gn:n==="string"?(r=mr(t))?(t=r,Ji):El:t instanceof mr?Ji:t instanceof Date?dv:uv(t)?cv:Array.isArray(t)?fv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vv:gn)(e,t)}function _v(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var oo=180/Math.PI,Ya={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ml(e,t,n,r,a,s){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*oo,skewX:Math.atan(c)*oo,scaleX:o,scaleY:l}}var qi;function gv(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ya:Ml(t.a,t.b,t.c,t.d,t.e,t.f)}function mv(e){return e==null||(qi||(qi=document.createElementNS("http://www.w3.org/2000/svg","g")),qi.setAttribute("transform",e),!(e=qi.transform.baseVal.consolidate()))?Ya:(e=e.matrix,Ml(e.a,e.b,e.c,e.d,e.e,e.f))}function $l(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function s(u,f,d,v,_,h){if(u!==d||f!==v){var y=_.push("translate(",null,t,null,n);h.push({i:y-4,x:gn(u,d)},{i:y-2,x:gn(f,v)})}else(d||v)&&_.push("translate("+d+t+v+n)}function o(u,f,d,v){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),v.push({i:d.push(a(d)+"rotate(",null,r)-2,x:gn(u,f)})):f&&d.push(a(d)+"rotate("+f+r)}function l(u,f,d,v){u!==f?v.push({i:d.push(a(d)+"skewX(",null,r)-2,x:gn(u,f)}):f&&d.push(a(d)+"skewX("+f+r)}function c(u,f,d,v,_,h){if(u!==d||f!==v){var y=_.push(a(_)+"scale(",null,",",null,")");h.push({i:y-4,x:gn(u,d)},{i:y-2,x:gn(f,v)})}else(d!==1||v!==1)&&_.push(a(_)+"scale("+d+","+v+")")}return function(u,f){var d=[],v=[];return u=e(u),f=e(f),s(u.translateX,u.translateY,f.translateX,f.translateY,d,v),o(u.rotate,f.rotate,d,v),l(u.skewX,f.skewX,d,v),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,v),u=f=null,function(_){for(var h=-1,y=v.length,x;++h<y;)d[(x=v[h]).i]=x.x(_);return d.join("")}}}var yv=$l(gv,"px, ","px)","deg)"),wv=$l(mv,", ",")",")"),Br=0,ri=0,ti=0,Al=1e3,ea,ii,ta=0,yr=0,ma=0,pi=typeof performance=="object"&&performance.now?performance:Date,Tl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _s(){return yr||(Tl(bv),yr=pi.now()+ma)}function bv(){yr=0}function na(){this._call=this._time=this._next=null}na.prototype=Il.prototype={constructor:na,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_s():+n)+(t==null?0:+t),!this._next&&ii!==this&&(ii?ii._next=this:ea=this,ii=this),this._call=e,this._time=n,Va()},stop:function(){this._call&&(this._call=null,this._time=1/0,Va())}};function Il(e,t,n){var r=new na;return r.restart(e,t,n),r}function xv(){_s(),++Br;for(var e=ea,t;e;)(t=yr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Br}function lo(){yr=(ta=pi.now())+ma,Br=ri=0;try{xv()}finally{Br=0,Sv(),yr=0}}function kv(){var e=pi.now(),t=e-ta;t>Al&&(ma-=t,ta=e)}function Sv(){for(var e,t=ea,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ea=n);ii=e,Va(r)}function Va(e){if(!Br){ri&&(ri=clearTimeout(ri));var t=e-yr;t>24?(e<1/0&&(ri=setTimeout(lo,e-pi.now()-ma)),ti&&(ti=clearInterval(ti))):(ti||(ta=pi.now(),ti=setInterval(kv,Al)),Br=1,Tl(lo))}}function co(e,t,n){var r=new na;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var Nv=fl("start","end","cancel","interrupt"),Ev=[],Pl=0,uo=1,Ha=2,Ui=3,fo=4,Ka=5,Yi=6;function ya(e,t,n,r,a,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Mv(e,n,{name:t,index:r,group:a,on:Nv,tween:Ev,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Pl})}function gs(e,t){var n=Sn(e,t);if(n.state>Pl)throw new Error("too late; already scheduled");return n}function Cn(e,t){var n=Sn(e,t);if(n.state>Ui)throw new Error("too late; already running");return n}function Sn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Mv(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=Il(s,0,n.time);function s(u){n.state=uo,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,d,v,_;if(n.state!==uo)return c();for(f in r)if(_=r[f],_.name===n.name){if(_.state===Ui)return co(o);_.state===fo?(_.state=Yi,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete r[f]):+f<t&&(_.state=Yi,_.timer.stop(),_.on.call("cancel",e,e.__data__,_.index,_.group),delete r[f])}if(co(function(){n.state===Ui&&(n.state=fo,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ha,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ha){for(n.state=Ui,a=new Array(v=n.tween.length),f=0,d=-1;f<v;++f)(_=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=_);a.length=d+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Ka,1),d=-1,v=a.length;++d<v;)a[d].call(e,f);n.state===Ka&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Yi,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function $v(e,t){var n=e.__transition,r,a,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}a=r.state>Ha&&r.state<Ka,r.state=Yi,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function Av(e){return this.each(function(){$v(this,e)})}function Tv(e,t){var n,r;return function(){var a=Cn(this,e),s=a.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function Iv(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=Cn(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}s.tween=a}}function Pv(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Sn(this.node(),n).tween,a=0,s=r.length,o;a<s;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?Tv:Iv)(n,e,t))}function ms(e,t,n){var r=e._id;return e.each(function(){var a=Cn(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Sn(a,r).value[t]}}function Cl(e,t){var n;return(typeof t=="number"?gn:t instanceof mr?Ji:(n=mr(t))?(t=n,Ji):El)(e,t)}function Cv(e){return function(){this.removeAttribute(e)}}function Rv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qv(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===r?s:s=t(r=o,n)}}function Lv(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?s:s=t(r=o,n)}}function Fv(e,t,n){var r,a,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l)))}}function Ov(e,t,n){var r,a,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l)))}}function Dv(e,t){var n=ga(e),r=n==="transform"?wv:Cl;return this.attrTween(e,typeof t=="function"?(n.local?Ov:Fv)(n,r,ms(this,"attr."+e,t)):t==null?(n.local?Rv:Cv)(n):(n.local?Lv:qv)(n,r,t))}function zv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function jv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Bv(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&jv(e,s)),n}return a._value=t,a}function Uv(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&zv(e,s)),n}return a._value=t,a}function Yv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ga(e);return this.tween(n,(r.local?Bv:Uv)(r,t))}function Vv(e,t){return function(){gs(this,e).delay=+t.apply(this,arguments)}}function Hv(e,t){return t=+t,function(){gs(this,e).delay=t}}function Kv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Vv:Hv)(t,e)):Sn(this.node(),t).delay}function Xv(e,t){return function(){Cn(this,e).duration=+t.apply(this,arguments)}}function Gv(e,t){return t=+t,function(){Cn(this,e).duration=t}}function Wv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Xv:Gv)(t,e)):Sn(this.node(),t).duration}function Zv(e,t){if(typeof t!="function")throw new Error;return function(){Cn(this,e).ease=t}}function Qv(e){var t=this._id;return arguments.length?this.each(Zv(t,e)):Sn(this.node(),t).ease}function Jv(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Cn(this,e).ease=n}}function eh(e){if(typeof e!="function")throw new Error;return this.each(Jv(this._id,e))}function th(e){typeof e!="function"&&(e=hl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new jn(r,this._parents,this._name,this._id)}function nh(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var c=t[l],u=n[l],f=c.length,d=o[l]=new Array(f),v,_=0;_<f;++_)(v=c[_]||u[_])&&(d[_]=v);for(;l<r;++l)o[l]=t[l];return new jn(o,this._parents,this._name,this._id)}function rh(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function ih(e,t,n){var r,a,s=rh(t)?gs:Cn;return function(){var o=s(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function ah(e,t){var n=this._id;return arguments.length<2?Sn(this.node(),n).on.on(e):this.each(ih(n,e,t))}function sh(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function oh(){return this.on("end.remove",sh(this._id))}function lh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=fs(e));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var l=r[o],c=l.length,u=s[o]=new Array(c),f,d,v=0;v<c;++v)(f=l[v])&&(d=e.call(f,f.__data__,v,l))&&("__data__"in f&&(d.__data__=f.__data__),u[v]=d,ya(u[v],t,n,v,u,Sn(f,n)));return new jn(s,this._parents,t,n)}function ch(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vl(e));for(var r=this._groups,a=r.length,s=[],o=[],l=0;l<a;++l)for(var c=r[l],u=c.length,f,d=0;d<u;++d)if(f=c[d]){for(var v=e.call(f,f.__data__,d,c),_,h=Sn(f,n),y=0,x=v.length;y<x;++y)(_=v[y])&&ya(_,t,n,y,v,h);s.push(v),o.push(f)}return new jn(s,o,t,n)}var uh=xi.prototype.constructor;function fh(){return new uh(this._groups,this._parents)}function dh(e,t){var n,r,a;return function(){var s=jr(this,e),o=(this.style.removeProperty(e),jr(this,e));return s===o?null:s===n&&o===r?a:a=t(n=s,r=o)}}function Rl(e){return function(){this.style.removeProperty(e)}}function vh(e,t,n){var r,a=n+"",s;return function(){var o=jr(this,e);return o===a?null:o===r?s:s=t(r=o,n)}}function hh(e,t,n){var r,a,s;return function(){var o=jr(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),jr(this,e))),o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l))}}function ph(e,t){var n,r,a,s="style."+t,o="end."+s,l;return function(){var c=Cn(this,e),u=c.on,f=c.value[s]==null?l||(l=Rl(t)):void 0;(u!==n||a!==f)&&(r=(n=u).copy()).on(o,a=f),c.on=r}}function _h(e,t,n){var r=(e+="")=="transform"?yv:Cl;return t==null?this.styleTween(e,dh(e,r)).on("end.style."+e,Rl(e)):typeof t=="function"?this.styleTween(e,hh(e,r,ms(this,"style."+e,t))).each(ph(this._id,e)):this.styleTween(e,vh(e,r,t),n).on("end.style."+e,null)}function gh(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function mh(e,t,n){var r,a;function s(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&gh(e,o,n)),r}return s._value=t,s}function yh(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,mh(e,t,n??""))}function wh(e){return function(){this.textContent=e}}function bh(e){return function(){var t=e(this);this.textContent=t??""}}function xh(e){return this.tween("text",typeof e=="function"?bh(ms(this,"text",e)):wh(e==null?"":e+""))}function kh(e){return function(t){this.textContent=e.call(this,t)}}function Sh(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&kh(a)),t}return r._value=e,r}function Nh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Sh(e))}function Eh(){for(var e=this._name,t=this._id,n=ql(),r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var f=Sn(c,t);ya(c,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new jn(r,this._parents,e,n)}function Mh(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--a===0&&s()}};n.each(function(){var u=Cn(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&s()})}var $h=0;function jn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ql(){return++$h}var On=xi.prototype;jn.prototype={constructor:jn,select:lh,selectAll:ch,selectChild:On.selectChild,selectChildren:On.selectChildren,filter:th,merge:nh,selection:fh,transition:Eh,call:On.call,nodes:On.nodes,node:On.node,size:On.size,empty:On.empty,each:On.each,on:ah,attr:Dv,attrTween:Yv,style:_h,styleTween:yh,text:xh,textTween:Nh,remove:oh,tween:Pv,delay:Kv,duration:Wv,ease:Qv,easeVarying:eh,end:Mh,[Symbol.iterator]:On[Symbol.iterator]};function Ah(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Th={time:null,delay:0,duration:250,ease:Ah};function Ih(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ph(e){var t,n;e instanceof jn?(t=e._id,e=e._name):(t=ql(),(n=Th).time=_s(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&ya(c,e,t,u,o,n||Ih(c,t));return new jn(r,this._parents,e,t)}xi.prototype.interrupt=Av;xi.prototype.transition=Ph;const Xa=Math.PI,Ga=2*Xa,ar=1e-6,Ch=Ga-ar;function Ll(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Rh(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ll;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class qh{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ll:Rh(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,f=o-t,d=l-n,v=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>ar)if(!(Math.abs(d*c-u*f)>ar)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-o,h=a-l,y=c*c+u*u,x=_*_+h*h,S=Math.sqrt(y),$=Math.sqrt(v),E=s*Math.tan((Xa-Math.acos((y+v-x)/(2*S*$)))/2),V=E/$,D=E/S;Math.abs(V-1)>ar&&this._append`L${t+V*f},${n+V*d}`,this._append`A${s},${s},0,0,${+(d*_>f*h)},${this._x1=t+D*c},${this._y1=n+D*u}`}}arc(t,n,r,a,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,f=n+c,d=1^o,v=o?a-s:s-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ar||Math.abs(this._y1-f)>ar)&&this._append`L${u},${f}`,r&&(v<0&&(v=v%Ga+Ga),v>Ch?this._append`A${r},${r},0,1,${d},${t-l},${n-c}A${r},${r},0,1,${d},${this._x1=u},${this._y1=f}`:v>ar&&this._append`A${r},${r},0,${+(v>=Xa)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Lh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ra(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ur(e){return e=ra(Math.abs(e)),e?e[1]:NaN}function Fh(e,t){return function(n,r){for(var a=n.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Oh(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Dh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ia(e){if(!(t=Dh.exec(e)))throw new Error("invalid format: "+e);var t;return new ys({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ia.prototype=ys.prototype;function ys(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ys.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zh(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Fl;function jh(e,t){var n=ra(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(Fl=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ra(e,Math.max(0,t+s-1))[0]}function vo(e,t){var n=ra(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const ho={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Lh,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vo(e*100,t),r:vo,s:jh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function po(e){return e}var _o=Array.prototype.map,go=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Bh(e){var t=e.grouping===void 0||e.thousands===void 0?po:Fh(_o.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?po:Oh(_o.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=ia(d);var v=d.fill,_=d.align,h=d.sign,y=d.symbol,x=d.zero,S=d.width,$=d.comma,E=d.precision,V=d.trim,D=d.type;D==="n"?($=!0,D="g"):ho[D]||(E===void 0&&(E=12),V=!0,D="g"),(x||v==="0"&&_==="=")&&(x=!0,v="0",_="=");var j=y==="$"?n:y==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",Z=y==="$"?r:/[%p]/.test(D)?o:"",ve=ho[D],De=/[defgprs%]/.test(D);E=E===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function we(ae){var oe=j,I=Z,le,ie,Oe;if(D==="c")I=ve(ae)+I,ae="";else{ae=+ae;var ze=ae<0||1/ae<0;if(ae=isNaN(ae)?c:ve(Math.abs(ae),E),V&&(ae=zh(ae)),ze&&+ae==0&&h!=="+"&&(ze=!1),oe=(ze?h==="("?h:l:h==="-"||h==="("?"":h)+oe,I=(D==="s"?go[8+Fl/3]:"")+I+(ze&&h==="("?")":""),De){for(le=-1,ie=ae.length;++le<ie;)if(Oe=ae.charCodeAt(le),48>Oe||Oe>57){I=(Oe===46?a+ae.slice(le+1):ae.slice(le))+I,ae=ae.slice(0,le);break}}}$&&!x&&(ae=t(ae,1/0));var et=oe.length+ae.length+I.length,Se=et<S?new Array(S-et+1).join(v):"";switch($&&x&&(ae=t(Se+ae,Se.length?S-I.length:1/0),Se=""),_){case"<":ae=oe+ae+I+Se;break;case"=":ae=oe+Se+ae+I;break;case"^":ae=Se.slice(0,et=Se.length>>1)+oe+ae+I+Se.slice(et);break;default:ae=Se+oe+ae+I;break}return s(ae)}return we.toString=function(){return d+""},we}function f(d,v){var _=u((d=ia(d),d.type="f",d)),h=Math.max(-8,Math.min(8,Math.floor(Ur(v)/3)))*3,y=Math.pow(10,-h),x=go[8+h/3];return function(S){return _(y*S)+x}}return{format:u,formatPrefix:f}}var Li,Ol,Dl;Uh({thousands:",",grouping:[3],currency:["$",""]});function Uh(e){return Li=Bh(e),Ol=Li.format,Dl=Li.formatPrefix,Li}function Yh(e){return Math.max(0,-Ur(Math.abs(e)))}function Vh(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ur(t)/3)))*3-Ur(Math.abs(e)))}function Hh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ur(t)-Ur(e))+1}function ws(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const mo=Symbol("implicit");function zl(){var e=new Gs,t=[],n=[],r=mo;function a(s){let o=e.get(s);if(o===void 0){if(r!==mo)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Gs;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return zl(t,n).unknown(r)},ws.apply(a,arguments),a}function jl(){var e=zl().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var v=t().length,_=a<r,h=_?a:r,y=_?r:a;s=(y-h)/Math.max(1,v-c+u*2),l&&(s=Math.floor(s)),h+=(y-h-s*(v-c))*f,o=s*(1-c),l&&(h=Math.round(h),o=Math.round(o));var x=ff(v).map(function(S){return h+s*S});return n(_?x.reverse():x)}return e.domain=function(v){return arguments.length?(t(v),d()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(v){return arguments.length?(l=!!v,d()):l},e.padding=function(v){return arguments.length?(c=Math.min(1,u=+v),d()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),d()):c},e.paddingOuter=function(v){return arguments.length?(u=+v,d()):u},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),d()):f},e.copy=function(){return jl(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},ws.apply(d(),arguments)}function Bl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Bl(t())},e}function Kh(){return Bl(jl.apply(null,arguments).paddingInner(1))}function Xh(e){return function(){return e}}function Gh(e){return+e}var yo=[0,1];function Ar(e){return e}function Wa(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Xh(isNaN(t)?NaN:.5)}function Wh(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Zh(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=Wa(a,r),s=n(o,s)):(r=Wa(r,a),s=n(s,o)),function(l){return s(r(l))}}function Qh(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Wa(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(l){var c=nf(e,l,1,r)-1;return s[c](a[c](l))}}function Jh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ep(){var e=yo,t=yo,n=ps,r,a,s,o=Ar,l,c,u;function f(){var v=Math.min(e.length,t.length);return o!==Ar&&(o=Wh(e[0],e[v-1])),l=v>2?Qh:Zh,c=u=null,d}function d(v){return v==null||isNaN(v=+v)?s:(c||(c=l(e.map(r),t,n)))(r(o(v)))}return d.invert=function(v){return o(a((u||(u=l(t,e.map(r),gn)))(v)))},d.domain=function(v){return arguments.length?(e=Array.from(v,Gh),f()):e.slice()},d.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},d.rangeRound=function(v){return t=Array.from(v),n=_v,f()},d.clamp=function(v){return arguments.length?(o=v?!0:Ar,f()):o!==Ar},d.interpolate=function(v){return arguments.length?(n=v,f()):n},d.unknown=function(v){return arguments.length?(s=v,d):s},function(v,_){return r=v,a=_,f()}}function tp(){return ep()(Ar,Ar)}function np(e,t,n,r){var a=uf(e,t,n),s;switch(r=ia(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Vh(a,o))&&(r.precision=s),Dl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Hh(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Yh(a))&&(r.precision=s-(r.type==="%")*2);break}}return Ol(r)}function rp(e){var t=e.domain;return e.ticks=function(n){var r=t();return ul(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return np(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,o=r[a],l=r[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);f-- >0;){if(u=za(o,l,n),u===c)return r[a]=o,r[s]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ul(){var e=tp();return e.copy=function(){return Jh(e,Ul())},ws.apply(e,arguments),rp(e)}function $r(e){return function(){return e}}function ip(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new qh(t)}function ap(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yl(e){this._context=e}Yl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sp(e){return new Yl(e)}function op(e){return e[0]}function lp(e){return e[1]}function cp(e,t){var n=$r(!0),r=null,a=sp,s=null,o=ip(l);e=typeof e=="function"?e:e===void 0?op:$r(e),t=typeof t=="function"?t:t===void 0?lp:$r(t);function l(c){var u,f=(c=ap(c)).length,d,v=!1,_;for(r==null&&(s=a(_=o())),u=0;u<=f;++u)!(u<f&&n(d=c[u],u,c))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(d,u,c),+t(d,u,c));if(_)return s=null,_+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:$r(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:$r(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:$r(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(s=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=s=null:s=a(r=c),l):r},l}function wo(e){return e<0?-1:1}function bo(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(s*a+o*r)/(r+a);return(wo(s)+wo(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function xo(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Pa(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,a+l*t,s-l,o-l*n,s,o)}function aa(e){this._context=e}aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pa(this,this._t0,xo(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Pa(this,xo(this,n=bo(this,e,t)),n);break;default:Pa(this,this._t0,n=bo(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(aa.prototype).point=function(e,t){aa.prototype.point.call(this,t,e)};function up(e){return new aa(e)}function ai(e,t,n){this.k=e,this.x=t,this.y=n}ai.prototype={constructor:ai,scale:function(e){return e===1?this:new ai(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ai(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ai.prototype;var fp=kn('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),dp=kn('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),vp=kn("<tspan> </tspan>"),hp=kn('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),pp=kn('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),_p=kn('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),gp=kn('<path stroke-width="1.5" role="button" tabindex="0"></path>'),mp=kn("<g><!></g>"),yp=N("<div> </div>"),wp=N("<div> </div>"),bp=N("<div> </div>"),xp=N('<div class="tooltip-divider svelte-idxsrp"></div>'),kp=N('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),Sp=N("<div> </div>"),Np=N("<div> </div>"),Ep=N("<div> </div>"),Mp=N("<div> </div>"),$p=N("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),Ap=N('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),Tp=N("<span> </span>"),Ip=kn('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),Pp=kn('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),Cp=kn('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),Rp=N('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),qp=N('<div class="band-legend svelte-idxsrp"></div>'),Lp=N('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),Fp=N('<div class="legend svelte-idxsrp"></div>'),Op=N('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function Dp(e,t){tr(t,!0);let n=At(t,"bands",19,()=>[]),r=At(t,"years",19,()=>[]),a=At(t,"maxFieldSize",3,0),s=At(t,"yMode",3,"relative"),o=At(t,"showConductorMarkers",3,!0);const l={top:24,right:48,bottom:48,left:72},c=880,u=360,f={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},d=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],v=["circle","square","triangle"],_=6,h=24,y=26,x=30,S=l.top+12,$=u-l.bottom-22,E=10,V=6,D=[0,1,2,3];let j=qe(null),Z=qe(Kt({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),ve=null,De=null,we=qe(null),ae=qe(0),oe=qe(0);const I=()=>o()&&n().length===1;function le(w){if(w.absolute_position==null)return 0;const b=w.field_size??i(qt)??a()??1;return b?w.absolute_position/b*100:0}function ie(w){return s()==="relative"?le(w):w.absolute_position??0}function Oe(w){const b=w.pieces??w.pieces,B=Array.isArray(b)?b.map(P=>`${P}`.trim()).filter(Boolean):b!=null&&`${b}`.trim().length?[`${b}`.trim()]:[],K={...w,pieces:B},X=w;return X.band_name!=null&&(K.band_name=X.band_name),Array.isArray(X.aggregate_entries)&&X.aggregate_entries.length>0&&(K.aggregate_entries=X.aggregate_entries.map(P=>Oe(P))),K}function ze(w){return w.map(b=>Oe(b))}function et(w){const b=[];let B=0;if(w.length>0){const K=w[0];K.conductor&&(b.push({year:K.year,conductor:K.conductor,lane:B}),B+=1)}for(let K=1;K<w.length;K+=1){const X=w[K-1],P=w[K];X.conductor&&P.conductor&&X.conductor!==P.conductor&&(b.push({year:P.year,conductor:P.conductor,lane:B}),B+=1)}return b}function Se(){if(!i(j))return;const w=i(j).getBoundingClientRect(),b=i(j).parentElement;if(!b)return;const B=b.getBoundingClientRect();if(w.width===0||w.height===0)return;const K={offsetX:w.left-B.left,scaleX:w.width/c,offsetY:w.top-B.top,scaleY:w.height/u};(Math.abs(K.offsetX-i(Z).offsetX)>.1||Math.abs(K.scaleX-i(Z).scaleX)>.001||Math.abs(K.offsetY-i(Z).offsetY)>.1||Math.abs(K.scaleY-i(Z).scaleY)>.001)&&z(Z,K,!0)}function je(){!ve||!i(j)||De!==i(j)&&(De&&ve.unobserve(De),ve.observe(i(j)),De=i(j))}Xi(()=>{typeof ResizeObserver<"u"&&(ve=new ResizeObserver(()=>Se())),je(),Se(),window.addEventListener("resize",Se)}),ui(()=>{je(),Se()}),Du(()=>{ve==null||ve.disconnect(),window.removeEventListener("resize",Se)});function lt(w){return D[w%D.length]??0}function T(w,b){const B=i(vt);if(!B)return{anchor:"middle",dx:0};const K=B(w.year)??l.left,X=48,P=l.left-X,de=c-l.right+X,_e=Math.max(b,1)*V/2;return K+_e>de?{anchor:"end",dx:0}:K-_e<P?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function Y(w){const b=w==null?void 0:w.trim();if(!b)return[""];const B=b.split(/\s+/);if(B.length<=1)return[b];const K=B.pop(),X=B.join(" ");return X?[X,K]:[K]}function ne(w,b,B){const K=w.find(ge=>ge.year===b.year),X=lt(b.lane);if(!K)return l.top-8+X*(h+6);const P=i(xt)(ie(K)),de=B??Y(b.conductor),Fe=(Math.max(de.length,1)-1)*6,Xe=w.filter(ge=>ge.year>=b.year-1&&ge.year<=b.year+1).map(ge=>({year:ge.year,y:i(xt)(ie(ge))})).sort((ge,Re)=>ge.year-Re.year),dt=Xe.findIndex(ge=>ge.year===b.year);let ot=!0;if(dt>0&&dt<Xe.length-1){const ge=Xe[dt-1],Re=Xe[dt+1],wt=Math.abs(P-ge.y),Ft=Math.abs(P-Re.y);(wt<y+4||Ft<y+4)&&(ot=!1)}const $e=h+10,he=y+X*$e+Fe,Ue=P-he;if(ot&&Ue>S)return Ue;const Nt=x+X*$e+Fe,Ze=P+Nt;if(Ze<=$)return Ze;const Ge=$-X*$e;return Ge>S?Ge:Math.max(S,Math.min($,P))}function xe(w,b,B){return`M ${w} ${b-B} L ${w+B} ${b+B} L ${w-B} ${b+B} Z`}function He(w){if(!w)return Number.POSITIVE_INFINITY;const b=w.trim().toLowerCase();if(b==="elite")return 0;const B=b.match(/(\d+)/);return B?parseInt(B[1],10):Number.POSITIVE_INFINITY}function tt(w,b){const B=He(w),K=He(b);return B!==K?B-K:w.localeCompare(b)}let Be=M(()=>n().map(w=>({band:w,entries:ze(w.entries)}))),ct=M(()=>i(Be).reduce((w,b)=>(w.push(...b.entries),w),[])),gt=M(()=>(()=>{if(r().length)return r();if(!i(ct).length)return[0];const w=new Set(i(ct).map(b=>b.year));return Array.from(w).sort((b,B)=>b-B)})()),vt=M(()=>Kh().domain(i(gt)).range([l.left,c-l.right])),qt=M(()=>a()||(i(ct).length?Math.max(...i(ct).map(w=>w.field_size??0)):1)),Lt=M(()=>s()==="relative"?[100,0]:[i(qt)+1,0]),xt=M(()=>Ul().domain(i(Lt)).range([u-l.bottom,l.top])),kt=M(()=>i(Be).map((w,b)=>{const B=[...w.entries].sort((_e,Fe)=>_e.year-Fe.year),K=i(gt).map(_e=>B.find(Fe=>Fe.year===_e)??null),P=cp().defined(_e=>_e!==null).x(_e=>_e?i(vt)(_e.year)??l.left:l.left).y(_e=>_e?i(xt)(ie(_e)):i(xt)(i(Lt)[1])).curve(up)(K)??void 0,de=I()?et(B):[];return{band:w.band,entries:B,timeline:K,pathData:P,conductorChanges:de,color:d[b%d.length],shape:v[b%v.length]}})),St=M(()=>I()&&i(kt).length?i(kt)[0].conductorChanges.map(w=>{const b=Y(w.conductor),B=b.reduce((X,P)=>Math.max(X,P.length),0),K=T(w,B);return{...w,...K,y:ne(i(kt)[0].entries,w,b),labelLines:b}}):[]),vn=M(()=>(()=>{if(s()==="relative")return Array.from({length:11},(w,b)=>b*10);{const w=Array.from(new Set(ul(1,i(qt),6).map(b=>Math.round(b)))).filter(b=>b>=1).sort((b,B)=>b-B);return w.includes(1)?w:[1,...w]}})()),nn=M(()=>new Set(i(ct).map(w=>w.year))),rn=M(()=>i(gt).length>30?5:i(gt).length>18?3:1),hn=M(()=>i(gt).filter((w,b)=>b===0||b===i(gt).length-1||w===2019?!0:w%i(rn)===0)),te=M(()=>i(hn).map(w=>{const b=i(vt)(w)??l.left,B=i(Z).offsetX+b*i(Z).scaleX;return{year:w,x:B,inactive:!i(nn).has(w)}})),W=M(()=>i(Z).offsetY+(u-l.bottom)*i(Z).scaleY+E),pe=M(()=>Array.from(new Set(i(ct).map(w=>w.division))).filter(w=>typeof w=="string"&&w.length>0).sort(tt));const me=()=>i(pe).length>0;function Pe(w,b,B,K){const X=w.currentTarget,P=X.ownerSVGElement;if(!P)return;const de=P.getBoundingClientRect();if(w instanceof MouseEvent)z(ae,w.clientX-de.left),z(oe,w.clientY-de.top);else{const _e=X.getBoundingClientRect();z(ae,_e.left+_e.width/2-de.left),z(oe,_e.top+_e.height/2-de.top)}z(we,{entry:b,bandName:B,lineColor:K},!0)}function H(){z(we,null)}function re(w){return w.aggregate_entries}var ye=Op(),J=ke(ye),Ce=p(J);L(Ce,"viewBox",`0 0 ${c} ${u}`);var Ke=A(p(Ce));Ve(Ke,21,()=>i(vn),We,(w,b)=>{var B=fp(),K=ke(B),X=A(K),P=p(X);G((de,_e,Fe)=>{L(K,"x1",l.left),L(K,"x2",c-l.right),L(K,"y1",de),L(K,"y2",_e),L(X,"x",l.left-12),L(X,"y",Fe),O(P,s()==="relative"?`${i(b)}%`:`#${i(b)}`)},[()=>i(xt)(i(b)),()=>i(xt)(i(b)),()=>i(xt)(i(b))+4]),m(w,B)});var Te=A(Ke);Ve(Te,17,()=>i(kt),We,(w,b)=>{var B=Je(),K=ke(B);{var X=P=>{var de=dp();G(()=>{L(de,"d",i(b).pathData),L(de,"stroke",i(b).color)}),m(P,de)};U(K,P=>{i(b).pathData&&P(X)})}m(w,B)});var ut=A(Te);{var st=w=>{var b=Je(),B=ke(b);Ve(B,17,()=>i(St),We,(K,X)=>{var P=Je(),de=ke(P);{var _e=Fe=>{var Xe=Je(),dt=ke(Xe);zu(dt,()=>`${i(X).year}-${i(X).conductor}`,ot=>{var $e=hp(),he=p($e),Ue=A(he);Ve(Ue,21,()=>i(X).labelLines,We,(Nt,Ze,Ge,ge)=>{var Re=vp();L(Re,"dy",Ge===0?0:"1.1em");var wt=p(Re);G(Ft=>{L(Re,"x",Ft),O(wt,i(Ze))},[()=>i(vt)(i(X).year)]),m(Nt,Re)}),G((Nt,Ze,Ge)=>{L(he,"x1",Nt),L(he,"x2",Ze),L(he,"y1",l.top),L(he,"y2",u-l.bottom),L(Ue,"x",Ge),L(Ue,"y",i(X).y),L(Ue,"text-anchor",i(X).anchor),L(Ue,"dx",i(X).dx)},[()=>i(vt)(i(X).year),()=>i(vt)(i(X).year),()=>i(vt)(i(X).year)]),m(ot,$e)}),m(Fe,Xe)};U(de,Fe=>{i(vt)(i(X).year)!==void 0&&Fe(_e)})}m(K,P)}),m(w,b)};U(ut,w=>{I()&&w(st)})}var mt=A(ut);Ve(mt,17,()=>i(kt),We,(w,b)=>{var B=Je(),K=ke(B);Ve(K,17,()=>i(b).entries,X=>X.year,(X,P)=>{var de=Je(),_e=ke(de);{var Fe=Xe=>{const dt=M(()=>i(vt)(i(P).year)??l.left),ot=M(()=>i(xt)(ie(i(P)))),$e=M(()=>(i(P).field_size??0)>0),he=M(()=>i($e)?`${le(i(P)).toFixed(1)}%`:null);var Ue=mp(),Nt=p(Ue);{var Ze=ge=>{var Re=pp();L(Re,"r",_),G(()=>{L(Re,"cx",i(dt)),L(Re,"cy",i(ot)),L(Re,"fill",f[i(P).division]??"#f8fafc"),L(Re,"stroke",i(b).color),L(Re,"aria-label",`${i(b).band.name}: ${i(P).year} – ${i(P).division} plass ${i(P).rank} (absolutt #${i(P).absolute_position}${i(he)?` · relativ ${i(he)}`:""})${i(P).conductor?` – Dirigent: ${i(P).conductor}`:""}`)}),Jt("mouseenter",Re,wt=>Pe(wt,i(P),i(b).band.name,i(b).color)),Jt("mouseleave",Re,H),Jt("focus",Re,wt=>Pe(wt,i(P),i(b).band.name,i(b).color)),Jt("blur",Re,H),m(ge,Re)},Ge=ge=>{var Re=Je(),wt=ke(Re);{var Ft=ht=>{var ce=_p();L(ce,"width",_*2),L(ce,"height",_*2),G(()=>{L(ce,"x",i(dt)-_),L(ce,"y",i(ot)-_),L(ce,"fill",f[i(P).division]??"#f8fafc"),L(ce,"stroke",i(b).color),L(ce,"aria-label",`${i(b).band.name}: ${i(P).year} – ${i(P).division} plass ${i(P).rank} (absolutt #${i(P).absolute_position}${i(he)?` · relativ ${i(he)}`:""})${i(P).conductor?` – Dirigent: ${i(P).conductor}`:""}`)}),Jt("mouseenter",ce,Ie=>Pe(Ie,i(P),i(b).band.name,i(b).color)),Jt("mouseleave",ce,H),Jt("focus",ce,Ie=>Pe(Ie,i(P),i(b).band.name,i(b).color)),Jt("blur",ce,H),m(ht,ce)},Yt=ht=>{var ce=gp();G(Ie=>{L(ce,"d",Ie),L(ce,"fill",f[i(P).division]??"#f8fafc"),L(ce,"stroke",i(b).color),L(ce,"aria-label",`${i(b).band.name}: ${i(P).year} – ${i(P).division} plass ${i(P).rank} (absolutt #${i(P).absolute_position}${i(he)?` · relativ ${i(he)}`:""})${i(P).conductor?` – Dirigent: ${i(P).conductor}`:""}`)},[()=>xe(i(dt),i(ot),_)]),Jt("mouseenter",ce,Ie=>Pe(Ie,i(P),i(b).band.name,i(b).color)),Jt("mouseleave",ce,H),Jt("focus",ce,Ie=>Pe(Ie,i(P),i(b).band.name,i(b).color)),Jt("blur",ce,H),m(ht,ce)};U(wt,ht=>{i(b).shape==="square"?ht(Ft):ht(Yt,!1)},!0)}m(ge,Re)};U(Nt,ge=>{i(b).shape==="circle"?ge(Ze):ge(Ge,!1)})}m(Xe,Ue)};U(_e,Xe=>{i(vt)(i(P).year)!==void 0&&Xe(Fe)})}m(X,de)}),m(w,B)}),Wu(Ce,w=>z(j,w),()=>i(j));var it=A(Ce,2);{var Ne=w=>{const b=M(()=>re(i(we).entry));var B=Ap(),K=p(B),X=p(K),P=A(K,2);{var de=Fe=>{var Xe=Je(),dt=ke(Xe);Ve(dt,17,()=>i(b),We,(ot,$e,he)=>{var Ue=kp(),Nt=ke(Ue),Ze=p(Nt),Ge=p(Ze),ge=A(Ze,2),Re=p(ge),wt=A(ge,2),Ft=p(wt),Yt=A(wt,2);{var ht=_t=>{const Pt=M(()=>le(i($e)).toFixed(1));var Qt=yp(),Nn=p(Qt);G(()=>O(Nn,`Relativ plassering: ${i(Pt)??""}%`)),m(_t,Qt)};U(Yt,_t=>{(i($e).field_size??0)>0&&_t(ht)})}var ce=A(Yt,2),Ie=p(ce),pt=A(ce,2);{var an=_t=>{var Pt=wp(),Qt=p(Pt);G(()=>O(Qt,`Poeng: ${i($e).points??""} / ${i($e).max_points??""}`)),m(_t,Pt)};U(pt,_t=>{i($e).points!==null&&_t(an)})}var rr=A(pt,2);{var Ot=_t=>{var Pt=bp(),Qt=p(Pt);G(Nn=>O(Qt,`Stykker: ${Nn??""}`),[()=>i($e).pieces.join("; ")]),m(_t,Pt)};U(rr,_t=>{i($e).pieces.length>0&&_t(Ot)})}var bt=A(Nt,2);{var Rn=_t=>{var Pt=xp();m(_t,Pt)};U(bt,_t=>{he<i(b).length-1&&_t(Rn)})}G(()=>{O(Ge,i($e).band_name??"Ukjent korps"),O(Re,`${i($e).division??""} · #${i($e).rank??""}`),O(Ft,`Absolutt plassering: #${i($e).absolute_position??""}`),O(Ie,`Deltakere: ${i($e).division_size??""} (div) / ${i($e).field_size??""} (totalt)`)}),m(ot,Ue)}),m(Fe,Xe)},_e=Fe=>{var Xe=$p(),dt=ke(Xe),ot=p(dt),$e=A(dt,2);{var he=ce=>{var Ie=Sp(),pt=p(Ie);G(()=>O(pt,`Dirigent: ${i(we).entry.conductor??""}`)),m(ce,Ie)};U($e,ce=>{i(we).entry.conductor&&ce(he)})}var Ue=A($e,2),Nt=p(Ue),Ze=A(Ue,2);{var Ge=ce=>{const Ie=M(()=>le(i(we).entry).toFixed(1));var pt=Np(),an=p(pt);G(()=>O(an,`Relativ plassering: ${i(Ie)??""}%`)),m(ce,pt)};U(Ze,ce=>{(i(we).entry.field_size??0)>0&&ce(Ge)})}var ge=A(Ze,2),Re=p(ge),wt=A(ge,2);{var Ft=ce=>{var Ie=Ep(),pt=p(Ie);G(()=>O(pt,`Poeng: ${i(we).entry.points??""} / ${i(we).entry.max_points??""}`)),m(ce,Ie)};U(wt,ce=>{i(we).entry.points!==null&&ce(Ft)})}var Yt=A(wt,2);{var ht=ce=>{var Ie=Mp(),pt=p(Ie);G(an=>O(pt,`Stykker: ${an??""}`),[()=>i(we).entry.pieces.join("; ")]),m(ce,Ie)};U(Yt,ce=>{i(we).entry.pieces.length>0&&ce(ht)})}G(()=>{O(ot,`${i(we).entry.division??""} · #${i(we).entry.rank??""}`),O(Nt,`Absolutt plassering: #${i(we).entry.absolute_position??""}`),O(Re,`Deltakere: ${i(we).entry.division_size??""} (div) / ${i(we).entry.field_size??""} (totalt)`)}),m(Fe,Xe)};U(P,Fe=>{i(b)&&i(b).length?Fe(de):Fe(_e,!1)})}G(()=>{Ii(B,`left: ${i(ae)}px; top: ${i(oe)}px`),O(X,`${i(we).entry.year??""} · ${i(we).bandName??""}`)}),m(w,B)};U(it,w=>{i(we)&&w(Ne)})}var at=A(it,2);Ve(at,21,()=>i(te),We,(w,b)=>{var B=Tp();let K;var X=p(B);G(P=>{Ii(B,`left: ${i(b).x}px`),K=Mn(B,1,"svelte-idxsrp",null,K,P),O(X,i(b).year)},[()=>({inactive:i(b).inactive})]),m(w,B)});var Et=A(J,2);{var yt=w=>{var b=qp();Ve(b,21,()=>i(kt),We,(B,K)=>{var X=Rp(),P=p(X),de=p(P),_e=A(de);{var Fe=ot=>{var $e=Ip();G(()=>L($e,"stroke",i(K).color)),m(ot,$e)},Xe=ot=>{var $e=Je(),he=ke($e);{var Ue=Ze=>{var Ge=Pp();G(()=>L(Ge,"stroke",i(K).color)),m(Ze,Ge)},Nt=Ze=>{var Ge=Cp();G(ge=>{L(Ge,"d",ge),L(Ge,"stroke",i(K).color)},[()=>xe(21,7,6)]),m(Ze,Ge)};U(he,Ze=>{i(K).shape==="square"?Ze(Ue):Ze(Nt,!1)},!0)}m(ot,$e)};U(_e,ot=>{i(K).shape==="circle"?ot(Fe):ot(Xe,!1)})}var dt=A(P);G(()=>{L(de,"stroke",i(K).color),O(dt,` ${i(K).band.name??""}`)}),m(B,X)}),m(w,b)};U(Et,w=>{i(kt).length>0&&w(yt)})}var Tt=A(Et,2);{var ft=w=>{var b=Fp();Ve(b,21,()=>i(pe),We,(B,K)=>{var X=Lp(),P=p(X),de=A(P);G(()=>{Ii(P,`background-color: ${f[i(K)]??"#94a3b8"}`),O(de,` ${i(K)??""}`)}),m(B,X)}),m(w,b)};U(Tt,w=>{me()&&w(ft)})}G(()=>Ii(at,`top: ${i(W)}px`)),m(e,ye),nr()}function nt(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}var zp=N('<span class="test-piece-label svelte-urxxqj" title="Pliktstykke (fredag)">P:</span>'),jp=N('<span class="own-choice-label svelte-urxxqj" title="Selvvalgt (lørdag)">S:</span>'),Bp=N("<a> </a>"),Up=N("<span> </span>"),Yp=N("<span>Ukjent</span>"),Vp=N('<li class="svelte-urxxqj"><!> <!></li>'),Hp=N('<ul class="piece-list svelte-urxxqj"></ul>'),Kp=N("<span>Ukjent</span>"),Xp=N('<a class="entity-link svelte-urxxqj"> </a>'),Gp=N("<span>Ukjent</span>"),Wp=N('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),Zp=N('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),Qp=N("<!> <!>",1),Jp=N('<div class="streaming-links svelte-urxxqj"></div>'),e_=N('<span class="streaming-missing svelte-urxxqj" aria-hidden="true">–</span>'),t_=N('<tr class="svelte-urxxqj"><td data-label="År" class="svelte-urxxqj"> </td><td data-label="Divisjon" class="division-cell svelte-urxxqj"> </td><td data-label="Stykke" class="piece-cell svelte-urxxqj"><!></td><td data-label="Plass" class="svelte-urxxqj"> </td><td data-label="Poeng" class="svelte-urxxqj"> </td><td data-label="Dirigent" class="svelte-urxxqj"><!></td><td data-label="Opptak" class="streaming-cell svelte-urxxqj"><!></td></tr>'),n_=N('<article class="band-card svelte-urxxqj"><header class="band-header svelte-urxxqj"><div><h2 class="svelte-urxxqj"> </h2> <p class="band-count svelte-urxxqj"> </p></div></header> <div class="table-wrapper svelte-urxxqj" role="region"><table class="svelte-urxxqj"><thead class="svelte-urxxqj"><tr><th scope="col" class="svelte-urxxqj">År</th><th scope="col" class="division-column svelte-urxxqj">Divisjon</th><th scope="col" class="svelte-urxxqj">Stykke</th><th scope="col" class="svelte-urxxqj">Plass</th><th scope="col" class="svelte-urxxqj">Poeng</th><th scope="col" class="svelte-urxxqj">Dirigent</th><th scope="col" class="streaming-column svelte-urxxqj">Opptak</th></tr></thead><tbody class="svelte-urxxqj"></tbody></table></div></article>'),r_=N('<section class="band-performances svelte-urxxqj"></section>');function i_(e,t){tr(t,!0);let n=At(t,"bands",19,()=>[]),r=At(t,"bandType",3,"wind"),a=At(t,"eliteTestPieces",3,null);const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function o(S){return[...S].sort(($,E)=>{const V=$.year-E.year;if(V!==0)return V;const D=$.rank??Number.POSITIVE_INFINITY,j=E.rank??Number.POSITIVE_INFINITY;return D!==j?D-j:($.absolute_position??Number.POSITIVE_INFINITY)-(E.absolute_position??Number.POSITIVE_INFINITY)})}function l(S){return S==null?"–":s.format(S)}function c(S){return S!=null?`${S}`:"–"}function u(S){return!!(S!=null&&S.spotify||S!=null&&S.apple_music)}function f(S){if(!S)return null;const $=S.trim();if(!$)return null;if(!/^https?:\/\//i.test($))return $;try{const E=new URL($);return`music://${`${E.host}${E.pathname}${E.search}${E.hash}`}`}catch(E){return console.warn("Kunne ikke konvertere Apple Music-lenke",E),$}}function d(S,$,E){var ve,De;if(!$)return S;const V=(ve=$.recording_title)==null?void 0:ve.trim(),D=(De=$.album)==null?void 0:De.trim(),j=E==="spotify"?"Spotify":"Apple Music",Z=V&&V.length>0?V:S;return D&&D.length>0?`${Z} • ${D} (${j})`:`${Z} (${j})`}function v(S,$,E){return t.streamingResolver?t.streamingResolver(S,$,E)??null:null}function _(S){var V,D;const $=String(S),E=(D=(V=a())==null?void 0:V.test_pieces)==null?void 0:D[$];return E?{composer:E.composer,piece:E.piece}:null}function h(S){return(S||"").toLowerCase()==="elite"}let y=M(()=>n().map(S=>({...S,entries:o(S.entries)})));var x=r_();Ve(x,21,()=>i(y),We,(S,$)=>{var E=n_(),V=p(E),D=p(V),j=p(D),Z=p(j),ve=A(j,2),De=p(ve),we=A(V,2),ae=p(we),oe=A(p(ae));Ve(oe,21,()=>i($).entries,We,(I,le)=>{const ie=M(()=>Array.isArray(i(le).pieces)?i(le).pieces:[]),Oe=M(()=>i(ie).filter(H=>H&&H.trim().length>0)),ze=M(()=>r()==="brass"&&h(i(le).division)?_(i(le).year):null),et=M(()=>{var H;return((H=i(le).conductor)==null?void 0:H.trim())??""}),Se=M(()=>i(et).length>0),je=M(()=>i(Se)?nt(i(et)):""),lt=M(()=>i(Oe).map(H=>{const re=H.trim(),ye=re?nt(re):"",J=re?v(i(le),i($).name,re):null;return{pieceName:re,pieceSlug:ye,streaming:J,isTestPiece:!1}})),T=M(()=>i(ze)?[{pieceName:i(ze).piece,pieceSlug:nt(i(ze).piece),streaming:v(i(le),i($).name,i(ze).piece),isTestPiece:!0}]:[]),Y=M(()=>[...i(T),...i(lt)]),ne=M(()=>i(Y).filter(H=>u(H.streaming)));var xe=t_(),He=p(xe),tt=p(He),Be=A(He),ct=p(Be),gt=A(Be),vt=p(gt);{var qt=H=>{var re=Hp();Ve(re,21,()=>i(Y),We,(ye,J)=>{var Ce=Vp(),Ke=p(Ce);{var Te=Ne=>{var at=zp();m(Ne,at)},ut=Ne=>{var at=Je(),Et=ke(at);{var yt=Tt=>{var ft=jp();m(Tt,ft)};U(Et,Tt=>{r()==="brass"&&h(i(le).division)&&Tt(yt)},!0)}m(Ne,at)};U(Ke,Ne=>{i(J).isTestPiece?Ne(Te):Ne(ut,!1)})}var st=A(Ke,2);{var mt=Ne=>{var at=Bp();let Et;var yt=p(at);G((Tt,ft)=>{L(at,"href",Tt),Et=Mn(at,1,"entity-link svelte-urxxqj",null,Et,ft),O(yt,i(J).pieceName)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(J).pieceSlug)}`,()=>({"test-piece-link":i(J).isTestPiece})]),m(Ne,at)},it=Ne=>{var at=Je(),Et=ke(at);{var yt=ft=>{var w=Up(),b=p(w);G(()=>O(b,i(J).pieceName)),m(ft,w)},Tt=ft=>{var w=Yp();m(ft,w)};U(Et,ft=>{i(J).pieceName?ft(yt):ft(Tt,!1)},!0)}m(Ne,at)};U(st,Ne=>{i(J).pieceSlug?Ne(mt):Ne(it,!1)})}m(ye,Ce)}),m(H,re)},Lt=H=>{var re=Kp();m(H,re)};U(vt,H=>{i(Y).length>0?H(qt):H(Lt,!1)})}var xt=A(gt),kt=p(xt),St=A(xt),vn=p(St),nn=A(St),rn=p(nn);{var hn=H=>{var re=Xp(),ye=p(re);G(J=>{L(re,"href",J),O(ye,i(et))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(i(je))}`]),m(H,re)},te=H=>{var re=Gp();m(H,re)};U(rn,H=>{i(Se)?H(hn):H(te,!1)})}var W=A(nn),pe=p(W);{var me=H=>{var re=Jp();Ve(re,21,()=>i(ne),We,(ye,J)=>{const Ce=M(()=>i(J).streaming);var Ke=Qp(),Te=ke(Ke);{var ut=it=>{var Ne=Wp(),at=p(Ne),Et=p(at);G(yt=>{L(Ne,"href",i(Ce).spotify),L(Ne,"title",yt),O(Et,`Hør ${i(J).pieceName??""} på Spotify`)},[()=>d(i(J).pieceName,i(Ce),"spotify")]),m(it,Ne)};U(Te,it=>{var Ne;(Ne=i(Ce))!=null&&Ne.spotify&&it(ut)})}var st=A(Te,2);{var mt=it=>{const Ne=M(()=>f(i(Ce).apple_music));var at=Je(),Et=ke(at);{var yt=Tt=>{var ft=Zp(),w=p(ft),b=p(w);G(B=>{L(ft,"href",i(Ne)),L(ft,"title",B),O(b,`Hør ${i(J).pieceName??""} på Apple Music`)},[()=>d(i(J).pieceName,i(Ce),"apple")]),m(Tt,ft)};U(Et,Tt=>{i(Ne)&&Tt(yt)})}m(it,at)};U(st,it=>{var Ne;(Ne=i(Ce))!=null&&Ne.apple_music&&it(mt)})}m(ye,Ke)}),m(H,re)},Pe=H=>{var re=e_();m(H,re)};U(pe,H=>{i(ne).length>0?H(me):H(Pe,!1)})}G((H,re)=>{O(tt,i(le).year),O(ct,i(le).division),O(kt,H),O(vn,re)},[()=>c(i(le).rank),()=>l(i(le).points)]),m(I,xe)}),G(()=>{O(Z,i($).name),O(De,`${i($).entries.length??""} fremføringer`),L(we,"aria-label",`Fremføringer av ${i($).name}`)}),m(S,E)}),m(e,x),nr()}var a_=N('<a class="entity-link svelte-7tq4ct"> </a>'),s_=N("<span> </span>"),o_=N("<span>Ukjent</span>"),l_=N('<a class="entity-link svelte-7tq4ct"> </a>'),c_=N("<span> </span>"),u_=N("<span>Ukjent</span>"),f_=N('<li class="svelte-7tq4ct"><!></li>'),d_=N('<ul class="piece-list svelte-7tq4ct"></ul>'),v_=N("<span>Ukjent</span>"),h_=N('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),p_=N('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),__=N("<!> <!>",1),g_=N('<div class="streaming-links svelte-7tq4ct"></div>'),m_=N('<span class="streaming-missing svelte-7tq4ct" aria-hidden="true">–</span>'),y_=N('<tr class="svelte-7tq4ct"><td data-label="År" class="svelte-7tq4ct"> </td><td data-label="Divisjon" class="division-cell svelte-7tq4ct"> </td><td data-label="Korps" class="svelte-7tq4ct"><!></td><td data-label="Stykke" class="piece-cell svelte-7tq4ct"><!></td><td data-label="Plass" class="svelte-7tq4ct"> </td><td data-label="Poeng" class="svelte-7tq4ct"> </td><td data-label="Opptak" class="streaming-cell svelte-7tq4ct"><!></td></tr>'),w_=N('<article class="conductor-card svelte-7tq4ct"><header class="conductor-header svelte-7tq4ct"><div><h2 class="svelte-7tq4ct"> </h2> <p class="conductor-count svelte-7tq4ct"> </p></div></header> <div class="table-wrapper svelte-7tq4ct" role="region"><table class="svelte-7tq4ct"><thead class="svelte-7tq4ct"><tr><th scope="col" class="svelte-7tq4ct">År</th><th scope="col" class="division-column svelte-7tq4ct">Divisjon</th><th scope="col" class="svelte-7tq4ct">Korps</th><th scope="col" class="svelte-7tq4ct">Stykke</th><th scope="col" class="svelte-7tq4ct">Plass</th><th scope="col" class="svelte-7tq4ct">Poeng</th><th scope="col" class="streaming-column svelte-7tq4ct">Opptak</th></tr></thead><tbody class="svelte-7tq4ct"></tbody></table></div></article>'),b_=N('<section class="conductor-performances svelte-7tq4ct"></section>');function x_(e,t){tr(t,!0);let n=At(t,"conductors",19,()=>[]),r=At(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(y){return[...y].sort((x,S)=>{const $=x.year-S.year;if($!==0)return $;const E=x.rank??Number.POSITIVE_INFINITY,V=S.rank??Number.POSITIVE_INFINITY;if(E!==V)return E-V;const D=(x.band_name??"").toLowerCase(),j=(S.band_name??"").toLowerCase();return D!==j?D.localeCompare(j):(x.absolute_position??Number.POSITIVE_INFINITY)-(S.absolute_position??Number.POSITIVE_INFINITY)})}function o(y){return y==null?"–":a.format(y)}function l(y){return y!=null?`${y}`:"–"}function c(y){return!!(y!=null&&y.spotify||y!=null&&y.apple_music)}function u(y){if(!y)return null;const x=y.trim();if(!x)return null;if(!/^https?:\/\//i.test(x))return x;try{const S=new URL(x);return`music://${`${S.host}${S.pathname}${S.search}${S.hash}`}`}catch(S){return console.warn("Kunne ikke konvertere Apple Music-lenke",S),x}}function f(y,x,S){var j,Z;if(!x)return y;const $=(j=x.recording_title)==null?void 0:j.trim(),E=(Z=x.album)==null?void 0:Z.trim(),V=S==="spotify"?"Spotify":"Apple Music",D=$&&$.length>0?$:y;return E&&E.length>0?`${D} • ${E} (${V})`:`${D} (${V})`}function d(y,x,S){return t.streamingResolver?t.streamingResolver(y,x,S)??null:null}function v(y){const S=(y.entries??[]).flatMap($=>($.aggregate_entries&&Array.isArray($.aggregate_entries)?$.aggregate_entries:[$]).map(V=>({...V,band_name:V.band_name??$.band_name??null})));return s(S)}let _=M(()=>n().map(y=>({...y,performances:v(y)})));var h=b_();Ve(h,21,()=>i(_),We,(y,x)=>{var S=w_(),$=p(S),E=p($),V=p(E),D=p(V),j=A(V,2),Z=p(j),ve=A($,2),De=p(ve),we=A(p(De));Ve(we,21,()=>i(x).performances,We,(ae,oe)=>{const I=M(()=>{var te;return((te=i(oe).band_name)==null?void 0:te.trim())??""}),le=M(()=>i(I).length>0),ie=M(()=>i(le)?nt(i(I)):""),Oe=M(()=>Array.isArray(i(oe).pieces)?i(oe).pieces:[]),ze=M(()=>i(Oe).filter(te=>te&&te.trim().length>0)),et=M(()=>i(ze).map(te=>{const W=te.trim(),pe=W?nt(W):"",me=i(le)&&W?d(i(oe),i(I),W):null;return{pieceName:W,pieceSlug:pe,streaming:me}})),Se=M(()=>i(et).filter(te=>c(te.streaming)));var je=y_(),lt=p(je),T=p(lt),Y=A(lt),ne=p(Y),xe=A(Y),He=p(xe);{var tt=te=>{var W=a_(),pe=p(W);G(me=>{L(W,"href",me),O(pe,i(I))},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(i(ie))}`]),m(te,W)},Be=te=>{var W=Je(),pe=ke(W);{var me=H=>{var re=s_(),ye=p(re);G(()=>O(ye,i(I))),m(H,re)},Pe=H=>{var re=o_();m(H,re)};U(pe,H=>{i(le)?H(me):H(Pe,!1)},!0)}m(te,W)};U(He,te=>{i(le)&&i(ie)?te(tt):te(Be,!1)})}var ct=A(xe),gt=p(ct);{var vt=te=>{var W=d_();Ve(W,21,()=>i(et),We,(pe,me)=>{var Pe=f_(),H=p(Pe);{var re=J=>{var Ce=l_(),Ke=p(Ce);G(Te=>{L(Ce,"href",Te),O(Ke,i(me).pieceName)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(me).pieceSlug)}`]),m(J,Ce)},ye=J=>{var Ce=Je(),Ke=ke(Ce);{var Te=st=>{var mt=c_(),it=p(mt);G(()=>O(it,i(me).pieceName)),m(st,mt)},ut=st=>{var mt=u_();m(st,mt)};U(Ke,st=>{i(me).pieceName?st(Te):st(ut,!1)},!0)}m(J,Ce)};U(H,J=>{i(me).pieceSlug?J(re):J(ye,!1)})}m(pe,Pe)}),m(te,W)},qt=te=>{var W=v_();m(te,W)};U(gt,te=>{i(et).length>0?te(vt):te(qt,!1)})}var Lt=A(ct),xt=p(Lt),kt=A(Lt),St=p(kt),vn=A(kt),nn=p(vn);{var rn=te=>{var W=g_();Ve(W,21,()=>i(Se),We,(pe,me)=>{const Pe=M(()=>i(me).streaming);var H=__(),re=ke(H);{var ye=Ke=>{var Te=h_(),ut=p(Te),st=p(ut);G(mt=>{L(Te,"href",i(Pe).spotify),L(Te,"title",mt),O(st,`Hør ${i(me).pieceName??""} på Spotify`)},[()=>f(i(me).pieceName,i(Pe),"spotify")]),m(Ke,Te)};U(re,Ke=>{var Te;(Te=i(Pe))!=null&&Te.spotify&&Ke(ye)})}var J=A(re,2);{var Ce=Ke=>{const Te=M(()=>u(i(Pe).apple_music));var ut=Je(),st=ke(ut);{var mt=it=>{var Ne=p_(),at=p(Ne),Et=p(at);G(yt=>{L(Ne,"href",i(Te)),L(Ne,"title",yt),O(Et,`Hør ${i(me).pieceName??""} på Apple Music`)},[()=>f(i(me).pieceName,i(Pe),"apple")]),m(it,Ne)};U(st,it=>{i(Te)&&it(mt)})}m(Ke,ut)};U(J,Ke=>{var Te;(Te=i(Pe))!=null&&Te.apple_music&&Ke(Ce)})}m(pe,H)}),m(te,W)},hn=te=>{var W=m_();m(te,W)};U(nn,te=>{i(Se).length>0?te(rn):te(hn,!1)})}G((te,W)=>{O(T,i(oe).year),O(ne,i(oe).division),O(xt,te),O(St,W)},[()=>l(i(oe).rank),()=>o(i(oe).points)]),m(ae,je)}),G(()=>{O(D,i(x).name),O(Z,`${i(x).performances.length??""} fremføringer`),L(ve,"aria-label",`Fremføringer av ${i(x).name}`)}),m(y,S)}),m(e,h),nr()}function k_(e,t){const n=Number(e.target.value);z(t,Number.isNaN(n)?null:n,!0)}function S_(e,t){z(t,e.target.value||null,!0)}var N_=N('<p class="svelte-1e9ky18"> </p>'),E_=N('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),M_=N('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),$_=N("<option> </option>"),A_=N("<option selected>Ingen divisjoner</option>"),T_=N("<option> </option>"),I_=N('<span class="svelte-1e9ky18"> </span>'),P_=N('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),C_=N('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),R_=N('<a class="entity-link svelte-1e9ky18"> </a>'),q_=N("<span>Ukjent</span>"),L_=N("<span>–</span>"),F_=N('<span class="test-piece-label svelte-1e9ky18" title="Pliktstykke (fredag)">P:</span>'),O_=N('<span class="own-choice-label svelte-1e9ky18" title="Selvvalgt (lørdag)">S:</span>'),D_=N('<div class="program-piece svelte-1e9ky18"><!> <a> </a></div>'),z_=N('<div class="program-list svelte-1e9ky18"></div>'),j_=N('<span class="streaming-missing" aria-hidden="true">–</span>'),B_=N('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),U_=N('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),Y_=N('<span class="streaming-links svelte-1e9ky18"><!> <!></span>'),V_=N('<span class="streaming-missing" aria-hidden="true">–</span>'),H_=N('<div class="streaming-piece-row"><!></div>'),K_=N('<div class="streaming-list"></div>'),X_=N('<tr class="svelte-1e9ky18"><td data-label="Plass" class="svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td><td data-label="Opptak" class="streaming-cell svelte-1e9ky18"><!></td></tr>'),G_=N('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th><th scope="col" class="streaming-column svelte-1e9ky18">Opptak</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),W_=N('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!>',1),Z_=N('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2> <!></div> <!></section>');function Q_(e,t){tr(t,!0);let n=At(t,"dataset",3,null),r=At(t,"bandType",3,"wind"),a=At(t,"streamingResolver",3,void 0),s=At(t,"eliteTestPieces",3,null);const o=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let l=qe(null),c=qe(null),u=M(()=>n()?x(n()):new Map),f=M(()=>{var T,Y;return((Y=(T=n())==null?void 0:T.metadata)==null?void 0:Y.years)??[]}),d=M(()=>{var T,Y;return((Y=(T=n())==null?void 0:T.metadata)==null?void 0:Y.generated_at)??null}),v=M(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||i(l)==null||!i(u).has(i(l)))return[];const T=i(u).get(i(l))??new Map,Y=n().metadata.divisions.filter(xe=>T.has(xe)),ne=Array.from(T.keys()).filter(xe=>!Y.includes(xe)).sort();return[...Y,...ne]})()),_=M(()=>(()=>{if(i(l)!=null&&i(c)&&i(u).has(i(l))){const T=i(u).get(i(l)),Y=(i(c)&&(T==null?void 0:T.get(i(c))))??[];return E(Y)}return[]})()),h=M(()=>(()=>{var T;if(i(_).length>0){const Y=(T=i(_)[0])==null?void 0:T.entry,ne=(Y==null?void 0:Y.division_size)??i(_).length;return ne&&ne>0?ne:null}return null})()),y=M(()=>(()=>{var T;if(i(_).length>0){const Y=(T=i(_)[0])==null?void 0:T.entry,ne=(Y==null?void 0:Y.field_size)??null;return ne&&ne>0?ne:null}return null})());function x(T){const Y=new Map;if(!(T!=null&&T.bands)||!Array.isArray(T.bands))return Y;for(const ne of T.bands)if(!(!ne||!ne.entries||!Array.isArray(ne.entries)))for(const xe of ne.entries){if(!xe||typeof xe.year!="number"||!xe.division)continue;let He=Y.get(xe.year);He||(He=new Map,Y.set(xe.year,He));const tt=xe.division;let Be=He.get(tt);Be||(Be=[],He.set(tt,Be)),Be.push({band:ne.name,entry:xe})}return Y}function S(T){return T.length?i(l)&&T.includes(i(l))?i(l):T[T.length-1]??null:null}function $(T){return T.length?i(c)&&T.includes(i(c))?i(c):T[0]??null:null}function E(T){return[...T].sort((Y,ne)=>{const xe=Y.entry.rank??Number.POSITIVE_INFINITY,He=ne.entry.rank??Number.POSITIVE_INFINITY;if(xe!==He)return xe-He;const tt=Y.entry.absolute_position??Number.POSITIVE_INFINITY,Be=ne.entry.absolute_position??Number.POSITIVE_INFINITY;return tt!==Be?tt-Be:Y.band.localeCompare(ne.band)})}function V(T){return T!=null?`${T}`:"–"}function D(T,Y){if(T==null&&Y==null)return"–";const ne=T==null?"–":o.format(T);return Y==null,ne}function j(T){return T.map(Y=>Y.trim()).filter(Boolean)}function Z(T,Y,ne){if(typeof a()!="function")return null;try{return a()(T,Y,ne)??null}catch(xe){return console.error("Kunne ikke hente streaming-lenke",xe),null}}function ve(T){return!!(T!=null&&T.spotify||T!=null&&T.apple_music)}function De(T){if(!T)return null;const Y=T.trim();if(!Y)return null;if(!/^https?:\/\//i.test(Y))return Y;try{const ne=new URL(Y);return`music://${`${ne.host}${ne.pathname}${ne.search}${ne.hash}`}`}catch(ne){return console.warn("Kunne ikke konvertere Apple Music-lenke",ne),Y}}function we(T,Y,ne){var ct,gt;if(!Y)return T;const xe=(ct=Y.recording_title)==null?void 0:ct.trim(),He=(gt=Y.album)==null?void 0:gt.trim(),tt=ne==="spotify"?"Spotify":"Apple Music",Be=xe&&xe.length>0?xe:T;return He&&He.length>0?`${Be} • ${He} (${tt})`:`${Be} (${tt})`}function ae(T){if(!T)return null;const Y=new Date(T);return Number.isNaN(Y.getTime())?T:new Intl.DateTimeFormat("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(Y)}function oe(T){var xe,He;const Y=String(T),ne=(He=(xe=s())==null?void 0:xe.test_pieces)==null?void 0:He[Y];return ne?{composer:ne.composer,piece:ne.piece}:null}function I(T){return(T||"").toLowerCase()==="elite"}ui(()=>{if(n()&&i(f)&&Array.isArray(i(f))&&i(f).length>0){const T=S(i(f));i(l)!==T&&z(l,T,!0)}else z(l,null),z(c,null)}),ui(()=>{if(i(l)!=null&&i(v)&&Array.isArray(i(v))&&i(v).length>0){const T=$(i(v));i(c)!==T&&z(c,T,!0)}else i(l)!=null&&z(c,null)});let le=M(()=>ae(i(d)));var ie=Z_(),Oe=p(ie),ze=A(p(Oe),2);{var et=T=>{var Y=N_(),ne=p(Y);G(()=>O(ne,`Data oppdatert ${i(le)??""}`)),m(T,Y)};U(ze,T=>{i(le)&&T(et)})}var Se=A(Oe,2);{var je=T=>{var Y=E_();m(T,Y)},lt=T=>{var Y=Je(),ne=ke(Y);{var xe=tt=>{var Be=M_();m(tt,Be)},He=tt=>{var Be=W_(),ct=ke(Be),gt=p(ct),vt=A(p(gt),2);vt.__change=[k_,l],Ve(vt,21,()=>i(f)||[],We,(W,pe)=>{var me=$_(),Pe=p(me),H={};G(()=>{Vs(me,i(l)===i(pe)),O(Pe,i(pe)),H!==(H=i(pe))&&(me.value=(me.__value=i(pe))??"")}),m(W,me)});var qt=A(gt,2),Lt=A(p(qt),2);Lt.__change=[S_,c];var xt=p(Lt);{var kt=W=>{var pe=A_();pe.value=pe.__value="",m(W,pe)},St=W=>{var pe=Je(),me=ke(pe);Ve(me,17,()=>i(v),We,(Pe,H)=>{var re=T_(),ye=p(re),J={};G(()=>{Vs(re,i(c)===i(H)),O(ye,i(H)),J!==(J=i(H))&&(re.value=(re.__value=i(H))??"")}),m(Pe,re)}),m(W,pe)};U(xt,W=>{!i(v)||i(v).length===0?W(kt):W(St,!1)})}var vn=A(qt,2);{var nn=W=>{var pe=P_(),me=p(pe),Pe=p(me),H=A(me,2);{var re=ye=>{var J=I_(),Ce=p(J);G(()=>O(Ce,`Totalt felt: ${i(y)??""}`)),m(ye,J)};U(H,ye=>{i(y)&&ye(re)})}G(()=>O(Pe,`${i(h)??""} korps`)),m(W,pe)};U(vn,W=>{i(h)&&W(nn)})}var rn=A(ct,2);{var hn=W=>{var pe=C_();m(W,pe)},te=W=>{var pe=G_(),me=p(pe),Pe=A(p(me));Ve(Pe,21,()=>i(_),We,(H,re)=>{let ye=()=>i(re).band,J=()=>i(re).entry;var Ce=X_(),Ke=p(Ce),Te=p(Ke),ut=A(Ke),st=p(ut),mt=p(st),it=A(ut),Ne=p(it);{var at=P=>{var de=R_(),_e=p(de);G((Fe,Xe)=>{L(de,"href",Fe),O(_e,Xe)},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(nt(J().conductor))}`,()=>J().conductor.trim()]),m(P,de)},Et=P=>{var de=q_();m(P,de)};U(Ne,P=>{J().conductor&&J().conductor.trim().length>0?P(at):P(Et,!1)})}var yt=A(it),Tt=p(yt),ft=A(yt),w=p(ft);{var b=P=>{const de=M(()=>r()==="brass"&&I(J().division)?oe(J().year):null),_e=M(()=>j(J().pieces)),Fe=M(()=>i(de)?[{name:i(de).piece,isTestPiece:!0},...i(_e).map(he=>({name:he,isTestPiece:!1}))]:i(_e).map(he=>({name:he,isTestPiece:!1})));var Xe=Je(),dt=ke(Xe);{var ot=he=>{var Ue=L_();m(he,Ue)},$e=he=>{var Ue=z_();Ve(Ue,21,()=>i(Fe),We,(Nt,Ze)=>{const Ge=M(()=>i(Ze).name);var ge=D_(),Re=p(ge);{var wt=Ie=>{var pt=F_();m(Ie,pt)},Ft=Ie=>{var pt=Je(),an=ke(pt);{var rr=Ot=>{var bt=O_();m(Ot,bt)};U(an,Ot=>{r()==="brass"&&I(J().division)&&Ot(rr)},!0)}m(Ie,pt)};U(Re,Ie=>{i(Ze).isTestPiece?Ie(wt):Ie(Ft,!1)})}var Yt=A(Re,2);let ht;var ce=p(Yt);G((Ie,pt)=>{L(Yt,"href",Ie),ht=Mn(Yt,1,"program-link svelte-1e9ky18",null,ht,pt),O(ce,i(Ge))},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(nt(i(Ge)))}`,()=>({"test-piece-link":i(Ze).isTestPiece})]),m(Nt,ge)}),m(he,Ue)};U(dt,he=>{i(Fe).length===0?he(ot):he($e,!1)})}m(P,Xe)};U(w,P=>{P(b)})}var B=A(ft),K=p(B);{var X=P=>{const de=M(()=>r()==="brass"&&I(J().division)?oe(J().year):null),_e=M(()=>j(J().pieces)),Fe=M(()=>i(de)?[{name:i(de).piece,isTestPiece:!0},...i(_e).map(he=>({name:he,isTestPiece:!1}))]:i(_e).map(he=>({name:he,isTestPiece:!1})));var Xe=Je(),dt=ke(Xe);{var ot=he=>{var Ue=j_();m(he,Ue)},$e=he=>{var Ue=K_();Ve(Ue,21,()=>i(Fe),We,(Nt,Ze)=>{const Ge=M(()=>i(Ze).name),ge=M(()=>Z(J(),ye(),i(Ge)));var Re=H_(),wt=p(Re);{var Ft=ht=>{var ce=Y_(),Ie=p(ce);{var pt=Ot=>{var bt=B_(),Rn=p(bt),_t=p(Rn);G(Pt=>{L(bt,"href",i(ge).spotify),L(bt,"title",Pt),O(_t,`Hør ${i(Ge)??""} på Spotify`)},[()=>we(i(Ge),i(ge),"spotify")]),m(Ot,bt)};U(Ie,Ot=>{var bt;(bt=i(ge))!=null&&bt.spotify&&Ot(pt)})}var an=A(Ie,2);{var rr=Ot=>{const bt=M(()=>De(i(ge).apple_music));var Rn=Je(),_t=ke(Rn);{var Pt=Qt=>{var Nn=U_(),Gr=p(Nn),Si=p(Gr);G(Ni=>{L(Nn,"href",i(bt)),L(Nn,"title",Ni),O(Si,`Hør ${i(Ge)??""} på Apple Music`)},[()=>we(i(Ge),i(ge),"apple")]),m(Qt,Nn)};U(_t,Qt=>{i(bt)&&Qt(Pt)})}m(Ot,Rn)};U(an,Ot=>{var bt;(bt=i(ge))!=null&&bt.apple_music&&Ot(rr)})}m(ht,ce)},Yt=ht=>{var ce=V_();m(ht,ce)};U(wt,ht=>{ve(i(ge))?ht(Ft):ht(Yt,!1)})}m(Nt,Re)}),m(he,Ue)};U(dt,he=>{i(Fe).length===0?he(ot):he($e,!1)})}m(P,Xe)};U(K,P=>{P(X)})}G((P,de,_e)=>{O(Te,P),L(st,"href",de),O(mt,ye()),O(Tt,_e)},[()=>V(J().rank),()=>`?type=${r()}&view=bands&band=${encodeURIComponent(nt(ye()))}`,()=>D(J().points,J().max_points)]),m(H,Ce)}),m(W,pe)};U(rn,W=>{!i(_)||i(_).length===0?W(hn):W(te,!1)})}m(tt,Be)};U(ne,tt=>{!i(f)||!i(f).length?tt(xe):tt(He,!1)},!0)}m(T,Y)};U(Se,T=>{n()?T(lt,!1):T(je)})}m(e,ie),nr()}al(["change"]);function Vl(e){return e.replace(/\s+/g," ").trim()}const J_=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function eg(e){return e.replace(J_,"").trim()}function si(e){if(!e)return[];const t=eg(e);if(!t)return[];const r=t.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/·]/g,",").split(/[;,]/).map(s=>Vl(s)).filter(s=>s.length>0),a=new Map;for(const s of r){const o=s.toLowerCase();a.has(o)||a.set(o,s)}return Array.from(a.values())}var tg=N('<a class="composer-link svelte-18hgr5c"> </a> ',1),ng=N('<p class="piece-composer svelte-18hgr5c"></p>'),rg=N('<p class="piece-composer svelte-18hgr5c"> </p>'),ig=N('<a class="entity-link svelte-18hgr5c"> </a>'),ag=N("<span>Ukjent</span>"),sg=N('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Spotify</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),og=N('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Apple Music</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),lg=N('<div class="streaming-links svelte-18hgr5c"><!> <!></div>'),cg=N('<span class="streaming-missing svelte-18hgr5c" aria-hidden="true">–</span>'),ug=N('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td><td data-label="Opptak" class="streaming-cell svelte-18hgr5c"><!></td></tr>'),fg=N('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="svelte-18hgr5c">År</th><th scope="col" class="svelte-18hgr5c">Divisjon</th><th scope="col" class="svelte-18hgr5c">Korps</th><th scope="col" class="svelte-18hgr5c">Plass</th><th scope="col" class="svelte-18hgr5c">Poeng</th><th scope="col" class="svelte-18hgr5c">Dirigent</th><th scope="col" class="streaming-column svelte-18hgr5c">Opptak</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),dg=N('<section class="pieces-view svelte-18hgr5c"></section>');function vg(e,t){tr(t,!0);let n=At(t,"pieces",19,()=>[]),r=At(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(h){return[...h].sort((y,x)=>{const S=y.entry.year-x.entry.year;if(S!==0)return S;const $=y.entry.rank??Number.POSITIVE_INFINITY,E=x.entry.rank??Number.POSITIVE_INFINITY;return $!==E?$-E:y.band.localeCompare(x.band)})}function o(h){return h.composerNames&&h.composerNames.length>0?h.composerNames:h.composer?si(h.composer):[]}function l(h){return h==null?"–":a.format(h)}function c(h){return h!=null?`${h}`:"–"}function u(h){return!!(h!=null&&h.spotify||h!=null&&h.apple_music)}function f(h){if(!h)return null;const y=h.trim();if(!y)return null;if(!/^https?:\/\//i.test(y))return y;try{const x=new URL(y);return`music://${`${x.host}${x.pathname}${x.search}${x.hash}`}`}catch(x){return console.warn("Kunne ikke konvertere Apple Music-lenke",x),y}}function d(h,y,x){var D,j;if(!y)return h;const S=(D=y.recording_title)==null?void 0:D.trim(),$=(j=y.album)==null?void 0:j.trim(),E=x==="spotify"?"Spotify":"Apple Music",V=S&&S.length>0?S:h;return $&&$.length>0?`${V} • ${$} (${E})`:`${V} (${E})`}let v=M(()=>n().map(h=>({...h,performances:s(h.performances)})));var _=dg();Ve(_,21,()=>i(v),We,(h,y)=>{const x=M(()=>o(i(y)));var S=fg(),$=p(S),E=p($),V=p(E),D=p(V),j=A(V,2);{var Z=le=>{var ie=ng();Ve(ie,21,()=>i(x),We,(Oe,ze,et)=>{var Se=tg(),je=ke(Se),lt=p(je),T=A(je,1,!0);G(Y=>{L(je,"href",Y),O(lt,i(ze)),O(T,et<i(x).length-1?", ":"")},[()=>`?type=${r()}&view=composers&composer=${encodeURIComponent(nt(i(ze)))}`]),m(Oe,Se)}),m(le,ie)},ve=le=>{var ie=Je(),Oe=ke(ie);{var ze=et=>{var Se=rg(),je=p(Se);G(()=>O(je,i(y).composer)),m(et,Se)};U(Oe,et=>{i(y).composer&&et(ze)},!0)}m(le,ie)};U(j,le=>{i(x).length>0?le(Z):le(ve,!1)})}var De=A(j,2),we=p(De),ae=A($,2),oe=p(ae),I=A(p(oe));Ve(I,21,()=>i(y).performances,We,(le,ie)=>{const Oe=M(()=>{var te;return((te=i(ie).entry.conductor)==null?void 0:te.trim())??""}),ze=M(()=>i(Oe).length>0),et=M(()=>i(ze)?nt(i(Oe)):""),Se=M(()=>nt(i(ie).band)),je=M(()=>i(ie).streaming??null);var lt=ug(),T=p(lt),Y=p(T),ne=A(T),xe=p(ne),He=A(ne),tt=p(He),Be=p(tt),ct=A(He),gt=p(ct),vt=A(ct),qt=p(vt),Lt=A(vt),xt=p(Lt);{var kt=te=>{var W=ig(),pe=p(W);G(me=>{L(W,"href",me),O(pe,i(Oe))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(i(et))}`]),m(te,W)},St=te=>{var W=ag();m(te,W)};U(xt,te=>{i(ze)?te(kt):te(St,!1)})}var vn=A(Lt),nn=p(vn);{var rn=te=>{var W=lg(),pe=p(W);{var me=re=>{var ye=sg();G(J=>{L(ye,"href",i(je).spotify),L(ye,"title",J)},[()=>d(i(y).name,i(je),"spotify")]),m(re,ye)};U(pe,re=>{var ye;(ye=i(je))!=null&&ye.spotify&&re(me)})}var Pe=A(pe,2);{var H=re=>{const ye=M(()=>f(i(je).apple_music));var J=Je(),Ce=ke(J);{var Ke=Te=>{var ut=og();G(st=>{L(ut,"href",i(ye)),L(ut,"title",st)},[()=>d(i(y).name,i(je),"apple")]),m(Te,ut)};U(Ce,Te=>{i(ye)&&Te(Ke)})}m(re,J)};U(Pe,re=>{var ye;(ye=i(je))!=null&&ye.apple_music&&re(H)})}m(te,W)},hn=te=>{var W=cg();m(te,W)};U(nn,te=>{u(i(je))?te(rn):te(hn,!1)})}G((te,W,pe)=>{O(Y,i(ie).entry.year),O(xe,i(ie).entry.division),L(tt,"href",te),O(Be,i(ie).band),O(gt,W),O(qt,pe)},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(i(Se))}`,()=>c(i(ie).entry.rank),()=>l(i(ie).entry.points)]),m(le,lt)}),G(()=>{O(D,i(y).name),O(we,`${i(y).performances.length??""} fremføringer`),L(ae,"aria-label",`Fremføringer av ${i(y).name}`)}),m(h,S)}),m(e,_),nr()}var hg=N('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),pg=N('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),_g=N('<section class="composers-view svelte-1njzana"></section>');function gg(e,t){tr(t,!0);let n=At(t,"composers",19,()=>[]),r=At(t,"bandType",3,"wind"),a=M(()=>[...n()].sort((o,l)=>o.name.localeCompare(l.name)));var s=_g();Ve(s,21,()=>i(a),We,(o,l)=>{var c=pg(),u=p(c),f=p(u),d=p(f),v=p(d),_=A(d,2),h=p(_),y=A(u,2);Ve(y,21,()=>i(l).pieces,We,(x,S)=>{var $=hg(),E=p($),V=p(E);G(D=>{L(E,"href",D),O(V,i(S).name)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(S).slug)}`]),m(x,$)}),G(()=>{O(v,i(l).name),O(h,`${i(l).pieces.length??""} ${i(l).pieces.length===1?"stykke":"stykker"}`)}),m(o,c)}),m(e,s),nr()}function mg(e,t){z(t,!i(t))}function yg(e,t){z(t,!i(t))}function wg(e,t,n,r,a,s){t(i(n)==="dark"?"light":"dark"),r(),a(),s()}function bg(e,t,n,r,a,s){t(i(n)==="wind"?"brass":"wind"),r(),a(),s()}function xg(e,t,n){z(t,e.target.value,!0),z(n,-1)}function kg(e,t,n,r){i(t).length&&(e.key==="ArrowDown"?(e.preventDefault(),z(n,(i(n)+1)%i(t).length)):e.key==="ArrowUp"?(e.preventDefault(),z(n,(i(n)-1+i(t).length)%i(t).length)):e.key==="Enter"&&i(n)>=0&&(e.preventDefault(),r(i(t)[i(n)])))}var Sg=(e,t,n)=>t(i(n)),Ng=N('<button type="button"> </button>'),Eg=N('<div role="option" tabindex="-1"> </div>'),Mg=N('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),$g=N('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!>',1),Ag=N('<section class="status svelte-1n46o8q">Laster data…</section>'),Tg=N('<section class="status error svelte-1n46o8q"> </section>'),Ig=N('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),Pg=(e,t)=>t("absolute"),Cg=(e,t)=>t("relative"),Rg=(e,t)=>t("absolute"),qg=(e,t)=>t("relative"),Lg=N('<div class="mode-toggle__menu svelte-1n46o8q" id="mode-toggle-menu" role="menu"><button type="button">Absolutt</button> <button type="button">Relativ</button></div>'),Fg=N('<p class="comparison-summary svelte-1n46o8q"> </p>'),Og=N('<section class="chart-card svelte-1n46o8q"><div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Plassering:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg plasseringsvisning"><button type="button">Absolutt</button> <button type="button">Relativ</button></div> <button type="button" class="mode-toggle__menu-trigger svelte-1n46o8q" aria-controls="mode-toggle-menu">Tilpass</button> <!></div> <div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),Dg=(e,t,n)=>t(i(n).slug),zg=N('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),jg=N('<!> <div class="selected-entities selected-entities--below svelte-1n46o8q" role="list"></div> <!>',1),Bg=N('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),Ug=N('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><div class="page-header__title svelte-1n46o8q"><h1 class="svelte-1n46o8q"> </h1> <button class="menu-toggle svelte-1n46o8q" type="button" aria-controls="primary-controls"><span class="menu-toggle__icon svelte-1n46o8q" aria-hidden="true">☰</span> <span class="menu-toggle__text svelte-1n46o8q">Meny</span></button></div> <div id="primary-controls"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button class="band-type-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="band-type-toggle__text svelte-1n46o8q"> </span></button> <button class="theme-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="theme-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function Yg(e,t){tr(t,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},r="mode",a="view",s="type",o=",",l="relative",c="bands",u="wind",f="nmkorps-theme",d="nmkorps-band-type",v={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat"},_=["bands","conductors","pieces","composers","data"];let h=qe(null),y=qe(Kt([])),x=qe(Kt([])),S=qe(Kt([])),$=qe(!0),E=qe(null),V=qe(""),D=qe(Kt([])),j=qe(Kt([])),Z=qe(Kt([])),ve=qe(Kt([])),De=qe(-1),we=!1,ae="",oe=qe(l),I=qe(c),le=qe("dark"),ie=qe("wind"),Oe=qe(!1),ze=qe(!1),et=qe(!1),Se=new Map,je=new Map,lt=qe(null);function T(g){const k=new Map;for(const R of g){if(!R||!R.slug)continue;const q=R.slug.trim();if(!q)continue;const C=k.get(q);C?C.push(R):k.set(q,[R])}return k}function Y(g){var R,q;const k=new Map;for(const C of g){if(!C)continue;const se=Number(C.year);if(!Number.isFinite(se))continue;const Q=C.division_slug??C.division,ee=C.band_slug??C.band,ue=C.result_piece_slug??C.result_piece;if(!Q||!ee||!ue)continue;const Ee=nt(Q),be=nt(ee);if(Ee==="uidentifisert"||!be||be==="uidentifisert")continue;const Qe=new Set,Ae=nt(ue);if(Ae!=="uidentifisert"&&Qe.add(Ae),C.alternate_result_piece_slugs&&Array.isArray(C.alternate_result_piece_slugs))for(const Vt of C.alternate_result_piece_slugs){const qn=Vt?nt(Vt):"";qn&&qn!=="uidentifisert"&&Qe.add(qn)}if(C.result_piece&&C.result_piece.trim()){const Vt=nt(C.result_piece);Vt!=="uidentifisert"&&Qe.add(Vt)}if(!Qe.size)continue;const It=typeof C.spotify=="string"&&C.spotify.trim().length>0?C.spotify.trim():null,Mt=typeof C.apple_music=="string"&&C.apple_music.trim().length>0?C.apple_music.trim():null;if(!It&&!Mt)continue;const Ct={spotify:It,apple_music:Mt,album:((R=C.album)==null?void 0:R.trim())??null,recording_title:((q=C.recording_title)==null?void 0:q.trim())??null};for(const Vt of Qe){const qn=`${se}|${Ee}|${be}|${Vt}`;k.set(qn,Ct)}}return k}function ne(g,k,R){if(!je.size)return null;const q=nt(g.division),C=nt(k);if(q==="uidentifisert"||!C||C==="uidentifisert")return null;const se=`${g.year}|${q}|${C}`;let Q=ct(R);if(!Q.length){const ee=nt(R);Q=ee!=="uidentifisert"?[ee]:[]}for(const ee of Q){const ue=`${se}|${ee}`,Ee=je.get(ue);if(Ee)return Ee}return null}const xe=/["'«»“”„‟]/g,He=/\([^)]*\)/g;function tt(g){return g.replace(He," ")}function Be(g){return g.replace(xe,"").replace(/\s+/g," ").trim().toLowerCase()}function ct(g){const k=g.trim();if(!k)return[];const R=new Set,q=nt(k);q!=="uidentifisert"&&R.add(q);const C=tt(k),se=nt(C);se!=="uidentifisert"&&R.add(se);const Q=Be(k),ee=nt(Q.replace(/[-–—]/g," "));ee!=="uidentifisert"&&R.add(ee);const ue=nt(Q.replace(/[:;·]/g," "));ue!=="uidentifisert"&&R.add(ue);const Ee=[];C.includes("-")&&Ee.push(C.split(/[-–—]/)[0]),C.includes(":")&&Ee.push(C.split(":")[0]);for(const be of Ee){const Qe=nt(be);Qe!=="uidentifisert"&&R.add(Qe)}return Array.from(R)}function gt(g,k){const R=ct(g);if(!R.length)return null;const q=Be(g),C=Be(tt(g));for(const se of R){const Q=k.get(se);if(!Q||Q.length===0)continue;if(Q.length===1)return Q[0].composer??null;const ee=Q.find(Ee=>Be(Ee.title)===q);if(ee)return ee.composer??null;const ue=Q.find(Ee=>Be(tt(Ee.title))===C);return ue?ue.composer??null:Q[0].composer??null}return null}function vt(g,k){const R=Array.isArray(g.pieces)?[...g.pieces]:g.pieces!=null?[`${g.pieces}`.trim()].filter(Boolean):[],q={...g,pieces:R,conductor:g.conductor};return k&&(q.band_name=k),q}function qt(g){var R;const k=new Map;for(const q of g)for(const C of q.entries){const se=(R=C.conductor)==null?void 0:R.trim();if(!se)continue;const Q=nt(se);let ee=k.get(Q);ee||(ee={name:se,slug:Q,years:new Map},k.set(Q,ee));let ue=ee.years.get(C.year);ue||(ue={entries:[]},ee.years.set(C.year,ue)),ue.entries.push(vt(C,q.name))}return Array.from(k.values()).map(q=>({name:q.name,slug:q.slug,entries:Array.from(q.years.entries()).map(([C,se])=>{const Q=[...se.entries].sort((ue,Ee)=>{const be=ue.absolute_position??Number.POSITIVE_INFINITY,Qe=Ee.absolute_position??Number.POSITIVE_INFINITY;return be!==Qe?be-Qe:(ue.rank??Number.POSITIVE_INFINITY)-(Ee.rank??Number.POSITIVE_INFINITY)});return{...Q[0],year:C,conductor:q.name,aggregate_entries:Q}}).sort((C,se)=>C.year-se.year)})).sort((q,C)=>q.name.localeCompare(C.name))}function Lt(g,k,R){if(!(R!=null&&R.test_pieces))return;const q=new Map;for(const C of k)for(const se of C.entries)q.has(se.year)||q.set(se.year,[]),q.get(se.year).push({band:C.name,entry:se});for(const[C,se]of Object.entries(R.test_pieces)){const Q=Number(C);if(!q.has(Q))continue;const ee=se.piece,ue=se.composer,Ee=nt(ee),Qe=q.get(Q).filter(({entry:It})=>It.division.toLowerCase()==="elite");if(Qe.length===0)continue;let Ae=g.get(Ee);if(Ae)!Ae.composer&&ue&&(Ae.composer=ue,Ae.composerNames=si(ue));else{const It=ue?si(ue):[];Ae={name:ee,slug:Ee,composer:ue??null,composerNames:It,performances:[]},g.set(Ee,Ae)}for(const{band:It,entry:Mt}of Qe){const Ct=ne(Mt,It,ee);Ae.performances.push({band:It,entry:Mt,streaming:Ct})}}}function xt(g,k,R,q){var se;const C=new Map;for(const Q of g)for(const ee of Q.entries){const ue=Array.isArray(ee.pieces)?ee.pieces:ee.pieces!=null?[`${ee.pieces}`]:[];for(const Ee of ue){const be=Ee.trim();if(!be)continue;const Qe=nt(be);let Ae=C.get(Qe);const It=gt(be,k),Mt=It?si(It):[],Ct=Mt.length>0?Mt.join(", "):null;Ae?(!Ae.composer||!((se=Ae.composerNames)!=null&&se.length))&&Ct&&(Ae.composer=Ct,Ae.composerNames=Mt):(Ae={name:be,slug:Qe,composer:Ct,composerNames:Mt,performances:[]},C.set(Qe,Ae));const Vt=ne(ee,Q.name,be);Ae.performances.push({band:Q.name,entry:ee,streaming:Vt})}}return q==="brass"&&Lt(C,g,R),Array.from(C.values()).map(Q=>({...Q,performances:Q.performances.map(({band:ee,entry:ue,streaming:Ee})=>({band:ee,entry:{...ue,pieces:[...ue.pieces]},streaming:Ee??null}))})).sort((Q,ee)=>Q.name.localeCompare(ee.name))}function kt(g){const k=new Map;for(const q of g){const C=q.composerNames&&q.composerNames.length>0?q.composerNames:si(q.composer??null);if(C.length)for(const se of C){const Q=Vl(se);if(!Q)continue;const ee=nt(Q);if(ee==="uidentifisert")continue;let ue=k.get(ee);ue||(ue={name:Q,slug:ee,normalized:Q.toLowerCase(),pieces:new Map},k.set(ee,ue)),ue.pieces.has(q.slug)||ue.pieces.set(q.slug,{name:q.name,slug:q.slug})}}const R=Array.from(k.values()).map(q=>({name:q.name,slug:q.slug,normalized:q.normalized,pieces:Array.from(q.pieces.values()).sort((C,se)=>C.name.localeCompare(se.name))})).sort((q,C)=>q.name.localeCompare(C.name));return new Map(R.map(q=>[q.slug,q])),R}function St(g){return g==="data"?"data":n[g]}function vn(){if(typeof window>"u")return l;const k=new URLSearchParams(window.location.search).get(r);return(k?k.toLowerCase():null)==="absolute"?"absolute":"relative"}function nn(){var k;if(typeof window>"u")return"dark";try{const R=window.localStorage.getItem(f);if(R==="light"||R==="dark")return R}catch(R){console.error("Kunne ikke lese lagret tema",R)}return((k=window.matchMedia)==null?void 0:k.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function rn(g){typeof document>"u"||(g==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function hn(){var R;if(typeof window>"u")return u;const k=(R=new URLSearchParams(window.location.search).get(s))==null?void 0:R.toLowerCase();return k==="brass"||k==="brassband"?"brass":k==="wind"||k==="janitsjar"?"wind":u}function te(){var R;if(typeof window>"u")return u;const k=(R=new URLSearchParams(window.location.search).get(s))==null?void 0:R.toLowerCase();if(k==="brass"||k==="brassband")return"brass";if(k==="wind"||k==="janitsjar")return"wind";try{const q=window.localStorage.getItem(d);if(q==="wind"||q==="brass")return q}catch(q){console.error("Kunne ikke lese lagret korptype",q)}return u}function W(g){typeof document>"u"||(document.documentElement.dataset.bandType=g)}function pe(g){if(z(le,g,!0),rn(g),typeof window<"u")try{window.localStorage.setItem(f,g)}catch(k){console.error("Kunne ikke lagre tema",k)}}function me(g,k=!0){if(i(ie)!==g){if(z(ie,g,!0),W(g),typeof window<"u")try{window.localStorage.setItem(d,g)}catch(R){console.error("Kunne ikke lagre korptype",R)}if(z(D,[],!0),z(j,[],!0),z(Z,[],!0),z(ve,[],!0),z(V,""),z(De,-1),k&&typeof window<"u"){const R=new URLSearchParams;R.set(s,g);const q=`${window.location.pathname}?${R.toString()}${window.location.hash}`;window.history.replaceState({},"",q)}z($,!0),z(E,null),z(h,null),z(y,[],!0),z(x,[],!0),z(S,[],!0),je=new Map,ft(g)}}function Pe(){z(Oe,!1)}function H(){z(ze,!1)}function re(){z(et,!1)}function ye(){var R;if(typeof window>"u")return c;const k=(R=new URLSearchParams(window.location.search).get(a))==null?void 0:R.toLowerCase();return k?k==="conductors"||k==="dirigent"||k==="conductor"?"conductors":k==="pieces"||k==="piece"||k==="stykke"||k==="stykker"?"pieces":k==="composers"||k==="komponist"||k==="composer"?"composers":k==="data"||k==="resultat"||k==="results"?"data":"bands":c}function J(g){if(typeof window>"u")return[];const R=new URLSearchParams(window.location.search).get(St(g));return R?R.split(o).map(q=>decodeURIComponent(q.trim())).filter(Boolean):[]}function Ce(g,k){if(!g.length||!k.length)return[];const R=new Map(g.map(q=>[q.slug,q]));return k.map(q=>R.get(q)??R.get(q.toLowerCase())).filter(q=>!!q)}function Ke(g,k){return g.length!==k.length?!1:g.every((R,q)=>R.slug===k[q].slug)}function Te(){if(typeof window>"u")return;const g=new URLSearchParams(window.location.search);g.set(s,i(ie));const k=i(D).map(ee=>encodeURIComponent(ee.slug)).join(o);k.length?g.set(St("bands"),k):g.delete(St("bands"));const R=i(j).map(ee=>encodeURIComponent(ee.slug)).join(o);R.length?g.set(St("conductors"),R):g.delete(St("conductors"));const q=i(Z).map(ee=>encodeURIComponent(ee.slug)).join(o);q.length?g.set(St("pieces"),q):g.delete(St("pieces"));const C=i(ve).map(ee=>encodeURIComponent(ee.slug)).join(o);C.length?g.set(St("composers"),C):g.delete(St("composers")),g.set(r,i(oe)),g.set(a,i(I));const se=g.toString(),Q=`${window.location.pathname}${se?`?${se}`:""}${window.location.hash}`;window.history.replaceState({},"",Q)}function ut({updateHistory:g=!1}={}){const k=vn(),R=ye(),q=hn();let C=!1;if(q!==i(ie))return me(q,!1),C=!0,C;if(k!==i(oe)&&(z(oe,k,!0),C=!0),R!==i(I)&&(z(I,R,!0),C=!0),!i(h))return g&&Te(),C;const se=Ce(i(h).bands,J("bands"));Ke(i(D),se)||(z(D,se,!0),C=!0),i(y).length||z(y,qt(i(h).bands),!0);const Q=Ce(i(y),J("conductors"));Ke(i(j),Q)||(z(j,Q,!0),C=!0),i(x).length||(z(x,xt(i(h).bands,Se,i(lt),i(ie)),!0),z(S,kt(i(x)),!0));const ee=Ce(i(x),J("pieces"));Ke(i(Z),ee)||(z(Z,ee,!0),C=!0),i(S).length||z(S,kt(i(x)),!0);const ue=Ce(i(S),J("composers"));return Ke(i(ve),ue)||(z(ve,ue,!0),C=!0),g&&Te(),C}function st(){const g=i(D).map(C=>C.slug).join(o),k=i(j).map(C=>C.slug).join(o),R=i(Z).map(C=>C.slug).join(o),q=i(ve).map(C=>C.slug).join(o);return`${i(ie)}|${i(I)}|${i(oe)}|${g}|${k}|${R}|${q}`}function mt(){if(!we)return;const g=st();g!==ae&&(Te(),ae=g)}function it(g){if(i(I)==="bands"){if(i(D).some(k=>k.slug===g.slug))return;z(D,[...i(D),g],!0)}else if(i(I)==="conductors"){if(i(j).some(k=>k.slug===g.slug))return;z(j,[...i(j),g],!0)}else if(i(I)==="pieces"){const k=g;if(i(Z).some(R=>R.slug===k.slug))return;z(Z,[...i(Z),k],!0)}else if(i(I)==="composers"){const k=g;if(i(ve).some(R=>R.slug===k.slug))return;z(ve,[...i(ve),k],!0)}z(V,""),z(De,-1),mt()}function Ne(g){i(I)==="bands"?z(D,i(D).filter(k=>k.slug!==g),!0):i(I)==="conductors"?z(j,i(j).filter(k=>k.slug!==g),!0):i(I)==="pieces"?z(Z,i(Z).filter(k=>k.slug!==g),!0):i(I)==="composers"&&z(ve,i(ve).filter(k=>k.slug!==g),!0),z(De,-1),mt()}function at(){if(i(w).length===0)return;const g=i(K).find(k=>k.name.toLowerCase()===i(b));g?it(g):i(P).length>0&&it(i(P)[0])}function Et(g){if(g===i(I)){Pe(),H();return}z(I,g,!0),z(V,""),z(De,-1),Pe(),H(),mt()}function yt(g){if(i(oe)===g){H();return}z(oe,g,!0),H(),mt()}async function Tt(){try{const g=await fetch("data/elite_test_pieces.json",{cache:"no-cache"});if(!g.ok)throw new Error("Failed to load elite_test_pieces.json");z(lt,await g.json(),!0)}catch(g){console.error("Could not load Elite test pieces:",g),z(lt,null)}}async function ft(g){try{const k=g==="wind"?"data/band_positions.json":"data/brass_positions.json",R=g==="wind"?"data/piece_metadata.json":"data/brass_piece_metadata.json",q="data/piece_streaming_links.json",[C,se,Q]=await Promise.all([fetch(k),fetch(R),fetch(q)]);if(g==="brass"&&i(lt)===null&&await Tt(),!C.ok)throw new Error(`Kunne ikke laste data (status ${C.status})`);let ee=[];if(se.ok)try{const be=await se.json();ee=(Array.isArray(be.pieces)?be.pieces:[]).filter(Ae=>!!(Ae!=null&&Ae.title&&(Ae!=null&&Ae.slug))).map(Ae=>({title:Ae.title.trim(),slug:Ae.slug.trim(),composer:Ae.composer??null}))}catch(be){console.warn("Kunne ikke tolke stykke-metadata",be)}else console.warn(`Kunne ikke laste stykke-metadata (status ${se.status})`);Se=T(ee);let ue=[];if(Q.ok)try{const be=await Q.json(),Qe=be==null?void 0:be[g];Array.isArray(Qe)&&(ue=Qe.filter(Ae=>!!Ae))}catch(be){console.warn("Kunne ikke tolke opptakslenker",be)}else Q.status!==404&&console.warn(`Kunne ikke laste opptakslenker (status ${Q.status})`);je=Y(ue);const Ee=await C.json();z(h,Ee,!0),z(y,qt(Ee.bands),!0),z(x,xt(Ee.bands,Se,i(lt),g),!0),z(S,kt(i(x)),!0),ut({updateHistory:!1}),ae=st(),Te(),we=!0}catch(k){z(E,k instanceof Error?k.message:"Ukjent feil ved lasting av data.",!0)}finally{z($,!1)}}Xi(async()=>{const g=nn();z(le,g,!0),rn(g);const k=te();z(ie,k,!0),W(k),await ft(k)}),Xi(()=>{const g=()=>{i(h)&&(ut({updateHistory:!1}),ae=st())};return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)}),ui(()=>{document.title=i(ie)==="wind"?"NM Janitsjar - Resultatoversikt":"NM Brass - Resultatoversikt"});let w=M(()=>i(V).trim()),b=M(()=>i(w).toLowerCase()),B=M(()=>i(I)==="bands"||i(I)==="conductors"||i(I)==="pieces"||i(I)==="composers"),K=M(()=>{var g;return i(B)?i(I)==="bands"?((g=i(h))==null?void 0:g.bands)??[]:i(I)==="conductors"?i(y):i(I)==="pieces"?i(x):i(S):[]}),X=M(()=>i(I)==="bands"?i(D):i(I)==="conductors"?i(j):i(I)==="pieces"?i(Z):i(I)==="composers"?i(ve):[]),P=M(()=>i(B)&&i(K)&&i(b).length>=2?i(K).filter(g=>g.name.toLowerCase().includes(i(b))&&!i(X).some(k=>k.slug===g.slug)).slice(0,10):[]),de=M(()=>i(h)?i(h).metadata.years:[]),_e=M(()=>i(h)?i(h).metadata.max_field_size:0),Fe=M(()=>{var g;return i(B)?i(I)==="bands"?((g=i(h))==null?void 0:g.bands.length)??0:i(I)==="conductors"?i(y).length:i(I)==="pieces"?i(x).length:i(S).length:0}),Xe=M(()=>i(I)==="bands"?"korps":i(I)==="conductors"?"dirigenter":i(I)==="pieces"?"stykker":"komponister"),dt=M(()=>i(h)?`Dekker ${i(Fe)} ${i(Xe)} · ${i(de).length} år (${i(h).metadata.min_year}–${i(h).metadata.max_year})`:""),ot=M(()=>i(I)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":i(I)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":i(I)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":i(I)==="composers"?"Begynn å skrive et komponistnavn (minst 2 bokstaver)…":""),$e=M(()=>i(I)==="bands"?"Søk etter korps":i(I)==="conductors"?"Søk etter dirigent":i(I)==="pieces"?"Søk etter musikkstykke":"Søk etter komponist"),he=M(()=>i(I)==="bands"?"Korpsforslag":i(I)==="conductors"?"Dirigentforslag":i(I)==="pieces"?"Stykke-forslag":"Komponistforslag"),Ue=M(()=>i(I)==="bands"?"Valgte korps":i(I)==="conductors"?"Valgte dirigenter":i(I)==="pieces"?"Valgte stykker":"Valgte komponister"),Nt=M(()=>i(I)==="bands"?"Ingen korps valgt ennå":i(I)==="conductors"?"Ingen dirigenter valgt ennå":i(I)==="pieces"?"Ingen stykker valgt ennå":"Ingen komponister valgt ennå"),Ze=M(()=>i(I)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":i(I)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":i(I)==="pieces"?"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer.":"Finn en komponist i søkefeltet for å se hvilke stykker vi har registrert av dem."),Ge=M(()=>i(I)==="bands"?i(ie)==="wind"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":"Søk etter et brassband for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":i(I)==="conductors"?"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.":i(I)==="pieces"?"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.":i(I)==="composers"?"Søk etter en komponist for å se hvilke NM-stykker de står bak.":"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen."),ge=M(()=>i(le)==="dark"?"Bytt til lyst tema":"Bytt til mørkt tema"),Re=M(()=>i(le)==="dark"?"Mørk":"Lys"),wt=M(()=>i(le)==="dark"?"🌙":"☀️"),Ft=M(()=>i(ie)==="wind"?"Bytt til brassband":"Bytt til janitsjarkorps"),Yt=M(()=>i(ie)==="wind"?"Janitsjar":"Brass"),ht=M(()=>i(ie)==="wind"?"🎷":"🎺"),ce=M(()=>i(Oe)?"Lukk meny":"Åpne meny"),Ie=M(()=>i(ze)?"Lukk tilpassingsmeny":"Åpne tilpassingsmeny"),pt=M(()=>i(X).length===1?i(X)[0].name:i(X).length>1?`${i(X).length} ${i(Xe)} valgt`:""),an=M(()=>i(X).length>1?i(X).map(g=>g.name).join(" · "):""),rr=M(()=>i(I)==="pieces"?i(X):[]),Ot=M(()=>i(I)==="composers"?i(X):[]),bt=M(()=>i(I)==="bands"||i(I)==="conductors"?i(X):[]);var Rn=Ug(),_t=p(Rn),Pt=p(_t),Qt=p(Pt),Nn=p(Qt),Gr=A(Qt,2);Gr.__click=[mg,Oe];var Si=A(Pt,2);let Ni;var bs=p(Si);Ve(bs,21,()=>_,We,(g,k)=>{var R=Ng();R.__click=[Sg,Et,k];let q;var C=p(R);G(se=>{L(R,"aria-pressed",i(I)===i(k)),q=Mn(R,1,"svelte-1n46o8q",null,q,se),O(C,v[i(k)])},[()=>({selected:i(I)===i(k)})]),m(g,R)});var Ei=A(bs,2);Ei.__click=[bg,me,ie,re,Pe,H];var xs=p(Ei),Hl=p(xs),Kl=A(xs,2),Xl=p(Kl),wa=A(Ei,2);wa.__click=[wg,pe,le,Pe,H,re];var ks=p(wa),Gl=p(ks),Wl=A(ks,2),Zl=p(Wl),Ss=A(_t,2),Ql=p(Ss),Ns=A(Ss,2);{var Jl=g=>{var k=$g(),R=ke(k),q=M(()=>Xs(at)),C=p(R),se=p(C),Q=A(C,2);Q.__input=[xg,V,De],Q.__keydown=[kg,P,De,it];var ee=A(R,2);{var ue=Ee=>{var be=Mg();Ve(be,21,()=>i(P),We,(Qe,Ae,It)=>{var Mt=Eg(),Ct=M(()=>Xs(()=>it(i(Ae))));Mt.__mousedown=function(...qn){var Mi;(Mi=i(Ct))==null||Mi.apply(this,qn)};var Vt=p(Mt);G(()=>{Mn(Mt,1,`suggestion ${It===i(De)?"active":""}`,"svelte-1n46o8q"),L(Mt,"aria-selected",It===i(De)),O(Vt,i(Ae).name)}),m(Qe,Mt)}),G(()=>L(be,"aria-label",i(he))),m(Ee,be)};U(ee,Ee=>{i(P).length>0&&Ee(ue)})}G(()=>{O(se,i($e)),L(Q,"placeholder",i(ot))}),Jt("submit",R,function(...Ee){var be;(be=i(q))==null||be.apply(this,Ee)}),Gu(Q,()=>i(V),Ee=>z(V,Ee)),m(g,k)};U(Ns,g=>{i(B)&&g(Jl)})}var ec=A(Ns,2);{var tc=g=>{var k=Ag();m(g,k)},nc=g=>{var k=Je(),R=ke(k);{var q=se=>{var Q=Tg(),ee=p(Q);G(()=>O(ee,i(E))),m(se,Q)},C=se=>{var Q=Je(),ee=ke(Q);{var ue=be=>{var Qe=Ig();m(be,Qe)},Ee=be=>{var Qe=Je(),Ae=ke(Qe);{var It=Ct=>{var Vt=Je(),qn=ke(Vt);{var Mi=kr=>{var Wr=jg(),Zr=ke(Wr);{var ba=Dt=>{vg(Dt,{get pieces(){return i(rr)},get bandType(){return i(ie)}})},xa=Dt=>{var Ln=Je(),Jr=ke(Ln);{var Sr=Fn=>{gg(Fn,{get composers(){return i(Ot)},get bandType(){return i(ie)}})},Yn=Fn=>{var $i=Og(),ei=p($i),Es=A(p(ei),2),Ai=p(Es);Ai.__click=[Pg,yt];let Ms;var ka=A(Ai,2);ka.__click=[Cg,yt];let $s;var Ti=A(Es,2);Ti.__click=[yg,ze];var oc=A(Ti,2);{var lc=pn=>{var ir=Lg(),Nr=p(ir);Nr.__click=[Rg,yt];let Ps;var Sa=A(Nr,2);Sa.__click=[qg,yt];let Cs;G((hc,pc)=>{L(Nr,"aria-pressed",i(oe)==="absolute"),Ps=Mn(Nr,1,"svelte-1n46o8q",null,Ps,hc),L(Sa,"aria-pressed",i(oe)==="relative"),Cs=Mn(Sa,1,"svelte-1n46o8q",null,Cs,pc)},[()=>({selected:i(oe)==="absolute"}),()=>({selected:i(oe)==="relative"})]),m(pn,ir)};U(oc,pn=>{i(ze)&&pn(lc)})}var As=A(ei,2),Ts=p(As),cc=p(Ts),Is=A(Ts,2),uc=p(Is),fc=A(Is,2);{var dc=pn=>{var ir=Fg(),Nr=p(ir);G(()=>O(Nr,i(an))),m(pn,ir)};U(fc,pn=>{i(an)&&pn(dc)})}var vc=A(As,2);{let pn=M(()=>i(I)==="bands");Dp(vc,{get years(){return i(de)},get maxFieldSize(){return i(_e)},get bands(){return i(bt)},get yMode(){return i(oe)},get showConductorMarkers(){return i(pn)}})}G((pn,ir)=>{L(Ai,"aria-pressed",i(oe)==="absolute"),Ms=Mn(Ai,1,"svelte-1n46o8q",null,Ms,pn),L(ka,"aria-pressed",i(oe)==="relative"),$s=Mn(ka,1,"svelte-1n46o8q",null,$s,ir),L(Ti,"aria-label",i(Ie)),L(Ti,"aria-expanded",i(ze)),O(cc,i(pt)),O(uc,i(dt))},[()=>({selected:i(oe)==="absolute"}),()=>({selected:i(oe)==="relative"})]),m(Fn,$i)};U(Jr,Fn=>{i(I)==="composers"?Fn(Sr):Fn(Yn,!1)},!0)}m(Dt,Ln)};U(Zr,Dt=>{i(I)==="pieces"?Dt(ba):Dt(xa,!1)})}var Qr=A(Zr,2);Ve(Qr,21,()=>i(X),We,(Dt,Ln,Jr)=>{var Sr=zg(),Yn=p(Sr);Yn.textContent=Jr+1;var Fn=A(Yn,2),$i=p(Fn),ei=A(Fn,2);ei.__click=[Dg,Ne,Ln],G(()=>{O($i,i(Ln).name),L(ei,"aria-label",`Fjern ${i(Ln).name}`)}),m(Dt,Sr)});var ic=A(Qr,2);{var ac=Dt=>{i_(Dt,{get bands(){return i(bt)},get bandType(){return i(ie)},streamingResolver:ne,get eliteTestPieces(){return i(lt)}})},sc=Dt=>{var Ln=Je(),Jr=ke(Ln);{var Sr=Yn=>{x_(Yn,{get conductors(){return i(bt)},get bandType(){return i(ie)},streamingResolver:ne})};U(Jr,Yn=>{i(I)==="conductors"&&Yn(Sr)},!0)}m(Dt,Ln)};U(ic,Dt=>{i(I)==="bands"?Dt(ac):Dt(sc,!1)})}G(()=>L(Qr,"aria-label",i(Ue))),m(kr,Wr)},rc=kr=>{var Wr=Bg(),Zr=p(Wr),ba=p(Zr),xa=A(Zr,2),Qr=p(xa);G(()=>{O(ba,i(Nt)),O(Qr,i(Ze))}),m(kr,Wr)};U(qn,kr=>{i(X).length>0?kr(Mi):kr(rc,!1)})}m(Ct,Vt)},Mt=Ct=>{Q_(Ct,{get dataset(){return i(h)},get bandType(){return i(ie)},streamingResolver:ne,get eliteTestPieces(){return i(lt)}})};U(Ae,Ct=>{i(B)?Ct(It):Ct(Mt,!1)},!0)}m(be,Qe)};U(ee,be=>{i(h)?be(Ee,!1):be(ue)},!0)}m(se,Q)};U(R,se=>{i(E)?se(q):se(C,!1)},!0)}m(g,k)};U(ec,g=>{i($)?g(tc):g(nc,!1)})}G(g=>{O(Nn,i(ie)==="wind"?"NM Janitsjar":"NM Brass"),L(Gr,"aria-label",i(ce)),L(Gr,"aria-expanded",i(Oe)),Ni=Mn(Si,1,"header-controls svelte-1n46o8q",null,Ni,g),L(Ei,"aria-label",i(Ft)),O(Hl,i(ht)),O(Xl,i(Yt)),L(wa,"aria-label",i(ge)),O(Gl,i(wt)),O(Zl,i(Re)),O(Ql,i(Ge))},[()=>({"header-controls--mobile-open":i(Oe)})]),m(e,Rn),nr()}al(["click","input","keydown","mousedown"]);Lu(Yg,{target:document.getElementById("app")});
