var pu=Object.defineProperty;var Rs=e=>{throw TypeError(e)};var _u=(e,t,n)=>t in e?pu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ar=(e,t,n)=>_u(e,typeof t!="symbol"?t+"":t,n),Ma=(e,t,n)=>t.has(e)||Rs("Cannot "+n);var O=(e,t,n)=>(Ma(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>t.has(e)?Rs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ue=(e,t,n,r)=>(Ma(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Rt=(e,t,n)=>(Ma(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const gu="5";var ko;typeof window<"u"&&((ko=window.__svelte??(window.__svelte={})).v??(ko.v=new Set)).add(gu);const ua=1,ca=2,So=4,mu=8,yu=16,wu=1,bu=4,xu=8,ku=16,No=1,Su=2,kt=Symbol(),Nu="http://www.w3.org/1999/xhtml",Mo=!1;var es=Array.isArray,Mu=Array.prototype.indexOf,ts=Array.from,Ra=Object.defineProperty,Cr=Object.getOwnPropertyDescriptor,$u=Object.getOwnPropertyDescriptors,Eu=Object.prototype,Au=Array.prototype,$o=Object.getPrototypeOf,qs=Object.isExtensible;function Eo(e){for(var t=0;t<e.length;t++)e[t]()}function Tu(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const Zt=2,ns=4,rs=8,Kr=16,Bn=32,br=64,is=128,on=256,Vi=512,Tt=1024,un=2048,er=4096,yn=8192,xr=16384,as=32768,fa=65536,Ls=1<<17,Iu=1<<18,Xr=1<<19,Pu=1<<20,qa=1<<21,ss=1<<22,vr=1<<23,li=Symbol("$state"),Cu=Symbol("legacy props"),Ru=Symbol(""),os=new class extends Error{constructor(){super(...arguments);Ar(this,"name","StaleReactionError");Ar(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Ao(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function qu(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Lu(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Fu(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ou(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Du(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function zu(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Bu(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ju(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Uu(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Yu(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Vu(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Hu=!1;function To(e){return e===this.v}function Ku(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Xu(e,t){return e!==t}function Io(e){return!Ku(e,this.v)}let Gu=!1,Yt=null;function zr(e){Yt=e}function tr(e,t=!1,n){Yt={p:Yt,c:null,e:null,s:e,x:null,l:null}}function nr(e){var t=Yt,n=t.e;if(n!==null){t.e=null;for(var r of n)Ho(r)}return Yt=t.p,{}}function Po(){return!0}let Wn=[],Hi=[];function Co(){var e=Wn;Wn=[],Eo(e)}function Wu(){var e=Hi;Hi=[],Eo(e)}function Zu(){return Wn.length>0||Hi.length>0}function Gr(e){if(Wn.length===0&&!ui){var t=Wn;queueMicrotask(()=>{t===Wn&&Co()})}Wn.push(e)}function Qu(){Wn.length>0&&Co(),Hi.length>0&&Wu()}const Ju=new WeakMap;function Ro(e){var t=$e;if(t===null)return be.f|=vr,e;if(t.f&as)Br(e,t);else{if(!(t.f&is))throw!t.parent&&e instanceof Error&&qo(e),e;t.b.error(e)}}function Br(e,t){for(;t!==null;){if(t.f&is)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&qo(e),e}function qo(e){const t=Ju.get(e);t&&(Ra(e,"message",{value:t.message}),Ra(e,"stack",{value:t.stack}))}const $a=new Set;let Qe=null,Fi=null,La=new Set,gr=[],da=null,Fa=!1,ui=!1;var gi,Fr,Vn,mi,yi,lr,Or,ur,Hn,Dr,wi,bi,wn,Lo,Oi,Oa;const sa=class sa{constructor(){ze(this,wn);Ar(this,"current",new Map);ze(this,gi,new Map);ze(this,Fr,new Set);ze(this,Vn,0);ze(this,mi,null);ze(this,yi,!1);ze(this,lr,[]);ze(this,Or,[]);ze(this,ur,[]);ze(this,Hn,[]);ze(this,Dr,[]);ze(this,wi,[]);ze(this,bi,[]);Ar(this,"skipped_effects",new Set)}process(t){var a;gr=[],Fi=null;for(const s of t)Rt(this,wn,Lo).call(this,s);if(O(this,lr).length===0&&O(this,Vn)===0){Rt(this,wn,Oa).call(this);var n=O(this,ur),r=O(this,Hn);ue(this,ur,[]),ue(this,Hn,[]),ue(this,Dr,[]),Fi=Qe,Qe=null,Fs(n),Fs(r),Qe===null?Qe=this:$a.delete(this),(a=O(this,mi))==null||a.resolve()}else Rt(this,wn,Oi).call(this,O(this,ur)),Rt(this,wn,Oi).call(this,O(this,Hn)),Rt(this,wn,Oi).call(this,O(this,Dr));for(const s of O(this,lr))qr(s);for(const s of O(this,Or))qr(s);ue(this,lr,[]),ue(this,Or,[])}capture(t,n){O(this,gi).has(t)||O(this,gi).set(t,n),this.current.set(t,t.v)}activate(){Qe=this}deactivate(){Qe=null,Fi=null;for(const t of La)if(La.delete(t),t(),Qe!==null)break}neuter(){ue(this,yi,!0)}flush(){gr.length>0?Fo():Rt(this,wn,Oa).call(this),Qe===this&&(O(this,Vn)===0&&$a.delete(this),this.deactivate())}increment(){ue(this,Vn,O(this,Vn)+1)}decrement(){if(ue(this,Vn,O(this,Vn)-1),O(this,Vn)===0){for(const t of O(this,wi))Ut(t,un),jr(t);for(const t of O(this,bi))Ut(t,er),jr(t);ue(this,ur,[]),ue(this,Hn,[]),this.flush()}else this.deactivate()}add_callback(t){O(this,Fr).add(t)}settled(){return(O(this,mi)??ue(this,mi,Tu())).promise}static ensure(){if(Qe===null){const t=Qe=new sa;$a.add(Qe),ui||sa.enqueue(()=>{Qe===t&&t.flush()})}return Qe}static enqueue(t){Gr(t)}};gi=new WeakMap,Fr=new WeakMap,Vn=new WeakMap,mi=new WeakMap,yi=new WeakMap,lr=new WeakMap,Or=new WeakMap,ur=new WeakMap,Hn=new WeakMap,Dr=new WeakMap,wi=new WeakMap,bi=new WeakMap,wn=new WeakSet,Lo=function(t){var f;t.f^=Tt;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Bn|br))!==0,s=a&&(r&Tt)!==0,o=s||(r&yn)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(a)n.f^=Tt;else if(r&ns)O(this,Hn).push(n);else if(!(r&Tt))if(r&ss){var l=(f=n.b)!=null&&f.is_pending()?O(this,Or):O(this,lr);l.push(n)}else _a(n)&&(n.f&Kr&&O(this,Dr).push(n),qr(n));var u=n.first;if(u!==null){n=u;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},Oi=function(t){for(const n of t)(n.f&un?O(this,wi):O(this,bi)).push(n),Ut(n,Tt);t.length=0},Oa=function(){if(!O(this,yi))for(const t of O(this,Fr))t();O(this,Fr).clear()};let Qn=sa;function ec(e){var t=ui;ui=!0;try{for(var n;;){if(Qu(),gr.length===0&&!Zu()&&(Qe==null||Qe.flush(),gr.length===0))return da=null,n;Fo()}}finally{ui=t}}function Fo(){var e=Rr;Fa=!0;try{var t=0;for(zs(!0);gr.length>0;){var n=Qn.ensure();if(t++>1e3){var r,a;tc()}n.process(gr),Jn.clear()}}finally{Fa=!1,zs(e),da=null}}function tc(){try{Du()}catch(e){Br(e,da)}}let On=null;function Fs(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(xr|yn))&&_a(r)&&(On=[],qr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Go(r):r.fn=null),(On==null?void 0:On.length)>0)){Jn.clear();for(const a of On)qr(a);On=[]}}On=null}}function jr(e){for(var t=da=e;t.parent!==null;){t=t.parent;var n=t.f;if(Fa&&t===$e&&n&Kr)return;if(n&(br|Bn)){if(!(n&Tt))return;t.f^=Tt}}gr.push(t)}function nc(e){let t=0,n=mr(0),r;return()=>{wc()&&(i(n),cs(()=>(t===0&&(r=Zr(()=>e(()=>ci(n)))),t+=1,()=>{Gr(()=>{t-=1,t===0&&(r==null||r(),r=void 0,ci(n))})})))}}var rc=fa|Xr|is;function ic(e,t,n){new ac(e,t,n)}var pn,rn,Ja,$n,cr,En,an,Dt,An,Kn,fr,Xn,dr,Gn,oa,la,Ft,sc,oc,Di,zi,Da;class ac{constructor(t,n,r){ze(this,Ft);Ar(this,"parent");ze(this,pn,!1);ze(this,rn);ze(this,Ja,null);ze(this,$n);ze(this,cr);ze(this,En);ze(this,an,null);ze(this,Dt,null);ze(this,An,null);ze(this,Kn,null);ze(this,fr,0);ze(this,Xn,0);ze(this,dr,!1);ze(this,Gn,null);ze(this,oa,()=>{O(this,Gn)&&Ur(O(this,Gn),O(this,fr))});ze(this,la,nc(()=>(ue(this,Gn,mr(O(this,fr))),()=>{ue(this,Gn,null)})));ue(this,rn,t),ue(this,$n,n),ue(this,cr,r),this.parent=$e.b,ue(this,pn,!!O(this,$n).pending),ue(this,En,pa(()=>{$e.b=this;{try{ue(this,an,sn(()=>r(O(this,rn))))}catch(a){this.error(a)}O(this,Xn)>0?Rt(this,Ft,zi).call(this):ue(this,pn,!1)}},rc))}is_pending(){return O(this,pn)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!O(this,$n).pending}update_pending_count(t){Rt(this,Ft,Da).call(this,t),ue(this,fr,O(this,fr)+t),La.add(O(this,oa))}get_effect_pending(){return O(this,la).call(this),i(O(this,Gn))}error(t){var n=O(this,$n).onerror;let r=O(this,$n).failed;if(O(this,dr)||!n&&!r)throw t;O(this,an)&&(ln(O(this,an)),ue(this,an,null)),O(this,Dt)&&(ln(O(this,Dt)),ue(this,Dt,null)),O(this,An)&&(ln(O(this,An)),ue(this,An,null));var a=!1,s=!1;const o=()=>{if(a){Vu();return}a=!0,s&&Yu(),Qn.ensure(),ue(this,fr,0),O(this,An)!==null&&hr(O(this,An),()=>{ue(this,An,null)}),ue(this,pn,this.has_pending_snippet()),ue(this,an,Rt(this,Ft,Di).call(this,()=>(ue(this,dr,!1),sn(()=>O(this,cr).call(this,O(this,rn)))))),O(this,Xn)>0?Rt(this,Ft,zi).call(this):ue(this,pn,!1)};var l=be;try{Bt(null),s=!0,n==null||n(t,o),s=!1}catch(u){Br(u,O(this,En)&&O(this,En).parent)}finally{Bt(l)}r&&Gr(()=>{ue(this,An,Rt(this,Ft,Di).call(this,()=>{ue(this,dr,!0);try{return sn(()=>{r(O(this,rn),()=>t,()=>o)})}catch(u){return Br(u,O(this,En).parent),null}finally{ue(this,dr,!1)}}))})}}pn=new WeakMap,rn=new WeakMap,Ja=new WeakMap,$n=new WeakMap,cr=new WeakMap,En=new WeakMap,an=new WeakMap,Dt=new WeakMap,An=new WeakMap,Kn=new WeakMap,fr=new WeakMap,Xn=new WeakMap,dr=new WeakMap,Gn=new WeakMap,oa=new WeakMap,la=new WeakMap,Ft=new WeakSet,sc=function(){try{ue(this,an,sn(()=>O(this,cr).call(this,O(this,rn))))}catch(t){this.error(t)}ue(this,pn,!1)},oc=function(){const t=O(this,$n).pending;t&&(ue(this,Dt,sn(()=>t(O(this,rn)))),Qn.enqueue(()=>{ue(this,an,Rt(this,Ft,Di).call(this,()=>(Qn.ensure(),sn(()=>O(this,cr).call(this,O(this,rn)))))),O(this,Xn)>0?Rt(this,Ft,zi).call(this):(hr(O(this,Dt),()=>{ue(this,Dt,null)}),ue(this,pn,!1))}))},Di=function(t){var n=$e,r=be,a=Yt;In(O(this,En)),Bt(O(this,En)),zr(O(this,En).ctx);try{return t()}catch(s){return Ro(s),null}finally{In(n),Bt(r),zr(a)}},zi=function(){const t=O(this,$n).pending;O(this,an)!==null&&(ue(this,Kn,document.createDocumentFragment()),lc(O(this,an),O(this,Kn))),O(this,Dt)===null&&ue(this,Dt,sn(()=>t(O(this,rn))))},Da=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Rt(n=this.parent,Ft,Da).call(n,t);return}ue(this,Xn,O(this,Xn)+t),O(this,Xn)===0&&(ue(this,pn,!1),O(this,Dt)&&hr(O(this,Dt),()=>{ue(this,Dt,null)}),O(this,Kn)&&(O(this,rn).before(O(this,Kn)),ue(this,Kn,null)))};function lc(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:xi(n);t.append(n),n=a}}function uc(e,t,n){const r=va;if(t.length===0){n(e.map(r));return}var a=Qe,s=$e,o=cc();Promise.all(t.map(l=>fc(l))).then(l=>{a==null||a.activate(),o();try{n([...e.map(r),...l])}catch(u){s.f&xr||Br(u,s)}a==null||a.deactivate(),Oo()}).catch(l=>{Br(l,s)})}function cc(){var e=$e,t=be,n=Yt,r=Qe;return function(){In(e),Bt(t),zr(n),r==null||r.activate()}}function Oo(){In(null),Bt(null),zr(null)}function va(e){var t=Zt|un,n=be!==null&&be.f&Zt?be:null;return $e===null||n!==null&&n.f&on?t|=on:$e.f|=Xr,{ctx:Yt,deps:null,effects:null,equals:To,f:t,fn:e,reactions:null,rv:0,v:kt,wv:0,parent:n??$e,ac:null}}function fc(e,t){let n=$e;n===null&&qu();var r=n.b,a=void 0,s=mr(kt),o=null,l=!be;return Sc(()=>{try{var u=e();o&&Promise.resolve(u).catch(()=>{})}catch(p){u=Promise.reject(p)}var c=()=>u;a=(o==null?void 0:o.then(c,c))??Promise.resolve(u),o=a;var f=Qe,d=r.is_pending();l&&(r.update_pending_count(1),d||f.increment());const v=(p,h=void 0)=>{o=null,d||f.activate(),h?h!==os&&(s.f|=vr,Ur(s,h)):(s.f&vr&&(s.f^=vr),Ur(s,p)),l&&(r.update_pending_count(-1),d||f.decrement()),Oo()};if(a.then(v,p=>v(null,p||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(u=>{function c(f){function d(){f===a?u(s):c(a)}f.then(d,d)}c(a)})}function E(e){const t=va(e);return Qo(t),t}function Do(e){const t=va(e);return t.equals=Io,t}function zo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ln(t[n])}}function dc(e){for(var t=e.parent;t!==null;){if(!(t.f&Zt))return t;t=t.parent}return null}function ls(e){var t,n=$e;In(dc(e));try{zo(e),t=nl(e)}finally{In(n)}return t}function Bo(e){var t=ls(e);if(e.equals(t)||(e.v=t,e.wv=el()),!kr){var n=(Zn||e.f&on)&&e.deps!==null?er:Tt;Ut(e,n)}}const Jn=new Map;function mr(e,t){var n={f:0,v:e,reactions:null,equals:To,rv:0,wv:0};return n}function Me(e,t){const n=mr(e);return Qo(n),n}function vc(e,t=!1,n=!0){const r=mr(e);return t||(r.equals=Io),r}function j(e,t,n=!1){be!==null&&(!gn||be.f&Ls)&&Po()&&be.f&(Zt|Kr|ss|Ls)&&!(Lt!=null&&Lt.includes(e))&&Uu();let r=n?zt(t):t;return Ur(e,r)}function Ur(e,t){if(!e.equals(t)){var n=e.v;kr?Jn.set(e,t):Jn.set(e,n),e.v=t;var r=Qn.ensure();r.capture(e,n),e.f&Zt&&(e.f&un&&ls(e),Ut(e,e.f&on?er:Tt)),e.wv=el(),jo(e,un),$e!==null&&$e.f&Tt&&!($e.f&(Bn|br))&&(nn===null?$c([e]):nn.push(e))}return t}function ci(e){j(e,e.v+1)}function jo(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,a=0;a<r;a++){var s=n[a],o=s.f,l=(o&un)===0;l&&Ut(s,t),o&Zt?jo(s,er):l&&(o&Kr&&On!==null&&On.push(s),jr(s))}}function zt(e){if(typeof e!="object"||e===null||li in e)return e;const t=$o(e);if(t!==Eu&&t!==Au)return e;var n=new Map,r=es(e),a=Me(0),s=pr,o=l=>{if(pr===s)return l();var u=be,c=pr;Bt(null),js(s);var f=l();return Bt(u),js(c),f};return r&&n.set("length",Me(e.length)),new Proxy(e,{defineProperty(l,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Bu();var f=n.get(u);return f===void 0?f=o(()=>{var d=Me(c.value);return n.set(u,d),d}):j(f,c.value,!0),!0},deleteProperty(l,u){var c=n.get(u);if(c===void 0){if(u in l){const f=o(()=>Me(kt));n.set(u,f),ci(a)}}else j(c,kt),ci(a);return!0},get(l,u,c){var p;if(u===li)return e;var f=n.get(u),d=u in l;if(f===void 0&&(!d||(p=Cr(l,u))!=null&&p.writable)&&(f=o(()=>{var h=zt(d?l[u]:kt),g=Me(h);return g}),n.set(u,f)),f!==void 0){var v=i(f);return v===kt?void 0:v}return Reflect.get(l,u,c)},getOwnPropertyDescriptor(l,u){var c=Reflect.getOwnPropertyDescriptor(l,u);if(c&&"value"in c){var f=n.get(u);f&&(c.value=i(f))}else if(c===void 0){var d=n.get(u),v=d==null?void 0:d.v;if(d!==void 0&&v!==kt)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return c},has(l,u){var v;if(u===li)return!0;var c=n.get(u),f=c!==void 0&&c.v!==kt||Reflect.has(l,u);if(c!==void 0||$e!==null&&(!f||(v=Cr(l,u))!=null&&v.writable)){c===void 0&&(c=o(()=>{var p=f?zt(l[u]):kt,h=Me(p);return h}),n.set(u,c));var d=i(c);if(d===kt)return!1}return f},set(l,u,c,f){var N;var d=n.get(u),v=u in l;if(r&&u==="length")for(var p=c;p<d.v;p+=1){var h=n.get(p+"");h!==void 0?j(h,kt):p in l&&(h=o(()=>Me(kt)),n.set(p+"",h))}if(d===void 0)(!v||(N=Cr(l,u))!=null&&N.writable)&&(d=o(()=>Me(void 0)),j(d,zt(c)),n.set(u,d));else{v=d.v!==kt;var g=o(()=>zt(c));j(d,g)}var x=Reflect.getOwnPropertyDescriptor(l,u);if(x!=null&&x.set&&x.set.call(f,c),!v){if(r&&typeof u=="string"){var S=n.get("length"),M=Number(u);Number.isInteger(M)&&M>=S.v&&j(S,M+1)}ci(a)}return!0},ownKeys(l){i(a);var u=Reflect.ownKeys(l).filter(d=>{var v=n.get(d);return v===void 0||v.v!==kt});for(var[c,f]of n)f.v!==kt&&!(c in l)&&u.push(c);return u},setPrototypeOf(){ju()}})}var Os,Uo,Yo,Vo;function hc(){if(Os===void 0){Os=window,Uo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Yo=Cr(t,"firstChild").get,Vo=Cr(t,"nextSibling").get,qs(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),qs(n)&&(n.__t=void 0)}}function Wr(e=""){return document.createTextNode(e)}function Dn(e){return Yo.call(e)}function xi(e){return Vo.call(e)}function _(e,t){return Dn(e)}function we(e,t=!1){{var n=Dn(e);return n instanceof Comment&&n.data===""?xi(n):n}}function $(e,t=1,n=!1){let r=e;for(;t--;)r=xi(r);return r}function pc(e){e.textContent=""}function us(){return!1}let Ds=!1;function _c(){Ds||(Ds=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ha(e){var t=be,n=$e;Bt(null),In(null);try{return e()}finally{Bt(t),In(n)}}function gc(e,t,n,r=n){e.addEventListener(t,()=>ha(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),_c()}function mc(e){$e===null&&be===null&&Ou(),be!==null&&be.f&on&&$e===null&&Fu(),kr&&Lu()}function yc(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function jn(e,t,n,r=!0){var a=$e;a!==null&&a.f&yn&&(e|=yn);var s={ctx:Yt,deps:null,nodes_start:null,nodes_end:null,f:e|un,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{qr(s),s.f|=as}catch(u){throw ln(s),u}else t!==null&&jr(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&Xr)&&(o=o.first),o!==null&&(o.parent=a,a!==null&&yc(o,a),be!==null&&be.f&Zt&&!(e&br))){var l=be;(l.effects??(l.effects=[])).push(o)}}return s}function wc(){return be!==null&&!gn}function bc(e){const t=jn(rs,null,!1);return Ut(t,Tt),t.teardown=e,t}function fi(e){mc();var t=$e.f,n=!be&&(t&Bn)!==0&&(t&as)===0;if(n){var r=Yt;(r.e??(r.e=[])).push(e)}else return Ho(e)}function Ho(e){return jn(ns|Pu,e,!1)}function xc(e){Qn.ensure();const t=jn(br|Xr,e,!0);return(n={})=>new Promise(r=>{n.outro?hr(t,()=>{ln(t),r(void 0)}):(ln(t),r(void 0))})}function kc(e){return jn(ns,e,!1)}function Sc(e){return jn(ss|Xr,e,!0)}function cs(e,t=0){return jn(rs|t,e,!0)}function X(e,t=[],n=[]){uc(t,n,r=>{jn(rs,()=>e(...r.map(i)),!0)})}function pa(e,t=0){var n=jn(Kr|t,e,!0);return n}function sn(e,t=!0){return jn(Bn|Xr,e,!0,t)}function Ko(e){var t=e.teardown;if(t!==null){const n=kr,r=be;Bs(!0),Bt(null);try{t.call(null)}finally{Bs(n),Bt(r)}}}function Xo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&ha(()=>{a.abort(os)});var r=n.next;n.f&br?n.parent=null:ln(n,t),n=r}}function Nc(e){for(var t=e.first;t!==null;){var n=t.next;t.f&Bn||ln(t),t=n}}function ln(e,t=!0){var n=!1;(t||e.f&Iu)&&e.nodes_start!==null&&e.nodes_end!==null&&(Mc(e.nodes_start,e.nodes_end),n=!0),Xo(e,t&&!n),Ki(e,0),Ut(e,xr);var r=e.transitions;if(r!==null)for(const s of r)s.stop();Ko(e);var a=e.parent;a!==null&&a.first!==null&&Go(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Mc(e,t){for(;e!==null;){var n=e===t?null:xi(e);e.remove(),e=n}}function Go(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function hr(e,t){var n=[];fs(e,n,!0),Wo(n,()=>{ln(e),t&&t()})}function Wo(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function fs(e,t,n){if(!(e.f&yn)){if(e.f^=yn,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&fa)!==0||(r.f&Bn)!==0;fs(r,t,s?n:!1),r=a}}}function ds(e){Zo(e,!0)}function Zo(e,t){if(e.f&yn){e.f^=yn,e.f&Tt||(Ut(e,un),jr(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&fa)!==0||(n.f&Bn)!==0;Zo(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Rr=!1;function zs(e){Rr=e}let kr=!1;function Bs(e){kr=e}let be=null,gn=!1;function Bt(e){be=e}let $e=null;function In(e){$e=e}let Lt=null;function Qo(e){be!==null&&(Lt===null?Lt=[e]:Lt.push(e))}let qt=null,Wt=0,nn=null;function $c(e){nn=e}let Jo=1,di=0,pr=di;function js(e){pr=e}let Zn=!1;function el(){return++Jo}function _a(e){var d;var t=e.f;if(t&un)return!0;if(t&er){var n=e.deps,r=(t&on)!==0;if(n!==null){var a,s,o=(t&Vi)!==0,l=r&&$e!==null&&!Zn,u=n.length;if((o||l)&&($e===null||!($e.f&xr))){var c=e,f=c.parent;for(a=0;a<u;a++)s=n[a],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(c)))&&(s.reactions??(s.reactions=[])).push(c);o&&(c.f^=Vi),l&&f!==null&&!(f.f&on)&&(c.f^=on)}for(a=0;a<u;a++)if(s=n[a],_a(s)&&Bo(s),s.wv>e.wv)return!0}(!r||$e!==null&&!Zn)&&Ut(e,Tt)}return!1}function tl(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Lt!=null&&Lt.includes(e)))for(var a=0;a<r.length;a++){var s=r[a];s.f&Zt?tl(s,t,!1):t===s&&(n?Ut(s,un):s.f&Tt&&Ut(s,er),jr(s))}}function nl(e){var g;var t=qt,n=Wt,r=nn,a=be,s=Zn,o=Lt,l=Yt,u=gn,c=pr,f=e.f;qt=null,Wt=0,nn=null,Zn=(f&on)!==0&&(gn||!Rr||be===null),be=f&(Bn|br)?null:e,Lt=null,zr(e.ctx),gn=!1,pr=++di,e.ac!==null&&(ha(()=>{e.ac.abort(os)}),e.ac=null);try{e.f|=qa;var d=e.fn,v=d(),p=e.deps;if(qt!==null){var h;if(Ki(e,Wt),p!==null&&Wt>0)for(p.length=Wt+qt.length,h=0;h<qt.length;h++)p[Wt+h]=qt[h];else e.deps=p=qt;if(!Zn||f&Zt&&e.reactions!==null)for(h=Wt;h<p.length;h++)((g=p[h]).reactions??(g.reactions=[])).push(e)}else p!==null&&Wt<p.length&&(Ki(e,Wt),p.length=Wt);if(Po()&&nn!==null&&!gn&&p!==null&&!(e.f&(Zt|er|un)))for(h=0;h<nn.length;h++)tl(nn[h],e);return a!==null&&a!==e&&(di++,nn!==null&&(r===null?r=nn:r.push(...nn))),e.f&vr&&(e.f^=vr),v}catch(x){return Ro(x)}finally{e.f^=qa,qt=t,Wt=n,nn=r,be=a,Zn=s,Lt=o,zr(l),gn=u,pr=c}}function Ec(e,t){let n=t.reactions;if(n!==null){var r=Mu.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&t.f&Zt&&(qt===null||!qt.includes(t))&&(Ut(t,er),t.f&(on|Vi)||(t.f^=Vi),zo(t),Ki(t,0))}function Ki(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ec(e,n[r])}function qr(e){var t=e.f;if(!(t&xr)){Ut(e,Tt);var n=$e,r=Rr;$e=e,Rr=!0;try{t&Kr?Nc(e):Xo(e),Ko(e);var a=nl(e);e.teardown=typeof a=="function"?a:null,e.wv=Jo;var s;Mo&&Gu&&e.f&un&&e.deps}finally{Rr=r,$e=n}}}async function Ac(){await Promise.resolve(),ec()}function i(e){var t=e.f,n=(t&Zt)!==0;if(be!==null&&!gn){var r=$e!==null&&($e.f&xr)!==0;if(!r&&!(Lt!=null&&Lt.includes(e))){var a=be.deps;if(be.f&qa)e.rv<di&&(e.rv=di,qt===null&&a!==null&&a[Wt]===e?Wt++:qt===null?qt=[e]:(!Zn||!qt.includes(e))&&qt.push(e));else{(be.deps??(be.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[be]:s.includes(be)||s.push(be)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&!(l.f&on)&&(o.f^=on)}if(kr){if(Jn.has(e))return Jn.get(e);if(n){o=e;var u=o.v;return(!(o.f&Tt)&&o.reactions!==null||rl(o))&&(u=ls(o)),Jn.set(o,u),u}}else n&&(o=e,_a(o)&&Bo(o));if(e.f&vr)throw e.v;return e.v}function rl(e){if(e.v===kt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Jn.has(t)||t.f&Zt&&rl(t))return!0;return!1}function Zr(e){var t=gn;try{return gn=!0,e()}finally{gn=t}}const Tc=-7169;function Ut(e,t){e.f=e.f&Tc|t}const il=new Set,za=new Set;function Ic(e,t,n,r={}){function a(s){if(r.capture||ii.call(t,s),!s.cancelBubble)return ha(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Gr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Gt(e,t,n,r,a){var s={capture:r,passive:a},o=Ic(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&bc(()=>{t.removeEventListener(e,o,s)})}function al(e){for(var t=0;t<e.length;t++)il.add(e[t]);for(var n of za)n(e)}let Us=null;function ii(e){var M;var t=this,n=t.ownerDocument,r=e.type,a=((M=e.composedPath)==null?void 0:M.call(e))||[],s=a[0]||e.target;Us=e;var o=0,l=Us===e&&e.__root;if(l){var u=a.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=a.indexOf(t);if(c===-1)return;u<=c&&(o=u)}if(s=a[o]||e.target,s!==t){Ra(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=be,d=$e;Bt(null),In(null);try{for(var v,p=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];if(g!=null&&(!s.disabled||e.target===s))if(es(g)){var[x,...S]=g;x.apply(s,[e,...S])}else g.call(s,e)}catch(N){v?p.push(N):v=N}if(e.cancelBubble||h===t||h===null)break;s=h}if(v){for(let N of p)queueMicrotask(()=>{throw N});throw v}}finally{e.__root=t,delete e.currentTarget,Bt(f),In(d)}}}function sl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function vi(e,t){var n=$e;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function A(e,t){var n=(t&No)!==0,r=(t&Su)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=sl(s?e:"<!>"+e),n||(a=Dn(a)));var o=r||Uo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Dn(o),u=o.lastChild;vi(l,u)}else vi(o,o);return o}}function Pc(e,t,n="svg"){var r=!e.startsWith("<!>"),a=(t&No)!==0,s=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var l=sl(s),u=Dn(l);if(a)for(o=document.createDocumentFragment();Dn(u);)o.appendChild(Dn(u));else o=Dn(u)}var c=o.cloneNode(!0);if(a){var f=Dn(c),d=c.lastChild;vi(f,d)}else vi(c,c);return c}}function xn(e,t){return Pc(e,t,"svg")}function Je(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Wr();return e.append(t,n),vi(t,n),e}function y(e,t){e!==null&&e.before(t)}const Cc=["touchstart","touchmove"];function Rc(e){return Cc.includes(e)}function z(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function qc(e,t){return Lc(e,t)}const Tr=new Map;function Lc(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:o=!0}){hc();var l=new Set,u=d=>{for(var v=0;v<d.length;v++){var p=d[v];if(!l.has(p)){l.add(p);var h=Rc(p);t.addEventListener(p,ii,{passive:h});var g=Tr.get(p);g===void 0?(document.addEventListener(p,ii,{passive:h}),Tr.set(p,1)):Tr.set(p,g+1)}}};u(ts(il)),za.add(u);var c=void 0,f=xc(()=>{var d=n??t.appendChild(Wr());return ic(d,{pending:()=>{}},v=>{if(s){tr({});var p=Yt;p.c=s}a&&(r.$$events=a),c=e(v,r)||{},s&&nr()}),()=>{var h;for(var v of l){t.removeEventListener(v,ii);var p=Tr.get(v);--p===0?(document.removeEventListener(v,ii),Tr.delete(v)):Tr.set(v,p)}za.delete(u),d!==n&&((h=d.parentNode)==null||h.removeChild(d))}});return Fc.set(c,f),c}let Fc=new WeakMap;function Xi(e){Yt===null&&Ao(),fi(()=>{const t=Zr(e);if(typeof t=="function")return t})}function Oc(e){Yt===null&&Ao(),Xi(()=>()=>Zr(e))}function V(e,t,n=!1){var r=e,a=null,s=null,o=kt,l=n?fa:0,u=!1;const c=(p,h=!0)=>{u=!0,v(h,p)};var f=null;function d(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var p=o?a:s,h=o?s:a;p&&ds(p),h&&hr(h,()=>{o?s=null:a=null})}const v=(p,h)=>{if(o!==(o=p)){var g=us(),x=r;if(g&&(f=document.createDocumentFragment(),f.append(x=Wr())),o?a??(a=h&&sn(()=>h(x))):s??(s=h&&sn(()=>h(x))),g){var S=Qe,M=o?a:s,N=o?s:a;M&&S.skipped_effects.delete(M),N&&S.skipped_effects.add(N),S.add_callback(d)}else d()}};pa(()=>{u=!1,t(c),u||v(null,null)},l)}function Dc(e,t,n){var r=e,a=kt,s,o,l=null,u=Xu;function c(){s&&hr(s),l!==null&&(l.lastChild.remove(),r.before(l),l=null),s=o}pa(()=>{if(u(a,a=t())){var f=r,d=us();d&&(l=document.createDocumentFragment(),l.append(f=Wr())),o=sn(()=>n(f)),d?Qe.add_callback(c):c()}})}function Ke(e,t){return t}function zc(e,t,n){for(var r=e.items,a=[],s=t.length,o=0;o<s;o++)fs(t[o].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var u=n.parentNode;pc(u),u.append(n),r.clear(),Nn(e,t[0].prev,t[s-1].next)}Wo(a,()=>{for(var c=0;c<s;c++){var f=t[c];l||(r.delete(f.k),Nn(e,f.prev,f.next)),ln(f.e,!l)}})}function Ye(e,t,n,r,a,s=null){var o=e,l={flags:t,items:new Map,first:null},u=(t&So)!==0;if(u){var c=e;o=c.appendChild(Wr())}var f=null,d=!1,v=new Map,p=Do(()=>{var S=n();return es(S)?S:S==null?[]:ts(S)}),h,g;function x(){Bc(g,h,l,v,o,a,t,r,n),s!==null&&(h.length===0?f?ds(f):f=sn(()=>s(o)):f!==null&&hr(f,()=>{f=null}))}pa(()=>{g??(g=$e),h=i(p);var S=h.length;if(!(d&&S===0)){d=S===0;var M,N,H,B;if(us()){var U=new Set,Z=Qe;for(N=0;N<S;N+=1){H=h[N],B=r(H,N);var fe=l.items.get(B)??v.get(B);fe?t&(ua|ca)&&ol(fe,H,N,t):(M=ll(null,l,null,null,H,B,N,a,t,n,!0),v.set(B,M)),U.add(B)}for(const[Le,_e]of l.items)U.has(Le)||Z.skipped_effects.add(_e.e);Z.add_callback(x)}else x();i(p)}})}function Bc(e,t,n,r,a,s,o,l,u){var ye,Oe,ft,T;var c=(o&mu)!==0,f=(o&(ua|ca))!==0,d=t.length,v=n.items,p=n.first,h=p,g,x=null,S,M=[],N=[],H,B,U,Z;if(c)for(Z=0;Z<d;Z+=1)H=t[Z],B=l(H,Z),U=v.get(B),U!==void 0&&((ye=U.a)==null||ye.measure(),(S??(S=new Set)).add(U));for(Z=0;Z<d;Z+=1){if(H=t[Z],B=l(H,Z),U=v.get(B),U===void 0){var fe=r.get(B);if(fe!==void 0){r.delete(B),v.set(B,fe);var Le=x?x.next:h;Nn(n,x,fe),Nn(n,fe,Le),Ea(fe,Le,a),x=fe}else{var _e=h?h.e.nodes_start:a;x=ll(_e,n,x,x===null?n.first:x.next,H,B,Z,s,o,u)}v.set(B,x),M=[],N=[],h=x.next;continue}if(f&&ol(U,H,Z,o),U.e.f&yn&&(ds(U.e),c&&((Oe=U.a)==null||Oe.unfix(),(S??(S=new Set)).delete(U))),U!==h){if(g!==void 0&&g.has(U)){if(M.length<N.length){var ne=N[0],se;x=ne.prev;var I=M[0],oe=M[M.length-1];for(se=0;se<M.length;se+=1)Ea(M[se],ne,a);for(se=0;se<N.length;se+=1)g.delete(N[se]);Nn(n,I.prev,oe.next),Nn(n,x,I),Nn(n,oe,ne),h=ne,x=oe,Z-=1,M=[],N=[]}else g.delete(U),Ea(U,h,a),Nn(n,U.prev,U.next),Nn(n,U,x===null?n.first:x.next),Nn(n,x,U),x=U;continue}for(M=[],N=[];h!==null&&h.k!==B;)h.e.f&yn||(g??(g=new Set)).add(h),N.push(h),h=h.next;if(h===null)continue;U=h}M.push(U),x=U,h=U.next}if(h!==null||g!==void 0){for(var re=g===void 0?[]:ts(g);h!==null;)h.e.f&yn||re.push(h),h=h.next;var Ce=re.length;if(Ce>0){var Fe=o&So&&d===0?a:null;if(c){for(Z=0;Z<Ce;Z+=1)(ft=re[Z].a)==null||ft.measure();for(Z=0;Z<Ce;Z+=1)(T=re[Z].a)==null||T.fix()}zc(n,re,Fe)}}c&&Gr(()=>{var Y;if(S!==void 0)for(U of S)(Y=U.a)==null||Y.apply()}),e.first=n.first&&n.first.e,e.last=x&&x.e;for(var Xe of r.values())ln(Xe.e);r.clear()}function ol(e,t,n,r){r&ua&&Ur(e.v,t),r&ca?Ur(e.i,n):e.i=n}function ll(e,t,n,r,a,s,o,l,u,c,f){var d=(u&ua)!==0,v=(u&yu)===0,p=d?v?vc(a,!1,!1):mr(a):a,h=u&ca?mr(o):o,g={i:h,v:p,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var x=document.createDocumentFragment();x.append(e=Wr())}return g.e=sn(()=>l(e,p,h,c),Hu),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?f||(t.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Ea(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var o=xi(s);a.before(s),s=o}}function Nn(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const Ys=[...` 	
\r\fÂ \v\uFEFF`];function jc(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,o=0;(o=r.indexOf(a,o))>=0;){var l=o+s;(o===0||Ys.includes(r[o-1]))&&(l===r.length||Ys.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Uc(e,t){return e==null?null:String(e)}function Mn(e,t,n,r,a,s){var o=e.__className;if(o!==n||o===void 0){var l=jc(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var u in s){var c=!!s[u];(a==null||c!==!!a[u])&&e.classList.toggle(u,c)}return s}function Ii(e,t,n,r){var a=e.__style;if(a!==t){var s=Uc(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const Yc=Symbol("is custom element"),Vc=Symbol("is html");function Vs(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function L(e,t,n,r){var a=Hc(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Ru]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Kc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Hc(e){return e.__attributes??(e.__attributes={[Yc]:e.nodeName.includes("-"),[Vc]:e.namespaceURI===Nu})}var Hs=new Map;function Kc(e){var t=e.getAttribute("is")||e.nodeName,n=Hs.get(t);if(n)return n;Hs.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=$u(a);for(var o in r)r[o].set&&n.push(o);a=$o(a)}return n}function Xc(e,t,n=t){var r=new WeakSet;gc(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=Aa(e)?Ta(s):s,n(s),Qe!==null&&r.add(Qe),await Ac(),s!==(s=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),Zr(t)==null&&e.value&&(n(Aa(e)?Ta(e.value):e.value),Qe!==null&&r.add(Qe)),cs(()=>{var a=t();if(e===document.activeElement){var s=Fi??Qe;if(r.has(s))return}Aa(e)&&a===Ta(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Aa(e){var t=e.type;return t==="number"||t==="range"}function Ta(e){return e===""?null:+e}function Ks(e,t){return e===t||(e==null?void 0:e[li])===t}function Gc(e={},t,n,r){return kc(()=>{var a,s;return cs(()=>{a=s,s=[],Zr(()=>{e!==n(...s)&&(t(e,...s),a&&Ks(n(...a),e)&&t(null,...a))})}),()=>{Gr(()=>{s&&Ks(n(...s),e)&&t(null,...s)})}}),e}function Xs(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}let Pi=!1;function Wc(e){var t=Pi;try{return Pi=!1,[e(),Pi]}finally{Pi=t}}function St(e,t,n,r){var M;var a=(n&xu)!==0,s=(n&ku)!==0,o=r,l=!0,u=()=>(l&&(l=!1,o=s?Zr(r):r),o),c;if(a){var f=li in e||Cu in e;c=((M=Cr(e,t))==null?void 0:M.set)??(f&&t in e?N=>e[t]=N:void 0)}var d,v=!1;a?[d,v]=Wc(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=u(),c&&(zu(),c(d)));var p;if(p=()=>{var N=e[t];return N===void 0?u():(l=!0,N)},!(n&bu))return p;if(c){var h=e.$$legacy;return function(N,H){return arguments.length>0?((!H||h||v)&&c(H?p():N),N):p()}}var g=!1,x=(n&wu?va:Do)(()=>(g=!1,p()));a&&i(x);var S=$e;return function(N,H){if(arguments.length>0){const B=H?i(x):a?zt(N):N;return j(x,B),g=!0,o!==void 0&&(o=B),N}return kr&&g||S.f&xr?x.v:i(x)}}function Bi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zc(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ul(e){let t,n,r;e.length!==2?(t=Bi,n=(l,u)=>Bi(e(l),u),r=(l,u)=>e(l)-u):(t=e===Bi||e===Zc?e:Qc,n=e,r=e);function a(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{const d=c+f>>>1;n(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}function s(l,u,c=0,f=l.length){if(c<f){if(t(u,u)!==0)return f;do{const d=c+f>>>1;n(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}function o(l,u,c=0,f=l.length){const d=a(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d}return{left:a,center:o,right:s}}function Qc(){return 0}function Jc(e){return e===null?NaN:+e}const ef=ul(Bi),tf=ef.right;ul(Jc).center;class Gs extends Map{constructor(t,n=af){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(Ws(this,t))}has(t){return super.has(Ws(this,t))}set(t,n){return super.set(nf(this,t),n)}delete(t){return super.delete(rf(this,t))}}function Ws({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function nf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function rf({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function af(e){return e!==null&&typeof e=="object"?e.valueOf():e}const sf=Math.sqrt(50),of=Math.sqrt(10),lf=Math.sqrt(2);function Gi(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=sf?10:s>=of?5:s>=lf?2:1;let l,u,c;return a<0?(c=Math.pow(10,-a)/o,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,a)*o,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=n&&n<2?Gi(e,t,n*2):[l,u,c]}function cl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,o]=r?Gi(t,e,n):Gi(e,t,n);if(!(s>=a))return[];const l=s-a+1,u=new Array(l);if(r)if(o<0)for(let c=0;c<l;++c)u[c]=(s-c)/-o;else for(let c=0;c<l;++c)u[c]=(s-c)*o;else if(o<0)for(let c=0;c<l;++c)u[c]=(a+c)/-o;else for(let c=0;c<l;++c)u[c]=(a+c)*o;return u}function Ba(e,t,n){return t=+t,e=+e,n=+n,Gi(e,t,n)[2]}function uf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Ba(t,e,n):Ba(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function cf(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}var ff={value:()=>{}};function fl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ji(n)}function ji(e){this._=e}function df(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ji.prototype=fl.prototype={constructor:ji,on:function(e,t){var n=this._,r=df(e+"",n),a,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((a=(e=r[s]).type)&&(a=vf(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=r[s]).type)n[a]=Zs(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Zs(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ji(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};function vf(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function Zs(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=ff,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ja="http://www.w3.org/1999/xhtml";const Qs={svg:"http://www.w3.org/2000/svg",xhtml:ja,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ga(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Qs.hasOwnProperty(t)?{space:Qs[t],local:e}:e}function hf(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ja&&t.documentElement.namespaceURI===ja?t.createElement(e):t.createElementNS(n,e)}}function pf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dl(e){var t=ga(e);return(t.local?pf:hf)(t)}function _f(){}function vs(e){return e==null?_f:function(){return this.querySelector(e)}}function gf(e){typeof e!="function"&&(e=vs(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=new Array(o),u,c,f=0;f<o;++f)(u=s[f])&&(c=e.call(u,u.__data__,f,s))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new bn(r,this._parents)}function mf(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function yf(){return[]}function vl(e){return e==null?yf:function(){return this.querySelectorAll(e)}}function wf(e){return function(){return mf(e.apply(this,arguments))}}function bf(e){typeof e=="function"?e=wf(e):e=vl(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var o=t[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&(r.push(e.call(u,u.__data__,c,o)),a.push(u));return new bn(r,a)}function hl(e){return function(){return this.matches(e)}}function pl(e){return function(t){return t.matches(e)}}var xf=Array.prototype.find;function kf(e){return function(){return xf.call(this.children,e)}}function Sf(){return this.firstElementChild}function Nf(e){return this.select(e==null?Sf:kf(typeof e=="function"?e:pl(e)))}var Mf=Array.prototype.filter;function $f(){return Array.from(this.children)}function Ef(e){return function(){return Mf.call(this.children,e)}}function Af(e){return this.selectAll(e==null?$f:Ef(typeof e=="function"?e:pl(e)))}function Tf(e){typeof e!="function"&&(e=hl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],u,c=0;c<o;++c)(u=s[c])&&e.call(u,u.__data__,c,s)&&l.push(u);return new bn(r,this._parents)}function _l(e){return new Array(e.length)}function If(){return new bn(this._enter||this._groups.map(_l),this._parents)}function Wi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Wi.prototype={constructor:Wi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Pf(e){return function(){return e}}function Cf(e,t,n,r,a,s){for(var o=0,l,u=t.length,c=s.length;o<c;++o)(l=t[o])?(l.__data__=s[o],r[o]=l):n[o]=new Wi(e,s[o]);for(;o<u;++o)(l=t[o])&&(a[o]=l)}function Rf(e,t,n,r,a,s,o){var l,u,c=new Map,f=t.length,d=s.length,v=new Array(f),p;for(l=0;l<f;++l)(u=t[l])&&(v[l]=p=o.call(u,u.__data__,l,t)+"",c.has(p)?a[l]=u:c.set(p,u));for(l=0;l<d;++l)p=o.call(e,s[l],l,s)+"",(u=c.get(p))?(r[l]=u,u.__data__=s[l],c.delete(p)):n[l]=new Wi(e,s[l]);for(l=0;l<f;++l)(u=t[l])&&c.get(v[l])===u&&(a[l]=u)}function qf(e){return e.__data__}function Lf(e,t){if(!arguments.length)return Array.from(this,qf);var n=t?Rf:Cf,r=this._parents,a=this._groups;typeof e!="function"&&(e=Pf(e));for(var s=a.length,o=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var f=r[c],d=a[c],v=d.length,p=Ff(e.call(f,f&&f.__data__,c,r)),h=p.length,g=l[c]=new Array(h),x=o[c]=new Array(h),S=u[c]=new Array(v);n(f,d,g,x,S,p,t);for(var M=0,N=0,H,B;M<h;++M)if(H=g[M]){for(M>=N&&(N=M+1);!(B=x[N])&&++N<h;);H._next=B||null}}return o=new bn(o,r),o._enter=l,o._exit=u,o}function Ff(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Of(){return new bn(this._exit||this._groups.map(_l),this._parents)}function Df(e,t,n){var r=this.enter(),a=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function zf(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),l=new Array(a),u=0;u<o;++u)for(var c=n[u],f=r[u],d=c.length,v=l[u]=new Array(d),p,h=0;h<d;++h)(p=c[h]||f[h])&&(v[h]=p);for(;u<a;++u)l[u]=n[u];return new bn(l,this._parents)}function Bf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,s=r[a],o;--a>=0;)(o=r[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function jf(e){e||(e=Uf);function t(d,v){return d&&v?e(d.__data__,v.__data__):!d-!v}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=a[s]=new Array(l),c,f=0;f<l;++f)(c=o[f])&&(u[f]=c);u.sort(t)}return new bn(a,this._parents).order()}function Uf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Yf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Vf(){return Array.from(this)}function Hf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var o=r[a];if(o)return o}return null}function Kf(){let e=0;for(const t of this)++e;return e}function Xf(){return!this.node()}function Gf(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function Wf(e){return function(){this.removeAttribute(e)}}function Zf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qf(e,t){return function(){this.setAttribute(e,t)}}function Jf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ed(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function td(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function nd(e,t){var n=ga(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Zf:Wf:typeof t=="function"?n.local?td:ed:n.local?Jf:Qf)(n,t))}function gl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function rd(e){return function(){this.style.removeProperty(e)}}function id(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ad(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function sd(e,t,n){return arguments.length>1?this.each((t==null?rd:typeof t=="function"?ad:id)(e,t,n??"")):Yr(this.node(),e)}function Yr(e,t){return e.style.getPropertyValue(t)||gl(e).getComputedStyle(e,null).getPropertyValue(t)}function od(e){return function(){delete this[e]}}function ld(e,t){return function(){this[e]=t}}function ud(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function cd(e,t){return arguments.length>1?this.each((t==null?od:typeof t=="function"?ud:ld)(e,t)):this.node()[e]}function ml(e){return e.trim().split(/^|\s+/)}function hs(e){return e.classList||new yl(e)}function yl(e){this._node=e,this._names=ml(e.getAttribute("class")||"")}yl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wl(e,t){for(var n=hs(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function bl(e,t){for(var n=hs(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function fd(e){return function(){wl(this,e)}}function dd(e){return function(){bl(this,e)}}function vd(e,t){return function(){(t.apply(this,arguments)?wl:bl)(this,e)}}function hd(e,t){var n=ml(e+"");if(arguments.length<2){for(var r=hs(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?vd:t?fd:dd)(n,t))}function pd(){this.textContent=""}function _d(e){return function(){this.textContent=e}}function gd(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function md(e){return arguments.length?this.each(e==null?pd:(typeof e=="function"?gd:_d)(e)):this.node().textContent}function yd(){this.innerHTML=""}function wd(e){return function(){this.innerHTML=e}}function bd(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function xd(e){return arguments.length?this.each(e==null?yd:(typeof e=="function"?bd:wd)(e)):this.node().innerHTML}function kd(){this.nextSibling&&this.parentNode.appendChild(this)}function Sd(){return this.each(kd)}function Nd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Md(){return this.each(Nd)}function $d(e){var t=typeof e=="function"?e:dl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ed(){return null}function Ad(e,t){var n=typeof e=="function"?e:dl(e),r=t==null?Ed:typeof t=="function"?t:vs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Td(){var e=this.parentNode;e&&e.removeChild(this)}function Id(){return this.each(Td)}function Pd(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Cd(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Rd(e){return this.select(e?Cd:Pd)}function qd(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ld(e){return function(t){e.call(this,t,this.__data__)}}function Fd(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Od(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Dd(e,t,n){return function(){var r=this.__on,a,s=Ld(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(a):this.__on=[a]}}function zd(e,t,n){var r=Fd(e+""),a,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,f;u<c;++u)for(a=0,f=l[u];a<s;++a)if((o=r[a]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?Dd:Od,a=0;a<s;++a)this.each(l(r[a],t,n));return this}function xl(e,t,n){var r=gl(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Bd(e,t){return function(){return xl(this,e,t)}}function jd(e,t){return function(){return xl(this,e,t.apply(this,arguments))}}function Ud(e,t){return this.each((typeof t=="function"?jd:Bd)(e,t))}function*Yd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length,o;a<s;++a)(o=r[a])&&(yield o)}var Vd=[null];function bn(e,t){this._groups=e,this._parents=t}function ki(){return new bn([[document.documentElement]],Vd)}function Hd(){return this}bn.prototype=ki.prototype={constructor:bn,select:gf,selectAll:bf,selectChild:Nf,selectChildren:Af,filter:Tf,data:Lf,enter:If,exit:Of,join:Df,merge:zf,selection:Hd,order:Bf,sort:jf,call:Yf,nodes:Vf,node:Hf,size:Kf,empty:Xf,each:Gf,attr:nd,style:sd,property:cd,classed:hd,text:md,html:xd,raise:Sd,lower:Md,append:$d,insert:Ad,remove:Id,clone:Rd,datum:qd,on:zd,dispatch:Ud,[Symbol.iterator]:Yd};function ps(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Si(){}var hi=.7,Zi=1/hi,Lr="\\s*([+-]?\\d+)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kd=/^#([0-9a-f]{3,8})$/,Xd=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),Gd=new RegExp(`^rgb\\(${Tn},${Tn},${Tn}\\)$`),Wd=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${pi}\\)$`),Zd=new RegExp(`^rgba\\(${Tn},${Tn},${Tn},${pi}\\)$`),Qd=new RegExp(`^hsl\\(${pi},${Tn},${Tn}\\)$`),Jd=new RegExp(`^hsla\\(${pi},${Tn},${Tn},${pi}\\)$`),Js={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ps(Si,yr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eo,formatHex:eo,formatHex8:ev,formatHsl:tv,formatRgb:to,toString:to});function eo(){return this.rgb().formatHex()}function ev(){return this.rgb().formatHex8()}function tv(){return Sl(this).formatHsl()}function to(){return this.rgb().formatRgb()}function yr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Kd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?no(t):n===3?new jt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ci(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ci(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xd.exec(e))?new jt(t[1],t[2],t[3],1):(t=Gd.exec(e))?new jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wd.exec(e))?Ci(t[1],t[2],t[3],t[4]):(t=Zd.exec(e))?Ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Qd.exec(e))?ao(t[1],t[2]/100,t[3]/100,1):(t=Jd.exec(e))?ao(t[1],t[2]/100,t[3]/100,t[4]):Js.hasOwnProperty(e)?no(Js[e]):e==="transparent"?new jt(NaN,NaN,NaN,0):null}function no(e){return new jt(e>>16&255,e>>8&255,e&255,1)}function Ci(e,t,n,r){return r<=0&&(e=t=n=NaN),new jt(e,t,n,r)}function nv(e){return e instanceof Si||(e=yr(e)),e?(e=e.rgb(),new jt(e.r,e.g,e.b,e.opacity)):new jt}function Ua(e,t,n,r){return arguments.length===1?nv(e):new jt(e,t,n,r??1)}function jt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ps(jt,Ua,kl(Si,{brighter(e){return e=e==null?Zi:Math.pow(Zi,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hi:Math.pow(hi,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jt(_r(this.r),_r(this.g),_r(this.b),Qi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ro,formatHex:ro,formatHex8:rv,formatRgb:io,toString:io}));function ro(){return`#${or(this.r)}${or(this.g)}${or(this.b)}`}function rv(){return`#${or(this.r)}${or(this.g)}${or(this.b)}${or((isNaN(this.opacity)?1:this.opacity)*255)}`}function io(){const e=Qi(this.opacity);return`${e===1?"rgb(":"rgba("}${_r(this.r)}, ${_r(this.g)}, ${_r(this.b)}${e===1?")":`, ${e})`}`}function Qi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _r(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function or(e){return e=_r(e),(e<16?"0":"")+e.toString(16)}function ao(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,n,r)}function Sl(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof Si||(e=yr(e)),!e)return new mn;if(e instanceof mn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,l=s-a,u=(s+a)/2;return l?(t===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?s+a:2-s-a,o*=60):l=u>0&&u<1?0:o,new mn(o,l,u,e.opacity)}function iv(e,t,n,r){return arguments.length===1?Sl(e):new mn(e,t,n,r??1)}function mn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ps(mn,iv,kl(Si,{brighter(e){return e=e==null?Zi:Math.pow(Zi,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hi:Math.pow(hi,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new jt(Ia(e>=240?e-240:e+120,a,r),Ia(e,a,r),Ia(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new mn(so(this.h),Ri(this.s),Ri(this.l),Qi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qi(this.opacity);return`${e===1?"hsl(":"hsla("}${so(this.h)}, ${Ri(this.s)*100}%, ${Ri(this.l)*100}%${e===1?")":`, ${e})`}`}}));function so(e){return e=(e||0)%360,e<0?e+360:e}function Ri(e){return Math.max(0,Math.min(1,e||0))}function Ia(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const _s=e=>()=>e;function av(e,t){return function(n){return e+n*t}}function sv(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ov(e){return(e=+e)==1?Nl:function(t,n){return n-t?sv(t,n,e):_s(isNaN(t)?n:t)}}function Nl(e,t){var n=t-e;return n?av(e,n):_s(isNaN(e)?t:e)}const Ji=function e(t){var n=ov(t);function r(a,s){var o=n((a=Ua(a)).r,(s=Ua(s)).r),l=n(a.g,s.g),u=n(a.b,s.b),c=Nl(a.opacity,s.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=u(f),a.opacity=c(f),a+""}}return r.gamma=e,r}(1);function lv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function uv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cv(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)a[o]=gs(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<r;++o)s[o]=a[o](l);return s}}function fv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _n(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function dv(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=gs(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Ya=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pa=new RegExp(Ya.source,"g");function vv(e){return function(){return e}}function hv(e){return function(t){return e(t)+""}}function Ml(e,t){var n=Ya.lastIndex=Pa.lastIndex=0,r,a,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Ya.exec(e))&&(a=Pa.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:_n(r,a)})),n=Pa.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?hv(u[0].x):vv(t):(t=u.length,function(c){for(var f=0,d;f<t;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function gs(e,t){var n=typeof t,r;return t==null||n==="boolean"?_s(t):(n==="number"?_n:n==="string"?(r=yr(t))?(t=r,Ji):Ml:t instanceof yr?Ji:t instanceof Date?fv:uv(t)?lv:Array.isArray(t)?cv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dv:_n)(e,t)}function pv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var oo=180/Math.PI,Va={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $l(e,t,n,r,a,s){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*oo,skewX:Math.atan(u)*oo,scaleX:o,scaleY:l}}var qi;function _v(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Va:$l(t.a,t.b,t.c,t.d,t.e,t.f)}function gv(e){return e==null||(qi||(qi=document.createElementNS("http://www.w3.org/2000/svg","g")),qi.setAttribute("transform",e),!(e=qi.transform.baseVal.consolidate()))?Va:(e=e.matrix,$l(e.a,e.b,e.c,e.d,e.e,e.f))}function El(e,t,n,r){function a(c){return c.length?c.pop()+" ":""}function s(c,f,d,v,p,h){if(c!==d||f!==v){var g=p.push("translate(",null,t,null,n);h.push({i:g-4,x:_n(c,d)},{i:g-2,x:_n(f,v)})}else(d||v)&&p.push("translate("+d+t+v+n)}function o(c,f,d,v){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),v.push({i:d.push(a(d)+"rotate(",null,r)-2,x:_n(c,f)})):f&&d.push(a(d)+"rotate("+f+r)}function l(c,f,d,v){c!==f?v.push({i:d.push(a(d)+"skewX(",null,r)-2,x:_n(c,f)}):f&&d.push(a(d)+"skewX("+f+r)}function u(c,f,d,v,p,h){if(c!==d||f!==v){var g=p.push(a(p)+"scale(",null,",",null,")");h.push({i:g-4,x:_n(c,d)},{i:g-2,x:_n(f,v)})}else(d!==1||v!==1)&&p.push(a(p)+"scale("+d+","+v+")")}return function(c,f){var d=[],v=[];return c=e(c),f=e(f),s(c.translateX,c.translateY,f.translateX,f.translateY,d,v),o(c.rotate,f.rotate,d,v),l(c.skewX,f.skewX,d,v),u(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,v),c=f=null,function(p){for(var h=-1,g=v.length,x;++h<g;)d[(x=v[h]).i]=x.x(p);return d.join("")}}}var mv=El(_v,"px, ","px)","deg)"),yv=El(gv,", ",")",")"),Vr=0,ai=0,ri=0,Al=1e3,ea,si,ta=0,wr=0,ma=0,_i=typeof performance=="object"&&performance.now?performance:Date,Tl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ms(){return wr||(Tl(wv),wr=_i.now()+ma)}function wv(){wr=0}function na(){this._call=this._time=this._next=null}na.prototype=Il.prototype={constructor:na,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ms():+n)+(t==null?0:+t),!this._next&&si!==this&&(si?si._next=this:ea=this,si=this),this._call=e,this._time=n,Ha()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ha())}};function Il(e,t,n){var r=new na;return r.restart(e,t,n),r}function bv(){ms(),++Vr;for(var e=ea,t;e;)(t=wr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vr}function lo(){wr=(ta=_i.now())+ma,Vr=ai=0;try{bv()}finally{Vr=0,kv(),wr=0}}function xv(){var e=_i.now(),t=e-ta;t>Al&&(ma-=t,ta=e)}function kv(){for(var e,t=ea,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ea=n);si=e,Ha(r)}function Ha(e){if(!Vr){ai&&(ai=clearTimeout(ai));var t=e-wr;t>24?(e<1/0&&(ai=setTimeout(lo,e-_i.now()-ma)),ri&&(ri=clearInterval(ri))):(ri||(ta=_i.now(),ri=setInterval(xv,Al)),Vr=1,Tl(lo))}}function uo(e,t,n){var r=new na;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var Sv=fl("start","end","cancel","interrupt"),Nv=[],Pl=0,co=1,Ka=2,Ui=3,fo=4,Xa=5,Yi=6;function ya(e,t,n,r,a,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Mv(e,n,{name:t,index:r,group:a,on:Sv,tween:Nv,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Pl})}function ys(e,t){var n=kn(e,t);if(n.state>Pl)throw new Error("too late; already scheduled");return n}function Pn(e,t){var n=kn(e,t);if(n.state>Ui)throw new Error("too late; already running");return n}function kn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Mv(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=Il(s,0,n.time);function s(c){n.state=co,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var f,d,v,p;if(n.state!==co)return u();for(f in r)if(p=r[f],p.name===n.name){if(p.state===Ui)return uo(o);p.state===fo?(p.state=Yi,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[f]):+f<t&&(p.state=Yi,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[f])}if(uo(function(){n.state===Ui&&(n.state=fo,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Ka,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ka){for(n.state=Ui,a=new Array(v=n.tween.length),f=0,d=-1;f<v;++f)(p=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=p);a.length=d+1}}function l(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Xa,1),d=-1,v=a.length;++d<v;)a[d].call(e,f);n.state===Xa&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Yi,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function $v(e,t){var n=e.__transition,r,a,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}a=r.state>Ka&&r.state<Xa,r.state=Yi,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function Ev(e){return this.each(function(){$v(this,e)})}function Av(e,t){var n,r;return function(){var a=Pn(this,e),s=a.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function Tv(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=Pn(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},u=0,c=a.length;u<c;++u)if(a[u].name===t){a[u]=l;break}u===c&&a.push(l)}s.tween=a}}function Iv(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=kn(this.node(),n).tween,a=0,s=r.length,o;a<s;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?Av:Tv)(n,e,t))}function ws(e,t,n){var r=e._id;return e.each(function(){var a=Pn(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return kn(a,r).value[t]}}function Cl(e,t){var n;return(typeof t=="number"?_n:t instanceof yr?Ji:(n=yr(t))?(t=n,Ji):Ml)(e,t)}function Pv(e){return function(){this.removeAttribute(e)}}function Cv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rv(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===r?s:s=t(r=o,n)}}function qv(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?s:s=t(r=o,n)}}function Lv(e,t,n){var r,a,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===r&&u===a?s:(a=u,s=t(r=o,l)))}}function Fv(e,t,n){var r,a,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===r&&u===a?s:(a=u,s=t(r=o,l)))}}function Ov(e,t){var n=ga(e),r=n==="transform"?yv:Cl;return this.attrTween(e,typeof t=="function"?(n.local?Fv:Lv)(n,r,ws(this,"attr."+e,t)):t==null?(n.local?Cv:Pv)(n):(n.local?qv:Rv)(n,r,t))}function Dv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function zv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Bv(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&zv(e,s)),n}return a._value=t,a}function jv(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Dv(e,s)),n}return a._value=t,a}function Uv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ga(e);return this.tween(n,(r.local?Bv:jv)(r,t))}function Yv(e,t){return function(){ys(this,e).delay=+t.apply(this,arguments)}}function Vv(e,t){return t=+t,function(){ys(this,e).delay=t}}function Hv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Yv:Vv)(t,e)):kn(this.node(),t).delay}function Kv(e,t){return function(){Pn(this,e).duration=+t.apply(this,arguments)}}function Xv(e,t){return t=+t,function(){Pn(this,e).duration=t}}function Gv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Kv:Xv)(t,e)):kn(this.node(),t).duration}function Wv(e,t){if(typeof t!="function")throw new Error;return function(){Pn(this,e).ease=t}}function Zv(e){var t=this._id;return arguments.length?this.each(Wv(t,e)):kn(this.node(),t).ease}function Qv(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Pn(this,e).ease=n}}function Jv(e){if(typeof e!="function")throw new Error;return this.each(Qv(this._id,e))}function eh(e){typeof e!="function"&&(e=hl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],u,c=0;c<o;++c)(u=s[c])&&e.call(u,u.__data__,c,s)&&l.push(u);return new zn(r,this._parents,this._name,this._id)}function th(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var u=t[l],c=n[l],f=u.length,d=o[l]=new Array(f),v,p=0;p<f;++p)(v=u[p]||c[p])&&(d[p]=v);for(;l<r;++l)o[l]=t[l];return new zn(o,this._parents,this._name,this._id)}function nh(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function rh(e,t,n){var r,a,s=nh(t)?ys:Pn;return function(){var o=s(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function ih(e,t){var n=this._id;return arguments.length<2?kn(this.node(),n).on.on(e):this.each(rh(n,e,t))}function ah(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function sh(){return this.on("end.remove",ah(this._id))}function oh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vs(e));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var l=r[o],u=l.length,c=s[o]=new Array(u),f,d,v=0;v<u;++v)(f=l[v])&&(d=e.call(f,f.__data__,v,l))&&("__data__"in f&&(d.__data__=f.__data__),c[v]=d,ya(c[v],t,n,v,c,kn(f,n)));return new zn(s,this._parents,t,n)}function lh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vl(e));for(var r=this._groups,a=r.length,s=[],o=[],l=0;l<a;++l)for(var u=r[l],c=u.length,f,d=0;d<c;++d)if(f=u[d]){for(var v=e.call(f,f.__data__,d,u),p,h=kn(f,n),g=0,x=v.length;g<x;++g)(p=v[g])&&ya(p,t,n,g,v,h);s.push(v),o.push(f)}return new zn(s,o,t,n)}var uh=ki.prototype.constructor;function ch(){return new uh(this._groups,this._parents)}function fh(e,t){var n,r,a;return function(){var s=Yr(this,e),o=(this.style.removeProperty(e),Yr(this,e));return s===o?null:s===n&&o===r?a:a=t(n=s,r=o)}}function Rl(e){return function(){this.style.removeProperty(e)}}function dh(e,t,n){var r,a=n+"",s;return function(){var o=Yr(this,e);return o===a?null:o===r?s:s=t(r=o,n)}}function vh(e,t,n){var r,a,s;return function(){var o=Yr(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Yr(this,e))),o===u?null:o===r&&u===a?s:(a=u,s=t(r=o,l))}}function hh(e,t){var n,r,a,s="style."+t,o="end."+s,l;return function(){var u=Pn(this,e),c=u.on,f=u.value[s]==null?l||(l=Rl(t)):void 0;(c!==n||a!==f)&&(r=(n=c).copy()).on(o,a=f),u.on=r}}function ph(e,t,n){var r=(e+="")=="transform"?mv:Cl;return t==null?this.styleTween(e,fh(e,r)).on("end.style."+e,Rl(e)):typeof t=="function"?this.styleTween(e,vh(e,r,ws(this,"style."+e,t))).each(hh(this._id,e)):this.styleTween(e,dh(e,r,t),n).on("end.style."+e,null)}function _h(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function gh(e,t,n){var r,a;function s(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&_h(e,o,n)),r}return s._value=t,s}function mh(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,gh(e,t,n??""))}function yh(e){return function(){this.textContent=e}}function wh(e){return function(){var t=e(this);this.textContent=t??""}}function bh(e){return this.tween("text",typeof e=="function"?wh(ws(this,"text",e)):yh(e==null?"":e+""))}function xh(e){return function(t){this.textContent=e.call(this,t)}}function kh(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&xh(a)),t}return r._value=e,r}function Sh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,kh(e))}function Nh(){for(var e=this._name,t=this._id,n=ql(),r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,u,c=0;c<l;++c)if(u=o[c]){var f=kn(u,t);ya(u,e,n,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new zn(r,this._parents,e,n)}function Mh(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--a===0&&s()}};n.each(function(){var c=Pn(this,r),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),c.on=t}),a===0&&s()})}var $h=0;function zn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ql(){return++$h}var Fn=ki.prototype;zn.prototype={constructor:zn,select:oh,selectAll:lh,selectChild:Fn.selectChild,selectChildren:Fn.selectChildren,filter:eh,merge:th,selection:ch,transition:Nh,call:Fn.call,nodes:Fn.nodes,node:Fn.node,size:Fn.size,empty:Fn.empty,each:Fn.each,on:ih,attr:Ov,attrTween:Uv,style:ph,styleTween:mh,text:bh,textTween:Sh,remove:sh,tween:Iv,delay:Hv,duration:Gv,ease:Zv,easeVarying:Jv,end:Mh,[Symbol.iterator]:Fn[Symbol.iterator]};function Eh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ah={time:null,delay:0,duration:250,ease:Eh};function Th(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ih(e){var t,n;e instanceof zn?(t=e._id,e=e._name):(t=ql(),(n=Ah).time=ms(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&ya(u,e,t,c,o,n||Th(u,t));return new zn(r,this._parents,e,t)}ki.prototype.interrupt=Ev;ki.prototype.transition=Ih;const Ga=Math.PI,Wa=2*Ga,sr=1e-6,Ph=Wa-sr;function Ll(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ch(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ll;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Rh{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ll:Ch(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=r-t,c=a-n,f=o-t,d=l-n,v=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>sr)if(!(Math.abs(d*u-c*f)>sr)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,h=a-l,g=u*u+c*c,x=p*p+h*h,S=Math.sqrt(g),M=Math.sqrt(v),N=s*Math.tan((Ga-Math.acos((g+v-x)/(2*S*M)))/2),H=N/M,B=N/S;Math.abs(H-1)>sr&&this._append`L${t+H*f},${n+H*d}`,this._append`A${s},${s},0,0,${+(d*p>f*h)},${this._x1=t+B*u},${this._y1=n+B*c}`}}arc(t,n,r,a,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),u=r*Math.sin(a),c=t+l,f=n+u,d=1^o,v=o?a-s:s-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>sr||Math.abs(this._y1-f)>sr)&&this._append`L${c},${f}`,r&&(v<0&&(v=v%Wa+Wa),v>Ph?this._append`A${r},${r},0,1,${d},${t-l},${n-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=f}`:v>sr&&this._append`A${r},${r},0,${+(v>=Ga)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function qh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ra(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Hr(e){return e=ra(Math.abs(e)),e?e[1]:NaN}function Lh(e,t){return function(n,r){for(var a=n.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(a-=l,a+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Fh(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Oh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ia(e){if(!(t=Oh.exec(e)))throw new Error("invalid format: "+e);var t;return new bs({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ia.prototype=bs.prototype;function bs(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dh(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Fl;function zh(e,t){var n=ra(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(Fl=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ra(e,Math.max(0,t+s-1))[0]}function vo(e,t){var n=ra(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const ho={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qh,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vo(e*100,t),r:vo,s:zh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function po(e){return e}var _o=Array.prototype.map,go=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Bh(e){var t=e.grouping===void 0||e.thousands===void 0?po:Lh(_o.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?po:Fh(_o.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"â":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(d){d=ia(d);var v=d.fill,p=d.align,h=d.sign,g=d.symbol,x=d.zero,S=d.width,M=d.comma,N=d.precision,H=d.trim,B=d.type;B==="n"?(M=!0,B="g"):ho[B]||(N===void 0&&(N=12),H=!0,B="g"),(x||v==="0"&&p==="=")&&(x=!0,v="0",p="=");var U=g==="$"?n:g==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",Z=g==="$"?r:/[%p]/.test(B)?o:"",fe=ho[B],Le=/[defgprs%]/.test(B);N=N===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function _e(ne){var se=U,I=Z,oe,re,Ce;if(B==="c")I=fe(ne)+I,ne="";else{ne=+ne;var Fe=ne<0||1/ne<0;if(ne=isNaN(ne)?u:fe(Math.abs(ne),N),H&&(ne=Dh(ne)),Fe&&+ne==0&&h!=="+"&&(Fe=!1),se=(Fe?h==="("?h:l:h==="-"||h==="("?"":h)+se,I=(B==="s"?go[8+Fl/3]:"")+I+(Fe&&h==="("?")":""),Le){for(oe=-1,re=ne.length;++oe<re;)if(Ce=ne.charCodeAt(oe),48>Ce||Ce>57){I=(Ce===46?a+ne.slice(oe+1):ne.slice(oe))+I,ne=ne.slice(0,oe);break}}}M&&!x&&(ne=t(ne,1/0));var Xe=se.length+ne.length+I.length,ye=Xe<S?new Array(S-Xe+1).join(v):"";switch(M&&x&&(ne=t(ye+ne,ye.length?S-I.length:1/0),ye=""),p){case"<":ne=se+ne+I+ye;break;case"=":ne=se+ye+ne+I;break;case"^":ne=ye.slice(0,Xe=ye.length>>1)+se+ne+I+ye.slice(Xe);break;default:ne=ye+se+ne+I;break}return s(ne)}return _e.toString=function(){return d+""},_e}function f(d,v){var p=c((d=ia(d),d.type="f",d)),h=Math.max(-8,Math.min(8,Math.floor(Hr(v)/3)))*3,g=Math.pow(10,-h),x=go[8+h/3];return function(S){return p(g*S)+x}}return{format:c,formatPrefix:f}}var Li,Ol,Dl;jh({thousands:",",grouping:[3],currency:["$",""]});function jh(e){return Li=Bh(e),Ol=Li.format,Dl=Li.formatPrefix,Li}function Uh(e){return Math.max(0,-Hr(Math.abs(e)))}function Yh(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hr(t)/3)))*3-Hr(Math.abs(e)))}function Vh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hr(t)-Hr(e))+1}function xs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const mo=Symbol("implicit");function zl(){var e=new Gs,t=[],n=[],r=mo;function a(s){let o=e.get(s);if(o===void 0){if(r!==mo)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Gs;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return zl(t,n).unknown(r)},xs.apply(a,arguments),a}function Bl(){var e=zl().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,o,l=!1,u=0,c=0,f=.5;delete e.unknown;function d(){var v=t().length,p=a<r,h=p?a:r,g=p?r:a;s=(g-h)/Math.max(1,v-u+c*2),l&&(s=Math.floor(s)),h+=(g-h-s*(v-u))*f,o=s*(1-u),l&&(h=Math.round(h),o=Math.round(o));var x=cf(v).map(function(S){return h+s*S});return n(p?x.reverse():x)}return e.domain=function(v){return arguments.length?(t(v),d()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(v){return arguments.length?(l=!!v,d()):l},e.padding=function(v){return arguments.length?(u=Math.min(1,c=+v),d()):u},e.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),d()):u},e.paddingOuter=function(v){return arguments.length?(c=+v,d()):c},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),d()):f},e.copy=function(){return Bl(t(),[r,a]).round(l).paddingInner(u).paddingOuter(c).align(f)},xs.apply(d(),arguments)}function jl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jl(t())},e}function Hh(){return jl(Bl.apply(null,arguments).paddingInner(1))}function Kh(e){return function(){return e}}function Xh(e){return+e}var yo=[0,1];function Pr(e){return e}function Za(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Kh(isNaN(t)?NaN:.5)}function Gh(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Wh(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=Za(a,r),s=n(o,s)):(r=Za(r,a),s=n(s,o)),function(l){return s(r(l))}}function Zh(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Za(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(l){var u=tf(e,l,1,r)-1;return s[u](a[u](l))}}function Qh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jh(){var e=yo,t=yo,n=gs,r,a,s,o=Pr,l,u,c;function f(){var v=Math.min(e.length,t.length);return o!==Pr&&(o=Gh(e[0],e[v-1])),l=v>2?Zh:Wh,u=c=null,d}function d(v){return v==null||isNaN(v=+v)?s:(u||(u=l(e.map(r),t,n)))(r(o(v)))}return d.invert=function(v){return o(a((c||(c=l(t,e.map(r),_n)))(v)))},d.domain=function(v){return arguments.length?(e=Array.from(v,Xh),f()):e.slice()},d.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},d.rangeRound=function(v){return t=Array.from(v),n=pv,f()},d.clamp=function(v){return arguments.length?(o=v?!0:Pr,f()):o!==Pr},d.interpolate=function(v){return arguments.length?(n=v,f()):n},d.unknown=function(v){return arguments.length?(s=v,d):s},function(v,p){return r=v,a=p,f()}}function ep(){return Jh()(Pr,Pr)}function tp(e,t,n,r){var a=uf(e,t,n),s;switch(r=ia(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Yh(a,o))&&(r.precision=s),Dl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Vh(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Uh(a))&&(r.precision=s-(r.type==="%")*2);break}}return Ol(r)}function np(e){var t=e.domain;return e.ticks=function(n){var r=t();return cl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return tp(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,o=r[a],l=r[s],u,c,f=10;for(l<o&&(c=o,o=l,l=c,c=a,a=s,s=c);f-- >0;){if(c=Ba(o,l,n),c===u)return r[a]=o,r[s]=l,t(r);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function Ul(){var e=ep();return e.copy=function(){return Qh(e,Ul())},xs.apply(e,arguments),np(e)}function Ir(e){return function(){return e}}function rp(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Rh(t)}function ip(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yl(e){this._context=e}Yl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ap(e){return new Yl(e)}function sp(e){return e[0]}function op(e){return e[1]}function lp(e,t){var n=Ir(!0),r=null,a=ap,s=null,o=rp(l);e=typeof e=="function"?e:e===void 0?sp:Ir(e),t=typeof t=="function"?t:t===void 0?op:Ir(t);function l(u){var c,f=(u=ip(u)).length,d,v=!1,p;for(r==null&&(s=a(p=o())),c=0;c<=f;++c)!(c<f&&n(d=u[c],c,u))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(d,c,u),+t(d,c,u));if(p)return s=null,p+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ir(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ir(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ir(!!u),l):n},l.curve=function(u){return arguments.length?(a=u,r!=null&&(s=a(r)),l):a},l.context=function(u){return arguments.length?(u==null?r=s=null:s=a(r=u),l):r},l}function wo(e){return e<0?-1:1}function bo(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(s*a+o*r)/(r+a);return(wo(s)+wo(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function xo(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ca(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,a+l*t,s-l,o-l*n,s,o)}function aa(e){this._context=e}aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ca(this,this._t0,xo(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ca(this,xo(this,n=bo(this,e,t)),n);break;default:Ca(this,this._t0,n=bo(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(aa.prototype).point=function(e,t){aa.prototype.point.call(this,t,e)};function up(e){return new aa(e)}function oi(e,t,n){this.k=e,this.x=t,this.y=n}oi.prototype={constructor:oi,scale:function(e){return e===1?this:new oi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new oi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};oi.prototype;var cp=xn('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),fp=xn('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),dp=xn("<tspan> </tspan>"),vp=xn('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),hp=xn('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),pp=xn('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),_p=xn('<path stroke-width="1.5" role="button" tabindex="0"></path>'),gp=xn("<g><!></g>"),mp=A("<div> </div>"),yp=A("<div> </div>"),wp=A("<div> </div>"),bp=A('<div class="tooltip-divider svelte-idxsrp"></div>'),xp=A('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),kp=A("<div> </div>"),Sp=A("<div> </div>"),Np=A("<div> </div>"),Mp=A("<div> </div>"),$p=A("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),Ep=A('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),Ap=A("<span> </span>"),Tp=xn('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),Ip=xn('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),Pp=xn('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),Cp=A('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),Rp=A('<div class="band-legend svelte-idxsrp"></div>'),qp=A('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),Lp=A('<div class="legend svelte-idxsrp"></div>'),Fp=A('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function Op(e,t){tr(t,!0);let n=St(t,"bands",19,()=>[]),r=St(t,"years",19,()=>[]),a=St(t,"maxFieldSize",3,0),s=St(t,"yMode",3,"relative"),o=St(t,"showConductorMarkers",3,!0);const l={top:24,right:48,bottom:48,left:72},u=880,c=360,f={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},d=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],v=["circle","square","triangle"],p=6,h=24,g=26,x=30,S=l.top+12,M=c-l.bottom-22,N=10,H=6,B=[0,1,2,3];let U=Me(null),Z=Me(zt({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),fe=null,Le=null,_e=Me(null),ne=Me(0),se=Me(0);const I=()=>o()&&n().length===1;function oe(b){if(b.absolute_position==null)return 0;const w=b.field_size??i(It)??a()??1;return w?b.absolute_position/w*100:0}function re(b){return s()==="relative"?oe(b):b.absolute_position??0}function Ce(b){const w=b.pieces??b.pieces,q=Array.isArray(w)?w.map(D=>`${D}`.trim()).filter(Boolean):w!=null&&`${w}`.trim().length?[`${w}`.trim()]:[],C={...b,pieces:q},K=b;return K.band_name!=null&&(C.band_name=K.band_name),Array.isArray(K.aggregate_entries)&&K.aggregate_entries.length>0&&(C.aggregate_entries=K.aggregate_entries.map(D=>Ce(D))),C}function Fe(b){return b.map(w=>Ce(w))}function Xe(b){const w=[];let q=0;if(b.length>0){const C=b[0];C.conductor&&(w.push({year:C.year,conductor:C.conductor,lane:q}),q+=1)}for(let C=1;C<b.length;C+=1){const K=b[C-1],D=b[C];K.conductor&&D.conductor&&K.conductor!==D.conductor&&(w.push({year:D.year,conductor:D.conductor,lane:q}),q+=1)}return w}function ye(){if(!i(U))return;const b=i(U).getBoundingClientRect(),w=i(U).parentElement;if(!w)return;const q=w.getBoundingClientRect();if(b.width===0||b.height===0)return;const C={offsetX:b.left-q.left,scaleX:b.width/u,offsetY:b.top-q.top,scaleY:b.height/c};(Math.abs(C.offsetX-i(Z).offsetX)>.1||Math.abs(C.scaleX-i(Z).scaleX)>.001||Math.abs(C.offsetY-i(Z).offsetY)>.1||Math.abs(C.scaleY-i(Z).scaleY)>.001)&&j(Z,C,!0)}function Oe(){!fe||!i(U)||Le!==i(U)&&(Le&&fe.unobserve(Le),fe.observe(i(U)),Le=i(U))}Xi(()=>{typeof ResizeObserver<"u"&&(fe=new ResizeObserver(()=>ye())),Oe(),ye(),window.addEventListener("resize",ye)}),fi(()=>{Oe(),ye()}),Oc(()=>{fe==null||fe.disconnect(),window.removeEventListener("resize",ye)});function ft(b){return B[b%B.length]??0}function T(b,w){const q=i(dt);if(!q)return{anchor:"middle",dx:0};const C=q(b.year)??l.left,K=48,D=l.left-K,Se=u-l.right+K,Te=Math.max(w,1)*H/2;return C+Te>Se?{anchor:"end",dx:0}:C-Te<D?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function Y(b){const w=b==null?void 0:b.trim();if(!w)return[""];const q=w.split(/\s+/);if(q.length<=1)return[w];const C=q.pop(),K=q.join(" ");return K?[K,C]:[C]}function ee(b,w,q){const C=b.find(Ie=>Ie.year===w.year),K=ft(w.lane);if(!C)return l.top-8+K*(h+6);const D=i(ht)(re(C)),Se=q??Y(w.conductor),We=(Math.max(Se.length,1)-1)*6,ct=b.filter(Ie=>Ie.year>=w.year-1&&Ie.year<=w.year+1).map(Ie=>({year:Ie.year,y:i(ht)(re(Ie))})).sort((Ie,qe)=>Ie.year-qe.year),Ue=ct.findIndex(Ie=>Ie.year===w.year);let nt=!0;if(Ue>0&&Ue<ct.length-1){const Ie=ct[Ue-1],qe=ct[Ue+1],_t=Math.abs(D-Ie.y),Ht=Math.abs(D-qe.y);(_t<g+4||Ht<g+4)&&(nt=!1)}const Ne=h+10,lt=g+K*Ne+We,it=D-lt;if(nt&&it>S)return it;const xt=x+K*Ne+We,Ve=D+xt;if(Ve<=M)return Ve;const He=M-K*Ne;return He>S?He:Math.max(S,Math.min(M,D))}function me(b,w,q){return`M ${b} ${w-q} L ${b+q} ${w+q} L ${b-q} ${w+q} Z`}function Be(b){if(!b)return Number.POSITIVE_INFINITY;const w=b.trim().toLowerCase();if(w==="elite")return 0;const q=w.match(/(\d+)/);return q?parseInt(q[1],10):Number.POSITIVE_INFINITY}function Ge(b,w){const q=Be(b),C=Be(w);return q!==C?q-C:b.localeCompare(w)}let De=E(()=>n().map(b=>({band:b,entries:Fe(b.entries)}))),ut=E(()=>i(De).reduce((b,w)=>(b.push(...w.entries),b),[])),vt=E(()=>(()=>{if(r().length)return r();if(!i(ut).length)return[0];const b=new Set(i(ut).map(w=>w.year));return Array.from(b).sort((w,q)=>w-q)})()),dt=E(()=>Hh().domain(i(vt)).range([l.left,u-l.right])),It=E(()=>a()||(i(ut).length?Math.max(...i(ut).map(b=>b.field_size??0)):1)),Nt=E(()=>s()==="relative"?[100,0]:[i(It)+1,0]),ht=E(()=>Ul().domain(i(Nt)).range([c-l.bottom,l.top])),et=E(()=>i(De).map((b,w)=>{const q=[...b.entries].sort((Te,We)=>Te.year-We.year),C=i(vt).map(Te=>q.find(We=>We.year===Te)??null),D=lp().defined(Te=>Te!==null).x(Te=>Te?i(dt)(Te.year)??l.left:l.left).y(Te=>Te?i(ht)(re(Te)):i(ht)(i(Nt)[1])).curve(up)(C)??void 0,Se=I()?Xe(q):[];return{band:b.band,entries:q,timeline:C,pathData:D,conductorChanges:Se,color:d[w%d.length],shape:v[w%v.length]}})),Qt=E(()=>I()&&i(et).length?i(et)[0].conductorChanges.map(b=>{const w=Y(b.conductor),q=w.reduce((K,D)=>Math.max(K,D.length),0),C=T(b,q);return{...b,...C,y:ee(i(et)[0].entries,b,w),labelLines:w}}):[]),cn=E(()=>(()=>{if(s()==="relative")return Array.from({length:11},(b,w)=>w*10);{const b=Array.from(new Set(cl(1,i(It),6).map(w=>Math.round(w)))).filter(w=>w>=1).sort((w,q)=>w-q);return b.includes(1)?b:[1,...b]}})()),Vt=E(()=>new Set(i(ut).map(b=>b.year))),fn=E(()=>i(vt).length>30?5:i(vt).length>18?3:1),dn=E(()=>i(vt).filter((b,w)=>w===0||w===i(vt).length-1||b===2019?!0:b%i(fn)===0)),Q=E(()=>i(dn).map(b=>{const w=i(dt)(b)??l.left,q=i(Z).offsetX+w*i(Z).scaleX;return{year:b,x:q,inactive:!i(Vt).has(b)}})),W=E(()=>i(Z).offsetY+(c-l.bottom)*i(Z).scaleY+N),de=E(()=>Array.from(new Set(i(ut).map(b=>b.division))).filter(b=>typeof b=="string"&&b.length>0).sort(Ge));const he=()=>i(de).length>0;function xe(b,w,q,C){const K=b.currentTarget,D=K.ownerSVGElement;if(!D)return;const Se=D.getBoundingClientRect();if(b instanceof MouseEvent)j(ne,b.clientX-Se.left),j(se,b.clientY-Se.top);else{const Te=K.getBoundingClientRect();j(ne,Te.left+Te.width/2-Se.left),j(se,Te.top+Te.height/2-Se.top)}j(_e,{entry:w,bandName:q,lineColor:C},!0)}function G(){j(_e,null)}function te(b){return b.aggregate_entries}var ve=Fp(),J=we(ve),ke=_(J);L(ke,"viewBox",`0 0 ${u} ${c}`);var je=$(_(ke));Ye(je,21,()=>i(cn),Ke,(b,w)=>{var q=cp(),C=we(q),K=$(C),D=_(K);X((Se,Te,We)=>{L(C,"x1",l.left),L(C,"x2",u-l.right),L(C,"y1",Se),L(C,"y2",Te),L(K,"x",l.left-12),L(K,"y",We),z(D,s()==="relative"?`${i(w)}%`:`#${i(w)}`)},[()=>i(ht)(i(w)),()=>i(ht)(i(w)),()=>i(ht)(i(w))+4]),y(b,q)});var Ee=$(je);Ye(Ee,17,()=>i(et),Ke,(b,w)=>{var q=Je(),C=we(q);{var K=D=>{var Se=fp();X(()=>{L(Se,"d",i(w).pathData),L(Se,"stroke",i(w).color)}),y(D,Se)};V(C,D=>{i(w).pathData&&D(K)})}y(b,q)});var ot=$(Ee);{var tt=b=>{var w=Je(),q=we(w);Ye(q,17,()=>i(Qt),Ke,(C,K)=>{var D=Je(),Se=we(D);{var Te=We=>{var ct=Je(),Ue=we(ct);Dc(Ue,()=>`${i(K).year}-${i(K).conductor}`,nt=>{var Ne=vp(),lt=_(Ne),it=$(lt);Ye(it,21,()=>i(K).labelLines,Ke,(xt,Ve,He,Ie)=>{var qe=dp();L(qe,"dy",He===0?0:"1.1em");var _t=_(qe);X(Ht=>{L(qe,"x",Ht),z(_t,i(Ve))},[()=>i(dt)(i(K).year)]),y(xt,qe)}),X((xt,Ve,He)=>{L(lt,"x1",xt),L(lt,"x2",Ve),L(lt,"y1",l.top),L(lt,"y2",c-l.bottom),L(it,"x",He),L(it,"y",i(K).y),L(it,"text-anchor",i(K).anchor),L(it,"dx",i(K).dx)},[()=>i(dt)(i(K).year),()=>i(dt)(i(K).year),()=>i(dt)(i(K).year)]),y(nt,Ne)}),y(We,ct)};V(Se,We=>{i(dt)(i(K).year)!==void 0&&We(Te)})}y(C,D)}),y(b,w)};V(ot,b=>{I()&&b(tt)})}var pt=$(ot);Ye(pt,17,()=>i(et),Ke,(b,w)=>{var q=Je(),C=we(q);Ye(C,17,()=>i(w).entries,K=>K.year,(K,D)=>{var Se=Je(),Te=we(Se);{var We=ct=>{const Ue=E(()=>i(dt)(i(D).year)??l.left),nt=E(()=>i(ht)(re(i(D)))),Ne=E(()=>(i(D).field_size??0)>0),lt=E(()=>i(Ne)?`${oe(i(D)).toFixed(1)}%`:null);var it=gp(),xt=_(it);{var Ve=Ie=>{var qe=hp();L(qe,"r",p),X(()=>{L(qe,"cx",i(Ue)),L(qe,"cy",i(nt)),L(qe,"fill",f[i(D).division]??"#f8fafc"),L(qe,"stroke",i(w).color),L(qe,"aria-label",`${i(w).band.name}: ${i(D).year} â ${i(D).division} plass ${i(D).rank} (absolutt #${i(D).absolute_position}${i(lt)?` Â· relativ ${i(lt)}`:""})${i(D).conductor?` â Dirigent: ${i(D).conductor}`:""}`)}),Gt("mouseenter",qe,_t=>xe(_t,i(D),i(w).band.name,i(w).color)),Gt("mouseleave",qe,G),Gt("focus",qe,_t=>xe(_t,i(D),i(w).band.name,i(w).color)),Gt("blur",qe,G),y(Ie,qe)},He=Ie=>{var qe=Je(),_t=we(qe);{var Ht=Pt=>{var ce=pp();L(ce,"width",p*2),L(ce,"height",p*2),X(()=>{L(ce,"x",i(Ue)-p),L(ce,"y",i(nt)-p),L(ce,"fill",f[i(D).division]??"#f8fafc"),L(ce,"stroke",i(w).color),L(ce,"aria-label",`${i(w).band.name}: ${i(D).year} â ${i(D).division} plass ${i(D).rank} (absolutt #${i(D).absolute_position}${i(lt)?` Â· relativ ${i(lt)}`:""})${i(D).conductor?` â Dirigent: ${i(D).conductor}`:""}`)}),Gt("mouseenter",ce,rt=>xe(rt,i(D),i(w).band.name,i(w).color)),Gt("mouseleave",ce,G),Gt("focus",ce,rt=>xe(rt,i(D),i(w).band.name,i(w).color)),Gt("blur",ce,G),y(Pt,ce)},Kt=Pt=>{var ce=_p();X(rt=>{L(ce,"d",rt),L(ce,"fill",f[i(D).division]??"#f8fafc"),L(ce,"stroke",i(w).color),L(ce,"aria-label",`${i(w).band.name}: ${i(D).year} â ${i(D).division} plass ${i(D).rank} (absolutt #${i(D).absolute_position}${i(lt)?` Â· relativ ${i(lt)}`:""})${i(D).conductor?` â Dirigent: ${i(D).conductor}`:""}`)},[()=>me(i(Ue),i(nt),p)]),Gt("mouseenter",ce,rt=>xe(rt,i(D),i(w).band.name,i(w).color)),Gt("mouseleave",ce,G),Gt("focus",ce,rt=>xe(rt,i(D),i(w).band.name,i(w).color)),Gt("blur",ce,G),y(Pt,ce)};V(_t,Pt=>{i(w).shape==="square"?Pt(Ht):Pt(Kt,!1)},!0)}y(Ie,qe)};V(xt,Ie=>{i(w).shape==="circle"?Ie(Ve):Ie(He,!1)})}y(ct,it)};V(Te,ct=>{i(dt)(i(D).year)!==void 0&&ct(We)})}y(K,Se)}),y(b,q)}),Gc(ke,b=>j(U,b),()=>i(U));var Re=$(ke,2);{var Ae=b=>{const w=E(()=>te(i(_e).entry));var q=Ep(),C=_(q),K=_(C),D=$(C,2);{var Se=We=>{var ct=Je(),Ue=we(ct);Ye(Ue,17,()=>i(w),Ke,(nt,Ne,lt)=>{var it=xp(),xt=we(it),Ve=_(xt),He=_(Ve),Ie=$(Ve,2),qe=_(Ie),_t=$(Ie,2),Ht=_(_t),Kt=$(_t,2);{var Pt=gt=>{const Ot=E(()=>oe(i(Ne)).toFixed(1));var At=mp(),mt=_(At);X(()=>z(mt,`Relativ plassering: ${i(Ot)??""}%`)),y(gt,At)};V(Kt,gt=>{(i(Ne).field_size??0)>0&&gt(Pt)})}var ce=$(Kt,2),rt=_(ce),Et=$(ce,2);{var Cn=gt=>{var Ot=yp(),At=_(Ot);X(()=>z(At,`Poeng: ${i(Ne).points??""} / ${i(Ne).max_points??""}`)),y(gt,Ot)};V(Et,gt=>{i(Ne).points!==null&&gt(Cn)})}var Xt=$(Et,2);{var Jt=gt=>{var Ot=wp(),At=_(Ot);X(mt=>z(At,`Stykker: ${mt??""}`),[()=>i(Ne).pieces.join("; ")]),y(gt,Ot)};V(Xt,gt=>{i(Ne).pieces.length>0&&gt(Jt)})}var rr=$(xt,2);{var Sr=gt=>{var Ot=bp();y(gt,Ot)};V(rr,gt=>{lt<i(w).length-1&&gt(Sr)})}X(()=>{z(He,i(Ne).band_name??"Ukjent korps"),z(qe,`${i(Ne).division??""} Â· #${i(Ne).rank??""}`),z(Ht,`Absolutt plassering: #${i(Ne).absolute_position??""}`),z(rt,`Deltakere: ${i(Ne).division_size??""} (div) / ${i(Ne).field_size??""} (totalt)`)}),y(nt,it)}),y(We,ct)},Te=We=>{var ct=$p(),Ue=we(ct),nt=_(Ue),Ne=$(Ue,2);{var lt=ce=>{var rt=kp(),Et=_(rt);X(()=>z(Et,`Dirigent: ${i(_e).entry.conductor??""}`)),y(ce,rt)};V(Ne,ce=>{i(_e).entry.conductor&&ce(lt)})}var it=$(Ne,2),xt=_(it),Ve=$(it,2);{var He=ce=>{const rt=E(()=>oe(i(_e).entry).toFixed(1));var Et=Sp(),Cn=_(Et);X(()=>z(Cn,`Relativ plassering: ${i(rt)??""}%`)),y(ce,Et)};V(Ve,ce=>{(i(_e).entry.field_size??0)>0&&ce(He)})}var Ie=$(Ve,2),qe=_(Ie),_t=$(Ie,2);{var Ht=ce=>{var rt=Np(),Et=_(rt);X(()=>z(Et,`Poeng: ${i(_e).entry.points??""} / ${i(_e).entry.max_points??""}`)),y(ce,rt)};V(_t,ce=>{i(_e).entry.points!==null&&ce(Ht)})}var Kt=$(_t,2);{var Pt=ce=>{var rt=Mp(),Et=_(rt);X(Cn=>z(Et,`Stykker: ${Cn??""}`),[()=>i(_e).entry.pieces.join("; ")]),y(ce,rt)};V(Kt,ce=>{i(_e).entry.pieces.length>0&&ce(Pt)})}X(()=>{z(nt,`${i(_e).entry.division??""} Â· #${i(_e).entry.rank??""}`),z(xt,`Absolutt plassering: #${i(_e).entry.absolute_position??""}`),z(qe,`Deltakere: ${i(_e).entry.division_size??""} (div) / ${i(_e).entry.field_size??""} (totalt)`)}),y(We,ct)};V(D,We=>{i(w)&&i(w).length?We(Se):We(Te,!1)})}X(()=>{Ii(q,`left: ${i(ne)}px; top: ${i(se)}px`),z(K,`${i(_e).entry.year??""} Â· ${i(_e).bandName??""}`)}),y(b,q)};V(Re,b=>{i(_e)&&b(Ae)})}var bt=$(Re,2);Ye(bt,21,()=>i(Q),Ke,(b,w)=>{var q=Ap();let C;var K=_(q);X(D=>{Ii(q,`left: ${i(w).x}px`),C=Mn(q,1,"svelte-idxsrp",null,C,D),z(K,i(w).year)},[()=>({inactive:i(w).inactive})]),y(b,q)});var yt=$(J,2);{var Mt=b=>{var w=Rp();Ye(w,21,()=>i(et),Ke,(q,C)=>{var K=Cp(),D=_(K),Se=_(D),Te=$(Se);{var We=nt=>{var Ne=Tp();X(()=>L(Ne,"stroke",i(C).color)),y(nt,Ne)},ct=nt=>{var Ne=Je(),lt=we(Ne);{var it=Ve=>{var He=Ip();X(()=>L(He,"stroke",i(C).color)),y(Ve,He)},xt=Ve=>{var He=Pp();X(Ie=>{L(He,"d",Ie),L(He,"stroke",i(C).color)},[()=>me(21,7,6)]),y(Ve,He)};V(lt,Ve=>{i(C).shape==="square"?Ve(it):Ve(xt,!1)},!0)}y(nt,Ne)};V(Te,nt=>{i(C).shape==="circle"?nt(We):nt(ct,!1)})}var Ue=$(D);X(()=>{L(Se,"stroke",i(C).color),z(Ue,` ${i(C).band.name??""}`)}),y(q,K)}),y(b,w)};V(yt,b=>{i(et).length>0&&b(Mt)})}var wt=$(yt,2);{var $t=b=>{var w=Lp();Ye(w,21,()=>i(de),Ke,(q,C)=>{var K=qp(),D=_(K),Se=$(D);X(()=>{Ii(D,`background-color: ${f[i(C)]??"#94a3b8"}`),z(Se,` ${i(C)??""}`)}),y(q,K)}),y(b,w)};V(wt,b=>{he()&&b($t)})}X(()=>Ii(bt,`top: ${i(W)}px`)),y(e,ve),nr()}function Ze(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}var Dp=A('<span class="test-piece-label svelte-urxxqj" title="Pliktstykke">P:</span>'),zp=A("<a> </a>"),Bp=A("<span> </span>"),jp=A("<span>Ukjent</span>"),Up=A('<li class="svelte-urxxqj"><!> <!></li>'),Yp=A('<ul class="piece-list svelte-urxxqj"></ul>'),Vp=A("<span>Ukjent</span>"),Hp=A('<a class="entity-link svelte-urxxqj"> </a>'),Kp=A("<span>Ukjent</span>"),Xp=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),Gp=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),Wp=A("<!> <!>",1),Zp=A('<div class="streaming-links svelte-urxxqj"></div>'),Qp=A('<span class="streaming-missing svelte-urxxqj" aria-hidden="true">â</span>'),Jp=A('<tr class="svelte-urxxqj"><td data-label="Ãr" class="svelte-urxxqj"> </td><td data-label="Divisjon" class="division-cell svelte-urxxqj"> </td><td data-label="Stykke" class="piece-cell svelte-urxxqj"><!></td><td data-label="Plass" class="svelte-urxxqj"> </td><td data-label="Poeng" class="svelte-urxxqj"> </td><td data-label="Dirigent" class="svelte-urxxqj"><!></td><td data-label="Opptak" class="streaming-cell svelte-urxxqj"><!></td></tr>'),e_=A('<article class="band-card svelte-urxxqj"><header class="band-header svelte-urxxqj"><div><h2 class="svelte-urxxqj"> </h2> <p class="band-count svelte-urxxqj"> </p></div></header> <div class="table-wrapper svelte-urxxqj" role="region"><table class="svelte-urxxqj"><thead class="svelte-urxxqj"><tr><th scope="col" class="svelte-urxxqj">Ãr</th><th scope="col" class="division-column svelte-urxxqj">Divisjon</th><th scope="col" class="svelte-urxxqj">Stykke</th><th scope="col" class="svelte-urxxqj">Plass</th><th scope="col" class="svelte-urxxqj">Poeng</th><th scope="col" class="svelte-urxxqj">Dirigent</th><th scope="col" class="streaming-column svelte-urxxqj">Opptak</th></tr></thead><tbody class="svelte-urxxqj"></tbody></table></div></article>'),t_=A('<section class="band-performances svelte-urxxqj"></section>');function n_(e,t){tr(t,!0);let n=St(t,"bands",19,()=>[]),r=St(t,"bandType",3,"wind"),a=St(t,"eliteTestPieces",3,null);const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function o(S){return[...S].sort((M,N)=>{const H=M.year-N.year;if(H!==0)return H;const B=M.rank??Number.POSITIVE_INFINITY,U=N.rank??Number.POSITIVE_INFINITY;return B!==U?B-U:(M.absolute_position??Number.POSITIVE_INFINITY)-(N.absolute_position??Number.POSITIVE_INFINITY)})}function l(S){return S==null?"â":s.format(S)}function u(S){return S!=null?`${S}`:"â"}function c(S){return!!(S!=null&&S.spotify||S!=null&&S.apple_music)}function f(S){if(!S)return null;const M=S.trim();if(!M)return null;if(!/^https?:\/\//i.test(M))return M;try{const N=new URL(M);return`music://${`${N.host}${N.pathname}${N.search}${N.hash}`}`}catch(N){return console.warn("Kunne ikke konvertere Apple Music-lenke",N),M}}function d(S,M,N){var fe,Le;if(!M)return S;const H=(fe=M.recording_title)==null?void 0:fe.trim(),B=(Le=M.album)==null?void 0:Le.trim(),U=N==="spotify"?"Spotify":"Apple Music",Z=H&&H.length>0?H:S;return B&&B.length>0?`${Z} â¢ ${B} (${U})`:`${Z} (${U})`}function v(S,M,N){return t.streamingResolver?t.streamingResolver(S,M,N)??null:null}function p(S){var H,B;const M=String(S),N=(B=(H=a())==null?void 0:H.test_pieces)==null?void 0:B[M];return N?{composer:N.composer,piece:N.piece}:null}function h(S){return(S||"").toLowerCase()==="elite"}let g=E(()=>n().map(S=>({...S,entries:o(S.entries)})));var x=t_();Ye(x,21,()=>i(g),Ke,(S,M)=>{var N=e_(),H=_(N),B=_(H),U=_(B),Z=_(U),fe=$(U,2),Le=_(fe),_e=$(H,2),ne=_(_e),se=$(_(ne));Ye(se,21,()=>i(M).entries,Ke,(I,oe)=>{const re=E(()=>Array.isArray(i(oe).pieces)?i(oe).pieces:[]),Ce=E(()=>i(re).filter(G=>G&&G.trim().length>0)),Fe=E(()=>r()==="brass"&&h(i(oe).division)?p(i(oe).year):null),Xe=E(()=>{var G;return((G=i(oe).conductor)==null?void 0:G.trim())??""}),ye=E(()=>i(Xe).length>0),Oe=E(()=>i(ye)?Ze(i(Xe)):""),ft=E(()=>i(Ce).map(G=>{const te=G.trim(),ve=te?Ze(te):"",J=te?v(i(oe),i(M).name,te):null;return{pieceName:te,pieceSlug:ve,streaming:J,isTestPiece:!1}})),T=E(()=>i(Fe)?[{pieceName:i(Fe).piece,pieceSlug:Ze(i(Fe).piece),streaming:v(i(oe),i(M).name,i(Fe).piece),isTestPiece:!0}]:[]),Y=E(()=>[...i(T),...i(ft)]),ee=E(()=>i(Y).filter(G=>c(G.streaming)));var me=Jp(),Be=_(me),Ge=_(Be),De=$(Be),ut=_(De),vt=$(De),dt=_(vt);{var It=G=>{var te=Yp();Ye(te,21,()=>i(Y),Ke,(ve,J)=>{var ke=Up(),je=_(ke);{var Ee=Re=>{var Ae=Dp();y(Re,Ae)};V(je,Re=>{i(J).isTestPiece&&Re(Ee)})}var ot=$(je,2);{var tt=Re=>{var Ae=zp();let bt;var yt=_(Ae);X((Mt,wt)=>{L(Ae,"href",Mt),bt=Mn(Ae,1,"entity-link svelte-urxxqj",null,bt,wt),z(yt,i(J).pieceName)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(J).pieceSlug)}`,()=>({"test-piece-link":i(J).isTestPiece})]),y(Re,Ae)},pt=Re=>{var Ae=Je(),bt=we(Ae);{var yt=wt=>{var $t=Bp(),b=_($t);X(()=>z(b,i(J).pieceName)),y(wt,$t)},Mt=wt=>{var $t=jp();y(wt,$t)};V(bt,wt=>{i(J).pieceName?wt(yt):wt(Mt,!1)},!0)}y(Re,Ae)};V(ot,Re=>{i(J).pieceSlug?Re(tt):Re(pt,!1)})}y(ve,ke)}),y(G,te)},Nt=G=>{var te=Vp();y(G,te)};V(dt,G=>{i(Y).length>0?G(It):G(Nt,!1)})}var ht=$(vt),et=_(ht),Qt=$(ht),cn=_(Qt),Vt=$(Qt),fn=_(Vt);{var dn=G=>{var te=Hp(),ve=_(te);X(J=>{L(te,"href",J),z(ve,i(Xe))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(i(Oe))}`]),y(G,te)},Q=G=>{var te=Kp();y(G,te)};V(fn,G=>{i(ye)?G(dn):G(Q,!1)})}var W=$(Vt),de=_(W);{var he=G=>{var te=Zp();Ye(te,21,()=>i(ee),Ke,(ve,J)=>{const ke=E(()=>i(J).streaming);var je=Wp(),Ee=we(je);{var ot=Re=>{var Ae=Xp(),bt=_(Ae),yt=_(bt);X(Mt=>{L(Ae,"href",i(ke).spotify),L(Ae,"title",Mt),z(yt,`HÃ¸r ${i(J).pieceName??""} pÃ¥ Spotify`)},[()=>d(i(J).pieceName,i(ke),"spotify")]),y(Re,Ae)};V(Ee,Re=>{var Ae;(Ae=i(ke))!=null&&Ae.spotify&&Re(ot)})}var tt=$(Ee,2);{var pt=Re=>{const Ae=E(()=>f(i(ke).apple_music));var bt=Je(),yt=we(bt);{var Mt=wt=>{var $t=Gp(),b=_($t),w=_(b);X(q=>{L($t,"href",i(Ae)),L($t,"title",q),z(w,`HÃ¸r ${i(J).pieceName??""} pÃ¥ Apple Music`)},[()=>d(i(J).pieceName,i(ke),"apple")]),y(wt,$t)};V(yt,wt=>{i(Ae)&&wt(Mt)})}y(Re,bt)};V(tt,Re=>{var Ae;(Ae=i(ke))!=null&&Ae.apple_music&&Re(pt)})}y(ve,je)}),y(G,te)},xe=G=>{var te=Qp();y(G,te)};V(de,G=>{i(ee).length>0?G(he):G(xe,!1)})}X((G,te)=>{z(Ge,i(oe).year),z(ut,i(oe).division),z(et,G),z(cn,te)},[()=>u(i(oe).rank),()=>l(i(oe).points)]),y(I,me)}),X(()=>{z(Z,i(M).name),z(Le,`${i(M).entries.length??""} fremfÃ¸ringer`),L(_e,"aria-label",`FremfÃ¸ringer av ${i(M).name}`)}),y(S,N)}),y(e,x),nr()}var r_=A('<a class="entity-link svelte-7tq4ct"> </a>'),i_=A("<span> </span>"),a_=A("<span>Ukjent</span>"),s_=A('<a class="entity-link svelte-7tq4ct"> </a>'),o_=A("<span> </span>"),l_=A("<span>Ukjent</span>"),u_=A('<li class="svelte-7tq4ct"><!></li>'),c_=A('<ul class="piece-list svelte-7tq4ct"></ul>'),f_=A("<span>Ukjent</span>"),d_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),v_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),h_=A("<!> <!>",1),p_=A('<div class="streaming-links svelte-7tq4ct"></div>'),__=A('<span class="streaming-missing svelte-7tq4ct" aria-hidden="true">â</span>'),g_=A('<tr class="svelte-7tq4ct"><td data-label="Ãr" class="svelte-7tq4ct"> </td><td data-label="Divisjon" class="division-cell svelte-7tq4ct"> </td><td data-label="Korps" class="svelte-7tq4ct"><!></td><td data-label="Stykke" class="piece-cell svelte-7tq4ct"><!></td><td data-label="Plass" class="svelte-7tq4ct"> </td><td data-label="Poeng" class="svelte-7tq4ct"> </td><td data-label="Opptak" class="streaming-cell svelte-7tq4ct"><!></td></tr>'),m_=A('<article class="conductor-card svelte-7tq4ct"><header class="conductor-header svelte-7tq4ct"><div><h2 class="svelte-7tq4ct"> </h2> <p class="conductor-count svelte-7tq4ct"> </p></div></header> <div class="table-wrapper svelte-7tq4ct" role="region"><table class="svelte-7tq4ct"><thead class="svelte-7tq4ct"><tr><th scope="col" class="svelte-7tq4ct">Ãr</th><th scope="col" class="division-column svelte-7tq4ct">Divisjon</th><th scope="col" class="svelte-7tq4ct">Korps</th><th scope="col" class="svelte-7tq4ct">Stykke</th><th scope="col" class="svelte-7tq4ct">Plass</th><th scope="col" class="svelte-7tq4ct">Poeng</th><th scope="col" class="streaming-column svelte-7tq4ct">Opptak</th></tr></thead><tbody class="svelte-7tq4ct"></tbody></table></div></article>'),y_=A('<section class="conductor-performances svelte-7tq4ct"></section>');function w_(e,t){tr(t,!0);let n=St(t,"conductors",19,()=>[]),r=St(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(g){return[...g].sort((x,S)=>{const M=x.year-S.year;if(M!==0)return M;const N=x.rank??Number.POSITIVE_INFINITY,H=S.rank??Number.POSITIVE_INFINITY;if(N!==H)return N-H;const B=(x.band_name??"").toLowerCase(),U=(S.band_name??"").toLowerCase();return B!==U?B.localeCompare(U):(x.absolute_position??Number.POSITIVE_INFINITY)-(S.absolute_position??Number.POSITIVE_INFINITY)})}function o(g){return g==null?"â":a.format(g)}function l(g){return g!=null?`${g}`:"â"}function u(g){return!!(g!=null&&g.spotify||g!=null&&g.apple_music)}function c(g){if(!g)return null;const x=g.trim();if(!x)return null;if(!/^https?:\/\//i.test(x))return x;try{const S=new URL(x);return`music://${`${S.host}${S.pathname}${S.search}${S.hash}`}`}catch(S){return console.warn("Kunne ikke konvertere Apple Music-lenke",S),x}}function f(g,x,S){var U,Z;if(!x)return g;const M=(U=x.recording_title)==null?void 0:U.trim(),N=(Z=x.album)==null?void 0:Z.trim(),H=S==="spotify"?"Spotify":"Apple Music",B=M&&M.length>0?M:g;return N&&N.length>0?`${B} â¢ ${N} (${H})`:`${B} (${H})`}function d(g,x,S){return t.streamingResolver?t.streamingResolver(g,x,S)??null:null}function v(g){const S=(g.entries??[]).flatMap(M=>(M.aggregate_entries&&Array.isArray(M.aggregate_entries)?M.aggregate_entries:[M]).map(H=>({...H,band_name:H.band_name??M.band_name??null})));return s(S)}let p=E(()=>n().map(g=>({...g,performances:v(g)})));var h=y_();Ye(h,21,()=>i(p),Ke,(g,x)=>{var S=m_(),M=_(S),N=_(M),H=_(N),B=_(H),U=$(H,2),Z=_(U),fe=$(M,2),Le=_(fe),_e=$(_(Le));Ye(_e,21,()=>i(x).performances,Ke,(ne,se)=>{const I=E(()=>{var Q;return((Q=i(se).band_name)==null?void 0:Q.trim())??""}),oe=E(()=>i(I).length>0),re=E(()=>i(oe)?Ze(i(I)):""),Ce=E(()=>Array.isArray(i(se).pieces)?i(se).pieces:[]),Fe=E(()=>i(Ce).filter(Q=>Q&&Q.trim().length>0)),Xe=E(()=>i(Fe).map(Q=>{const W=Q.trim(),de=W?Ze(W):"",he=i(oe)&&W?d(i(se),i(I),W):null;return{pieceName:W,pieceSlug:de,streaming:he}})),ye=E(()=>i(Xe).filter(Q=>u(Q.streaming)));var Oe=g_(),ft=_(Oe),T=_(ft),Y=$(ft),ee=_(Y),me=$(Y),Be=_(me);{var Ge=Q=>{var W=r_(),de=_(W);X(he=>{L(W,"href",he),z(de,i(I))},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(i(re))}`]),y(Q,W)},De=Q=>{var W=Je(),de=we(W);{var he=G=>{var te=i_(),ve=_(te);X(()=>z(ve,i(I))),y(G,te)},xe=G=>{var te=a_();y(G,te)};V(de,G=>{i(oe)?G(he):G(xe,!1)},!0)}y(Q,W)};V(Be,Q=>{i(oe)&&i(re)?Q(Ge):Q(De,!1)})}var ut=$(me),vt=_(ut);{var dt=Q=>{var W=c_();Ye(W,21,()=>i(Xe),Ke,(de,he)=>{var xe=u_(),G=_(xe);{var te=J=>{var ke=s_(),je=_(ke);X(Ee=>{L(ke,"href",Ee),z(je,i(he).pieceName)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(he).pieceSlug)}`]),y(J,ke)},ve=J=>{var ke=Je(),je=we(ke);{var Ee=tt=>{var pt=o_(),Re=_(pt);X(()=>z(Re,i(he).pieceName)),y(tt,pt)},ot=tt=>{var pt=l_();y(tt,pt)};V(je,tt=>{i(he).pieceName?tt(Ee):tt(ot,!1)},!0)}y(J,ke)};V(G,J=>{i(he).pieceSlug?J(te):J(ve,!1)})}y(de,xe)}),y(Q,W)},It=Q=>{var W=f_();y(Q,W)};V(vt,Q=>{i(Xe).length>0?Q(dt):Q(It,!1)})}var Nt=$(ut),ht=_(Nt),et=$(Nt),Qt=_(et),cn=$(et),Vt=_(cn);{var fn=Q=>{var W=p_();Ye(W,21,()=>i(ye),Ke,(de,he)=>{const xe=E(()=>i(he).streaming);var G=h_(),te=we(G);{var ve=je=>{var Ee=d_(),ot=_(Ee),tt=_(ot);X(pt=>{L(Ee,"href",i(xe).spotify),L(Ee,"title",pt),z(tt,`HÃ¸r ${i(he).pieceName??""} pÃ¥ Spotify`)},[()=>f(i(he).pieceName,i(xe),"spotify")]),y(je,Ee)};V(te,je=>{var Ee;(Ee=i(xe))!=null&&Ee.spotify&&je(ve)})}var J=$(te,2);{var ke=je=>{const Ee=E(()=>c(i(xe).apple_music));var ot=Je(),tt=we(ot);{var pt=Re=>{var Ae=v_(),bt=_(Ae),yt=_(bt);X(Mt=>{L(Ae,"href",i(Ee)),L(Ae,"title",Mt),z(yt,`HÃ¸r ${i(he).pieceName??""} pÃ¥ Apple Music`)},[()=>f(i(he).pieceName,i(xe),"apple")]),y(Re,Ae)};V(tt,Re=>{i(Ee)&&Re(pt)})}y(je,ot)};V(J,je=>{var Ee;(Ee=i(xe))!=null&&Ee.apple_music&&je(ke)})}y(de,G)}),y(Q,W)},dn=Q=>{var W=__();y(Q,W)};V(Vt,Q=>{i(ye).length>0?Q(fn):Q(dn,!1)})}X((Q,W)=>{z(T,i(se).year),z(ee,i(se).division),z(ht,Q),z(Qt,W)},[()=>l(i(se).rank),()=>o(i(se).points)]),y(ne,Oe)}),X(()=>{z(B,i(x).name),z(Z,`${i(x).performances.length??""} fremfÃ¸ringer`),L(fe,"aria-label",`FremfÃ¸ringer av ${i(x).name}`)}),y(g,S)}),y(e,h),nr()}function b_(e,t){const n=Number(e.target.value);j(t,Number.isNaN(n)?null:n,!0)}function x_(e,t){j(t,e.target.value||null,!0)}var k_=A('<p class="svelte-1e9ky18"> </p>'),S_=A('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),N_=A('<p class="data-status svelte-1e9ky18">Ingen Ã¥rsdata tilgjengelig.</p>'),M_=A("<option> </option>"),$_=A("<option selected>Ingen divisjoner</option>"),E_=A("<option> </option>"),A_=A('<span class="svelte-1e9ky18"> </span>'),T_=A('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),I_=A('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),P_=A('<a class="entity-link svelte-1e9ky18"> </a>'),C_=A("<span>Ukjent</span>"),R_=A("<span>â</span>"),q_=A('<span class="test-piece-label svelte-1e9ky18" title="Pliktstykke">P:</span>'),L_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-1e9ky18"><span class="sr-only svelte-1e9ky18">HÃ¸r pÃ¥ Spotify</span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),F_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-1e9ky18"><span class="sr-only svelte-1e9ky18">HÃ¸r pÃ¥ Apple Music</span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),O_=A('<span class="streaming-links svelte-1e9ky18"><!> <!></span>'),D_=A('<span class="program-piece svelte-1e9ky18"><!> <a> </a> <!></span> ',1),z_=A('<tr class="svelte-1e9ky18"><td data-label="Plass" class="svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td></tr>'),B_=A('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),j_=A('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Ãr</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!>',1),U_=A('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2> <!></div> <!></section>');function Y_(e,t){tr(t,!0);let n=St(t,"dataset",3,null),r=St(t,"bandType",3,"wind"),a=St(t,"streamingResolver",3,void 0),s=St(t,"eliteTestPieces",3,null);const o=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let l=Me(null),u=Me(null),c=E(()=>n()?x(n()):new Map),f=E(()=>{var T,Y;return((Y=(T=n())==null?void 0:T.metadata)==null?void 0:Y.years)??[]}),d=E(()=>{var T,Y;return((Y=(T=n())==null?void 0:T.metadata)==null?void 0:Y.generated_at)??null}),v=E(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||i(l)==null||!i(c).has(i(l)))return[];const T=i(c).get(i(l))??new Map,Y=n().metadata.divisions.filter(me=>T.has(me)),ee=Array.from(T.keys()).filter(me=>!Y.includes(me)).sort();return[...Y,...ee]})()),p=E(()=>(()=>{if(i(l)!=null&&i(u)&&i(c).has(i(l))){const T=i(c).get(i(l)),Y=(i(u)&&(T==null?void 0:T.get(i(u))))??[];return N(Y)}return[]})()),h=E(()=>(()=>{var T;if(i(p).length>0){const Y=(T=i(p)[0])==null?void 0:T.entry,ee=(Y==null?void 0:Y.division_size)??i(p).length;return ee&&ee>0?ee:null}return null})()),g=E(()=>(()=>{var T;if(i(p).length>0){const Y=(T=i(p)[0])==null?void 0:T.entry,ee=(Y==null?void 0:Y.field_size)??null;return ee&&ee>0?ee:null}return null})());function x(T){const Y=new Map;if(!(T!=null&&T.bands)||!Array.isArray(T.bands))return Y;for(const ee of T.bands)if(!(!ee||!ee.entries||!Array.isArray(ee.entries)))for(const me of ee.entries){if(!me||typeof me.year!="number"||!me.division)continue;let Be=Y.get(me.year);Be||(Be=new Map,Y.set(me.year,Be));const Ge=me.division;let De=Be.get(Ge);De||(De=[],Be.set(Ge,De)),De.push({band:ee.name,entry:me})}return Y}function S(T){return T.length?i(l)&&T.includes(i(l))?i(l):T[T.length-1]??null:null}function M(T){return T.length?i(u)&&T.includes(i(u))?i(u):T[0]??null:null}function N(T){return[...T].sort((Y,ee)=>{const me=Y.entry.rank??Number.POSITIVE_INFINITY,Be=ee.entry.rank??Number.POSITIVE_INFINITY;if(me!==Be)return me-Be;const Ge=Y.entry.absolute_position??Number.POSITIVE_INFINITY,De=ee.entry.absolute_position??Number.POSITIVE_INFINITY;return Ge!==De?Ge-De:Y.band.localeCompare(ee.band)})}function H(T){return T!=null?`${T}`:"â"}function B(T,Y){if(T==null&&Y==null)return"â";const ee=T==null?"â":o.format(T);return Y==null,ee}function U(T){return T.map(Y=>Y.trim()).filter(Boolean)}function Z(T,Y,ee){if(typeof a()!="function")return null;try{return a()(T,Y,ee)??null}catch(me){return console.error("Kunne ikke hente streaming-lenke",me),null}}function fe(T){return!!(T!=null&&T.spotify||T!=null&&T.apple_music)}function Le(T){if(!T)return null;const Y=T.trim();if(!Y)return null;if(!/^https?:\/\//i.test(Y))return Y;try{const ee=new URL(Y);return`music://${`${ee.host}${ee.pathname}${ee.search}${ee.hash}`}`}catch(ee){return console.warn("Kunne ikke konvertere Apple Music-lenke",ee),Y}}function _e(T,Y,ee){var ut,vt;if(!Y)return T;const me=(ut=Y.recording_title)==null?void 0:ut.trim(),Be=(vt=Y.album)==null?void 0:vt.trim(),Ge=ee==="spotify"?"Spotify":"Apple Music",De=me&&me.length>0?me:T;return Be&&Be.length>0?`${De} â¢ ${Be} (${Ge})`:`${De} (${Ge})`}function ne(T){if(!T)return null;const Y=new Date(T);return Number.isNaN(Y.getTime())?T:new Intl.DateTimeFormat("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(Y)}function se(T){var me,Be;const Y=String(T),ee=(Be=(me=s())==null?void 0:me.test_pieces)==null?void 0:Be[Y];return ee?{composer:ee.composer,piece:ee.piece}:null}function I(T){return(T||"").toLowerCase()==="elite"}fi(()=>{if(n()&&i(f)&&Array.isArray(i(f))&&i(f).length>0){const T=S(i(f));i(l)!==T&&j(l,T,!0)}else j(l,null),j(u,null)}),fi(()=>{if(i(l)!=null&&i(v)&&Array.isArray(i(v))&&i(v).length>0){const T=M(i(v));i(u)!==T&&j(u,T,!0)}else i(l)!=null&&j(u,null)});let oe=E(()=>ne(i(d)));var re=U_(),Ce=_(re),Fe=$(_(Ce),2);{var Xe=T=>{var Y=k_(),ee=_(Y);X(()=>z(ee,`Data oppdatert ${i(oe)??""}`)),y(T,Y)};V(Fe,T=>{i(oe)&&T(Xe)})}var ye=$(Ce,2);{var Oe=T=>{var Y=S_();y(T,Y)},ft=T=>{var Y=Je(),ee=we(Y);{var me=Ge=>{var De=N_();y(Ge,De)},Be=Ge=>{var De=j_(),ut=we(De),vt=_(ut),dt=$(_(vt),2);dt.__change=[b_,l],Ye(dt,21,()=>i(f)||[],Ke,(W,de)=>{var he=M_(),xe=_(he),G={};X(()=>{Vs(he,i(l)===i(de)),z(xe,i(de)),G!==(G=i(de))&&(he.value=(he.__value=i(de))??"")}),y(W,he)});var It=$(vt,2),Nt=$(_(It),2);Nt.__change=[x_,u];var ht=_(Nt);{var et=W=>{var de=$_();de.value=de.__value="",y(W,de)},Qt=W=>{var de=Je(),he=we(de);Ye(he,17,()=>i(v),Ke,(xe,G)=>{var te=E_(),ve=_(te),J={};X(()=>{Vs(te,i(u)===i(G)),z(ve,i(G)),J!==(J=i(G))&&(te.value=(te.__value=i(G))??"")}),y(xe,te)}),y(W,de)};V(ht,W=>{!i(v)||i(v).length===0?W(et):W(Qt,!1)})}var cn=$(It,2);{var Vt=W=>{var de=T_(),he=_(de),xe=_(he),G=$(he,2);{var te=ve=>{var J=A_(),ke=_(J);X(()=>z(ke,`Totalt felt: ${i(g)??""}`)),y(ve,J)};V(G,ve=>{i(g)&&ve(te)})}X(()=>z(xe,`${i(h)??""} korps`)),y(W,de)};V(cn,W=>{i(h)&&W(Vt)})}var fn=$(ut,2);{var dn=W=>{var de=I_();y(W,de)},Q=W=>{var de=B_(),he=_(de),xe=$(_(he));Ye(xe,21,()=>i(p),Ke,(G,te)=>{let ve=()=>i(te).band,J=()=>i(te).entry;var ke=z_(),je=_(ke),Ee=_(je),ot=$(je),tt=_(ot),pt=_(tt),Re=$(ot),Ae=_(Re);{var bt=q=>{var C=P_(),K=_(C);X((D,Se)=>{L(C,"href",D),z(K,Se)},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(Ze(J().conductor))}`,()=>J().conductor.trim()]),y(q,C)},yt=q=>{var C=C_();y(q,C)};V(Ae,q=>{J().conductor&&J().conductor.trim().length>0?q(bt):q(yt,!1)})}var Mt=$(Re),wt=_(Mt),$t=$(Mt),b=_($t);{var w=q=>{const C=E(()=>r()==="brass"&&I(J().division)?se(J().year):null),K=E(()=>U(J().pieces)),D=E(()=>i(C)?[{name:i(C).piece,isTestPiece:!0},...i(K).map(Ue=>({name:Ue,isTestPiece:!1}))]:i(K).map(Ue=>({name:Ue,isTestPiece:!1})));var Se=Je(),Te=we(Se);{var We=Ue=>{var nt=R_();y(Ue,nt)},ct=Ue=>{var nt=Je(),Ne=we(nt);Ye(Ne,17,()=>i(D),Ke,(lt,it,xt)=>{const Ve=E(()=>i(it).name),He=E(()=>Z(J(),ve(),i(Ve)));var Ie=D_(),qe=we(Ie),_t=_(qe);{var Ht=Xt=>{var Jt=q_();y(Xt,Jt)};V(_t,Xt=>{i(it).isTestPiece&&Xt(Ht)})}var Kt=$(_t,2);let Pt;var ce=_(Kt),rt=$(Kt,2);{var Et=Xt=>{var Jt=O_(),rr=_(Jt);{var Sr=At=>{var mt=L_();X(ir=>{L(mt,"href",i(He).spotify),L(mt,"title",ir)},[()=>_e(i(Ve),i(He),"spotify")]),y(At,mt)};V(rr,At=>{var mt;(mt=i(He))!=null&&mt.spotify&&At(Sr)})}var gt=$(rr,2);{var Ot=At=>{const mt=E(()=>Le(i(He).apple_music));var ir=Je(),Ni=we(ir);{var Mi=Un=>{var Nr=F_();X(wa=>{L(Nr,"href",i(mt)),L(Nr,"title",wa)},[()=>_e(i(Ve),i(He),"apple")]),y(Un,Nr)};V(Ni,Un=>{i(mt)&&Un(Mi)})}y(At,ir)};V(gt,At=>{var mt;(mt=i(He))!=null&&mt.apple_music&&At(Ot)})}y(Xt,Jt)};V(rt,Xt=>{fe(i(He))&&Xt(Et)})}var Cn=$(qe,1,!0);X((Xt,Jt)=>{L(Kt,"href",Xt),Pt=Mn(Kt,1,"program-link svelte-1e9ky18",null,Pt,Jt),z(ce,i(Ve)),z(Cn,xt<i(D).length-1?", ":"")},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(Ze(i(Ve)))}`,()=>({"test-piece-link":i(it).isTestPiece})]),y(lt,Ie)}),y(Ue,nt)};V(Te,Ue=>{i(D).length===0?Ue(We):Ue(ct,!1)})}y(q,Se)};V(b,q=>{q(w)})}X((q,C,K)=>{z(Ee,q),L(tt,"href",C),z(pt,ve()),z(wt,K)},[()=>H(J().rank),()=>`?type=${r()}&view=bands&band=${encodeURIComponent(Ze(ve()))}`,()=>B(J().points,J().max_points)]),y(G,ke)}),y(W,de)};V(fn,W=>{!i(p)||i(p).length===0?W(dn):W(Q,!1)})}y(Ge,De)};V(ee,Ge=>{!i(f)||!i(f).length?Ge(me):Ge(Be,!1)},!0)}y(T,Y)};V(ye,T=>{n()?T(ft,!1):T(Oe)})}y(e,re),nr()}al(["change"]);function Vl(e){return e.replace(/\s+/g," ").trim()}const V_=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function H_(e){return e.replace(V_,"").trim()}function Qa(e){if(!e)return[];const t=H_(e);if(!t)return[];const r=t.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/Â·]/g,",").split(/[;,]/).map(s=>Vl(s)).filter(s=>s.length>0),a=new Map;for(const s of r){const o=s.toLowerCase();a.has(o)||a.set(o,s)}return Array.from(a.values())}var K_=A('<a class="composer-link svelte-18hgr5c"> </a> ',1),X_=A('<p class="piece-composer svelte-18hgr5c"></p>'),G_=A('<p class="piece-composer svelte-18hgr5c"> </p>'),W_=A('<a class="entity-link svelte-18hgr5c"> </a>'),Z_=A("<span>Ukjent</span>"),Q_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">HÃ¸r pÃ¥ Spotify</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),J_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">HÃ¸r pÃ¥ Apple Music</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),e0=A('<div class="streaming-links svelte-18hgr5c"><!> <!></div>'),t0=A('<span class="streaming-missing svelte-18hgr5c" aria-hidden="true">â</span>'),n0=A('<tr class="svelte-18hgr5c"><td data-label="Ãr" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td><td data-label="Opptak" class="streaming-cell svelte-18hgr5c"><!></td></tr>'),r0=A('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="svelte-18hgr5c">Ãr</th><th scope="col" class="svelte-18hgr5c">Divisjon</th><th scope="col" class="svelte-18hgr5c">Korps</th><th scope="col" class="svelte-18hgr5c">Plass</th><th scope="col" class="svelte-18hgr5c">Poeng</th><th scope="col" class="svelte-18hgr5c">Dirigent</th><th scope="col" class="streaming-column svelte-18hgr5c">Opptak</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),i0=A('<section class="pieces-view svelte-18hgr5c"></section>');function a0(e,t){tr(t,!0);let n=St(t,"pieces",19,()=>[]),r=St(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(h){return[...h].sort((g,x)=>{const S=g.entry.year-x.entry.year;if(S!==0)return S;const M=g.entry.rank??Number.POSITIVE_INFINITY,N=x.entry.rank??Number.POSITIVE_INFINITY;return M!==N?M-N:g.band.localeCompare(x.band)})}function o(h){return h.composerNames&&h.composerNames.length>0?h.composerNames:h.composer?Qa(h.composer):[]}function l(h){return h==null?"â":a.format(h)}function u(h){return h!=null?`${h}`:"â"}function c(h){return!!(h!=null&&h.spotify||h!=null&&h.apple_music)}function f(h){if(!h)return null;const g=h.trim();if(!g)return null;if(!/^https?:\/\//i.test(g))return g;try{const x=new URL(g);return`music://${`${x.host}${x.pathname}${x.search}${x.hash}`}`}catch(x){return console.warn("Kunne ikke konvertere Apple Music-lenke",x),g}}function d(h,g,x){var B,U;if(!g)return h;const S=(B=g.recording_title)==null?void 0:B.trim(),M=(U=g.album)==null?void 0:U.trim(),N=x==="spotify"?"Spotify":"Apple Music",H=S&&S.length>0?S:h;return M&&M.length>0?`${H} â¢ ${M} (${N})`:`${H} (${N})`}let v=E(()=>n().map(h=>({...h,performances:s(h.performances)})));var p=i0();Ye(p,21,()=>i(v),Ke,(h,g)=>{const x=E(()=>o(i(g)));var S=r0(),M=_(S),N=_(M),H=_(N),B=_(H),U=$(H,2);{var Z=oe=>{var re=X_();Ye(re,21,()=>i(x),Ke,(Ce,Fe,Xe)=>{var ye=K_(),Oe=we(ye),ft=_(Oe),T=$(Oe,1,!0);X(Y=>{L(Oe,"href",Y),z(ft,i(Fe)),z(T,Xe<i(x).length-1?", ":"")},[()=>`?type=${r()}&view=composers&composer=${encodeURIComponent(Ze(i(Fe)))}`]),y(Ce,ye)}),y(oe,re)},fe=oe=>{var re=Je(),Ce=we(re);{var Fe=Xe=>{var ye=G_(),Oe=_(ye);X(()=>z(Oe,i(g).composer)),y(Xe,ye)};V(Ce,Xe=>{i(g).composer&&Xe(Fe)},!0)}y(oe,re)};V(U,oe=>{i(x).length>0?oe(Z):oe(fe,!1)})}var Le=$(U,2),_e=_(Le),ne=$(M,2),se=_(ne),I=$(_(se));Ye(I,21,()=>i(g).performances,Ke,(oe,re)=>{const Ce=E(()=>{var Q;return((Q=i(re).entry.conductor)==null?void 0:Q.trim())??""}),Fe=E(()=>i(Ce).length>0),Xe=E(()=>i(Fe)?Ze(i(Ce)):""),ye=E(()=>Ze(i(re).band)),Oe=E(()=>i(re).streaming??null);var ft=n0(),T=_(ft),Y=_(T),ee=$(T),me=_(ee),Be=$(ee),Ge=_(Be),De=_(Ge),ut=$(Be),vt=_(ut),dt=$(ut),It=_(dt),Nt=$(dt),ht=_(Nt);{var et=Q=>{var W=W_(),de=_(W);X(he=>{L(W,"href",he),z(de,i(Ce))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(i(Xe))}`]),y(Q,W)},Qt=Q=>{var W=Z_();y(Q,W)};V(ht,Q=>{i(Fe)?Q(et):Q(Qt,!1)})}var cn=$(Nt),Vt=_(cn);{var fn=Q=>{var W=e0(),de=_(W);{var he=te=>{var ve=Q_();X(J=>{L(ve,"href",i(Oe).spotify),L(ve,"title",J)},[()=>d(i(g).name,i(Oe),"spotify")]),y(te,ve)};V(de,te=>{var ve;(ve=i(Oe))!=null&&ve.spotify&&te(he)})}var xe=$(de,2);{var G=te=>{const ve=E(()=>f(i(Oe).apple_music));var J=Je(),ke=we(J);{var je=Ee=>{var ot=J_();X(tt=>{L(ot,"href",i(ve)),L(ot,"title",tt)},[()=>d(i(g).name,i(Oe),"apple")]),y(Ee,ot)};V(ke,Ee=>{i(ve)&&Ee(je)})}y(te,J)};V(xe,te=>{var ve;(ve=i(Oe))!=null&&ve.apple_music&&te(G)})}y(Q,W)},dn=Q=>{var W=t0();y(Q,W)};V(Vt,Q=>{c(i(Oe))?Q(fn):Q(dn,!1)})}X((Q,W,de)=>{z(Y,i(re).entry.year),z(me,i(re).entry.division),L(Ge,"href",Q),z(De,i(re).band),z(vt,W),z(It,de)},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(i(ye))}`,()=>u(i(re).entry.rank),()=>l(i(re).entry.points)]),y(oe,ft)}),X(()=>{z(B,i(g).name),z(_e,`${i(g).performances.length??""} fremfÃ¸ringer`),L(ne,"aria-label",`FremfÃ¸ringer av ${i(g).name}`)}),y(h,S)}),y(e,p),nr()}var s0=A('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),o0=A('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),l0=A('<section class="composers-view svelte-1njzana"></section>');function u0(e,t){tr(t,!0);let n=St(t,"composers",19,()=>[]),r=St(t,"bandType",3,"wind"),a=E(()=>[...n()].sort((o,l)=>o.name.localeCompare(l.name)));var s=l0();Ye(s,21,()=>i(a),Ke,(o,l)=>{var u=o0(),c=_(u),f=_(c),d=_(f),v=_(d),p=$(d,2),h=_(p),g=$(c,2);Ye(g,21,()=>i(l).pieces,Ke,(x,S)=>{var M=s0(),N=_(M),H=_(N);X(B=>{L(N,"href",B),z(H,i(S).name)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(S).slug)}`]),y(x,M)}),X(()=>{z(v,i(l).name),z(h,`${i(l).pieces.length??""} ${i(l).pieces.length===1?"stykke":"stykker"}`)}),y(o,u)}),y(e,s),nr()}function c0(e,t){j(t,!i(t))}function f0(e,t){j(t,!i(t))}function d0(e,t,n,r,a,s){t(i(n)==="dark"?"light":"dark"),r(),a(),s()}function v0(e,t,n,r,a,s){t(i(n)==="wind"?"brass":"wind"),r(),a(),s()}function h0(e,t,n){j(t,e.target.value,!0),j(n,-1)}function p0(e,t,n,r){i(t).length&&(e.key==="ArrowDown"?(e.preventDefault(),j(n,(i(n)+1)%i(t).length)):e.key==="ArrowUp"?(e.preventDefault(),j(n,(i(n)-1+i(t).length)%i(t).length)):e.key==="Enter"&&i(n)>=0&&(e.preventDefault(),r(i(t)[i(n)])))}var _0=(e,t,n)=>t(i(n)),g0=A('<button type="button"> </button>'),m0=A('<div role="option" tabindex="-1"> </div>'),y0=A('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),w0=A('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!>',1),b0=A('<section class="status svelte-1n46o8q">Laster dataâ¦</section>'),x0=A('<section class="status error svelte-1n46o8q"> </section>'),k0=A('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),S0=(e,t)=>t("absolute"),N0=(e,t)=>t("relative"),M0=(e,t)=>t("absolute"),$0=(e,t)=>t("relative"),E0=A('<div class="mode-toggle__menu svelte-1n46o8q" id="mode-toggle-menu" role="menu"><button type="button">Absolutt</button> <button type="button">Relativ</button></div>'),A0=A('<p class="comparison-summary svelte-1n46o8q"> </p>'),T0=A('<section class="chart-card svelte-1n46o8q"><div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Plassering:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg plasseringsvisning"><button type="button">Absolutt</button> <button type="button">Relativ</button></div> <button type="button" class="mode-toggle__menu-trigger svelte-1n46o8q" aria-controls="mode-toggle-menu">Tilpass</button> <!></div> <div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),I0=(e,t,n)=>t(i(n).slug),P0=A('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">Ã</button></span>'),C0=A('<!> <div class="selected-entities selected-entities--below svelte-1n46o8q" role="list"></div> <!>',1),R0=A('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),q0=A('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><div class="page-header__title svelte-1n46o8q"><h1 class="svelte-1n46o8q"> </h1> <button class="menu-toggle svelte-1n46o8q" type="button" aria-controls="primary-controls"><span class="menu-toggle__icon svelte-1n46o8q" aria-hidden="true">â°</span> <span class="menu-toggle__text svelte-1n46o8q">Meny</span></button></div> <div id="primary-controls"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button class="band-type-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="band-type-toggle__text svelte-1n46o8q"> </span></button> <button class="theme-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="theme-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function L0(e,t){tr(t,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},r="mode",a="view",s="type",o=",",l="relative",u="bands",c="wind",f="nmkorps-theme",d="nmkorps-band-type",v={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat"},p=["bands","conductors","pieces","composers","data"];let h=Me(null),g=Me(zt([])),x=Me(zt([])),S=Me(zt([])),M=Me(!0),N=Me(null),H=Me(""),B=Me(zt([])),U=Me(zt([])),Z=Me(zt([])),fe=Me(zt([])),Le=Me(-1),_e=!1,ne="",se=Me(l),I=Me(u),oe=Me("dark"),re=Me("wind"),Ce=Me(!1),Fe=Me(!1),Xe=Me(!1),ye=new Map,Oe=new Map,ft=Me(null);function T(m){const k=new Map;for(const R of m){if(!R||!R.slug)continue;const F=R.slug.trim();if(!F)continue;const P=k.get(F);P?P.push(R):k.set(F,[R])}return k}function Y(m){var R,F;const k=new Map;for(const P of m){if(!P)continue;const ae=Number(P.year);if(!Number.isFinite(ae))continue;const ie=P.division_slug??P.division,le=P.band_slug??P.band,ge=P.result_piece_slug??P.result_piece;if(!ie||!le||!ge)continue;const Pe=Ze(ie),pe=Ze(le);if(Pe==="uidentifisert"||!pe||pe==="uidentifisert")continue;const at=new Set,st=Ze(ge);if(st!=="uidentifisert"&&at.add(st),P.alternate_result_piece_slugs&&Array.isArray(P.alternate_result_piece_slugs))for(const tn of P.alternate_result_piece_slugs){const Rn=tn?Ze(tn):"";Rn&&Rn!=="uidentifisert"&&at.add(Rn)}if(P.result_piece&&P.result_piece.trim()){const tn=Ze(P.result_piece);tn!=="uidentifisert"&&at.add(tn)}if(!at.size)continue;const vn=typeof P.spotify=="string"&&P.spotify.trim().length>0?P.spotify.trim():null,en=typeof P.apple_music=="string"&&P.apple_music.trim().length>0?P.apple_music.trim():null;if(!vn&&!en)continue;const Sn={spotify:vn,apple_music:en,album:((R=P.album)==null?void 0:R.trim())??null,recording_title:((F=P.recording_title)==null?void 0:F.trim())??null};for(const tn of at){const Rn=`${ae}|${Pe}|${pe}|${tn}`;k.set(Rn,Sn)}}return k}function ee(m,k,R){if(!Oe.size)return null;const F=Ze(m.division),P=Ze(k);if(F==="uidentifisert"||!P||P==="uidentifisert")return null;const ae=`${m.year}|${F}|${P}`;let ie=ut(R);if(!ie.length){const le=Ze(R);ie=le!=="uidentifisert"?[le]:[]}for(const le of ie){const ge=`${ae}|${le}`,Pe=Oe.get(ge);if(Pe)return Pe}return null}const me=/["'Â«Â»ââââ]/g,Be=/\([^)]*\)/g;function Ge(m){return m.replace(Be," ")}function De(m){return m.replace(me,"").replace(/\s+/g," ").trim().toLowerCase()}function ut(m){const k=m.trim();if(!k)return[];const R=new Set,F=Ze(k);F!=="uidentifisert"&&R.add(F);const P=Ge(k),ae=Ze(P);ae!=="uidentifisert"&&R.add(ae);const ie=De(k),le=Ze(ie.replace(/[-ââ]/g," "));le!=="uidentifisert"&&R.add(le);const ge=Ze(ie.replace(/[:;Â·]/g," "));ge!=="uidentifisert"&&R.add(ge);const Pe=[];P.includes("-")&&Pe.push(P.split(/[-ââ]/)[0]),P.includes(":")&&Pe.push(P.split(":")[0]);for(const pe of Pe){const at=Ze(pe);at!=="uidentifisert"&&R.add(at)}return Array.from(R)}function vt(m,k){const R=ut(m);if(!R.length)return null;const F=De(m),P=De(Ge(m));for(const ae of R){const ie=k.get(ae);if(!ie||ie.length===0)continue;if(ie.length===1)return ie[0].composer??null;const le=ie.find(Pe=>De(Pe.title)===F);if(le)return le.composer??null;const ge=ie.find(Pe=>De(Ge(Pe.title))===P);return ge?ge.composer??null:ie[0].composer??null}return null}function dt(m,k){const R=Array.isArray(m.pieces)?[...m.pieces]:m.pieces!=null?[`${m.pieces}`.trim()].filter(Boolean):[],F={...m,pieces:R,conductor:m.conductor};return k&&(F.band_name=k),F}function It(m){var R;const k=new Map;for(const F of m)for(const P of F.entries){const ae=(R=P.conductor)==null?void 0:R.trim();if(!ae)continue;const ie=Ze(ae);let le=k.get(ie);le||(le={name:ae,slug:ie,years:new Map},k.set(ie,le));let ge=le.years.get(P.year);ge||(ge={entries:[]},le.years.set(P.year,ge)),ge.entries.push(dt(P,F.name))}return Array.from(k.values()).map(F=>({name:F.name,slug:F.slug,entries:Array.from(F.years.entries()).map(([P,ae])=>{const ie=[...ae.entries].sort((ge,Pe)=>{const pe=ge.absolute_position??Number.POSITIVE_INFINITY,at=Pe.absolute_position??Number.POSITIVE_INFINITY;return pe!==at?pe-at:(ge.rank??Number.POSITIVE_INFINITY)-(Pe.rank??Number.POSITIVE_INFINITY)});return{...ie[0],year:P,conductor:F.name,aggregate_entries:ie}}).sort((P,ae)=>P.year-ae.year)})).sort((F,P)=>F.name.localeCompare(P.name))}function Nt(m,k){var F;const R=new Map;for(const P of m)for(const ae of P.entries){const ie=Array.isArray(ae.pieces)?ae.pieces:ae.pieces!=null?[`${ae.pieces}`]:[];for(const le of ie){const ge=le.trim();if(!ge)continue;const Pe=Ze(ge);let pe=R.get(Pe);const at=vt(ge,k),st=at?Qa(at):[],vn=st.length>0?st.join(", "):null;pe?(!pe.composer||!((F=pe.composerNames)!=null&&F.length))&&vn&&(pe.composer=vn,pe.composerNames=st):(pe={name:ge,slug:Pe,composer:vn,composerNames:st,performances:[]},R.set(Pe,pe));const en=ee(ae,P.name,ge);pe.performances.push({band:P.name,entry:ae,streaming:en})}}return Array.from(R.values()).map(P=>({...P,performances:P.performances.map(({band:ae,entry:ie,streaming:le})=>({band:ae,entry:{...ie,pieces:[...ie.pieces]},streaming:le??null}))})).sort((P,ae)=>P.name.localeCompare(ae.name))}function ht(m){const k=new Map;for(const F of m){const P=F.composerNames&&F.composerNames.length>0?F.composerNames:Qa(F.composer??null);if(P.length)for(const ae of P){const ie=Vl(ae);if(!ie)continue;const le=Ze(ie);if(le==="uidentifisert")continue;let ge=k.get(le);ge||(ge={name:ie,slug:le,normalized:ie.toLowerCase(),pieces:new Map},k.set(le,ge)),ge.pieces.has(F.slug)||ge.pieces.set(F.slug,{name:F.name,slug:F.slug})}}const R=Array.from(k.values()).map(F=>({name:F.name,slug:F.slug,normalized:F.normalized,pieces:Array.from(F.pieces.values()).sort((P,ae)=>P.name.localeCompare(ae.name))})).sort((F,P)=>F.name.localeCompare(P.name));return new Map(R.map(F=>[F.slug,F])),R}function et(m){return m==="data"?"data":n[m]}function Qt(){if(typeof window>"u")return l;const k=new URLSearchParams(window.location.search).get(r);return(k?k.toLowerCase():null)==="absolute"?"absolute":"relative"}function cn(){var k;if(typeof window>"u")return"dark";try{const R=window.localStorage.getItem(f);if(R==="light"||R==="dark")return R}catch(R){console.error("Kunne ikke lese lagret tema",R)}return((k=window.matchMedia)==null?void 0:k.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function Vt(m){typeof document>"u"||(m==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function fn(){var R;if(typeof window>"u")return c;const k=(R=new URLSearchParams(window.location.search).get(s))==null?void 0:R.toLowerCase();return k==="brass"||k==="brassband"?"brass":k==="wind"||k==="janitsjar"?"wind":c}function dn(){var R;if(typeof window>"u")return c;const k=(R=new URLSearchParams(window.location.search).get(s))==null?void 0:R.toLowerCase();if(k==="brass"||k==="brassband")return"brass";if(k==="wind"||k==="janitsjar")return"wind";try{const F=window.localStorage.getItem(d);if(F==="wind"||F==="brass")return F}catch(F){console.error("Kunne ikke lese lagret korptype",F)}return c}function Q(m){typeof document>"u"||(document.documentElement.dataset.bandType=m)}function W(m){if(j(oe,m,!0),Vt(m),typeof window<"u")try{window.localStorage.setItem(f,m)}catch(k){console.error("Kunne ikke lagre tema",k)}}function de(m,k=!0){if(i(re)!==m){if(j(re,m,!0),Q(m),typeof window<"u")try{window.localStorage.setItem(d,m)}catch(R){console.error("Kunne ikke lagre korptype",R)}if(j(B,[],!0),j(U,[],!0),j(Z,[],!0),j(fe,[],!0),j(H,""),j(Le,-1),k&&typeof window<"u"){const R=new URLSearchParams;R.set(s,m);const F=`${window.location.pathname}?${R.toString()}${window.location.hash}`;window.history.replaceState({},"",F)}j(M,!0),j(N,null),j(h,null),j(g,[],!0),j(x,[],!0),j(S,[],!0),Oe=new Map,wt(m)}}function he(){j(Ce,!1)}function xe(){j(Fe,!1)}function G(){j(Xe,!1)}function te(){var R;if(typeof window>"u")return u;const k=(R=new URLSearchParams(window.location.search).get(a))==null?void 0:R.toLowerCase();return k?k==="conductors"||k==="dirigent"||k==="conductor"?"conductors":k==="pieces"||k==="piece"||k==="stykke"||k==="stykker"?"pieces":k==="composers"||k==="komponist"||k==="composer"?"composers":k==="data"||k==="resultat"||k==="results"?"data":"bands":u}function ve(m){if(typeof window>"u")return[];const R=new URLSearchParams(window.location.search).get(et(m));return R?R.split(o).map(F=>decodeURIComponent(F.trim())).filter(Boolean):[]}function J(m,k){if(!m.length||!k.length)return[];const R=new Map(m.map(F=>[F.slug,F]));return k.map(F=>R.get(F)??R.get(F.toLowerCase())).filter(F=>!!F)}function ke(m,k){return m.length!==k.length?!1:m.every((R,F)=>R.slug===k[F].slug)}function je(){if(typeof window>"u")return;const m=new URLSearchParams(window.location.search);m.set(s,i(re));const k=i(B).map(le=>encodeURIComponent(le.slug)).join(o);k.length?m.set(et("bands"),k):m.delete(et("bands"));const R=i(U).map(le=>encodeURIComponent(le.slug)).join(o);R.length?m.set(et("conductors"),R):m.delete(et("conductors"));const F=i(Z).map(le=>encodeURIComponent(le.slug)).join(o);F.length?m.set(et("pieces"),F):m.delete(et("pieces"));const P=i(fe).map(le=>encodeURIComponent(le.slug)).join(o);P.length?m.set(et("composers"),P):m.delete(et("composers")),m.set(r,i(se)),m.set(a,i(I));const ae=m.toString(),ie=`${window.location.pathname}${ae?`?${ae}`:""}${window.location.hash}`;window.history.replaceState({},"",ie)}function Ee({updateHistory:m=!1}={}){const k=Qt(),R=te(),F=fn();let P=!1;if(F!==i(re))return de(F,!1),P=!0,P;if(k!==i(se)&&(j(se,k,!0),P=!0),R!==i(I)&&(j(I,R,!0),P=!0),!i(h))return m&&je(),P;const ae=J(i(h).bands,ve("bands"));ke(i(B),ae)||(j(B,ae,!0),P=!0),i(g).length||j(g,It(i(h).bands),!0);const ie=J(i(g),ve("conductors"));ke(i(U),ie)||(j(U,ie,!0),P=!0),i(x).length||(j(x,Nt(i(h).bands,ye),!0),j(S,ht(i(x)),!0));const le=J(i(x),ve("pieces"));ke(i(Z),le)||(j(Z,le,!0),P=!0),i(S).length||j(S,ht(i(x)),!0);const ge=J(i(S),ve("composers"));return ke(i(fe),ge)||(j(fe,ge,!0),P=!0),m&&je(),P}function ot(){const m=i(B).map(P=>P.slug).join(o),k=i(U).map(P=>P.slug).join(o),R=i(Z).map(P=>P.slug).join(o),F=i(fe).map(P=>P.slug).join(o);return`${i(re)}|${i(I)}|${i(se)}|${m}|${k}|${R}|${F}`}function tt(){if(!_e)return;const m=ot();m!==ne&&(je(),ne=m)}function pt(m){if(i(I)==="bands"){if(i(B).some(k=>k.slug===m.slug))return;j(B,[...i(B),m],!0)}else if(i(I)==="conductors"){if(i(U).some(k=>k.slug===m.slug))return;j(U,[...i(U),m],!0)}else if(i(I)==="pieces"){const k=m;if(i(Z).some(R=>R.slug===k.slug))return;j(Z,[...i(Z),k],!0)}else if(i(I)==="composers"){const k=m;if(i(fe).some(R=>R.slug===k.slug))return;j(fe,[...i(fe),k],!0)}j(H,""),j(Le,-1),tt()}function Re(m){i(I)==="bands"?j(B,i(B).filter(k=>k.slug!==m),!0):i(I)==="conductors"?j(U,i(U).filter(k=>k.slug!==m),!0):i(I)==="pieces"?j(Z,i(Z).filter(k=>k.slug!==m),!0):i(I)==="composers"&&j(fe,i(fe).filter(k=>k.slug!==m),!0),j(Le,-1),tt()}function Ae(){if(i($t).length===0)return;const m=i(q).find(k=>k.name.toLowerCase()===i(b));m?pt(m):i(K).length>0&&pt(i(K)[0])}function bt(m){if(m===i(I)){he(),xe();return}j(I,m,!0),j(H,""),j(Le,-1),he(),xe(),tt()}function yt(m){if(i(se)===m){xe();return}j(se,m,!0),xe(),tt()}async function Mt(){try{const m=await fetch("data/elite_test_pieces.json",{cache:"no-cache"});if(!m.ok)throw new Error("Failed to load elite_test_pieces.json");j(ft,await m.json(),!0)}catch(m){console.error("Could not load Elite test pieces:",m),j(ft,null)}}async function wt(m){try{const k=m==="wind"?"data/band_positions.json":"data/brass_positions.json",R=m==="wind"?"data/piece_metadata.json":"data/brass_piece_metadata.json",F="data/piece_streaming_links.json",[P,ae,ie]=await Promise.all([fetch(k),fetch(R),fetch(F)]);if(m==="brass"&&i(ft)===null&&await Mt(),!P.ok)throw new Error(`Kunne ikke laste data (status ${P.status})`);let le=[];if(ae.ok)try{const pe=await ae.json();le=(Array.isArray(pe.pieces)?pe.pieces:[]).filter(st=>!!(st!=null&&st.title&&(st!=null&&st.slug))).map(st=>({title:st.title.trim(),slug:st.slug.trim(),composer:st.composer??null}))}catch(pe){console.warn("Kunne ikke tolke stykke-metadata",pe)}else console.warn(`Kunne ikke laste stykke-metadata (status ${ae.status})`);ye=T(le);let ge=[];if(ie.ok)try{const pe=await ie.json(),at=pe==null?void 0:pe[m];Array.isArray(at)&&(ge=at.filter(st=>!!st))}catch(pe){console.warn("Kunne ikke tolke opptakslenker",pe)}else ie.status!==404&&console.warn(`Kunne ikke laste opptakslenker (status ${ie.status})`);Oe=Y(ge);const Pe=await P.json();j(h,Pe,!0),j(g,It(Pe.bands),!0),j(x,Nt(Pe.bands,ye),!0),j(S,ht(i(x)),!0),Ee({updateHistory:!1}),ne=ot(),je(),_e=!0}catch(k){j(N,k instanceof Error?k.message:"Ukjent feil ved lasting av data.",!0)}finally{j(M,!1)}}Xi(async()=>{const m=cn();j(oe,m,!0),Vt(m);const k=dn();j(re,k,!0),Q(k),await wt(k)}),Xi(()=>{const m=()=>{i(h)&&(Ee({updateHistory:!1}),ne=ot())};return window.addEventListener("popstate",m),()=>window.removeEventListener("popstate",m)}),fi(()=>{document.title=i(re)==="wind"?"NM Janitsjar - Resultatoversikt":"NM Brass - Resultatoversikt"});let $t=E(()=>i(H).trim()),b=E(()=>i($t).toLowerCase()),w=E(()=>i(I)==="bands"||i(I)==="conductors"||i(I)==="pieces"||i(I)==="composers"),q=E(()=>{var m;return i(w)?i(I)==="bands"?((m=i(h))==null?void 0:m.bands)??[]:i(I)==="conductors"?i(g):i(I)==="pieces"?i(x):i(S):[]}),C=E(()=>i(I)==="bands"?i(B):i(I)==="conductors"?i(U):i(I)==="pieces"?i(Z):i(I)==="composers"?i(fe):[]),K=E(()=>i(w)&&i(q)&&i(b).length>=2?i(q).filter(m=>m.name.toLowerCase().includes(i(b))&&!i(C).some(k=>k.slug===m.slug)).slice(0,10):[]),D=E(()=>i(h)?i(h).metadata.years:[]),Se=E(()=>i(h)?i(h).metadata.max_field_size:0),Te=E(()=>{var m;return i(w)?i(I)==="bands"?((m=i(h))==null?void 0:m.bands.length)??0:i(I)==="conductors"?i(g).length:i(I)==="pieces"?i(x).length:i(S).length:0}),We=E(()=>i(I)==="bands"?"korps":i(I)==="conductors"?"dirigenter":i(I)==="pieces"?"stykker":"komponister"),ct=E(()=>i(h)?`Dekker ${i(Te)} ${i(We)} Â· ${i(D).length} Ã¥r (${i(h).metadata.min_year}â${i(h).metadata.max_year})`:""),Ue=E(()=>i(I)==="bands"?"Begynn Ã¥ skrive et korpsnavn (minst 2 bokstaver)â¦":i(I)==="conductors"?"Begynn Ã¥ skrive et dirigentnavn (minst 2 bokstaver)â¦":i(I)==="pieces"?"Begynn Ã¥ skrive en stykketittel (minst 2 bokstaver)â¦":i(I)==="composers"?"Begynn Ã¥ skrive et komponistnavn (minst 2 bokstaver)â¦":""),nt=E(()=>i(I)==="bands"?"SÃ¸k etter korps":i(I)==="conductors"?"SÃ¸k etter dirigent":i(I)==="pieces"?"SÃ¸k etter musikkstykke":"SÃ¸k etter komponist"),Ne=E(()=>i(I)==="bands"?"Korpsforslag":i(I)==="conductors"?"Dirigentforslag":i(I)==="pieces"?"Stykke-forslag":"Komponistforslag"),lt=E(()=>i(I)==="bands"?"Valgte korps":i(I)==="conductors"?"Valgte dirigenter":i(I)==="pieces"?"Valgte stykker":"Valgte komponister"),it=E(()=>i(I)==="bands"?"Ingen korps valgt ennÃ¥":i(I)==="conductors"?"Ingen dirigenter valgt ennÃ¥":i(I)==="pieces"?"Ingen stykker valgt ennÃ¥":"Ingen komponister valgt ennÃ¥"),xt=E(()=>i(I)==="bands"?"Finn et navn i sÃ¸kefeltet for Ã¥ tegne kurven for samlet plassering.":i(I)==="conductors"?"Finn en dirigent i sÃ¸kefeltet for Ã¥ tegne kurven for samlet plassering.":i(I)==="pieces"?"Finn et musikkstykke i sÃ¸kefeltet for Ã¥ se alle registrerte fremfÃ¸ringer.":"Finn en komponist i sÃ¸kefeltet for Ã¥ se hvilke stykker vi har registrert av dem."),Ve=E(()=>i(I)==="bands"?i(re)==="wind"?"SÃ¸k etter et janitsjarkorps for Ã¥ se hvordan den samlede plasseringen utvikler seg Ã¥r for Ã¥r, pÃ¥ tvers av alle divisjoner.":"SÃ¸k etter et brassband for Ã¥ se hvordan den samlede plasseringen utvikler seg Ã¥r for Ã¥r, pÃ¥ tvers av alle divisjoner.":i(I)==="conductors"?"SÃ¸k etter en dirigent for Ã¥ se hvordan deres beste plassering utvikler seg Ã¥r for Ã¥r, basert pÃ¥ korpsene de dirigerte.":i(I)==="pieces"?"SÃ¸k etter et musikkstykke for Ã¥ se alle fremfÃ¸ringer vi har registrert.":i(I)==="composers"?"SÃ¸k etter en komponist for Ã¥ se hvilke NM-stykker de stÃ¥r bak.":"Velg et Ã¥r og en divisjon for Ã¥ vise resultatlisten i den valgte finalen."),He=E(()=>i(oe)==="dark"?"Bytt til lyst tema":"Bytt til mÃ¸rkt tema"),Ie=E(()=>i(oe)==="dark"?"MÃ¸rk":"Lys"),qe=E(()=>i(oe)==="dark"?"ð":"âï¸"),_t=E(()=>i(re)==="wind"?"Bytt til brassband":"Bytt til janitsjarkorps"),Ht=E(()=>i(re)==="wind"?"Janitsjar":"Brass"),Kt=E(()=>i(re)==="wind"?"ð·":"ðº"),Pt=E(()=>i(Ce)?"Lukk meny":"Ãpne meny"),ce=E(()=>i(Fe)?"Lukk tilpassingsmeny":"Ãpne tilpassingsmeny"),rt=E(()=>i(C).length===1?i(C)[0].name:i(C).length>1?`${i(C).length} ${i(We)} valgt`:""),Et=E(()=>i(C).length>1?i(C).map(m=>m.name).join(" Â· "):""),Cn=E(()=>i(I)==="pieces"?i(C):[]),Xt=E(()=>i(I)==="composers"?i(C):[]),Jt=E(()=>i(I)==="bands"||i(I)==="conductors"?i(C):[]);var rr=q0(),Sr=_(rr),gt=_(Sr),Ot=_(gt),At=_(Ot),mt=$(Ot,2);mt.__click=[c0,Ce];var ir=$(gt,2);let Ni;var Mi=_(ir);Ye(Mi,21,()=>p,Ke,(m,k)=>{var R=g0();R.__click=[_0,bt,k];let F;var P=_(R);X(ae=>{L(R,"aria-pressed",i(I)===i(k)),F=Mn(R,1,"svelte-1n46o8q",null,F,ae),z(P,v[i(k)])},[()=>({selected:i(I)===i(k)})]),y(m,R)});var Un=$(Mi,2);Un.__click=[v0,de,re,G,he,xe];var Nr=_(Un),wa=_(Nr),Hl=$(Nr,2),Kl=_(Hl),ba=$(Un,2);ba.__click=[d0,W,oe,he,xe,G];var ks=_(ba),Xl=_(ks),Gl=$(ks,2),Wl=_(Gl),Ss=$(Sr,2),Zl=_(Ss),Ns=$(Ss,2);{var Ql=m=>{var k=w0(),R=we(k),F=E(()=>Xs(Ae)),P=_(R),ae=_(P),ie=$(P,2);ie.__input=[h0,H,Le],ie.__keydown=[p0,K,Le,pt];var le=$(R,2);{var ge=Pe=>{var pe=y0();Ye(pe,21,()=>i(K),Ke,(at,st,vn)=>{var en=m0(),Sn=E(()=>Xs(()=>pt(i(st))));en.__mousedown=function(...Rn){var $i;($i=i(Sn))==null||$i.apply(this,Rn)};var tn=_(en);X(()=>{Mn(en,1,`suggestion ${vn===i(Le)?"active":""}`,"svelte-1n46o8q"),L(en,"aria-selected",vn===i(Le)),z(tn,i(st).name)}),y(at,en)}),X(()=>L(pe,"aria-label",i(Ne))),y(Pe,pe)};V(le,Pe=>{i(K).length>0&&Pe(ge)})}X(()=>{z(ae,i(nt)),L(ie,"placeholder",i(Ue))}),Gt("submit",R,function(...Pe){var pe;(pe=i(F))==null||pe.apply(this,Pe)}),Xc(ie,()=>i(H),Pe=>j(H,Pe)),y(m,k)};V(Ns,m=>{i(w)&&m(Ql)})}var Jl=$(Ns,2);{var eu=m=>{var k=b0();y(m,k)},tu=m=>{var k=Je(),R=we(k);{var F=ae=>{var ie=x0(),le=_(ie);X(()=>z(le,i(N))),y(ae,ie)},P=ae=>{var ie=Je(),le=we(ie);{var ge=pe=>{var at=k0();y(pe,at)},Pe=pe=>{var at=Je(),st=we(at);{var vn=Sn=>{var tn=Je(),Rn=we(tn);{var $i=Mr=>{var Qr=C0(),Jr=we(Qr);{var xa=Ct=>{a0(Ct,{get pieces(){return i(Cn)},get bandType(){return i(re)}})},ka=Ct=>{var qn=Je(),ti=we(qn);{var $r=Ln=>{u0(Ln,{get composers(){return i(Xt)},get bandType(){return i(re)}})},Yn=Ln=>{var Ei=T0(),ni=_(Ei),Ms=$(_(ni),2),Ai=_(Ms);Ai.__click=[S0,yt];let $s;var Sa=$(Ai,2);Sa.__click=[N0,yt];let Es;var Ti=$(Ms,2);Ti.__click=[f0,Fe];var su=$(Ti,2);{var ou=hn=>{var ar=E0(),Er=_(ar);Er.__click=[M0,yt];let Ps;var Na=$(Er,2);Na.__click=[$0,yt];let Cs;X((vu,hu)=>{L(Er,"aria-pressed",i(se)==="absolute"),Ps=Mn(Er,1,"svelte-1n46o8q",null,Ps,vu),L(Na,"aria-pressed",i(se)==="relative"),Cs=Mn(Na,1,"svelte-1n46o8q",null,Cs,hu)},[()=>({selected:i(se)==="absolute"}),()=>({selected:i(se)==="relative"})]),y(hn,ar)};V(su,hn=>{i(Fe)&&hn(ou)})}var As=$(ni,2),Ts=_(As),lu=_(Ts),Is=$(Ts,2),uu=_(Is),cu=$(Is,2);{var fu=hn=>{var ar=A0(),Er=_(ar);X(()=>z(Er,i(Et))),y(hn,ar)};V(cu,hn=>{i(Et)&&hn(fu)})}var du=$(As,2);{let hn=E(()=>i(I)==="bands");Op(du,{get years(){return i(D)},get maxFieldSize(){return i(Se)},get bands(){return i(Jt)},get yMode(){return i(se)},get showConductorMarkers(){return i(hn)}})}X((hn,ar)=>{L(Ai,"aria-pressed",i(se)==="absolute"),$s=Mn(Ai,1,"svelte-1n46o8q",null,$s,hn),L(Sa,"aria-pressed",i(se)==="relative"),Es=Mn(Sa,1,"svelte-1n46o8q",null,Es,ar),L(Ti,"aria-label",i(ce)),L(Ti,"aria-expanded",i(Fe)),z(lu,i(rt)),z(uu,i(ct))},[()=>({selected:i(se)==="absolute"}),()=>({selected:i(se)==="relative"})]),y(Ln,Ei)};V(ti,Ln=>{i(I)==="composers"?Ln($r):Ln(Yn,!1)},!0)}y(Ct,qn)};V(Jr,Ct=>{i(I)==="pieces"?Ct(xa):Ct(ka,!1)})}var ei=$(Jr,2);Ye(ei,21,()=>i(C),Ke,(Ct,qn,ti)=>{var $r=P0(),Yn=_($r);Yn.textContent=ti+1;var Ln=$(Yn,2),Ei=_(Ln),ni=$(Ln,2);ni.__click=[I0,Re,qn],X(()=>{z(Ei,i(qn).name),L(ni,"aria-label",`Fjern ${i(qn).name}`)}),y(Ct,$r)});var ru=$(ei,2);{var iu=Ct=>{n_(Ct,{get bands(){return i(Jt)},get bandType(){return i(re)},streamingResolver:ee,get eliteTestPieces(){return i(ft)}})},au=Ct=>{var qn=Je(),ti=we(qn);{var $r=Yn=>{w_(Yn,{get conductors(){return i(Jt)},get bandType(){return i(re)},streamingResolver:ee})};V(ti,Yn=>{i(I)==="conductors"&&Yn($r)},!0)}y(Ct,qn)};V(ru,Ct=>{i(I)==="bands"?Ct(iu):Ct(au,!1)})}X(()=>L(ei,"aria-label",i(lt))),y(Mr,Qr)},nu=Mr=>{var Qr=R0(),Jr=_(Qr),xa=_(Jr),ka=$(Jr,2),ei=_(ka);X(()=>{z(xa,i(it)),z(ei,i(xt))}),y(Mr,Qr)};V(Rn,Mr=>{i(C).length>0?Mr($i):Mr(nu,!1)})}y(Sn,tn)},en=Sn=>{Y_(Sn,{get dataset(){return i(h)},get bandType(){return i(re)},streamingResolver:ee,get eliteTestPieces(){return i(ft)}})};V(st,Sn=>{i(w)?Sn(vn):Sn(en,!1)},!0)}y(pe,at)};V(le,pe=>{i(h)?pe(Pe,!1):pe(ge)},!0)}y(ae,ie)};V(R,ae=>{i(N)?ae(F):ae(P,!1)},!0)}y(m,k)};V(Jl,m=>{i(M)?m(eu):m(tu,!1)})}X(m=>{z(At,i(re)==="wind"?"NM Janitsjar":"NM Brass"),L(mt,"aria-label",i(Pt)),L(mt,"aria-expanded",i(Ce)),Ni=Mn(ir,1,"header-controls svelte-1n46o8q",null,Ni,m),L(Un,"aria-label",i(_t)),z(wa,i(Kt)),z(Kl,i(Ht)),L(ba,"aria-label",i(He)),z(Xl,i(qe)),z(Wl,i(Ie)),z(Zl,i(Ve))},[()=>({"header-controls--mobile-open":i(Ce)})]),y(e,rr),nr()}al(["click","input","keydown","mousedown"]);qc(L0,{target:document.getElementById("app")});
