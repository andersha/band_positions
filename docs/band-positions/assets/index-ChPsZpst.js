var cu=Object.defineProperty;var Cs=t=>{throw TypeError(t)};var fu=(t,e,n)=>e in t?cu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var br=(t,e,n)=>fu(t,typeof e!="symbol"?e+"":e,n),ba=(t,e,n)=>e.has(t)||Cs("Cannot "+n);var $=(t,e,n)=>(ba(t,e,"read from private field"),n?n.call(t):e.get(t)),xt=(t,e,n)=>e.has(t)?Cs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),rt=(t,e,n,r)=>(ba(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),de=(t,e,n)=>(ba(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const du="5";var wo;typeof window<"u"&&((wo=window.__svelte??(window.__svelte={})).v??(wo.v=new Set)).add(du);const ia=1,aa=2,bo=4,hu=8,vu=16,pu=1,_u=4,gu=8,mu=16,xo=1,yu=2,le=Symbol(),wu="http://www.w3.org/1999/xhtml",ko=!1;var Ga=Array.isArray,bu=Array.prototype.indexOf,Wa=Array.from,$a=Object.defineProperty,Sr=Object.getOwnPropertyDescriptor,xu=Object.getOwnPropertyDescriptors,ku=Object.prototype,Eu=Array.prototype,Eo=Object.getPrototypeOf,Is=Object.isExtensible;function So(t){for(var e=0;e<t.length;e++)t[e]()}function Su(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const Re=2,Za=4,Qa=8,qr=16,Mn=32,ur=64,Ja=128,Ye=256,zi=512,ce=1024,He=2048,Un=4096,Je=8192,cr=16384,ts=32768,sa=65536,Rs=1<<17,Mu=1<<18,zr=1<<19,Au=1<<20,Ta=1<<21,es=1<<22,er=1<<23,ei=Symbol("$state"),Nu=Symbol("legacy props"),$u=Symbol(""),ns=new class extends Error{constructor(){super(...arguments);br(this,"name","StaleReactionError");br(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Mo(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Tu(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Cu(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Iu(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ru(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Pu(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Lu(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Fu(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ou(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Du(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function qu(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function zu(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Bu=!1;function Ao(t){return t===this.v}function Uu(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Yu(t,e){return t!==e}function No(t){return!Uu(t,this.v)}let Vu=!1,Ae=null;function Ir(t){Ae=t}function Br(t,e=!1,n){Ae={p:Ae,c:null,e:null,s:t,x:null,l:null}}function Ur(t){var e=Ae,n=e.e;if(n!==null){e.e=null;for(var r of n)Yo(r)}return Ae=e.p,{}}function $o(){return!0}let Dn=[],Bi=[];function To(){var t=Dn;Dn=[],So(t)}function Hu(){var t=Bi;Bi=[],So(t)}function ju(){return Dn.length>0||Bi.length>0}function Yr(t){if(Dn.length===0&&!ni){var e=Dn;queueMicrotask(()=>{e===Dn&&To()})}Dn.push(t)}function Xu(){Dn.length>0&&To(),Bi.length>0&&Hu()}const Ku=new WeakMap;function Co(t){var e=vt;if(e===null)return ot.f|=er,t;if(e.f&ts)Rr(t,e);else{if(!(e.f&Ja))throw!e.parent&&t instanceof Error&&Io(t),t;e.b.error(t)}}function Rr(t,e){for(;e!==null;){if(e.f&Ja)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&Io(t),t}function Io(t){const e=Ku.get(t);e&&($a(t,"message",{value:e.message}),$a(t,"stack",{value:e.stack}))}const xa=new Set;let $t=null,Ii=null,Ca=new Set,ar=[],oa=null,Ia=!1,ni=!1;var ci,$r,Rn,fi,di,Wn,Tr,Zn,Pn,Cr,hi,vi,tn,Ro,Ri,Ra;const ea=class ea{constructor(){xt(this,tn);br(this,"current",new Map);xt(this,ci,new Map);xt(this,$r,new Set);xt(this,Rn,0);xt(this,fi,null);xt(this,di,!1);xt(this,Wn,[]);xt(this,Tr,[]);xt(this,Zn,[]);xt(this,Pn,[]);xt(this,Cr,[]);xt(this,hi,[]);xt(this,vi,[]);br(this,"skipped_effects",new Set)}process(e){var i;ar=[],Ii=null;for(const s of e)de(this,tn,Ro).call(this,s);if($(this,Wn).length===0&&$(this,Rn)===0){de(this,tn,Ra).call(this);var n=$(this,Zn),r=$(this,Pn);rt(this,Zn,[]),rt(this,Pn,[]),rt(this,Cr,[]),Ii=$t,$t=null,Ps(n),Ps(r),$t===null?$t=this:xa.delete(this),(i=$(this,fi))==null||i.resolve()}else de(this,tn,Ri).call(this,$(this,Zn)),de(this,tn,Ri).call(this,$(this,Pn)),de(this,tn,Ri).call(this,$(this,Cr));for(const s of $(this,Wn))Ar(s);for(const s of $(this,Tr))Ar(s);rt(this,Wn,[]),rt(this,Tr,[])}capture(e,n){$(this,ci).has(e)||$(this,ci).set(e,n),this.current.set(e,e.v)}activate(){$t=this}deactivate(){$t=null,Ii=null;for(const e of Ca)if(Ca.delete(e),e(),$t!==null)break}neuter(){rt(this,di,!0)}flush(){ar.length>0?Po():de(this,tn,Ra).call(this),$t===this&&($(this,Rn)===0&&xa.delete(this),this.deactivate())}increment(){rt(this,Rn,$(this,Rn)+1)}decrement(){if(rt(this,Rn,$(this,Rn)-1),$(this,Rn)===0){for(const e of $(this,hi))Me(e,He),Pr(e);for(const e of $(this,vi))Me(e,Un),Pr(e);rt(this,Zn,[]),rt(this,Pn,[]),this.flush()}else this.deactivate()}add_callback(e){$(this,$r).add(e)}settled(){return($(this,fi)??rt(this,fi,Su())).promise}static ensure(){if($t===null){const e=$t=new ea;xa.add($t),ni||ea.enqueue(()=>{$t===e&&e.flush()})}return $t}static enqueue(e){Yr(e)}};ci=new WeakMap,$r=new WeakMap,Rn=new WeakMap,fi=new WeakMap,di=new WeakMap,Wn=new WeakMap,Tr=new WeakMap,Zn=new WeakMap,Pn=new WeakMap,Cr=new WeakMap,hi=new WeakMap,vi=new WeakMap,tn=new WeakSet,Ro=function(e){var f;e.f^=ce;for(var n=e.first;n!==null;){var r=n.f,i=(r&(Mn|ur))!==0,s=i&&(r&ce)!==0,o=s||(r&Je)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(i)n.f^=ce;else if(r&Za)$(this,Pn).push(n);else if(!(r&ce))if(r&es){var l=(f=n.b)!=null&&f.is_pending()?$(this,Tr):$(this,Wn);l.push(n)}else fa(n)&&(n.f&qr&&$(this,Cr).push(n),Ar(n));var u=n.first;if(u!==null){n=u;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},Ri=function(e){for(const n of e)(n.f&He?$(this,hi):$(this,vi)).push(n),Me(n,ce);e.length=0},Ra=function(){if(!$(this,di))for(const e of $(this,$r))e();$(this,$r).clear()};let zn=ea;function Gu(t){var e=ni;ni=!0;try{for(var n;;){if(Xu(),ar.length===0&&!ju()&&($t==null||$t.flush(),ar.length===0))return oa=null,n;Po()}}finally{ni=e}}function Po(){var t=Mr;Ia=!0;try{var e=0;for(Os(!0);ar.length>0;){var n=zn.ensure();if(e++>1e3){var r,i;Wu()}n.process(ar),Bn.clear()}}finally{Ia=!1,Os(t),oa=null}}function Wu(){try{Pu()}catch(t){Rr(t,oa)}}let kn=null;function Ps(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if(!(r.f&(cr|Je))&&fa(r)&&(kn=[],Ar(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?jo(r):r.fn=null),(kn==null?void 0:kn.length)>0)){Bn.clear();for(const i of kn)Ar(i);kn=[]}}kn=null}}function Pr(t){for(var e=oa=t;e.parent!==null;){e=e.parent;var n=e.f;if(Ia&&e===vt&&n&qr)return;if(n&(ur|Mn)){if(!(n&ce))return;e.f^=ce}}ar.push(e)}function Zu(t){let e=0,n=sr(0),r;return()=>{pc()&&(a(n),as(()=>(e===0&&(r=Hr(()=>t(()=>ri(n)))),e+=1,()=>{Yr(()=>{e-=1,e===0&&(r==null||r(),r=void 0,ri(n))})})))}}var Qu=sa|zr|Ja;function Ju(t,e,n){new tc(t,e,n)}var Ge,qe,Ka,dn,Qn,hn,ze,xe,vn,Ln,Jn,Fn,tr,On,na,ra,pe,ec,nc,Pi,Li,Pa;class tc{constructor(e,n,r){xt(this,pe);br(this,"parent");xt(this,Ge,!1);xt(this,qe);xt(this,Ka,null);xt(this,dn);xt(this,Qn);xt(this,hn);xt(this,ze,null);xt(this,xe,null);xt(this,vn,null);xt(this,Ln,null);xt(this,Jn,0);xt(this,Fn,0);xt(this,tr,!1);xt(this,On,null);xt(this,na,()=>{$(this,On)&&Lr($(this,On),$(this,Jn))});xt(this,ra,Zu(()=>(rt(this,On,sr($(this,Jn))),()=>{rt(this,On,null)})));rt(this,qe,e),rt(this,dn,n),rt(this,Qn,r),this.parent=vt.b,rt(this,Ge,!!$(this,dn).pending),rt(this,hn,ca(()=>{vt.b=this;{try{rt(this,ze,Be(()=>r($(this,qe))))}catch(i){this.error(i)}$(this,Fn)>0?de(this,pe,Li).call(this):rt(this,Ge,!1)}},Qu))}is_pending(){return $(this,Ge)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!$(this,dn).pending}update_pending_count(e){de(this,pe,Pa).call(this,e),rt(this,Jn,$(this,Jn)+e),Ca.add($(this,na))}get_effect_pending(){return $(this,ra).call(this),a($(this,On))}error(e){var n=$(this,dn).onerror;let r=$(this,dn).failed;if($(this,tr)||!n&&!r)throw e;$(this,ze)&&(Ve($(this,ze)),rt(this,ze,null)),$(this,xe)&&(Ve($(this,xe)),rt(this,xe,null)),$(this,vn)&&(Ve($(this,vn)),rt(this,vn,null));var i=!1,s=!1;const o=()=>{if(i){zu();return}i=!0,s&&qu(),zn.ensure(),rt(this,Jn,0),$(this,vn)!==null&&nr($(this,vn),()=>{rt(this,vn,null)}),rt(this,Ge,this.has_pending_snippet()),rt(this,ze,de(this,pe,Pi).call(this,()=>(rt(this,tr,!1),Be(()=>$(this,Qn).call(this,$(this,qe)))))),$(this,Fn)>0?de(this,pe,Li).call(this):rt(this,Ge,!1)};var l=ot;try{Ee(null),s=!0,n==null||n(e,o),s=!1}catch(u){Rr(u,$(this,hn)&&$(this,hn).parent)}finally{Ee(l)}r&&Yr(()=>{rt(this,vn,de(this,pe,Pi).call(this,()=>{rt(this,tr,!0);try{return Be(()=>{r($(this,qe),()=>e,()=>o)})}catch(u){return Rr(u,$(this,hn).parent),null}finally{rt(this,tr,!1)}}))})}}Ge=new WeakMap,qe=new WeakMap,Ka=new WeakMap,dn=new WeakMap,Qn=new WeakMap,hn=new WeakMap,ze=new WeakMap,xe=new WeakMap,vn=new WeakMap,Ln=new WeakMap,Jn=new WeakMap,Fn=new WeakMap,tr=new WeakMap,On=new WeakMap,na=new WeakMap,ra=new WeakMap,pe=new WeakSet,ec=function(){try{rt(this,ze,Be(()=>$(this,Qn).call(this,$(this,qe))))}catch(e){this.error(e)}rt(this,Ge,!1)},nc=function(){const e=$(this,dn).pending;e&&(rt(this,xe,Be(()=>e($(this,qe)))),zn.enqueue(()=>{rt(this,ze,de(this,pe,Pi).call(this,()=>(zn.ensure(),Be(()=>$(this,Qn).call(this,$(this,qe)))))),$(this,Fn)>0?de(this,pe,Li).call(this):(nr($(this,xe),()=>{rt(this,xe,null)}),rt(this,Ge,!1))}))},Pi=function(e){var n=vt,r=ot,i=Ae;_n($(this,hn)),Ee($(this,hn)),Ir($(this,hn).ctx);try{return e()}catch(s){return Co(s),null}finally{_n(n),Ee(r),Ir(i)}},Li=function(){const e=$(this,dn).pending;$(this,ze)!==null&&(rt(this,Ln,document.createDocumentFragment()),rc($(this,ze),$(this,Ln))),$(this,xe)===null&&rt(this,xe,Be(()=>e($(this,qe))))},Pa=function(e){var n;if(!this.has_pending_snippet()){this.parent&&de(n=this.parent,pe,Pa).call(n,e);return}rt(this,Fn,$(this,Fn)+e),$(this,Fn)===0&&(rt(this,Ge,!1),$(this,xe)&&nr($(this,xe),()=>{rt(this,xe,null)}),$(this,Ln)&&($(this,qe).before($(this,Ln)),rt(this,Ln,null)))};function rc(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:pi(n);e.append(n),n=i}}function ic(t,e,n){const r=la;if(e.length===0){n(t.map(r));return}var i=$t,s=vt,o=ac();Promise.all(e.map(l=>sc(l))).then(l=>{i==null||i.activate(),o();try{n([...t.map(r),...l])}catch(u){s.f&cr||Rr(u,s)}i==null||i.deactivate(),Lo()}).catch(l=>{Rr(l,s)})}function ac(){var t=vt,e=ot,n=Ae,r=$t;return function(){_n(t),Ee(e),Ir(n),r==null||r.activate()}}function Lo(){_n(null),Ee(null),Ir(null)}function la(t){var e=Re|He,n=ot!==null&&ot.f&Re?ot:null;return vt===null||n!==null&&n.f&Ye?e|=Ye:vt.f|=zr,{ctx:Ae,deps:null,effects:null,equals:Ao,f:e,fn:t,reactions:null,rv:0,v:le,wv:0,parent:n??vt,ac:null}}function sc(t,e){let n=vt;n===null&&Tu();var r=n.b,i=void 0,s=sr(le),o=null,l=!ot;return yc(()=>{try{var u=t();o&&Promise.resolve(u).catch(()=>{})}catch(p){u=Promise.reject(p)}var c=()=>u;i=(o==null?void 0:o.then(c,c))??Promise.resolve(u),o=i;var f=$t,d=r.is_pending();l&&(r.update_pending_count(1),d||f.increment());const h=(p,v=void 0)=>{o=null,d||f.activate(),v?v!==ns&&(s.f|=er,Lr(s,v)):(s.f&er&&(s.f^=er),Lr(s,p)),l&&(r.update_pending_count(-1),d||f.decrement()),Lo()};if(i.then(h,p=>h(null,p||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(u=>{function c(f){function d(){f===i?u(s):c(i)}f.then(d,d)}c(i)})}function L(t){const e=la(t);return Go(e),e}function Fo(t){const e=la(t);return e.equals=No,e}function Oo(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Ve(e[n])}}function oc(t){for(var e=t.parent;e!==null;){if(!(e.f&Re))return e;e=e.parent}return null}function rs(t){var e,n=vt;_n(oc(t));try{Oo(t),e=Jo(t)}finally{_n(n)}return e}function Do(t){var e=rs(t);if(t.equals(e)||(t.v=e,t.wv=Zo()),!fr){var n=(qn||t.f&Ye)&&t.deps!==null?Un:ce;Me(t,n)}}const Bn=new Map;function sr(t,e){var n={f:0,v:t,reactions:null,equals:Ao,rv:0,wv:0};return n}function mt(t,e){const n=sr(t);return Go(n),n}function lc(t,e=!1,n=!0){const r=sr(t);return e||(r.equals=No),r}function R(t,e,n=!1){ot!==null&&(!Ze||ot.f&Rs)&&$o()&&ot.f&(Re|qr|es|Rs)&&!(ve!=null&&ve.includes(t))&&Du();let r=n?ke(e):e;return Lr(t,r)}function Lr(t,e){if(!t.equals(e)){var n=t.v;fr?Bn.set(t,e):Bn.set(t,n),t.v=e;var r=zn.ensure();r.capture(t,n),t.f&Re&&(t.f&He&&rs(t),Me(t,t.f&Ye?Un:ce)),t.wv=Zo(),qo(t,He),vt!==null&&vt.f&ce&&!(vt.f&(Mn|ur))&&(De===null?xc([t]):De.push(t))}return e}function ri(t){R(t,t.v+1)}function qo(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],o=s.f,l=(o&He)===0;l&&Me(s,e),o&Re?qo(s,Un):l&&(o&qr&&kn!==null&&kn.push(s),Pr(s))}}function ke(t){if(typeof t!="object"||t===null||ei in t)return t;const e=Eo(t);if(e!==ku&&e!==Eu)return t;var n=new Map,r=Ga(t),i=mt(0),s=rr,o=l=>{if(rr===s)return l();var u=ot,c=rr;Ee(null),qs(s);var f=l();return Ee(u),qs(c),f};return r&&n.set("length",mt(t.length)),new Proxy(t,{defineProperty(l,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Fu();var f=n.get(u);return f===void 0?f=o(()=>{var d=mt(c.value);return n.set(u,d),d}):R(f,c.value,!0),!0},deleteProperty(l,u){var c=n.get(u);if(c===void 0){if(u in l){const f=o(()=>mt(le));n.set(u,f),ri(i)}}else R(c,le),ri(i);return!0},get(l,u,c){var p;if(u===ei)return t;var f=n.get(u),d=u in l;if(f===void 0&&(!d||(p=Sr(l,u))!=null&&p.writable)&&(f=o(()=>{var v=ke(d?l[u]:le),w=mt(v);return w}),n.set(u,f)),f!==void 0){var h=a(f);return h===le?void 0:h}return Reflect.get(l,u,c)},getOwnPropertyDescriptor(l,u){var c=Reflect.getOwnPropertyDescriptor(l,u);if(c&&"value"in c){var f=n.get(u);f&&(c.value=a(f))}else if(c===void 0){var d=n.get(u),h=d==null?void 0:d.v;if(d!==void 0&&h!==le)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return c},has(l,u){var h;if(u===ei)return!0;var c=n.get(u),f=c!==void 0&&c.v!==le||Reflect.has(l,u);if(c!==void 0||vt!==null&&(!f||(h=Sr(l,u))!=null&&h.writable)){c===void 0&&(c=o(()=>{var p=f?ke(l[u]):le,v=mt(p);return v}),n.set(u,c));var d=a(c);if(d===le)return!1}return f},set(l,u,c,f){var F;var d=n.get(u),h=u in l;if(r&&u==="length")for(var p=c;p<d.v;p+=1){var v=n.get(p+"");v!==void 0?R(v,le):p in l&&(v=o(()=>mt(le)),n.set(p+"",v))}if(d===void 0)(!h||(F=Sr(l,u))!=null&&F.writable)&&(d=o(()=>mt(void 0)),R(d,ke(c)),n.set(u,d));else{h=d.v!==le;var w=o(()=>ke(c));R(d,w)}var k=Reflect.getOwnPropertyDescriptor(l,u);if(k!=null&&k.set&&k.set.call(f,c),!h){if(r&&typeof u=="string"){var q=n.get("length"),U=Number(u);Number.isInteger(U)&&U>=q.v&&R(q,U+1)}ri(i)}return!0},ownKeys(l){a(i);var u=Reflect.ownKeys(l).filter(d=>{var h=n.get(d);return h===void 0||h.v!==le});for(var[c,f]of n)f.v!==le&&!(c in l)&&u.push(c);return u},setPrototypeOf(){Ou()}})}var Ls,zo,Bo,Uo;function uc(){if(Ls===void 0){Ls=window,zo=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Bo=Sr(e,"firstChild").get,Uo=Sr(e,"nextSibling").get,Is(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Is(n)&&(n.__t=void 0)}}function Vr(t=""){return document.createTextNode(t)}function En(t){return Bo.call(t)}function pi(t){return Uo.call(t)}function x(t,e){return En(t)}function kt(t,e=!1){{var n=En(t);return n instanceof Comment&&n.data===""?pi(n):n}}function C(t,e=1,n=!1){let r=t;for(;e--;)r=pi(r);return r}function cc(t){t.textContent=""}function is(){return!1}let Fs=!1;function fc(){Fs||(Fs=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function ua(t){var e=ot,n=vt;Ee(null),_n(null);try{return t()}finally{Ee(e),_n(n)}}function dc(t,e,n,r=n){t.addEventListener(e,()=>ua(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),fc()}function hc(t){vt===null&&ot===null&&Ru(),ot!==null&&ot.f&Ye&&vt===null&&Iu(),fr&&Cu()}function vc(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function An(t,e,n,r=!0){var i=vt;i!==null&&i.f&Je&&(t|=Je);var s={ctx:Ae,deps:null,nodes_start:null,nodes_end:null,f:t|He,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ar(s),s.f|=ts}catch(u){throw Ve(s),u}else e!==null&&Pr(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&zr)&&(o=o.first),o!==null&&(o.parent=i,i!==null&&vc(o,i),ot!==null&&ot.f&Re&&!(t&ur))){var l=ot;(l.effects??(l.effects=[])).push(o)}}return s}function pc(){return ot!==null&&!Ze}function _c(t){const e=An(Qa,null,!1);return Me(e,ce),e.teardown=t,e}function ii(t){hc();var e=vt.f,n=!ot&&(e&Mn)!==0&&(e&ts)===0;if(n){var r=Ae;(r.e??(r.e=[])).push(t)}else return Yo(t)}function Yo(t){return An(Za|Au,t,!1)}function gc(t){zn.ensure();const e=An(ur|zr,t,!0);return(n={})=>new Promise(r=>{n.outro?nr(e,()=>{Ve(e),r(void 0)}):(Ve(e),r(void 0))})}function mc(t){return An(Za,t,!1)}function yc(t){return An(es|zr,t,!0)}function as(t,e=0){return An(Qa|e,t,!0)}function X(t,e=[],n=[]){ic(e,n,r=>{An(Qa,()=>t(...r.map(a)),!0)})}function ca(t,e=0){var n=An(qr|e,t,!0);return n}function Be(t,e=!0){return An(Mn|zr,t,!0,e)}function Vo(t){var e=t.teardown;if(e!==null){const n=fr,r=ot;Ds(!0),Ee(null);try{e.call(null)}finally{Ds(n),Ee(r)}}}function Ho(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&ua(()=>{i.abort(ns)});var r=n.next;n.f&ur?n.parent=null:Ve(n,e),n=r}}function wc(t){for(var e=t.first;e!==null;){var n=e.next;e.f&Mn||Ve(e),e=n}}function Ve(t,e=!0){var n=!1;(e||t.f&Mu)&&t.nodes_start!==null&&t.nodes_end!==null&&(bc(t.nodes_start,t.nodes_end),n=!0),Ho(t,e&&!n),Ui(t,0),Me(t,cr);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Vo(t);var i=t.parent;i!==null&&i.first!==null&&jo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function bc(t,e){for(;t!==null;){var n=t===e?null:pi(t);t.remove(),t=n}}function jo(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function nr(t,e){var n=[];ss(t,n,!0),Xo(n,()=>{Ve(t),e&&e()})}function Xo(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function ss(t,e,n){if(!(t.f&Je)){if(t.f^=Je,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&sa)!==0||(r.f&Mn)!==0;ss(r,e,s?n:!1),r=i}}}function os(t){Ko(t,!0)}function Ko(t,e){if(t.f&Je){t.f^=Je,t.f&ce||(Me(t,He),Pr(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&sa)!==0||(n.f&Mn)!==0;Ko(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let Mr=!1;function Os(t){Mr=t}let fr=!1;function Ds(t){fr=t}let ot=null,Ze=!1;function Ee(t){ot=t}let vt=null;function _n(t){vt=t}let ve=null;function Go(t){ot!==null&&(ve===null?ve=[t]:ve.push(t))}let he=null,Ie=0,De=null;function xc(t){De=t}let Wo=1,ai=0,rr=ai;function qs(t){rr=t}let qn=!1;function Zo(){return++Wo}function fa(t){var d;var e=t.f;if(e&He)return!0;if(e&Un){var n=t.deps,r=(e&Ye)!==0;if(n!==null){var i,s,o=(e&zi)!==0,l=r&&vt!==null&&!qn,u=n.length;if((o||l)&&(vt===null||!(vt.f&cr))){var c=t,f=c.parent;for(i=0;i<u;i++)s=n[i],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(c)))&&(s.reactions??(s.reactions=[])).push(c);o&&(c.f^=zi),l&&f!==null&&!(f.f&Ye)&&(c.f^=Ye)}for(i=0;i<u;i++)if(s=n[i],fa(s)&&Do(s),s.wv>t.wv)return!0}(!r||vt!==null&&!qn)&&Me(t,ce)}return!1}function Qo(t,e,n=!0){var r=t.reactions;if(r!==null&&!(ve!=null&&ve.includes(t)))for(var i=0;i<r.length;i++){var s=r[i];s.f&Re?Qo(s,e,!1):e===s&&(n?Me(s,He):s.f&ce&&Me(s,Un),Pr(s))}}function Jo(t){var w;var e=he,n=Ie,r=De,i=ot,s=qn,o=ve,l=Ae,u=Ze,c=rr,f=t.f;he=null,Ie=0,De=null,qn=(f&Ye)!==0&&(Ze||!Mr||ot===null),ot=f&(Mn|ur)?null:t,ve=null,Ir(t.ctx),Ze=!1,rr=++ai,t.ac!==null&&(ua(()=>{t.ac.abort(ns)}),t.ac=null);try{t.f|=Ta;var d=t.fn,h=d(),p=t.deps;if(he!==null){var v;if(Ui(t,Ie),p!==null&&Ie>0)for(p.length=Ie+he.length,v=0;v<he.length;v++)p[Ie+v]=he[v];else t.deps=p=he;if(!qn||f&Re&&t.reactions!==null)for(v=Ie;v<p.length;v++)((w=p[v]).reactions??(w.reactions=[])).push(t)}else p!==null&&Ie<p.length&&(Ui(t,Ie),p.length=Ie);if($o()&&De!==null&&!Ze&&p!==null&&!(t.f&(Re|Un|He)))for(v=0;v<De.length;v++)Qo(De[v],t);return i!==null&&i!==t&&(ai++,De!==null&&(r===null?r=De:r.push(...De))),t.f&er&&(t.f^=er),h}catch(k){return Co(k)}finally{t.f^=Ta,he=e,Ie=n,De=r,ot=i,qn=s,ve=o,Ir(l),Ze=u,rr=c}}function kc(t,e){let n=e.reactions;if(n!==null){var r=bu.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&e.f&Re&&(he===null||!he.includes(e))&&(Me(e,Un),e.f&(Ye|zi)||(e.f^=zi),Oo(e),Ui(e,0))}function Ui(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)kc(t,n[r])}function Ar(t){var e=t.f;if(!(e&cr)){Me(t,ce);var n=vt,r=Mr;vt=t,Mr=!0;try{e&qr?wc(t):Ho(t),Vo(t);var i=Jo(t);t.teardown=typeof i=="function"?i:null,t.wv=Wo;var s;ko&&Vu&&t.f&He&&t.deps}finally{Mr=r,vt=n}}}async function Ec(){await Promise.resolve(),Gu()}function a(t){var e=t.f,n=(e&Re)!==0;if(ot!==null&&!Ze){var r=vt!==null&&(vt.f&cr)!==0;if(!r&&!(ve!=null&&ve.includes(t))){var i=ot.deps;if(ot.f&Ta)t.rv<ai&&(t.rv=ai,he===null&&i!==null&&i[Ie]===t?Ie++:he===null?he=[t]:(!qn||!he.includes(t))&&he.push(t));else{(ot.deps??(ot.deps=[])).push(t);var s=t.reactions;s===null?t.reactions=[ot]:s.includes(ot)||s.push(ot)}}}else if(n&&t.deps===null&&t.effects===null){var o=t,l=o.parent;l!==null&&!(l.f&Ye)&&(o.f^=Ye)}if(fr){if(Bn.has(t))return Bn.get(t);if(n){o=t;var u=o.v;return(!(o.f&ce)&&o.reactions!==null||tl(o))&&(u=rs(o)),Bn.set(o,u),u}}else n&&(o=t,fa(o)&&Do(o));if(t.f&er)throw t.v;return t.v}function tl(t){if(t.v===le)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Bn.has(e)||e.f&Re&&tl(e))return!0;return!1}function Hr(t){var e=Ze;try{return Ze=!0,t()}finally{Ze=e}}const Sc=-7169;function Me(t,e){t.f=t.f&Sc|e}const el=new Set,La=new Set;function Mc(t,e,n,r={}){function i(s){if(r.capture||Zr.call(e,s),!s.cancelBubble)return ua(()=>n==null?void 0:n.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Yr(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function Ce(t,e,n,r,i){var s={capture:r,passive:i},o=Mc(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&_c(()=>{e.removeEventListener(t,o,s)})}function nl(t){for(var e=0;e<t.length;e++)el.add(t[e]);for(var n of La)n(t)}let zs=null;function Zr(t){var U;var e=this,n=e.ownerDocument,r=t.type,i=((U=t.composedPath)==null?void 0:U.call(t))||[],s=i[0]||t.target;zs=t;var o=0,l=zs===t&&t.__root;if(l){var u=i.indexOf(l);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var c=i.indexOf(e);if(c===-1)return;u<=c&&(o=u)}if(s=i[o]||t.target,s!==e){$a(t,"currentTarget",{configurable:!0,get(){return s||n}});var f=ot,d=vt;Ee(null),_n(null);try{for(var h,p=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var w=s["__"+r];if(w!=null&&(!s.disabled||t.target===s))if(Ga(w)){var[k,...q]=w;k.apply(s,[t,...q])}else w.call(s,t)}catch(F){h?p.push(F):h=F}if(t.cancelBubble||v===e||v===null)break;s=v}if(h){for(let F of p)queueMicrotask(()=>{throw F});throw h}}finally{t.__root=e,delete t.currentTarget,Ee(f),_n(d)}}}function rl(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function si(t,e){var n=vt;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function z(t,e){var n=(e&xo)!==0,r=(e&yu)!==0,i,s=!t.startsWith("<!>");return()=>{i===void 0&&(i=rl(s?t:"<!>"+t),n||(i=En(i)));var o=r||zo?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=En(o),u=o.lastChild;si(l,u)}else si(o,o);return o}}function Ac(t,e,n="svg"){var r=!t.startsWith("<!>"),i=(e&xo)!==0,s=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var l=rl(s),u=En(l);if(i)for(o=document.createDocumentFragment();En(u);)o.appendChild(En(u));else o=En(u)}var c=o.cloneNode(!0);if(i){var f=En(c),d=c.lastChild;si(f,d)}else si(c,c);return c}}function nn(t,e){return Ac(t,e,"svg")}function Jt(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Vr();return t.append(e,n),si(e,n),t}function E(t,e){t!==null&&t.before(e)}const Nc=["touchstart","touchmove"];function $c(t){return Nc.includes(t)}function H(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function Tc(t,e){return Cc(t,e)}const xr=new Map;function Cc(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){uc();var l=new Set,u=d=>{for(var h=0;h<d.length;h++){var p=d[h];if(!l.has(p)){l.add(p);var v=$c(p);e.addEventListener(p,Zr,{passive:v});var w=xr.get(p);w===void 0?(document.addEventListener(p,Zr,{passive:v}),xr.set(p,1)):xr.set(p,w+1)}}};u(Wa(el)),La.add(u);var c=void 0,f=gc(()=>{var d=n??e.appendChild(Vr());return Ju(d,{pending:()=>{}},h=>{if(s){Br({});var p=Ae;p.c=s}i&&(r.$$events=i),c=t(h,r)||{},s&&Ur()}),()=>{var v;for(var h of l){e.removeEventListener(h,Zr);var p=xr.get(h);--p===0?(document.removeEventListener(h,Zr),xr.delete(h)):xr.set(h,p)}La.delete(u),d!==n&&((v=d.parentNode)==null||v.removeChild(d))}});return Ic.set(c,f),c}let Ic=new WeakMap;function Yi(t){Ae===null&&Mo(),ii(()=>{const e=Hr(t);if(typeof e=="function")return e})}function Rc(t){Ae===null&&Mo(),Yi(()=>()=>Hr(t))}function Z(t,e,n=!1){var r=t,i=null,s=null,o=le,l=n?sa:0,u=!1;const c=(p,v=!0)=>{u=!0,h(v,p)};var f=null;function d(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var p=o?i:s,v=o?s:i;p&&os(p),v&&nr(v,()=>{o?s=null:i=null})}const h=(p,v)=>{if(o!==(o=p)){var w=is(),k=r;if(w&&(f=document.createDocumentFragment(),f.append(k=Vr())),o?i??(i=v&&Be(()=>v(k))):s??(s=v&&Be(()=>v(k))),w){var q=$t,U=o?i:s,F=o?s:i;U&&q.skipped_effects.delete(U),F&&q.skipped_effects.add(F),q.add_callback(d)}else d()}};ca(()=>{u=!1,e(c),u||h(null,null)},l)}function Pc(t,e,n){var r=t,i=le,s,o,l=null,u=Yu;function c(){s&&nr(s),l!==null&&(l.lastChild.remove(),r.before(l),l=null),s=o}ca(()=>{if(u(i,i=e())){var f=r,d=is();d&&(l=document.createDocumentFragment(),l.append(f=Vr())),o=Be(()=>n(f)),d?$t.add_callback(c):c()}})}function te(t,e){return e}function Lc(t,e,n){for(var r=t.items,i=[],s=e.length,o=0;o<s;o++)ss(e[o].e,i,!0);var l=s>0&&i.length===0&&n!==null;if(l){var u=n.parentNode;cc(u),u.append(n),r.clear(),fn(t,e[0].prev,e[s-1].next)}Xo(i,()=>{for(var c=0;c<s;c++){var f=e[c];l||(r.delete(f.k),fn(t,f.prev,f.next)),Ve(f.e,!l)}})}function Wt(t,e,n,r,i,s=null){var o=t,l={flags:e,items:new Map,first:null},u=(e&bo)!==0;if(u){var c=t;o=c.appendChild(Vr())}var f=null,d=!1,h=new Map,p=Fo(()=>{var q=n();return Ga(q)?q:q==null?[]:Wa(q)}),v,w;function k(){Fc(w,v,l,h,o,i,e,r,n),s!==null&&(v.length===0?f?os(f):f=Be(()=>s(o)):f!==null&&nr(f,()=>{f=null}))}ca(()=>{w??(w=vt),v=a(p);var q=v.length;if(!(d&&q===0)){d=q===0;var U,F,et,B;if(is()){var Y=new Set,G=$t;for(F=0;F<q;F+=1){et=v[F],B=r(et,F);var lt=l.items.get(B)??h.get(B);lt?e&(ia|aa)&&il(lt,et,F,e):(U=al(null,l,null,null,et,B,F,i,e,n,!0),h.set(B,U)),Y.add(B)}for(const[Pt,pt]of l.items)Y.has(Pt)||G.skipped_effects.add(pt.e);G.add_callback(k)}else k();a(p)}})}function Fc(t,e,n,r,i,s,o,l,u){var b,I,Q,ft;var c=(o&hu)!==0,f=(o&(ia|aa))!==0,d=e.length,h=n.items,p=n.first,v=p,w,k=null,q,U=[],F=[],et,B,Y,G;if(c)for(G=0;G<d;G+=1)et=e[G],B=l(et,G),Y=h.get(B),Y!==void 0&&((b=Y.a)==null||b.measure(),(q??(q=new Set)).add(Y));for(G=0;G<d;G+=1){if(et=e[G],B=l(et,G),Y=h.get(B),Y===void 0){var lt=r.get(B);if(lt!==void 0){r.delete(B),h.set(B,lt);var Pt=k?k.next:v;fn(n,k,lt),fn(n,lt,Pt),ka(lt,Pt,i),k=lt}else{var pt=v?v.e.nodes_start:i;k=al(pt,n,k,k===null?n.first:k.next,et,B,G,s,o,u)}h.set(B,k),U=[],F=[],v=k.next;continue}if(f&&il(Y,et,G,o),Y.e.f&Je&&(os(Y.e),c&&((I=Y.a)==null||I.unfix(),(q??(q=new Set)).delete(Y))),Y!==v){if(w!==void 0&&w.has(Y)){if(U.length<F.length){var W=F[0],at;k=W.prev;var M=U[0],yt=U[U.length-1];for(at=0;at<U.length;at+=1)ka(U[at],W,i);for(at=0;at<F.length;at+=1)w.delete(F[at]);fn(n,M.prev,yt.next),fn(n,k,M),fn(n,yt,W),v=W,k=yt,G-=1,U=[],F=[]}else w.delete(Y),ka(Y,v,i),fn(n,Y.prev,Y.next),fn(n,Y,k===null?n.first:k.next),fn(n,k,Y),k=Y;continue}for(U=[],F=[];v!==null&&v.k!==B;)v.e.f&Je||(w??(w=new Set)).add(v),F.push(v),v=v.next;if(v===null)continue;Y=v}U.push(Y),k=Y,v=Y.next}if(v!==null||w!==void 0){for(var tt=w===void 0?[]:Wa(w);v!==null;)v.e.f&Je||tt.push(v),v=v.next;var St=tt.length;if(St>0){var Ut=o&bo&&d===0?i:null;if(c){for(G=0;G<St;G+=1)(Q=tt[G].a)==null||Q.measure();for(G=0;G<St;G+=1)(ft=tt[G].a)==null||ft.fix()}Lc(n,tt,Ut)}}c&&Yr(()=>{var Mt;if(q!==void 0)for(Y of q)(Mt=Y.a)==null||Mt.apply()}),t.first=n.first&&n.first.e,t.last=k&&k.e;for(var ee of r.values())Ve(ee.e);r.clear()}function il(t,e,n,r){r&ia&&Lr(t.v,e),r&aa?Lr(t.i,n):t.i=n}function al(t,e,n,r,i,s,o,l,u,c,f){var d=(u&ia)!==0,h=(u&vu)===0,p=d?h?lc(i,!1,!1):sr(i):i,v=u&aa?sr(o):o,w={i:v,v:p,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var k=document.createDocumentFragment();k.append(t=Vr())}return w.e=Be(()=>l(t,p,v,c),Bu),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?f||(e.first=w):(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function ka(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var o=pi(s);i.before(s),s=o}}function fn(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}const Bs=[...` 	
\r\f \v\uFEFF`];function Oc(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+s;(o===0||Bs.includes(r[o-1]))&&(l===r.length||Bs.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Dc(t,e){return t==null?null:String(t)}function In(t,e,n,r,i,s){var o=t.__className;if(o!==n||o===void 0){var l=Oc(n,r,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(s&&i!==s)for(var u in s){var c=!!s[u];(i==null||c!==!!i[u])&&t.classList.toggle(u,c)}return s}function Mi(t,e,n,r){var i=t.__style;if(i!==e){var s=Dc(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const qc=Symbol("is custom element"),zc=Symbol("is html");function Us(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function D(t,e,n,r){var i=Bc(t);i[e]!==(i[e]=n)&&(e==="loading"&&(t[$u]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Uc(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Bc(t){return t.__attributes??(t.__attributes={[qc]:t.nodeName.includes("-"),[zc]:t.namespaceURI===wu})}var Ys=new Map;function Uc(t){var e=t.getAttribute("is")||t.nodeName,n=Ys.get(e);if(n)return n;Ys.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=xu(i);for(var o in r)r[o].set&&n.push(o);i=Eo(i)}return n}function Yc(t,e,n=e){var r=new WeakSet;dc(t,"input",async i=>{var s=i?t.defaultValue:t.value;if(s=Ea(t)?Sa(s):s,n(s),$t!==null&&r.add($t),await Ec(),s!==(s=e())){var o=t.selectionStart,l=t.selectionEnd;t.value=s??"",l!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(l,t.value.length))}}),Hr(e)==null&&t.value&&(n(Ea(t)?Sa(t.value):t.value),$t!==null&&r.add($t)),as(()=>{var i=e();if(t===document.activeElement){var s=Ii??$t;if(r.has(s))return}Ea(t)&&i===Sa(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Ea(t){var e=t.type;return e==="number"||e==="range"}function Sa(t){return t===""?null:+t}function Vs(t,e){return t===e||(t==null?void 0:t[ei])===e}function Vc(t={},e,n,r){return mc(()=>{var i,s;return as(()=>{i=s,s=[],Hr(()=>{t!==n(...s)&&(e(t,...s),i&&Vs(n(...i),t)&&e(null,...i))})}),()=>{Yr(()=>{s&&Vs(n(...s),t)&&e(null,...s)})}}),t}function Hs(t){return function(...e){var n=e[0];return n.preventDefault(),t==null?void 0:t.apply(this,e)}}let Ai=!1;function Hc(t){var e=Ai;try{return Ai=!1,[t(),Ai]}finally{Ai=e}}function Ue(t,e,n,r){var U;var i=(n&gu)!==0,s=(n&mu)!==0,o=r,l=!0,u=()=>(l&&(l=!1,o=s?Hr(r):r),o),c;if(i){var f=ei in t||Nu in t;c=((U=Sr(t,e))==null?void 0:U.set)??(f&&e in t?F=>t[e]=F:void 0)}var d,h=!1;i?[d,h]=Hc(()=>t[e]):d=t[e],d===void 0&&r!==void 0&&(d=u(),c&&(Lu(),c(d)));var p;if(p=()=>{var F=t[e];return F===void 0?u():(l=!0,F)},!(n&_u))return p;if(c){var v=t.$$legacy;return function(F,et){return arguments.length>0?((!et||v||h)&&c(et?p():F),F):p()}}var w=!1,k=(n&pu?la:Fo)(()=>(w=!1,p()));i&&a(k);var q=vt;return function(F,et){if(arguments.length>0){const B=et?a(k):i?ke(F):F;return R(k,B),w=!0,o!==void 0&&(o=B),F}return fr&&w||q.f&cr?k.v:a(k)}}function Fi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jc(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sl(t){let e,n,r;t.length!==2?(e=Fi,n=(l,u)=>Fi(t(l),u),r=(l,u)=>t(l)-u):(e=t===Fi||t===jc?t:Xc,n=t,r=t);function i(l,u,c=0,f=l.length){if(c<f){if(e(u,u)!==0)return f;do{const d=c+f>>>1;n(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}function s(l,u,c=0,f=l.length){if(c<f){if(e(u,u)!==0)return f;do{const d=c+f>>>1;n(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}function o(l,u,c=0,f=l.length){const d=i(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d}return{left:i,center:o,right:s}}function Xc(){return 0}function Kc(t){return t===null?NaN:+t}const Gc=sl(Fi),Wc=Gc.right;sl(Kc).center;class js extends Map{constructor(e,n=Jc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Xs(this,e))}has(e){return super.has(Xs(this,e))}set(e,n){return super.set(Zc(this,e),n)}delete(e){return super.delete(Qc(this,e))}}function Xs({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Zc({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Qc({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Jc(t){return t!==null&&typeof t=="object"?t.valueOf():t}const tf=Math.sqrt(50),ef=Math.sqrt(10),nf=Math.sqrt(2);function Vi(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=tf?10:s>=ef?5:s>=nf?2:1;let l,u,c;return i<0?(c=Math.pow(10,-i)/o,l=Math.round(t*c),u=Math.round(e*c),l/c<t&&++l,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*o,l=Math.round(t/c),u=Math.round(e/c),l*c<t&&++l,u*c>e&&--u),u<l&&.5<=n&&n<2?Vi(t,e,n*2):[l,u,c]}function ol(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?Vi(e,t,n):Vi(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(o<0)for(let c=0;c<l;++c)u[c]=(s-c)/-o;else for(let c=0;c<l;++c)u[c]=(s-c)*o;else if(o<0)for(let c=0;c<l;++c)u[c]=(i+c)/-o;else for(let c=0;c<l;++c)u[c]=(i+c)*o;return u}function Fa(t,e,n){return e=+e,t=+t,n=+n,Vi(t,e,n)[2]}function rf(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Fa(e,t,n):Fa(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function af(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var sf={value:()=>{}};function ll(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Oi(n)}function Oi(t){this._=t}function of(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Oi.prototype=ll.prototype={constructor:Oi,on:function(t,e){var n=this._,r=of(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=lf(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Ks(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ks(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Oi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function lf(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ks(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=sf,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Oa="http://www.w3.org/1999/xhtml";const Gs={svg:"http://www.w3.org/2000/svg",xhtml:Oa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function da(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Gs.hasOwnProperty(e)?{space:Gs[e],local:t}:t}function uf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Oa&&e.documentElement.namespaceURI===Oa?e.createElement(t):e.createElementNS(n,t)}}function cf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ul(t){var e=da(t);return(e.local?cf:uf)(e)}function ff(){}function ls(t){return t==null?ff:function(){return this.querySelector(t)}}function df(t){typeof t!="function"&&(t=ls(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,c,f=0;f<o;++f)(u=s[f])&&(c=t.call(u,u.__data__,f,s))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new en(r,this._parents)}function hf(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function vf(){return[]}function cl(t){return t==null?vf:function(){return this.querySelectorAll(t)}}function pf(t){return function(){return hf(t.apply(this,arguments))}}function _f(t){typeof t=="function"?t=pf(t):t=cl(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&(r.push(t.call(u,u.__data__,c,o)),i.push(u));return new en(r,i)}function fl(t){return function(){return this.matches(t)}}function dl(t){return function(e){return e.matches(t)}}var gf=Array.prototype.find;function mf(t){return function(){return gf.call(this.children,t)}}function yf(){return this.firstElementChild}function wf(t){return this.select(t==null?yf:mf(typeof t=="function"?t:dl(t)))}var bf=Array.prototype.filter;function xf(){return Array.from(this.children)}function kf(t){return function(){return bf.call(this.children,t)}}function Ef(t){return this.selectAll(t==null?xf:kf(typeof t=="function"?t:dl(t)))}function Sf(t){typeof t!="function"&&(t=fl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,c=0;c<o;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new en(r,this._parents)}function hl(t){return new Array(t.length)}function Mf(){return new en(this._enter||this._groups.map(hl),this._parents)}function Hi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Hi.prototype={constructor:Hi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Af(t){return function(){return t}}function Nf(t,e,n,r,i,s){for(var o=0,l,u=e.length,c=s.length;o<c;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new Hi(t,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function $f(t,e,n,r,i,s,o){var l,u,c=new Map,f=e.length,d=s.length,h=new Array(f),p;for(l=0;l<f;++l)(u=e[l])&&(h[l]=p=o.call(u,u.__data__,l,e)+"",c.has(p)?i[l]=u:c.set(p,u));for(l=0;l<d;++l)p=o.call(t,s[l],l,s)+"",(u=c.get(p))?(r[l]=u,u.__data__=s[l],c.delete(p)):n[l]=new Hi(t,s[l]);for(l=0;l<f;++l)(u=e[l])&&c.get(h[l])===u&&(i[l]=u)}function Tf(t){return t.__data__}function Cf(t,e){if(!arguments.length)return Array.from(this,Tf);var n=e?$f:Nf,r=this._parents,i=this._groups;typeof t!="function"&&(t=Af(t));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var f=r[c],d=i[c],h=d.length,p=If(t.call(f,f&&f.__data__,c,r)),v=p.length,w=l[c]=new Array(v),k=o[c]=new Array(v),q=u[c]=new Array(h);n(f,d,w,k,q,p,e);for(var U=0,F=0,et,B;U<v;++U)if(et=w[U]){for(U>=F&&(F=U+1);!(B=k[F])&&++F<v;);et._next=B||null}}return o=new en(o,r),o._enter=l,o._exit=u,o}function If(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Rf(){return new en(this._exit||this._groups.map(hl),this._parents)}function Pf(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Lf(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var c=n[u],f=r[u],d=c.length,h=l[u]=new Array(d),p,v=0;v<d;++v)(p=c[v]||f[v])&&(h[v]=p);for(;u<i;++u)l[u]=n[u];return new en(l,this._parents)}function Ff(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Of(t){t||(t=Df);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=i[s]=new Array(l),c,f=0;f<l;++f)(c=o[f])&&(u[f]=c);u.sort(e)}return new en(i,this._parents).order()}function Df(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function qf(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function zf(){return Array.from(this)}function Bf(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Uf(){let t=0;for(const e of this)++t;return t}function Yf(){return!this.node()}function Vf(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function Hf(t){return function(){this.removeAttribute(t)}}function jf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xf(t,e){return function(){this.setAttribute(t,e)}}function Kf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Wf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Zf(t,e){var n=da(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?jf:Hf:typeof e=="function"?n.local?Wf:Gf:n.local?Kf:Xf)(n,e))}function vl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Qf(t){return function(){this.style.removeProperty(t)}}function Jf(t,e,n){return function(){this.style.setProperty(t,e,n)}}function td(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ed(t,e,n){return arguments.length>1?this.each((e==null?Qf:typeof e=="function"?td:Jf)(t,e,n??"")):Fr(this.node(),t)}function Fr(t,e){return t.style.getPropertyValue(e)||vl(t).getComputedStyle(t,null).getPropertyValue(e)}function nd(t){return function(){delete this[t]}}function rd(t,e){return function(){this[t]=e}}function id(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ad(t,e){return arguments.length>1?this.each((e==null?nd:typeof e=="function"?id:rd)(t,e)):this.node()[t]}function pl(t){return t.trim().split(/^|\s+/)}function us(t){return t.classList||new _l(t)}function _l(t){this._node=t,this._names=pl(t.getAttribute("class")||"")}_l.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function gl(t,e){for(var n=us(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ml(t,e){for(var n=us(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function sd(t){return function(){gl(this,t)}}function od(t){return function(){ml(this,t)}}function ld(t,e){return function(){(e.apply(this,arguments)?gl:ml)(this,t)}}function ud(t,e){var n=pl(t+"");if(arguments.length<2){for(var r=us(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ld:e?sd:od)(n,e))}function cd(){this.textContent=""}function fd(t){return function(){this.textContent=t}}function dd(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function hd(t){return arguments.length?this.each(t==null?cd:(typeof t=="function"?dd:fd)(t)):this.node().textContent}function vd(){this.innerHTML=""}function pd(t){return function(){this.innerHTML=t}}function _d(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function gd(t){return arguments.length?this.each(t==null?vd:(typeof t=="function"?_d:pd)(t)):this.node().innerHTML}function md(){this.nextSibling&&this.parentNode.appendChild(this)}function yd(){return this.each(md)}function wd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bd(){return this.each(wd)}function xd(t){var e=typeof t=="function"?t:ul(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function kd(){return null}function Ed(t,e){var n=typeof t=="function"?t:ul(t),r=e==null?kd:typeof e=="function"?e:ls(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Sd(){var t=this.parentNode;t&&t.removeChild(this)}function Md(){return this.each(Sd)}function Ad(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Nd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $d(t){return this.select(t?Nd:Ad)}function Td(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Cd(t){return function(e){t.call(this,e,this.__data__)}}function Id(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Rd(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Pd(t,e,n){return function(){var r=this.__on,i,s=Cd(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ld(t,e,n){var r=Id(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,f;u<c;++u)for(i=0,f=l[u];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(l=e?Pd:Rd,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function yl(t,e,n){var r=vl(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Fd(t,e){return function(){return yl(this,t,e)}}function Od(t,e){return function(){return yl(this,t,e.apply(this,arguments))}}function Dd(t,e){return this.each((typeof e=="function"?Od:Fd)(t,e))}function*qd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var zd=[null];function en(t,e){this._groups=t,this._parents=e}function _i(){return new en([[document.documentElement]],zd)}function Bd(){return this}en.prototype=_i.prototype={constructor:en,select:df,selectAll:_f,selectChild:wf,selectChildren:Ef,filter:Sf,data:Cf,enter:Mf,exit:Rf,join:Pf,merge:Lf,selection:Bd,order:Ff,sort:Of,call:qf,nodes:zf,node:Bf,size:Uf,empty:Yf,each:Vf,attr:Zf,style:ed,property:ad,classed:ud,text:hd,html:gd,raise:yd,lower:bd,append:xd,insert:Ed,remove:Md,clone:$d,datum:Td,on:Ld,dispatch:Dd,[Symbol.iterator]:qd};function cs(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wl(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gi(){}var oi=.7,ji=1/oi,Nr="\\s*([+-]?\\d+)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ud=/^#([0-9a-f]{3,8})$/,Yd=new RegExp(`^rgb\\(${Nr},${Nr},${Nr}\\)$`),Vd=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),Hd=new RegExp(`^rgba\\(${Nr},${Nr},${Nr},${li}\\)$`),jd=new RegExp(`^rgba\\(${pn},${pn},${pn},${li}\\)$`),Xd=new RegExp(`^hsl\\(${li},${pn},${pn}\\)$`),Kd=new RegExp(`^hsla\\(${li},${pn},${pn},${li}\\)$`),Ws={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cs(gi,or,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Zs,formatHex:Zs,formatHex8:Gd,formatHsl:Wd,formatRgb:Qs,toString:Qs});function Zs(){return this.rgb().formatHex()}function Gd(){return this.rgb().formatHex8()}function Wd(){return bl(this).formatHsl()}function Qs(){return this.rgb().formatRgb()}function or(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ud.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Js(e):n===3?new Se(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ni(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ni(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yd.exec(t))?new Se(e[1],e[2],e[3],1):(e=Vd.exec(t))?new Se(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hd.exec(t))?Ni(e[1],e[2],e[3],e[4]):(e=jd.exec(t))?Ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xd.exec(t))?no(e[1],e[2]/100,e[3]/100,1):(e=Kd.exec(t))?no(e[1],e[2]/100,e[3]/100,e[4]):Ws.hasOwnProperty(t)?Js(Ws[t]):t==="transparent"?new Se(NaN,NaN,NaN,0):null}function Js(t){return new Se(t>>16&255,t>>8&255,t&255,1)}function Ni(t,e,n,r){return r<=0&&(t=e=n=NaN),new Se(t,e,n,r)}function Zd(t){return t instanceof gi||(t=or(t)),t?(t=t.rgb(),new Se(t.r,t.g,t.b,t.opacity)):new Se}function Da(t,e,n,r){return arguments.length===1?Zd(t):new Se(t,e,n,r??1)}function Se(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cs(Se,Da,wl(gi,{brighter(t){return t=t==null?ji:Math.pow(ji,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?oi:Math.pow(oi,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Se(ir(this.r),ir(this.g),ir(this.b),Xi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:to,formatHex:to,formatHex8:Qd,formatRgb:eo,toString:eo}));function to(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}`}function Qd(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}${Gn((isNaN(this.opacity)?1:this.opacity)*255)}`}function eo(){const t=Xi(this.opacity);return`${t===1?"rgb(":"rgba("}${ir(this.r)}, ${ir(this.g)}, ${ir(this.b)}${t===1?")":`, ${t})`}`}function Xi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ir(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gn(t){return t=ir(t),(t<16?"0":"")+t.toString(16)}function no(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qe(t,e,n,r)}function bl(t){if(t instanceof Qe)return new Qe(t.h,t.s,t.l,t.opacity);if(t instanceof gi||(t=or(t)),!t)return new Qe;if(t instanceof Qe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Qe(o,l,u,t.opacity)}function Jd(t,e,n,r){return arguments.length===1?bl(t):new Qe(t,e,n,r??1)}function Qe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cs(Qe,Jd,wl(gi,{brighter(t){return t=t==null?ji:Math.pow(ji,t),new Qe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oi:Math.pow(oi,t),new Qe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Se(Ma(t>=240?t-240:t+120,i,r),Ma(t,i,r),Ma(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qe(ro(this.h),$i(this.s),$i(this.l),Xi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xi(this.opacity);return`${t===1?"hsl(":"hsla("}${ro(this.h)}, ${$i(this.s)*100}%, ${$i(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ro(t){return t=(t||0)%360,t<0?t+360:t}function $i(t){return Math.max(0,Math.min(1,t||0))}function Ma(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fs=t=>()=>t;function th(t,e){return function(n){return t+n*e}}function eh(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nh(t){return(t=+t)==1?xl:function(e,n){return n-e?eh(e,n,t):fs(isNaN(e)?n:e)}}function xl(t,e){var n=e-t;return n?th(t,n):fs(isNaN(t)?e:t)}const Ki=function t(e){var n=nh(e);function r(i,s){var o=n((i=Da(i)).r,(s=Da(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),c=xl(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=u(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function rh(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function ih(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ah(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=ds(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function sh(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function We(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function oh(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ds(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var qa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Aa=new RegExp(qa.source,"g");function lh(t){return function(){return t}}function uh(t){return function(e){return t(e)+""}}function kl(t,e){var n=qa.lastIndex=Aa.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=qa.exec(t))&&(i=Aa.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:We(r,i)})),n=Aa.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?uh(u[0].x):lh(e):(e=u.length,function(c){for(var f=0,d;f<e;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function ds(t,e){var n=typeof e,r;return e==null||n==="boolean"?fs(e):(n==="number"?We:n==="string"?(r=or(e))?(e=r,Ki):kl:e instanceof or?Ki:e instanceof Date?sh:ih(e)?rh:Array.isArray(e)?ah:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?oh:We)(t,e)}function ch(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var io=180/Math.PI,za={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function El(t,e,n,r,i,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*io,skewX:Math.atan(u)*io,scaleX:o,scaleY:l}}var Ti;function fh(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?za:El(e.a,e.b,e.c,e.d,e.e,e.f)}function dh(t){return t==null||(Ti||(Ti=document.createElementNS("http://www.w3.org/2000/svg","g")),Ti.setAttribute("transform",t),!(t=Ti.transform.baseVal.consolidate()))?za:(t=t.matrix,El(t.a,t.b,t.c,t.d,t.e,t.f))}function Sl(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,f,d,h,p,v){if(c!==d||f!==h){var w=p.push("translate(",null,e,null,n);v.push({i:w-4,x:We(c,d)},{i:w-2,x:We(f,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function o(c,f,d,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:We(c,f)})):f&&d.push(i(d)+"rotate("+f+r)}function l(c,f,d,h){c!==f?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:We(c,f)}):f&&d.push(i(d)+"skewX("+f+r)}function u(c,f,d,h,p,v){if(c!==d||f!==h){var w=p.push(i(p)+"scale(",null,",",null,")");v.push({i:w-4,x:We(c,d)},{i:w-2,x:We(f,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(c,f){var d=[],h=[];return c=t(c),f=t(f),s(c.translateX,c.translateY,f.translateX,f.translateY,d,h),o(c.rotate,f.rotate,d,h),l(c.skewX,f.skewX,d,h),u(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,h),c=f=null,function(p){for(var v=-1,w=h.length,k;++v<w;)d[(k=h[v]).i]=k.x(p);return d.join("")}}}var hh=Sl(fh,"px, ","px)","deg)"),vh=Sl(dh,", ",")",")"),Or=0,Qr=0,Wr=0,Ml=1e3,Gi,Jr,Wi=0,lr=0,ha=0,ui=typeof performance=="object"&&performance.now?performance:Date,Al=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hs(){return lr||(Al(ph),lr=ui.now()+ha)}function ph(){lr=0}function Zi(){this._call=this._time=this._next=null}Zi.prototype=Nl.prototype={constructor:Zi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?hs():+n)+(e==null?0:+e),!this._next&&Jr!==this&&(Jr?Jr._next=this:Gi=this,Jr=this),this._call=t,this._time=n,Ba()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ba())}};function Nl(t,e,n){var r=new Zi;return r.restart(t,e,n),r}function _h(){hs(),++Or;for(var t=Gi,e;t;)(e=lr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Or}function ao(){lr=(Wi=ui.now())+ha,Or=Qr=0;try{_h()}finally{Or=0,mh(),lr=0}}function gh(){var t=ui.now(),e=t-Wi;e>Ml&&(ha-=e,Wi=t)}function mh(){for(var t,e=Gi,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gi=n);Jr=t,Ba(r)}function Ba(t){if(!Or){Qr&&(Qr=clearTimeout(Qr));var e=t-lr;e>24?(t<1/0&&(Qr=setTimeout(ao,t-ui.now()-ha)),Wr&&(Wr=clearInterval(Wr))):(Wr||(Wi=ui.now(),Wr=setInterval(gh,Ml)),Or=1,Al(ao))}}function so(t,e,n){var r=new Zi;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var yh=ll("start","end","cancel","interrupt"),wh=[],$l=0,oo=1,Ua=2,Di=3,lo=4,Ya=5,qi=6;function va(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;bh(t,n,{name:e,index:r,group:i,on:yh,tween:wh,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:$l})}function vs(t,e){var n=rn(t,e);if(n.state>$l)throw new Error("too late; already scheduled");return n}function gn(t,e){var n=rn(t,e);if(n.state>Di)throw new Error("too late; already running");return n}function rn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bh(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Nl(s,0,n.time);function s(c){n.state=oo,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var f,d,h,p;if(n.state!==oo)return u();for(f in r)if(p=r[f],p.name===n.name){if(p.state===Di)return so(o);p.state===lo?(p.state=qi,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[f]):+f<e&&(p.state=qi,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[f])}if(so(function(){n.state===Di&&(n.state=lo,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Ua,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ua){for(n.state=Di,i=new Array(h=n.tween.length),f=0,d=-1;f<h;++f)(p=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function l(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Ya,1),d=-1,h=i.length;++d<h;)i[d].call(t,f);n.state===Ya&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=qi,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function xh(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Ua&&r.state<Ya,r.state=qi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function kh(t){return this.each(function(){xh(this,t)})}function Eh(t,e){var n,r;return function(){var i=gn(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Sh(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=gn(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=l;break}u===c&&i.push(l)}s.tween=i}}function Mh(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=rn(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Eh:Sh)(n,t,e))}function ps(t,e,n){var r=t._id;return t.each(function(){var i=gn(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return rn(i,r).value[e]}}function Tl(t,e){var n;return(typeof e=="number"?We:e instanceof or?Ki:(n=or(e))?(e=n,Ki):kl)(t,e)}function Ah(t){return function(){this.removeAttribute(t)}}function Nh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $h(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function Th(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function Ch(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function Ih(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function Rh(t,e){var n=da(t),r=n==="transform"?vh:Tl;return this.attrTween(t,typeof e=="function"?(n.local?Ih:Ch)(n,r,ps(this,"attr."+t,e)):e==null?(n.local?Nh:Ah)(n):(n.local?Th:$h)(n,r,e))}function Ph(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Lh(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Fh(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Lh(t,s)),n}return i._value=e,i}function Oh(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Ph(t,s)),n}return i._value=e,i}function Dh(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=da(t);return this.tween(n,(r.local?Fh:Oh)(r,e))}function qh(t,e){return function(){vs(this,t).delay=+e.apply(this,arguments)}}function zh(t,e){return e=+e,function(){vs(this,t).delay=e}}function Bh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?qh:zh)(e,t)):rn(this.node(),e).delay}function Uh(t,e){return function(){gn(this,t).duration=+e.apply(this,arguments)}}function Yh(t,e){return e=+e,function(){gn(this,t).duration=e}}function Vh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Uh:Yh)(e,t)):rn(this.node(),e).duration}function Hh(t,e){if(typeof e!="function")throw new Error;return function(){gn(this,t).ease=e}}function jh(t){var e=this._id;return arguments.length?this.each(Hh(e,t)):rn(this.node(),e).ease}function Xh(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;gn(this,t).ease=n}}function Kh(t){if(typeof t!="function")throw new Error;return this.each(Xh(this._id,t))}function Gh(t){typeof t!="function"&&(t=fl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,c=0;c<o;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new Sn(r,this._parents,this._name,this._id)}function Wh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],c=n[l],f=u.length,d=o[l]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<r;++l)o[l]=e[l];return new Sn(o,this._parents,this._name,this._id)}function Zh(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Qh(t,e,n){var r,i,s=Zh(e)?vs:gn;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function Jh(t,e){var n=this._id;return arguments.length<2?rn(this.node(),n).on.on(t):this.each(Qh(n,t,e))}function tv(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ev(){return this.on("end.remove",tv(this._id))}function nv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ls(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,c=s[o]=new Array(u),f,d,h=0;h<u;++h)(f=l[h])&&(d=t.call(f,f.__data__,h,l))&&("__data__"in f&&(d.__data__=f.__data__),c[h]=d,va(c[h],e,n,h,c,rn(f,n)));return new Sn(s,this._parents,e,n)}function rv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=cl(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],c=u.length,f,d=0;d<c;++d)if(f=u[d]){for(var h=t.call(f,f.__data__,d,u),p,v=rn(f,n),w=0,k=h.length;w<k;++w)(p=h[w])&&va(p,e,n,w,h,v);s.push(h),o.push(f)}return new Sn(s,o,e,n)}var iv=_i.prototype.constructor;function av(){return new iv(this._groups,this._parents)}function sv(t,e){var n,r,i;return function(){var s=Fr(this,t),o=(this.style.removeProperty(t),Fr(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Cl(t){return function(){this.style.removeProperty(t)}}function ov(t,e,n){var r,i=n+"",s;return function(){var o=Fr(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function lv(t,e,n){var r,i,s;return function(){var o=Fr(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Fr(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function uv(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var u=gn(this,t),c=u.on,f=u.value[s]==null?l||(l=Cl(e)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(o,i=f),u.on=r}}function cv(t,e,n){var r=(t+="")=="transform"?hh:Tl;return e==null?this.styleTween(t,sv(t,r)).on("end.style."+t,Cl(t)):typeof e=="function"?this.styleTween(t,lv(t,r,ps(this,"style."+t,e))).each(uv(this._id,t)):this.styleTween(t,ov(t,r,e),n).on("end.style."+t,null)}function fv(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function dv(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&fv(t,o,n)),r}return s._value=e,s}function hv(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,dv(t,e,n??""))}function vv(t){return function(){this.textContent=t}}function pv(t){return function(){var e=t(this);this.textContent=e??""}}function _v(t){return this.tween("text",typeof t=="function"?pv(ps(this,"text",t)):vv(t==null?"":t+""))}function gv(t){return function(e){this.textContent=t.call(this,e)}}function mv(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&gv(i)),e}return r._value=t,r}function yv(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,mv(t))}function wv(){for(var t=this._name,e=this._id,n=Il(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,c=0;c<l;++c)if(u=o[c]){var f=rn(u,e);va(u,t,n,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Sn(r,this._parents,t,n)}function bv(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var c=gn(this,r),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),c.on=e}),i===0&&s()})}var xv=0;function Sn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Il(){return++xv}var xn=_i.prototype;Sn.prototype={constructor:Sn,select:nv,selectAll:rv,selectChild:xn.selectChild,selectChildren:xn.selectChildren,filter:Gh,merge:Wh,selection:av,transition:wv,call:xn.call,nodes:xn.nodes,node:xn.node,size:xn.size,empty:xn.empty,each:xn.each,on:Jh,attr:Rh,attrTween:Dh,style:cv,styleTween:hv,text:_v,textTween:yv,remove:ev,tween:Mh,delay:Bh,duration:Vh,ease:jh,easeVarying:Kh,end:bv,[Symbol.iterator]:xn[Symbol.iterator]};function kv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ev={time:null,delay:0,duration:250,ease:kv};function Sv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Mv(t){var e,n;t instanceof Sn?(e=t._id,t=t._name):(e=Il(),(n=Ev).time=hs(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&va(u,t,e,c,o,n||Sv(u,e));return new Sn(r,this._parents,t,e)}_i.prototype.interrupt=kh;_i.prototype.transition=Mv;const Va=Math.PI,Ha=2*Va,Kn=1e-6,Av=Ha-Kn;function Rl(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Nv(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Rl;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $v{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Rl:Nv(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=r-e,c=i-n,f=o-e,d=l-n,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Kn)if(!(Math.abs(d*u-c*f)>Kn)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,v=i-l,w=u*u+c*c,k=p*p+v*v,q=Math.sqrt(w),U=Math.sqrt(h),F=s*Math.tan((Va-Math.acos((w+h-k)/(2*q*U)))/2),et=F/U,B=F/q;Math.abs(et-1)>Kn&&this._append`L${e+et*f},${n+et*d}`,this._append`A${s},${s},0,0,${+(d*p>f*v)},${this._x1=e+B*u},${this._y1=n+B*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),c=e+l,f=n+u,d=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Kn||Math.abs(this._y1-f)>Kn)&&this._append`L${c},${f}`,r&&(h<0&&(h=h%Ha+Ha),h>Av?this._append`A${r},${r},0,1,${d},${e-l},${n-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=f}`:h>Kn&&this._append`A${r},${r},0,${+(h>=Va)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Tv(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Dr(t){return t=Qi(Math.abs(t)),t?t[1]:NaN}function Cv(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Iv(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Rv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ji(t){if(!(e=Rv.exec(t)))throw new Error("invalid format: "+t);var e;return new _s({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ji.prototype=_s.prototype;function _s(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pv(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Pl;function Lv(t,e){var n=Qi(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Pl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Qi(t,Math.max(0,e+s-1))[0]}function uo(t,e){var n=Qi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const co={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Tv,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uo(t*100,e),r:uo,s:Lv,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fo(t){return t}var ho=Array.prototype.map,vo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fv(t){var e=t.grouping===void 0||t.thousands===void 0?fo:Cv(ho.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?fo:Iv(ho.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Ji(d);var h=d.fill,p=d.align,v=d.sign,w=d.symbol,k=d.zero,q=d.width,U=d.comma,F=d.precision,et=d.trim,B=d.type;B==="n"?(U=!0,B="g"):co[B]||(F===void 0&&(F=12),et=!0,B="g"),(k||h==="0"&&p==="=")&&(k=!0,h="0",p="=");var Y=w==="$"?n:w==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",G=w==="$"?r:/[%p]/.test(B)?o:"",lt=co[B],Pt=/[defgprs%]/.test(B);F=F===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function pt(W){var at=Y,M=G,yt,tt,St;if(B==="c")M=lt(W)+M,W="";else{W=+W;var Ut=W<0||1/W<0;if(W=isNaN(W)?u:lt(Math.abs(W),F),et&&(W=Pv(W)),Ut&&+W==0&&v!=="+"&&(Ut=!1),at=(Ut?v==="("?v:l:v==="-"||v==="("?"":v)+at,M=(B==="s"?vo[8+Pl/3]:"")+M+(Ut&&v==="("?")":""),Pt){for(yt=-1,tt=W.length;++yt<tt;)if(St=W.charCodeAt(yt),48>St||St>57){M=(St===46?i+W.slice(yt+1):W.slice(yt))+M,W=W.slice(0,yt);break}}}U&&!k&&(W=e(W,1/0));var ee=at.length+W.length+M.length,b=ee<q?new Array(q-ee+1).join(h):"";switch(U&&k&&(W=e(b+W,b.length?q-M.length:1/0),b=""),p){case"<":W=at+W+M+b;break;case"=":W=at+b+W+M;break;case"^":W=b.slice(0,ee=b.length>>1)+at+W+M+b.slice(ee);break;default:W=b+at+W+M;break}return s(W)}return pt.toString=function(){return d+""},pt}function f(d,h){var p=c((d=Ji(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Dr(h)/3)))*3,w=Math.pow(10,-v),k=vo[8+v/3];return function(q){return p(w*q)+k}}return{format:c,formatPrefix:f}}var Ci,Ll,Fl;Ov({thousands:",",grouping:[3],currency:["$",""]});function Ov(t){return Ci=Fv(t),Ll=Ci.format,Fl=Ci.formatPrefix,Ci}function Dv(t){return Math.max(0,-Dr(Math.abs(t)))}function qv(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dr(e)/3)))*3-Dr(Math.abs(t)))}function zv(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Dr(e)-Dr(t))+1}function gs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const po=Symbol("implicit");function Ol(){var t=new js,e=[],n=[],r=po;function i(s){let o=t.get(s);if(o===void 0){if(r!==po)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new js;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Ol(e,n).unknown(r)},gs.apply(i,arguments),i}function Dl(){var t=Ol().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,u=0,c=0,f=.5;delete t.unknown;function d(){var h=e().length,p=i<r,v=p?i:r,w=p?r:i;s=(w-v)/Math.max(1,h-u+c*2),l&&(s=Math.floor(s)),v+=(w-v-s*(h-u))*f,o=s*(1-u),l&&(v=Math.round(v),o=Math.round(o));var k=af(h).map(function(q){return v+s*q});return n(p?k.reverse():k)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,d()):l},t.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),d()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),d()):u},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},t.copy=function(){return Dl(e(),[r,i]).round(l).paddingInner(u).paddingOuter(c).align(f)},gs.apply(d(),arguments)}function ql(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ql(e())},t}function Bv(){return ql(Dl.apply(null,arguments).paddingInner(1))}function Uv(t){return function(){return t}}function Yv(t){return+t}var _o=[0,1];function Er(t){return t}function ja(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Uv(isNaN(e)?NaN:.5)}function Vv(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Hv(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=ja(i,r),s=n(o,s)):(r=ja(r,i),s=n(s,o)),function(l){return s(r(l))}}function jv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=ja(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var u=Wc(t,l,1,r)-1;return s[u](i[u](l))}}function Xv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kv(){var t=_o,e=_o,n=ds,r,i,s,o=Er,l,u,c;function f(){var h=Math.min(t.length,e.length);return o!==Er&&(o=Vv(t[0],t[h-1])),l=h>2?jv:Hv,u=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(u||(u=l(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((c||(c=l(e,t.map(r),We)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Yv),f()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=ch,f()},d.clamp=function(h){return arguments.length?(o=h?!0:Er,f()):o!==Er},d.interpolate=function(h){return arguments.length?(n=h,f()):n},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,p){return r=h,i=p,f()}}function Gv(){return Kv()(Er,Er)}function Wv(t,e,n,r){var i=rf(t,e,n),s;switch(r=Ji(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=qv(i,o))&&(r.precision=s),Fl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=zv(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Dv(i))&&(r.precision=s-(r.type==="%")*2);break}}return Ll(r)}function Zv(t){var e=t.domain;return t.ticks=function(n){var r=e();return ol(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Wv(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],u,c,f=10;for(l<o&&(c=o,o=l,l=c,c=i,i=s,s=c);f-- >0;){if(c=Fa(o,l,n),c===u)return r[i]=o,r[s]=l,e(r);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;u=c}return t},t}function zl(){var t=Gv();return t.copy=function(){return Xv(t,zl())},gs.apply(t,arguments),Zv(t)}function kr(t){return function(){return t}}function Qv(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $v(e)}function Jv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Bl(t){this._context=t}Bl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function tp(t){return new Bl(t)}function ep(t){return t[0]}function np(t){return t[1]}function rp(t,e){var n=kr(!0),r=null,i=tp,s=null,o=Qv(l);t=typeof t=="function"?t:t===void 0?ep:kr(t),e=typeof e=="function"?e:e===void 0?np:kr(e);function l(u){var c,f=(u=Jv(u)).length,d,h=!1,p;for(r==null&&(s=i(p=o())),c=0;c<=f;++c)!(c<f&&n(d=u[c],c,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,c,u),+e(d,c,u));if(p)return s=null,p+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:kr(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:kr(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:kr(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}function go(t){return t<0?-1:1}function mo(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(go(s)+go(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function yo(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Na(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function ta(t){this._context=t}ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Na(this,this._t0,yo(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Na(this,yo(this,n=mo(this,t,e)),n);break;default:Na(this,this._t0,n=mo(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(ta.prototype).point=function(t,e){ta.prototype.point.call(this,e,t)};function ip(t){return new ta(t)}function ti(t,e,n){this.k=t,this.x=e,this.y=n}ti.prototype={constructor:ti,scale:function(t){return t===1?this:new ti(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ti(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ti.prototype;var ap=nn('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),sp=nn('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),op=nn("<tspan> </tspan>"),lp=nn('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),up=nn('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),cp=nn('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),fp=nn('<path stroke-width="1.5" role="button" tabindex="0"></path>'),dp=nn("<g><!></g>"),hp=z("<div> </div>"),vp=z("<div> </div>"),pp=z("<div> </div>"),_p=z('<div class="tooltip-divider svelte-idxsrp"></div>'),gp=z('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),mp=z("<div> </div>"),yp=z("<div> </div>"),wp=z("<div> </div>"),bp=z("<div> </div>"),xp=z("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),kp=z('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),Ep=z("<span> </span>"),Sp=nn('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),Mp=nn('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),Ap=nn('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),Np=z('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),$p=z('<div class="band-legend svelte-idxsrp"></div>'),Tp=z('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),Cp=z('<div class="legend svelte-idxsrp"></div>'),Ip=z('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function Rp(t,e){Br(e,!0);let n=Ue(e,"bands",19,()=>[]),r=Ue(e,"years",19,()=>[]),i=Ue(e,"maxFieldSize",3,0),s=Ue(e,"yMode",3,"relative"),o=Ue(e,"showConductorMarkers",3,!0);const l={top:24,right:48,bottom:48,left:72},u=880,c=360,f={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},d=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],h=["circle","square","triangle"],p=6,v=24,w=26,k=30,q=l.top+12,U=c-l.bottom-22,F=10,et=6,B=[0,1,2,3];let Y=mt(null),G=mt(ke({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),lt=null,Pt=null,pt=mt(null),W=mt(0),at=mt(0);const M=()=>o()&&n().length===1;function yt(m){if(m.absolute_position==null)return 0;const _=m.field_size??a(sn)??i()??1;return _?m.absolute_position/_*100:0}function tt(m){return s()==="relative"?yt(m):m.absolute_position??0}function St(m){const _=m.pieces??m.pieces,P=Array.isArray(_)?_.map(T=>`${T}`.trim()).filter(Boolean):_!=null&&`${_}`.trim().length?[`${_}`.trim()]:[],O={...m,pieces:P},V=m;return V.band_name!=null&&(O.band_name=V.band_name),Array.isArray(V.aggregate_entries)&&V.aggregate_entries.length>0&&(O.aggregate_entries=V.aggregate_entries.map(T=>St(T))),O}function Ut(m){return m.map(_=>St(_))}function ee(m){const _=[];let P=0;if(m.length>0){const O=m[0];O.conductor&&(_.push({year:O.year,conductor:O.conductor,lane:P}),P+=1)}for(let O=1;O<m.length;O+=1){const V=m[O-1],T=m[O];V.conductor&&T.conductor&&V.conductor!==T.conductor&&(_.push({year:T.year,conductor:T.conductor,lane:P}),P+=1)}return _}function b(){if(!a(Y))return;const m=a(Y).getBoundingClientRect(),_=a(Y).parentElement;if(!_)return;const P=_.getBoundingClientRect();if(m.width===0||m.height===0)return;const O={offsetX:m.left-P.left,scaleX:m.width/u,offsetY:m.top-P.top,scaleY:m.height/c};(Math.abs(O.offsetX-a(G).offsetX)>.1||Math.abs(O.scaleX-a(G).scaleX)>.001||Math.abs(O.offsetY-a(G).offsetY)>.1||Math.abs(O.scaleY-a(G).scaleY)>.001)&&R(G,O,!0)}function I(){!lt||!a(Y)||Pt!==a(Y)&&(Pt&&lt.unobserve(Pt),lt.observe(a(Y)),Pt=a(Y))}Yi(()=>{typeof ResizeObserver<"u"&&(lt=new ResizeObserver(()=>b())),I(),b(),window.addEventListener("resize",b)}),ii(()=>{I(),b()}),Rc(()=>{lt==null||lt.disconnect(),window.removeEventListener("resize",b)});function Q(m){return B[m%B.length]??0}function ft(m,_){const P=a(se);if(!P)return{anchor:"middle",dx:0};const O=P(m.year)??l.left,V=48,T=l.left-V,ut=u-l.right+V,_t=Math.max(_,1)*et/2;return O+_t>ut?{anchor:"end",dx:0}:O-_t<T?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function Mt(m){const _=m==null?void 0:m.trim();if(!_)return[""];const P=_.split(/\s+/);if(P.length<=1)return[_];const O=P.pop(),V=P.join(" ");return V?[V,O]:[O]}function jt(m,_,P){const O=m.find(wt=>wt.year===_.year),V=Q(_.lane);if(!O)return l.top-8+V*(v+6);const T=a(Kt)(tt(O)),ut=P??Mt(_.conductor),At=(Math.max(ut.length,1)-1)*6,Nt=m.filter(wt=>wt.year>=_.year-1&&wt.year<=_.year+1).map(wt=>({year:wt.year,y:a(Kt)(tt(wt))})).sort((wt,ht)=>wt.year-ht.year),Qt=Nt.findIndex(wt=>wt.year===_.year);let Et=!0;if(Qt>0&&Qt<Nt.length-1){const wt=Nt[Qt-1],ht=Nt[Qt+1],re=Math.abs(T-wt.y),we=Math.abs(T-ht.y);(re<w+4||we<w+4)&&(Et=!1)}const ct=v+10,Ot=w+V*ct+At,Dt=T-Ot;if(Et&&Dt>q)return Dt;const oe=k+V*ct+At,qt=T+oe;if(qt<=U)return qt;const Ht=U-V*ct;return Ht>q?Ht:Math.max(q,Math.min(U,T))}function Xt(m,_,P){return`M ${m} ${_-P} L ${m+P} ${_+P} L ${m-P} ${_+P} Z`}function fe(m){if(!m)return Number.POSITIVE_INFINITY;const _=m.trim().toLowerCase();if(_==="elite")return 0;const P=_.match(/(\d+)/);return P?parseInt(P[1],10):Number.POSITIVE_INFINITY}function ue(m,_){const P=fe(m),O=fe(_);return P!==O?P-O:m.localeCompare(_)}let an=L(()=>n().map(m=>({band:m,entries:Ut(m.entries)}))),_e=L(()=>a(an).reduce((m,_)=>(m.push(..._.entries),m),[])),Ne=L(()=>(()=>{if(r().length)return r();if(!a(_e).length)return[0];const m=new Set(a(_e).map(_=>_.year));return Array.from(m).sort((_,P)=>_-P)})()),se=L(()=>Bv().domain(a(Ne)).range([l.left,u-l.right])),sn=L(()=>i()||(a(_e).length?Math.max(...a(_e).map(m=>m.field_size??0)):1)),je=L(()=>s()==="relative"?[100,0]:[a(sn)+1,0]),Kt=L(()=>zl().domain(a(je)).range([c-l.bottom,l.top])),$e=L(()=>a(an).map((m,_)=>{const P=[...m.entries].sort((_t,At)=>_t.year-At.year),O=a(Ne).map(_t=>P.find(At=>At.year===_t)??null),T=rp().defined(_t=>_t!==null).x(_t=>_t?a(se)(_t.year)??l.left:l.left).y(_t=>_t?a(Kt)(tt(_t)):a(Kt)(a(je)[1])).curve(ip)(O)??void 0,ut=M()?ee(P):[];return{band:m.band,entries:P,timeline:O,pathData:T,conductorChanges:ut,color:d[_%d.length],shape:h[_%h.length]}})),Yn=L(()=>M()&&a($e).length?a($e)[0].conductorChanges.map(m=>{const _=Mt(m.conductor),P=_.reduce((V,T)=>Math.max(V,T.length),0),O=ft(m,P);return{...m,...O,y:jt(a($e)[0].entries,m,_),labelLines:_}}):[]),Nn=L(()=>(()=>{if(s()==="relative")return Array.from({length:11},(m,_)=>_*10);{const m=Array.from(new Set(ol(1,a(sn),6).map(_=>Math.round(_)))).filter(_=>_>=1).sort((_,P)=>_-P);return m.includes(1)?m:[1,...m]}})()),Vn=L(()=>new Set(a(_e).map(m=>m.year))),Lt=L(()=>a(Ne).length>30?5:a(Ne).length>18?3:1),Tt=L(()=>a(Ne).filter((m,_)=>_===0||_===a(Ne).length-1||m===2019?!0:m%a(Lt)===0)),dt=L(()=>a(Tt).map(m=>{const _=a(se)(m)??l.left,P=a(G).offsetX+_*a(G).scaleX;return{year:m,x:P,inactive:!a(Vn).has(m)}})),Ft=L(()=>a(G).offsetY+(c-l.bottom)*a(G).scaleY+F),Ct=L(()=>Array.from(new Set(a(_e).map(m=>m.division))).filter(m=>typeof m=="string"&&m.length>0).sort(ue));const Yt=()=>a(Ct).length>0;function Zt(m,_,P,O){const V=m.currentTarget,T=V.ownerSVGElement;if(!T)return;const ut=T.getBoundingClientRect();if(m instanceof MouseEvent)R(W,m.clientX-ut.left),R(at,m.clientY-ut.top);else{const _t=V.getBoundingClientRect();R(W,_t.left+_t.width/2-ut.left),R(at,_t.top+_t.height/2-ut.top)}R(pt,{entry:_,bandName:P,lineColor:O},!0)}function It(){R(pt,null)}function ie(m){return m.aggregate_entries}var Vt=Ip(),ge=kt(Vt),me=x(ge);D(me,"viewBox",`0 0 ${u} ${c}`);var on=C(x(me));Wt(on,21,()=>a(Nn),te,(m,_)=>{var P=ap(),O=kt(P),V=C(O),T=x(V);X((ut,_t,At)=>{D(O,"x1",l.left),D(O,"x2",u-l.right),D(O,"y1",ut),D(O,"y2",_t),D(V,"x",l.left-12),D(V,"y",At),H(T,s()==="relative"?`${a(_)}%`:`#${a(_)}`)},[()=>a(Kt)(a(_)),()=>a(Kt)(a(_)),()=>a(Kt)(a(_))+4]),E(m,P)});var Pe=C(on);Wt(Pe,17,()=>a($e),te,(m,_)=>{var P=Jt(),O=kt(P);{var V=T=>{var ut=sp();X(()=>{D(ut,"d",a(_).pathData),D(ut,"stroke",a(_).color)}),E(T,ut)};Z(O,T=>{a(_).pathData&&T(V)})}E(m,P)});var ye=C(Pe);{var ln=m=>{var _=Jt(),P=kt(_);Wt(P,17,()=>a(Yn),te,(O,V)=>{var T=Jt(),ut=kt(T);{var _t=At=>{var Nt=Jt(),Qt=kt(Nt);Pc(Qt,()=>`${a(V).year}-${a(V).conductor}`,Et=>{var ct=lp(),Ot=x(ct),Dt=C(Ot);Wt(Dt,21,()=>a(V).labelLines,te,(oe,qt,Ht,wt)=>{var ht=op();D(ht,"dy",Ht===0?0:"1.1em");var re=x(ht);X(we=>{D(ht,"x",we),H(re,a(qt))},[()=>a(se)(a(V).year)]),E(oe,ht)}),X((oe,qt,Ht)=>{D(Ot,"x1",oe),D(Ot,"x2",qt),D(Ot,"y1",l.top),D(Ot,"y2",c-l.bottom),D(Dt,"x",Ht),D(Dt,"y",a(V).y),D(Dt,"text-anchor",a(V).anchor),D(Dt,"dx",a(V).dx)},[()=>a(se)(a(V).year),()=>a(se)(a(V).year),()=>a(se)(a(V).year)]),E(Et,ct)}),E(At,Nt)};Z(ut,At=>{a(se)(a(V).year)!==void 0&&At(_t)})}E(O,T)}),E(m,_)};Z(ye,m=>{M()&&m(ln)})}var jr=C(ye);Wt(jr,17,()=>a($e),te,(m,_)=>{var P=Jt(),O=kt(P);Wt(O,17,()=>a(_).entries,V=>V.year,(V,T)=>{var ut=Jt(),_t=kt(ut);{var At=Nt=>{const Qt=L(()=>a(se)(a(T).year)??l.left),Et=L(()=>a(Kt)(tt(a(T)))),ct=L(()=>(a(T).field_size??0)>0),Ot=L(()=>a(ct)?`${yt(a(T)).toFixed(1)}%`:null);var Dt=dp(),oe=x(Dt);{var qt=wt=>{var ht=up();D(ht,"r",p),X(()=>{D(ht,"cx",a(Qt)),D(ht,"cy",a(Et)),D(ht,"fill",f[a(T).division]??"#f8fafc"),D(ht,"stroke",a(_).color),D(ht,"aria-label",`${a(_).band.name}: ${a(T).year} – ${a(T).division} plass ${a(T).rank} (absolutt #${a(T).absolute_position}${a(Ot)?` · relativ ${a(Ot)}`:""})${a(T).conductor?` – Dirigent: ${a(T).conductor}`:""}`)}),Ce("mouseenter",ht,re=>Zt(re,a(T),a(_).band.name,a(_).color)),Ce("mouseleave",ht,It),Ce("focus",ht,re=>Zt(re,a(T),a(_).band.name,a(_).color)),Ce("blur",ht,It),E(wt,ht)},Ht=wt=>{var ht=Jt(),re=kt(ht);{var we=be=>{var nt=cp();D(nt,"width",p*2),D(nt,"height",p*2),X(()=>{D(nt,"x",a(Qt)-p),D(nt,"y",a(Et)-p),D(nt,"fill",f[a(T).division]??"#f8fafc"),D(nt,"stroke",a(_).color),D(nt,"aria-label",`${a(_).band.name}: ${a(T).year} – ${a(T).division} plass ${a(T).rank} (absolutt #${a(T).absolute_position}${a(Ot)?` · relativ ${a(Ot)}`:""})${a(T).conductor?` – Dirigent: ${a(T).conductor}`:""}`)}),Ce("mouseenter",nt,bt=>Zt(bt,a(T),a(_).band.name,a(_).color)),Ce("mouseleave",nt,It),Ce("focus",nt,bt=>Zt(bt,a(T),a(_).band.name,a(_).color)),Ce("blur",nt,It),E(be,nt)},un=be=>{var nt=fp();X(bt=>{D(nt,"d",bt),D(nt,"fill",f[a(T).division]??"#f8fafc"),D(nt,"stroke",a(_).color),D(nt,"aria-label",`${a(_).band.name}: ${a(T).year} – ${a(T).division} plass ${a(T).rank} (absolutt #${a(T).absolute_position}${a(Ot)?` · relativ ${a(Ot)}`:""})${a(T).conductor?` – Dirigent: ${a(T).conductor}`:""}`)},[()=>Xt(a(Qt),a(Et),p)]),Ce("mouseenter",nt,bt=>Zt(bt,a(T),a(_).band.name,a(_).color)),Ce("mouseleave",nt,It),Ce("focus",nt,bt=>Zt(bt,a(T),a(_).band.name,a(_).color)),Ce("blur",nt,It),E(be,nt)};Z(re,be=>{a(_).shape==="square"?be(we):be(un,!1)},!0)}E(wt,ht)};Z(oe,wt=>{a(_).shape==="circle"?wt(qt):wt(Ht,!1)})}E(Nt,Dt)};Z(_t,Nt=>{a(se)(a(T).year)!==void 0&&Nt(At)})}E(V,ut)}),E(m,P)}),Vc(me,m=>R(Y,m),()=>a(Y));var dr=C(me,2);{var hr=m=>{const _=L(()=>ie(a(pt).entry));var P=kp(),O=x(P),V=x(O),T=C(O,2);{var ut=At=>{var Nt=Jt(),Qt=kt(Nt);Wt(Qt,17,()=>a(_),te,(Et,ct,Ot)=>{var Dt=gp(),oe=kt(Dt),qt=x(oe),Ht=x(qt),wt=C(qt,2),ht=x(wt),re=C(wt,2),we=x(re),un=C(re,2);{var be=ae=>{const Te=L(()=>yt(a(ct)).toFixed(1));var yn=hp(),gr=x(yn);X(()=>H(gr,`Relativ plassering: ${a(Te)??""}%`)),E(ae,yn)};Z(un,ae=>{(a(ct).field_size??0)>0&&ae(be)})}var nt=C(un,2),bt=x(nt),Rt=C(nt,2);{var Le=ae=>{var Te=vp(),yn=x(Te);X(()=>H(yn,`Poeng: ${a(ct).points??""} / ${a(ct).max_points??""}`)),E(ae,Te)};Z(Rt,ae=>{a(ct).points!==null&&ae(Le)})}var pr=C(Rt,2);{var _r=ae=>{var Te=pp(),yn=x(Te);X(gr=>H(yn,`Stykker: ${gr??""}`),[()=>a(ct).pieces.join("; ")]),E(ae,Te)};Z(pr,ae=>{a(ct).pieces.length>0&&ae(_r)})}var $n=C(oe,2);{var Tn=ae=>{var Te=_p();E(ae,Te)};Z($n,ae=>{Ot<a(_).length-1&&ae(Tn)})}X(()=>{H(Ht,a(ct).band_name??"Ukjent korps"),H(ht,`${a(ct).division??""} · #${a(ct).rank??""}`),H(we,`Absolutt plassering: #${a(ct).absolute_position??""}`),H(bt,`Deltakere: ${a(ct).division_size??""} (div) / ${a(ct).field_size??""} (totalt)`)}),E(Et,Dt)}),E(At,Nt)},_t=At=>{var Nt=xp(),Qt=kt(Nt),Et=x(Qt),ct=C(Qt,2);{var Ot=nt=>{var bt=mp(),Rt=x(bt);X(()=>H(Rt,`Dirigent: ${a(pt).entry.conductor??""}`)),E(nt,bt)};Z(ct,nt=>{a(pt).entry.conductor&&nt(Ot)})}var Dt=C(ct,2),oe=x(Dt),qt=C(Dt,2);{var Ht=nt=>{const bt=L(()=>yt(a(pt).entry).toFixed(1));var Rt=yp(),Le=x(Rt);X(()=>H(Le,`Relativ plassering: ${a(bt)??""}%`)),E(nt,Rt)};Z(qt,nt=>{(a(pt).entry.field_size??0)>0&&nt(Ht)})}var wt=C(qt,2),ht=x(wt),re=C(wt,2);{var we=nt=>{var bt=wp(),Rt=x(bt);X(()=>H(Rt,`Poeng: ${a(pt).entry.points??""} / ${a(pt).entry.max_points??""}`)),E(nt,bt)};Z(re,nt=>{a(pt).entry.points!==null&&nt(we)})}var un=C(re,2);{var be=nt=>{var bt=bp(),Rt=x(bt);X(Le=>H(Rt,`Stykker: ${Le??""}`),[()=>a(pt).entry.pieces.join("; ")]),E(nt,bt)};Z(un,nt=>{a(pt).entry.pieces.length>0&&nt(be)})}X(()=>{H(Et,`${a(pt).entry.division??""} · #${a(pt).entry.rank??""}`),H(oe,`Absolutt plassering: #${a(pt).entry.absolute_position??""}`),H(ht,`Deltakere: ${a(pt).entry.division_size??""} (div) / ${a(pt).entry.field_size??""} (totalt)`)}),E(At,Nt)};Z(T,At=>{a(_)&&a(_).length?At(ut):At(_t,!1)})}X(()=>{Mi(P,`left: ${a(W)}px; top: ${a(at)}px`),H(V,`${a(pt).entry.year??""} · ${a(pt).bandName??""}`)}),E(m,P)};Z(dr,m=>{a(pt)&&m(hr)})}var mn=C(dr,2);Wt(mn,21,()=>a(dt),te,(m,_)=>{var P=Ep();let O;var V=x(P);X(T=>{Mi(P,`left: ${a(_).x}px`),O=In(P,1,"svelte-idxsrp",null,O,T),H(V,a(_).year)},[()=>({inactive:a(_).inactive})]),E(m,P)});var Hn=C(ge,2);{var vr=m=>{var _=$p();Wt(_,21,()=>a($e),te,(P,O)=>{var V=Np(),T=x(V),ut=x(T),_t=C(ut);{var At=Et=>{var ct=Sp();X(()=>D(ct,"stroke",a(O).color)),E(Et,ct)},Nt=Et=>{var ct=Jt(),Ot=kt(ct);{var Dt=qt=>{var Ht=Mp();X(()=>D(Ht,"stroke",a(O).color)),E(qt,Ht)},oe=qt=>{var Ht=Ap();X(wt=>{D(Ht,"d",wt),D(Ht,"stroke",a(O).color)},[()=>Xt(21,7,6)]),E(qt,Ht)};Z(Ot,qt=>{a(O).shape==="square"?qt(Dt):qt(oe,!1)},!0)}E(Et,ct)};Z(_t,Et=>{a(O).shape==="circle"?Et(At):Et(Nt,!1)})}var Qt=C(T);X(()=>{D(ut,"stroke",a(O).color),H(Qt,` ${a(O).band.name??""}`)}),E(P,V)}),E(m,_)};Z(Hn,m=>{a($e).length>0&&m(vr)})}var jn=C(Hn,2);{var ne=m=>{var _=Cp();Wt(_,21,()=>a(Ct),te,(P,O)=>{var V=Tp(),T=x(V),ut=C(T);X(()=>{Mi(T,`background-color: ${f[a(O)]??"#94a3b8"}`),H(ut,` ${a(O)??""}`)}),E(P,V)}),E(m,_)};Z(jn,m=>{Yt()&&m(ne)})}X(()=>Mi(mn,`top: ${a(Ft)}px`)),E(t,Vt),Ur()}function Gt(t){return t.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}function Pp(t,e){const n=Number(t.target.value);R(e,Number.isNaN(n)?null:n,!0)}function Lp(t,e){R(e,t.target.value||null,!0)}var Fp=z('<p class="svelte-1e9ky18"> </p>'),Op=z('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),Dp=z('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),qp=z("<option> </option>"),zp=z("<option selected>Ingen divisjoner</option>"),Bp=z("<option> </option>"),Up=z('<span class="svelte-1e9ky18"> </span>'),Yp=z('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),Vp=z('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),Hp=z('<a class="entity-link svelte-1e9ky18"> </a>'),jp=z("<span>Ukjent</span>"),Xp=z("<span>–</span>"),Kp=z('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-1e9ky18"><span class="sr-only svelte-1e9ky18">Hør på Spotify</span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),Gp=z('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-1e9ky18"><span class="sr-only svelte-1e9ky18">Hør på Apple Music</span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),Wp=z('<span class="streaming-links svelte-1e9ky18"><!> <!></span>'),Zp=z('<span class="program-piece svelte-1e9ky18"><a class="program-link svelte-1e9ky18"> </a> <!></span> ',1),Qp=z('<tr class="svelte-1e9ky18"><td data-label="Plass" class="svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td></tr>'),Jp=z('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),t_=z('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!>',1),e_=z('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2> <!></div> <!></section>');function n_(t,e){Br(e,!0);let n=Ue(e,"dataset",3,null),r=Ue(e,"bandType",3,"wind"),i=Ue(e,"streamingResolver",3,void 0);const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let o=mt(null),l=mt(null),u=L(()=>n()?w(n()):new Map),c=L(()=>{var b,I;return((I=(b=n())==null?void 0:b.metadata)==null?void 0:I.years)??[]}),f=L(()=>{var b,I;return((I=(b=n())==null?void 0:b.metadata)==null?void 0:I.generated_at)??null}),d=L(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||a(o)==null||!a(u).has(a(o)))return[];const b=a(u).get(a(o))??new Map,I=n().metadata.divisions.filter(ft=>b.has(ft)),Q=Array.from(b.keys()).filter(ft=>!I.includes(ft)).sort();return[...I,...Q]})()),h=L(()=>(()=>{if(a(o)!=null&&a(l)&&a(u).has(a(o))){const b=a(u).get(a(o)),I=(a(l)&&(b==null?void 0:b.get(a(l))))??[];return U(I)}return[]})()),p=L(()=>(()=>{var b;if(a(h).length>0){const I=(b=a(h)[0])==null?void 0:b.entry,Q=(I==null?void 0:I.division_size)??a(h).length;return Q&&Q>0?Q:null}return null})()),v=L(()=>(()=>{var b;if(a(h).length>0){const I=(b=a(h)[0])==null?void 0:b.entry,Q=(I==null?void 0:I.field_size)??null;return Q&&Q>0?Q:null}return null})());function w(b){const I=new Map;if(!(b!=null&&b.bands)||!Array.isArray(b.bands))return I;for(const Q of b.bands)if(!(!Q||!Q.entries||!Array.isArray(Q.entries)))for(const ft of Q.entries){if(!ft||typeof ft.year!="number"||!ft.division)continue;let Mt=I.get(ft.year);Mt||(Mt=new Map,I.set(ft.year,Mt));const jt=ft.division;let Xt=Mt.get(jt);Xt||(Xt=[],Mt.set(jt,Xt)),Xt.push({band:Q.name,entry:ft})}return I}function k(b){return b.length?a(o)&&b.includes(a(o))?a(o):b[b.length-1]??null:null}function q(b){return b.length?a(l)&&b.includes(a(l))?a(l):b[0]??null:null}function U(b){return[...b].sort((I,Q)=>{const ft=I.entry.rank??Number.POSITIVE_INFINITY,Mt=Q.entry.rank??Number.POSITIVE_INFINITY;if(ft!==Mt)return ft-Mt;const jt=I.entry.absolute_position??Number.POSITIVE_INFINITY,Xt=Q.entry.absolute_position??Number.POSITIVE_INFINITY;return jt!==Xt?jt-Xt:I.band.localeCompare(Q.band)})}function F(b){return b!=null?`${b}`:"–"}function et(b,I){if(b==null&&I==null)return"–";const Q=b==null?"–":s.format(b);return I==null,Q}function B(b){return b.map(I=>I.trim()).filter(Boolean)}function Y(b,I,Q){if(typeof i()!="function")return null;try{return i()(b,I,Q)??null}catch(ft){return console.error("Kunne ikke hente streaming-lenke",ft),null}}function G(b){return!!(b!=null&&b.spotify||b!=null&&b.apple_music)}function lt(b){if(!b)return null;const I=b.trim();if(!I)return null;if(!/^https?:\/\//i.test(I))return I;try{const Q=new URL(I);return`music://${`${Q.host}${Q.pathname}${Q.search}${Q.hash}`}`}catch(Q){return console.warn("Kunne ikke konvertere Apple Music-lenke",Q),I}}function Pt(b,I,Q){var fe,ue;if(!I)return b;const ft=(fe=I.recording_title)==null?void 0:fe.trim(),Mt=(ue=I.album)==null?void 0:ue.trim(),jt=Q==="spotify"?"Spotify":"Apple Music",Xt=ft&&ft.length>0?ft:b;return Mt&&Mt.length>0?`${Xt} • ${Mt} (${jt})`:`${Xt} (${jt})`}function pt(b){if(!b)return null;const I=new Date(b);return Number.isNaN(I.getTime())?b:new Intl.DateTimeFormat("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(I)}ii(()=>{if(n()&&a(c)&&Array.isArray(a(c))&&a(c).length>0){const b=k(a(c));a(o)!==b&&R(o,b,!0)}else R(o,null),R(l,null)}),ii(()=>{if(a(o)!=null&&a(d)&&Array.isArray(a(d))&&a(d).length>0){const b=q(a(d));a(l)!==b&&R(l,b,!0)}else a(o)!=null&&R(l,null)});let W=L(()=>pt(a(f)));var at=e_(),M=x(at),yt=C(x(M),2);{var tt=b=>{var I=Fp(),Q=x(I);X(()=>H(Q,`Data oppdatert ${a(W)??""}`)),E(b,I)};Z(yt,b=>{a(W)&&b(tt)})}var St=C(M,2);{var Ut=b=>{var I=Op();E(b,I)},ee=b=>{var I=Jt(),Q=kt(I);{var ft=jt=>{var Xt=Dp();E(jt,Xt)},Mt=jt=>{var Xt=t_(),fe=kt(Xt),ue=x(fe),an=C(x(ue),2);an.__change=[Pp,o],Wt(an,21,()=>a(c)||[],te,(Lt,Tt)=>{var dt=qp(),Ft=x(dt),Ct={};X(()=>{Us(dt,a(o)===a(Tt)),H(Ft,a(Tt)),Ct!==(Ct=a(Tt))&&(dt.value=(dt.__value=a(Tt))??"")}),E(Lt,dt)});var _e=C(ue,2),Ne=C(x(_e),2);Ne.__change=[Lp,l];var se=x(Ne);{var sn=Lt=>{var Tt=zp();Tt.value=Tt.__value="",E(Lt,Tt)},je=Lt=>{var Tt=Jt(),dt=kt(Tt);Wt(dt,17,()=>a(d),te,(Ft,Ct)=>{var Yt=Bp(),Zt=x(Yt),It={};X(()=>{Us(Yt,a(l)===a(Ct)),H(Zt,a(Ct)),It!==(It=a(Ct))&&(Yt.value=(Yt.__value=a(Ct))??"")}),E(Ft,Yt)}),E(Lt,Tt)};Z(se,Lt=>{!a(d)||a(d).length===0?Lt(sn):Lt(je,!1)})}var Kt=C(_e,2);{var $e=Lt=>{var Tt=Yp(),dt=x(Tt),Ft=x(dt),Ct=C(dt,2);{var Yt=Zt=>{var It=Up(),ie=x(It);X(()=>H(ie,`Totalt felt: ${a(v)??""}`)),E(Zt,It)};Z(Ct,Zt=>{a(v)&&Zt(Yt)})}X(()=>H(Ft,`${a(p)??""} korps`)),E(Lt,Tt)};Z(Kt,Lt=>{a(p)&&Lt($e)})}var Yn=C(fe,2);{var Nn=Lt=>{var Tt=Vp();E(Lt,Tt)},Vn=Lt=>{var Tt=Jp(),dt=x(Tt),Ft=C(x(dt));Wt(Ft,21,()=>a(h),te,(Ct,Yt)=>{let Zt=()=>a(Yt).band,It=()=>a(Yt).entry;var ie=Qp(),Vt=x(ie),ge=x(Vt),me=C(Vt),on=x(me),Pe=x(on),ye=C(me),ln=x(ye);{var jr=ne=>{var m=Hp(),_=x(m);X((P,O)=>{D(m,"href",P),H(_,O)},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(Gt(It().conductor))}`,()=>It().conductor.trim()]),E(ne,m)},dr=ne=>{var m=jp();E(ne,m)};Z(ln,ne=>{It().conductor&&It().conductor.trim().length>0?ne(jr):ne(dr,!1)})}var hr=C(ye),mn=x(hr),Hn=C(hr),vr=x(Hn);{var jn=ne=>{const m=L(()=>B(It().pieces));var _=Jt(),P=kt(_);{var O=T=>{var ut=Xp();E(T,ut)},V=T=>{var ut=Jt(),_t=kt(ut);Wt(_t,17,()=>a(m),te,(At,Nt,Qt)=>{const Et=L(()=>Y(It(),Zt(),a(Nt)));var ct=Zp(),Ot=kt(ct),Dt=x(Ot),oe=x(Dt),qt=C(Dt,2);{var Ht=ht=>{var re=Wp(),we=x(re);{var un=bt=>{var Rt=Kp();X(Le=>{D(Rt,"href",a(Et).spotify),D(Rt,"title",Le)},[()=>Pt(a(Nt),a(Et),"spotify")]),E(bt,Rt)};Z(we,bt=>{var Rt;(Rt=a(Et))!=null&&Rt.spotify&&bt(un)})}var be=C(we,2);{var nt=bt=>{const Rt=L(()=>lt(a(Et).apple_music));var Le=Jt(),pr=kt(Le);{var _r=$n=>{var Tn=Gp();X(ae=>{D(Tn,"href",a(Rt)),D(Tn,"title",ae)},[()=>Pt(a(Nt),a(Et),"apple")]),E($n,Tn)};Z(pr,$n=>{a(Rt)&&$n(_r)})}E(bt,Le)};Z(be,bt=>{var Rt;(Rt=a(Et))!=null&&Rt.apple_music&&bt(nt)})}E(ht,re)};Z(qt,ht=>{G(a(Et))&&ht(Ht)})}var wt=C(Ot,1,!0);X(ht=>{D(Dt,"href",ht),H(oe,a(Nt)),H(wt,Qt<a(m).length-1?", ":"")},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(Gt(a(Nt)))}`]),E(At,ct)}),E(T,ut)};Z(P,T=>{a(m).length===0?T(O):T(V,!1)})}E(ne,_)};Z(vr,ne=>{ne(jn)})}X((ne,m,_)=>{H(ge,ne),D(on,"href",m),H(Pe,Zt()),H(mn,_)},[()=>F(It().rank),()=>`?type=${r()}&view=bands&band=${encodeURIComponent(Gt(Zt()))}`,()=>et(It().points,It().max_points)]),E(Ct,ie)}),E(Lt,Tt)};Z(Yn,Lt=>{!a(h)||a(h).length===0?Lt(Nn):Lt(Vn,!1)})}E(jt,Xt)};Z(Q,jt=>{!a(c)||!a(c).length?jt(ft):jt(Mt,!1)},!0)}E(b,I)};Z(St,b=>{n()?b(ee,!1):b(Ut)})}E(t,at),Ur()}nl(["change"]);function Ul(t){return t.replace(/\s+/g," ").trim()}const r_=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function i_(t){return t.replace(r_,"").trim()}function Xa(t){if(!t)return[];const e=i_(t);if(!e)return[];const r=e.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/·]/g,",").split(/[;,]/).map(s=>Ul(s)).filter(s=>s.length>0),i=new Map;for(const s of r){const o=s.toLowerCase();i.has(o)||i.set(o,s)}return Array.from(i.values())}var a_=z('<a class="composer-link svelte-18hgr5c"> </a> ',1),s_=z('<p class="piece-composer svelte-18hgr5c"></p>'),o_=z('<p class="piece-composer svelte-18hgr5c"> </p>'),l_=z('<a class="entity-link svelte-18hgr5c"> </a>'),u_=z("<span>Ukjent</span>"),c_=z('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Spotify</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),f_=z('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Apple Music</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),d_=z('<div class="streaming-links svelte-18hgr5c"><!> <!></div>'),h_=z('<span class="streaming-missing svelte-18hgr5c" aria-hidden="true">–</span>'),v_=z('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td><td data-label="Opptak" class="streaming-cell svelte-18hgr5c"><!></td></tr>'),p_=z('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="svelte-18hgr5c">År</th><th scope="col" class="svelte-18hgr5c">Divisjon</th><th scope="col" class="svelte-18hgr5c">Korps</th><th scope="col" class="svelte-18hgr5c">Plass</th><th scope="col" class="svelte-18hgr5c">Poeng</th><th scope="col" class="svelte-18hgr5c">Dirigent</th><th scope="col" class="streaming-column svelte-18hgr5c">Opptak</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),__=z('<section class="pieces-view svelte-18hgr5c"></section>');function g_(t,e){Br(e,!0);let n=Ue(e,"pieces",19,()=>[]),r=Ue(e,"bandType",3,"wind");const i=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(v){return[...v].sort((w,k)=>{const q=w.entry.year-k.entry.year;if(q!==0)return q;const U=w.entry.rank??Number.POSITIVE_INFINITY,F=k.entry.rank??Number.POSITIVE_INFINITY;return U!==F?U-F:w.band.localeCompare(k.band)})}function o(v){return v.composerNames&&v.composerNames.length>0?v.composerNames:v.composer?Xa(v.composer):[]}function l(v){return v==null?"–":i.format(v)}function u(v){return v!=null?`${v}`:"–"}function c(v){return!!(v!=null&&v.spotify||v!=null&&v.apple_music)}function f(v){if(!v)return null;const w=v.trim();if(!w)return null;if(!/^https?:\/\//i.test(w))return w;try{const k=new URL(w);return`music://${`${k.host}${k.pathname}${k.search}${k.hash}`}`}catch(k){return console.warn("Kunne ikke konvertere Apple Music-lenke",k),w}}function d(v,w,k){var B,Y;if(!w)return v;const q=(B=w.recording_title)==null?void 0:B.trim(),U=(Y=w.album)==null?void 0:Y.trim(),F=k==="spotify"?"Spotify":"Apple Music",et=q&&q.length>0?q:v;return U&&U.length>0?`${et} • ${U} (${F})`:`${et} (${F})`}let h=L(()=>n().map(v=>({...v,performances:s(v.performances)})));var p=__();Wt(p,21,()=>a(h),te,(v,w)=>{const k=L(()=>o(a(w)));var q=p_(),U=x(q),F=x(U),et=x(F),B=x(et),Y=C(et,2);{var G=yt=>{var tt=s_();Wt(tt,21,()=>a(k),te,(St,Ut,ee)=>{var b=a_(),I=kt(b),Q=x(I),ft=C(I,1,!0);X(Mt=>{D(I,"href",Mt),H(Q,a(Ut)),H(ft,ee<a(k).length-1?", ":"")},[()=>`?type=${r()}&view=composers&composer=${encodeURIComponent(Gt(a(Ut)))}`]),E(St,b)}),E(yt,tt)},lt=yt=>{var tt=Jt(),St=kt(tt);{var Ut=ee=>{var b=o_(),I=x(b);X(()=>H(I,a(w).composer)),E(ee,b)};Z(St,ee=>{a(w).composer&&ee(Ut)},!0)}E(yt,tt)};Z(Y,yt=>{a(k).length>0?yt(G):yt(lt,!1)})}var Pt=C(Y,2),pt=x(Pt),W=C(U,2),at=x(W),M=C(x(at));Wt(M,21,()=>a(w).performances,te,(yt,tt)=>{const St=L(()=>{var dt;return((dt=a(tt).entry.conductor)==null?void 0:dt.trim())??""}),Ut=L(()=>a(St).length>0),ee=L(()=>a(Ut)?Gt(a(St)):""),b=L(()=>Gt(a(tt).band)),I=L(()=>a(tt).streaming??null);var Q=v_(),ft=x(Q),Mt=x(ft),jt=C(ft),Xt=x(jt),fe=C(jt),ue=x(fe),an=x(ue),_e=C(fe),Ne=x(_e),se=C(_e),sn=x(se),je=C(se),Kt=x(je);{var $e=dt=>{var Ft=l_(),Ct=x(Ft);X(Yt=>{D(Ft,"href",Yt),H(Ct,a(St))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(a(ee))}`]),E(dt,Ft)},Yn=dt=>{var Ft=u_();E(dt,Ft)};Z(Kt,dt=>{a(Ut)?dt($e):dt(Yn,!1)})}var Nn=C(je),Vn=x(Nn);{var Lt=dt=>{var Ft=d_(),Ct=x(Ft);{var Yt=ie=>{var Vt=c_();X(ge=>{D(Vt,"href",a(I).spotify),D(Vt,"title",ge)},[()=>d(a(w).name,a(I),"spotify")]),E(ie,Vt)};Z(Ct,ie=>{var Vt;(Vt=a(I))!=null&&Vt.spotify&&ie(Yt)})}var Zt=C(Ct,2);{var It=ie=>{const Vt=L(()=>f(a(I).apple_music));var ge=Jt(),me=kt(ge);{var on=Pe=>{var ye=f_();X(ln=>{D(ye,"href",a(Vt)),D(ye,"title",ln)},[()=>d(a(w).name,a(I),"apple")]),E(Pe,ye)};Z(me,Pe=>{a(Vt)&&Pe(on)})}E(ie,ge)};Z(Zt,ie=>{var Vt;(Vt=a(I))!=null&&Vt.apple_music&&ie(It)})}E(dt,Ft)},Tt=dt=>{var Ft=h_();E(dt,Ft)};Z(Vn,dt=>{c(a(I))?dt(Lt):dt(Tt,!1)})}X((dt,Ft,Ct)=>{H(Mt,a(tt).entry.year),H(Xt,a(tt).entry.division),D(ue,"href",dt),H(an,a(tt).band),H(Ne,Ft),H(sn,Ct)},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(a(b))}`,()=>u(a(tt).entry.rank),()=>l(a(tt).entry.points)]),E(yt,Q)}),X(()=>{H(B,a(w).name),H(pt,`${a(w).performances.length??""} fremføringer`),D(W,"aria-label",`Fremføringer av ${a(w).name}`)}),E(v,q)}),E(t,p),Ur()}var m_=z('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),y_=z('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),w_=z('<section class="composers-view svelte-1njzana"></section>');function b_(t,e){Br(e,!0);let n=Ue(e,"composers",19,()=>[]),r=Ue(e,"bandType",3,"wind"),i=L(()=>[...n()].sort((o,l)=>o.name.localeCompare(l.name)));var s=w_();Wt(s,21,()=>a(i),te,(o,l)=>{var u=y_(),c=x(u),f=x(c),d=x(f),h=x(d),p=C(d,2),v=x(p),w=C(c,2);Wt(w,21,()=>a(l).pieces,te,(k,q)=>{var U=m_(),F=x(U),et=x(F);X(B=>{D(F,"href",B),H(et,a(q).name)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(a(q).slug)}`]),E(k,U)}),X(()=>{H(h,a(l).name),H(v,`${a(l).pieces.length??""} ${a(l).pieces.length===1?"stykke":"stykker"}`)}),E(o,u)}),E(t,s),Ur()}function x_(t,e){R(e,!a(e))}function k_(t,e){R(e,!a(e))}function E_(t,e,n,r,i,s){e(a(n)==="dark"?"light":"dark"),r(),i(),s()}function S_(t,e,n,r,i,s){e(a(n)==="wind"?"brass":"wind"),r(),i(),s()}function M_(t,e,n){R(e,t.target.value,!0),R(n,-1)}function A_(t,e,n,r){a(e).length&&(t.key==="ArrowDown"?(t.preventDefault(),R(n,(a(n)+1)%a(e).length)):t.key==="ArrowUp"?(t.preventDefault(),R(n,(a(n)-1+a(e).length)%a(e).length)):t.key==="Enter"&&a(n)>=0&&(t.preventDefault(),r(a(e)[a(n)])))}var N_=(t,e,n)=>e(a(n)),$_=z('<button type="button"> </button>'),T_=z('<div role="option" tabindex="-1"> </div>'),C_=z('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),I_=z('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!>',1),R_=z('<section class="status svelte-1n46o8q">Laster data…</section>'),P_=z('<section class="status error svelte-1n46o8q"> </section>'),L_=z('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),F_=(t,e)=>e("absolute"),O_=(t,e)=>e("relative"),D_=(t,e)=>e("absolute"),q_=(t,e)=>e("relative"),z_=z('<div class="mode-toggle__menu svelte-1n46o8q" id="mode-toggle-menu" role="menu"><button type="button">Absolutt</button> <button type="button">Relativ</button></div>'),B_=z('<p class="comparison-summary svelte-1n46o8q"> </p>'),U_=z('<section class="chart-card svelte-1n46o8q"><div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Plassering:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg plasseringsvisning"><button type="button">Absolutt</button> <button type="button">Relativ</button></div> <button type="button" class="mode-toggle__menu-trigger svelte-1n46o8q" aria-controls="mode-toggle-menu">Tilpass</button> <!></div> <div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),Y_=(t,e,n)=>e(a(n).slug),V_=z('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),H_=z('<!> <div class="selected-entities selected-entities--below svelte-1n46o8q" role="list"></div>',1),j_=z('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),X_=z('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><div class="page-header__title svelte-1n46o8q"><h1 class="svelte-1n46o8q"> </h1> <button class="menu-toggle svelte-1n46o8q" type="button" aria-controls="primary-controls"><span class="menu-toggle__icon svelte-1n46o8q" aria-hidden="true">☰</span> <span class="menu-toggle__text svelte-1n46o8q">Meny</span></button></div> <div id="primary-controls"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button class="band-type-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="band-type-toggle__text svelte-1n46o8q"> </span></button> <button class="theme-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="theme-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function K_(t,e){Br(e,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},r="mode",i="view",s="type",o=",",l="relative",u="bands",c="wind",f="nmkorps-theme",d="nmkorps-band-type",h={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat"},p=["bands","conductors","pieces","composers","data"];let v=mt(null),w=mt(ke([])),k=mt(ke([])),q=mt(ke([])),U=mt(!0),F=mt(null),et=mt(""),B=mt(ke([])),Y=mt(ke([])),G=mt(ke([])),lt=mt(ke([])),Pt=mt(-1),pt=!1,W="",at=mt(l),M=mt(u),yt=mt("dark"),tt=mt("wind"),St=mt(!1),Ut=mt(!1),ee=mt(!1),b=new Map,I=new Map;function Q(g){const y=new Map;for(const A of g){if(!A||!A.slug)continue;const N=A.slug.trim();if(!N)continue;const S=y.get(N);S?S.push(A):y.set(N,[A])}return y}function ft(g){var A,N;const y=new Map;for(const S of g){if(!S)continue;const K=Number(S.year);if(!Number.isFinite(K))continue;const j=S.division_slug??S.division,J=S.band_slug??S.band,st=S.result_piece_slug??S.result_piece;if(!j||!J||!st)continue;const gt=Gt(j),it=Gt(J);if(gt==="uidentifisert"||!it||it==="uidentifisert")continue;const zt=new Set,Bt=Gt(st);if(Bt!=="uidentifisert"&&zt.add(Bt),S.alternate_result_piece_slugs&&Array.isArray(S.alternate_result_piece_slugs))for(const Oe of S.alternate_result_piece_slugs){const wn=Oe?Gt(Oe):"";wn&&wn!=="uidentifisert"&&zt.add(wn)}if(S.result_piece&&S.result_piece.trim()){const Oe=Gt(S.result_piece);Oe!=="uidentifisert"&&zt.add(Oe)}if(!zt.size)continue;const Xe=typeof S.spotify=="string"&&S.spotify.trim().length>0?S.spotify.trim():null,Fe=typeof S.apple_music=="string"&&S.apple_music.trim().length>0?S.apple_music.trim():null;if(!Xe&&!Fe)continue;const cn={spotify:Xe,apple_music:Fe,album:((A=S.album)==null?void 0:A.trim())??null,recording_title:((N=S.recording_title)==null?void 0:N.trim())??null};for(const Oe of zt){const wn=`${K}|${gt}|${it}|${Oe}`;y.set(wn,cn)}}return y}function Mt(g,y,A){if(!I.size)return null;const N=Gt(g.division),S=Gt(y);if(N==="uidentifisert"||!S||S==="uidentifisert")return null;const K=`${g.year}|${N}|${S}`;let j=an(A);if(!j.length){const J=Gt(A);j=J!=="uidentifisert"?[J]:[]}for(const J of j){const st=`${K}|${J}`,gt=I.get(st);if(gt)return gt}return null}const jt=/["'«»“”„‟]/g,Xt=/\([^)]*\)/g;function fe(g){return g.replace(Xt," ")}function ue(g){return g.replace(jt,"").replace(/\s+/g," ").trim().toLowerCase()}function an(g){const y=g.trim();if(!y)return[];const A=new Set,N=Gt(y);N!=="uidentifisert"&&A.add(N);const S=fe(y),K=Gt(S);K!=="uidentifisert"&&A.add(K);const j=ue(y),J=Gt(j.replace(/[-–—]/g," "));J!=="uidentifisert"&&A.add(J);const st=Gt(j.replace(/[:;·]/g," "));st!=="uidentifisert"&&A.add(st);const gt=[];S.includes("-")&&gt.push(S.split(/[-–—]/)[0]),S.includes(":")&&gt.push(S.split(":")[0]);for(const it of gt){const zt=Gt(it);zt!=="uidentifisert"&&A.add(zt)}return Array.from(A)}function _e(g,y){const A=an(g);if(!A.length)return null;const N=ue(g),S=ue(fe(g));for(const K of A){const j=y.get(K);if(!j||j.length===0)continue;if(j.length===1)return j[0].composer??null;const J=j.find(gt=>ue(gt.title)===N);if(J)return J.composer??null;const st=j.find(gt=>ue(fe(gt.title))===S);return st?st.composer??null:j[0].composer??null}return null}function Ne(g,y){const A=Array.isArray(g.pieces)?[...g.pieces]:g.pieces!=null?[`${g.pieces}`.trim()].filter(Boolean):[],N={...g,pieces:A,conductor:g.conductor};return y&&(N.band_name=y),N}function se(g){var A;const y=new Map;for(const N of g)for(const S of N.entries){const K=(A=S.conductor)==null?void 0:A.trim();if(!K)continue;const j=Gt(K);let J=y.get(j);J||(J={name:K,slug:j,years:new Map},y.set(j,J));let st=J.years.get(S.year);st||(st={entries:[]},J.years.set(S.year,st)),st.entries.push(Ne(S,N.name))}return Array.from(y.values()).map(N=>({name:N.name,slug:N.slug,entries:Array.from(N.years.entries()).map(([S,K])=>{const j=[...K.entries].sort((st,gt)=>{const it=st.absolute_position??Number.POSITIVE_INFINITY,zt=gt.absolute_position??Number.POSITIVE_INFINITY;return it!==zt?it-zt:(st.rank??Number.POSITIVE_INFINITY)-(gt.rank??Number.POSITIVE_INFINITY)});return{...j[0],year:S,conductor:N.name,aggregate_entries:j}}).sort((S,K)=>S.year-K.year)})).sort((N,S)=>N.name.localeCompare(S.name))}function sn(g,y){var N;const A=new Map;for(const S of g)for(const K of S.entries){const j=Array.isArray(K.pieces)?K.pieces:K.pieces!=null?[`${K.pieces}`]:[];for(const J of j){const st=J.trim();if(!st)continue;const gt=Gt(st);let it=A.get(gt);const zt=_e(st,y),Bt=zt?Xa(zt):[],Xe=Bt.length>0?Bt.join(", "):null;it?(!it.composer||!((N=it.composerNames)!=null&&N.length))&&Xe&&(it.composer=Xe,it.composerNames=Bt):(it={name:st,slug:gt,composer:Xe,composerNames:Bt,performances:[]},A.set(gt,it));const Fe=Mt(K,S.name,st);it.performances.push({band:S.name,entry:K,streaming:Fe})}}return Array.from(A.values()).map(S=>({...S,performances:S.performances.map(({band:K,entry:j,streaming:J})=>({band:K,entry:{...j,pieces:[...j.pieces]},streaming:J??null}))})).sort((S,K)=>S.name.localeCompare(K.name))}function je(g){const y=new Map;for(const N of g){const S=N.composerNames&&N.composerNames.length>0?N.composerNames:Xa(N.composer??null);if(S.length)for(const K of S){const j=Ul(K);if(!j)continue;const J=Gt(j);if(J==="uidentifisert")continue;let st=y.get(J);st||(st={name:j,slug:J,normalized:j.toLowerCase(),pieces:new Map},y.set(J,st)),st.pieces.has(N.slug)||st.pieces.set(N.slug,{name:N.name,slug:N.slug})}}const A=Array.from(y.values()).map(N=>({name:N.name,slug:N.slug,normalized:N.normalized,pieces:Array.from(N.pieces.values()).sort((S,K)=>S.name.localeCompare(K.name))})).sort((N,S)=>N.name.localeCompare(S.name));return new Map(A.map(N=>[N.slug,N])),A}function Kt(g){return g==="data"?"data":n[g]}function $e(){if(typeof window>"u")return l;const y=new URLSearchParams(window.location.search).get(r);return(y?y.toLowerCase():null)==="absolute"?"absolute":"relative"}function Yn(){var y;if(typeof window>"u")return"dark";try{const A=window.localStorage.getItem(f);if(A==="light"||A==="dark")return A}catch(A){console.error("Kunne ikke lese lagret tema",A)}return((y=window.matchMedia)==null?void 0:y.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function Nn(g){typeof document>"u"||(g==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function Vn(){var A;if(typeof window>"u")return c;const y=(A=new URLSearchParams(window.location.search).get(s))==null?void 0:A.toLowerCase();return y==="brass"||y==="brassband"?"brass":y==="wind"||y==="janitsjar"?"wind":c}function Lt(){var A;if(typeof window>"u")return c;const y=(A=new URLSearchParams(window.location.search).get(s))==null?void 0:A.toLowerCase();if(y==="brass"||y==="brassband")return"brass";if(y==="wind"||y==="janitsjar")return"wind";try{const N=window.localStorage.getItem(d);if(N==="wind"||N==="brass")return N}catch(N){console.error("Kunne ikke lese lagret korptype",N)}return c}function Tt(g){typeof document>"u"||(document.documentElement.dataset.bandType=g)}function dt(g){if(R(yt,g,!0),Nn(g),typeof window<"u")try{window.localStorage.setItem(f,g)}catch(y){console.error("Kunne ikke lagre tema",y)}}function Ft(g,y=!0){if(a(tt)!==g){if(R(tt,g,!0),Tt(g),typeof window<"u")try{window.localStorage.setItem(d,g)}catch(A){console.error("Kunne ikke lagre korptype",A)}if(R(B,[],!0),R(Y,[],!0),R(G,[],!0),R(lt,[],!0),R(et,""),R(Pt,-1),y&&typeof window<"u"){const A=new URLSearchParams;A.set(s,g);const N=`${window.location.pathname}?${A.toString()}${window.location.hash}`;window.history.replaceState({},"",N)}R(U,!0),R(F,null),R(v,null),R(w,[],!0),R(k,[],!0),R(q,[],!0),I=new Map,Hn(g)}}function Ct(){R(St,!1)}function Yt(){R(Ut,!1)}function Zt(){R(ee,!1)}function It(){var A;if(typeof window>"u")return u;const y=(A=new URLSearchParams(window.location.search).get(i))==null?void 0:A.toLowerCase();return y?y==="conductors"||y==="dirigent"||y==="conductor"?"conductors":y==="pieces"||y==="piece"||y==="stykke"||y==="stykker"?"pieces":y==="composers"||y==="komponist"||y==="composer"?"composers":y==="data"||y==="resultat"||y==="results"?"data":"bands":u}function ie(g){if(typeof window>"u")return[];const A=new URLSearchParams(window.location.search).get(Kt(g));return A?A.split(o).map(N=>decodeURIComponent(N.trim())).filter(Boolean):[]}function Vt(g,y){if(!g.length||!y.length)return[];const A=new Map(g.map(N=>[N.slug,N]));return y.map(N=>A.get(N)??A.get(N.toLowerCase())).filter(N=>!!N)}function ge(g,y){return g.length!==y.length?!1:g.every((A,N)=>A.slug===y[N].slug)}function me(){if(typeof window>"u")return;const g=new URLSearchParams(window.location.search);g.set(s,a(tt));const y=a(B).map(J=>encodeURIComponent(J.slug)).join(o);y.length?g.set(Kt("bands"),y):g.delete(Kt("bands"));const A=a(Y).map(J=>encodeURIComponent(J.slug)).join(o);A.length?g.set(Kt("conductors"),A):g.delete(Kt("conductors"));const N=a(G).map(J=>encodeURIComponent(J.slug)).join(o);N.length?g.set(Kt("pieces"),N):g.delete(Kt("pieces"));const S=a(lt).map(J=>encodeURIComponent(J.slug)).join(o);S.length?g.set(Kt("composers"),S):g.delete(Kt("composers")),g.set(r,a(at)),g.set(i,a(M));const K=g.toString(),j=`${window.location.pathname}${K?`?${K}`:""}${window.location.hash}`;window.history.replaceState({},"",j)}function on({updateHistory:g=!1}={}){const y=$e(),A=It(),N=Vn();let S=!1;if(N!==a(tt))return Ft(N,!1),S=!0,S;if(y!==a(at)&&(R(at,y,!0),S=!0),A!==a(M)&&(R(M,A,!0),S=!0),!a(v))return g&&me(),S;const K=Vt(a(v).bands,ie("bands"));ge(a(B),K)||(R(B,K,!0),S=!0),a(w).length||R(w,se(a(v).bands),!0);const j=Vt(a(w),ie("conductors"));ge(a(Y),j)||(R(Y,j,!0),S=!0),a(k).length||(R(k,sn(a(v).bands,b),!0),R(q,je(a(k)),!0));const J=Vt(a(k),ie("pieces"));ge(a(G),J)||(R(G,J,!0),S=!0),a(q).length||R(q,je(a(k)),!0);const st=Vt(a(q),ie("composers"));return ge(a(lt),st)||(R(lt,st,!0),S=!0),g&&me(),S}function Pe(){const g=a(B).map(S=>S.slug).join(o),y=a(Y).map(S=>S.slug).join(o),A=a(G).map(S=>S.slug).join(o),N=a(lt).map(S=>S.slug).join(o);return`${a(tt)}|${a(M)}|${a(at)}|${g}|${y}|${A}|${N}`}function ye(){if(!pt)return;const g=Pe();g!==W&&(me(),W=g)}function ln(g){if(a(M)==="bands"){if(a(B).some(y=>y.slug===g.slug))return;R(B,[...a(B),g],!0)}else if(a(M)==="conductors"){if(a(Y).some(y=>y.slug===g.slug))return;R(Y,[...a(Y),g],!0)}else if(a(M)==="pieces"){const y=g;if(a(G).some(A=>A.slug===y.slug))return;R(G,[...a(G),y],!0)}else if(a(M)==="composers"){const y=g;if(a(lt).some(A=>A.slug===y.slug))return;R(lt,[...a(lt),y],!0)}R(et,""),R(Pt,-1),ye()}function jr(g){a(M)==="bands"?R(B,a(B).filter(y=>y.slug!==g),!0):a(M)==="conductors"?R(Y,a(Y).filter(y=>y.slug!==g),!0):a(M)==="pieces"?R(G,a(G).filter(y=>y.slug!==g),!0):a(M)==="composers"&&R(lt,a(lt).filter(y=>y.slug!==g),!0),R(Pt,-1),ye()}function dr(){if(a(vr).length===0)return;const g=a(m).find(y=>y.name.toLowerCase()===a(jn));g?ln(g):a(P).length>0&&ln(a(P)[0])}function hr(g){if(g===a(M)){Ct(),Yt();return}R(M,g,!0),R(et,""),R(Pt,-1),Ct(),Yt(),ye()}function mn(g){if(a(at)===g){Yt();return}R(at,g,!0),Yt(),ye()}async function Hn(g){try{const y=g==="wind"?"data/band_positions.json":"data/brass_positions.json",A=g==="wind"?"data/piece_metadata.json":"data/brass_piece_metadata.json",N="data/piece_streaming_links.json",[S,K,j]=await Promise.all([fetch(y),fetch(A),fetch(N)]);if(!S.ok)throw new Error(`Kunne ikke laste data (status ${S.status})`);let J=[];if(K.ok)try{const it=await K.json();J=(Array.isArray(it.pieces)?it.pieces:[]).filter(Bt=>!!(Bt!=null&&Bt.title&&(Bt!=null&&Bt.slug))).map(Bt=>({title:Bt.title.trim(),slug:Bt.slug.trim(),composer:Bt.composer??null}))}catch(it){console.warn("Kunne ikke tolke stykke-metadata",it)}else console.warn(`Kunne ikke laste stykke-metadata (status ${K.status})`);b=Q(J);let st=[];if(j.ok)try{const it=await j.json(),zt=it==null?void 0:it[g];Array.isArray(zt)&&(st=zt.filter(Bt=>!!Bt))}catch(it){console.warn("Kunne ikke tolke opptakslenker",it)}else j.status!==404&&console.warn(`Kunne ikke laste opptakslenker (status ${j.status})`);I=ft(st);const gt=await S.json();R(v,gt,!0),R(w,se(gt.bands),!0),R(k,sn(gt.bands,b),!0),R(q,je(a(k)),!0),on({updateHistory:!1}),W=Pe(),me(),pt=!0}catch(y){R(F,y instanceof Error?y.message:"Ukjent feil ved lasting av data.",!0)}finally{R(U,!1)}}Yi(async()=>{const g=Yn();R(yt,g,!0),Nn(g);const y=Lt();R(tt,y,!0),Tt(y),await Hn(y)}),Yi(()=>{const g=()=>{a(v)&&(on({updateHistory:!1}),W=Pe())};return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)}),ii(()=>{document.title=a(tt)==="wind"?"NM Janitsjar - Resultatoversikt":"NM Brass - Resultatoversikt"});let vr=L(()=>a(et).trim()),jn=L(()=>a(vr).toLowerCase()),ne=L(()=>a(M)==="bands"||a(M)==="conductors"||a(M)==="pieces"||a(M)==="composers"),m=L(()=>{var g;return a(ne)?a(M)==="bands"?((g=a(v))==null?void 0:g.bands)??[]:a(M)==="conductors"?a(w):a(M)==="pieces"?a(k):a(q):[]}),_=L(()=>a(M)==="bands"?a(B):a(M)==="conductors"?a(Y):a(M)==="pieces"?a(G):a(M)==="composers"?a(lt):[]),P=L(()=>a(ne)&&a(m)&&a(jn).length>=2?a(m).filter(g=>g.name.toLowerCase().includes(a(jn))&&!a(_).some(y=>y.slug===g.slug)).slice(0,10):[]),O=L(()=>a(v)?a(v).metadata.years:[]),V=L(()=>a(v)?a(v).metadata.max_field_size:0),T=L(()=>{var g;return a(ne)?a(M)==="bands"?((g=a(v))==null?void 0:g.bands.length)??0:a(M)==="conductors"?a(w).length:a(M)==="pieces"?a(k).length:a(q).length:0}),ut=L(()=>a(M)==="bands"?"korps":a(M)==="conductors"?"dirigenter":a(M)==="pieces"?"stykker":"komponister"),_t=L(()=>a(v)?`Dekker ${a(T)} ${a(ut)} · ${a(O).length} år (${a(v).metadata.min_year}–${a(v).metadata.max_year})`:""),At=L(()=>a(M)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":a(M)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":a(M)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":a(M)==="composers"?"Begynn å skrive et komponistnavn (minst 2 bokstaver)…":""),Nt=L(()=>a(M)==="bands"?"Søk etter korps":a(M)==="conductors"?"Søk etter dirigent":a(M)==="pieces"?"Søk etter musikkstykke":"Søk etter komponist"),Qt=L(()=>a(M)==="bands"?"Korpsforslag":a(M)==="conductors"?"Dirigentforslag":a(M)==="pieces"?"Stykke-forslag":"Komponistforslag"),Et=L(()=>a(M)==="bands"?"Valgte korps":a(M)==="conductors"?"Valgte dirigenter":a(M)==="pieces"?"Valgte stykker":"Valgte komponister"),ct=L(()=>a(M)==="bands"?"Ingen korps valgt ennå":a(M)==="conductors"?"Ingen dirigenter valgt ennå":a(M)==="pieces"?"Ingen stykker valgt ennå":"Ingen komponister valgt ennå"),Ot=L(()=>a(M)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":a(M)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":a(M)==="pieces"?"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer.":"Finn en komponist i søkefeltet for å se hvilke stykker vi har registrert av dem."),Dt=L(()=>a(M)==="bands"?a(tt)==="wind"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":"Søk etter et brassband for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":a(M)==="conductors"?"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.":a(M)==="pieces"?"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.":a(M)==="composers"?"Søk etter en komponist for å se hvilke NM-stykker de står bak.":"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen."),oe=L(()=>a(yt)==="dark"?"Bytt til lyst tema":"Bytt til mørkt tema"),qt=L(()=>a(yt)==="dark"?"Mørk":"Lys"),Ht=L(()=>a(yt)==="dark"?"🌙":"☀️"),wt=L(()=>a(tt)==="wind"?"Bytt til brassband":"Bytt til janitsjarkorps"),ht=L(()=>a(tt)==="wind"?"Janitsjar":"Brass"),re=L(()=>a(tt)==="wind"?"🎷":"🎺"),we=L(()=>a(St)?"Lukk meny":"Åpne meny"),un=L(()=>a(Ut)?"Lukk tilpassingsmeny":"Åpne tilpassingsmeny"),be=L(()=>a(_).length===1?a(_)[0].name:a(_).length>1?`${a(_).length} ${a(ut)} valgt`:""),nt=L(()=>a(_).length>1?a(_).map(g=>g.name).join(" · "):""),bt=L(()=>a(M)==="pieces"?a(_):[]),Rt=L(()=>a(M)==="composers"?a(_):[]),Le=L(()=>a(M)==="bands"||a(M)==="conductors"?a(_):[]);var pr=X_(),_r=x(pr),$n=x(_r),Tn=x($n),ae=x(Tn),Te=C(Tn,2);Te.__click=[x_,St];var yn=C($n,2);let gr;var ms=x(yn);Wt(ms,21,()=>p,te,(g,y)=>{var A=$_();A.__click=[N_,hr,y];let N;var S=x(A);X(K=>{D(A,"aria-pressed",a(M)===a(y)),N=In(A,1,"svelte-1n46o8q",null,N,K),H(S,h[a(y)])},[()=>({selected:a(M)===a(y)})]),E(g,A)});var mi=C(ms,2);mi.__click=[S_,Ft,tt,Zt,Ct,Yt];var ys=x(mi),Yl=x(ys),Vl=C(ys,2),Hl=x(Vl),pa=C(mi,2);pa.__click=[E_,dt,yt,Ct,Yt,Zt];var ws=x(pa),jl=x(ws),Xl=C(ws,2),Kl=x(Xl),bs=C(_r,2),Gl=x(bs),xs=C(bs,2);{var Wl=g=>{var y=I_(),A=kt(y),N=L(()=>Hs(dr)),S=x(A),K=x(S),j=C(S,2);j.__input=[M_,et,Pt],j.__keydown=[A_,P,Pt,ln];var J=C(A,2);{var st=gt=>{var it=C_();Wt(it,21,()=>a(P),te,(zt,Bt,Xe)=>{var Fe=T_(),cn=L(()=>Hs(()=>ln(a(Bt))));Fe.__mousedown=function(...wn){var yi;(yi=a(cn))==null||yi.apply(this,wn)};var Oe=x(Fe);X(()=>{In(Fe,1,`suggestion ${Xe===a(Pt)?"active":""}`,"svelte-1n46o8q"),D(Fe,"aria-selected",Xe===a(Pt)),H(Oe,a(Bt).name)}),E(zt,Fe)}),X(()=>D(it,"aria-label",a(Qt))),E(gt,it)};Z(J,gt=>{a(P).length>0&&gt(st)})}X(()=>{H(K,a(Nt)),D(j,"placeholder",a(At))}),Ce("submit",A,function(...gt){var it;(it=a(N))==null||it.apply(this,gt)}),Yc(j,()=>a(et),gt=>R(et,gt)),E(g,y)};Z(xs,g=>{a(ne)&&g(Wl)})}var Zl=C(xs,2);{var Ql=g=>{var y=R_();E(g,y)},Jl=g=>{var y=Jt(),A=kt(y);{var N=K=>{var j=P_(),J=x(j);X(()=>H(J,a(F))),E(K,j)},S=K=>{var j=Jt(),J=kt(j);{var st=it=>{var zt=L_();E(it,zt)},gt=it=>{var zt=Jt(),Bt=kt(zt);{var Xe=cn=>{var Oe=Jt(),wn=kt(Oe);{var yi=mr=>{var Xr=H_(),Kr=kt(Xr);{var _a=Cn=>{g_(Cn,{get pieces(){return a(bt)},get bandType(){return a(tt)}})},ga=Cn=>{var yr=Jt(),ma=kt(yr);{var bi=bn=>{b_(bn,{get composers(){return a(Rt)},get bandType(){return a(tt)}})},xi=bn=>{var ki=U_(),Gr=x(ki),ks=C(x(Gr),2),Ei=x(ks);Ei.__click=[F_,mn];let Es;var ya=C(Ei,2);ya.__click=[O_,mn];let Ss;var Si=C(ks,2);Si.__click=[k_,Ut];var eu=C(Si,2);{var nu=Ke=>{var Xn=z_(),wr=x(Xn);wr.__click=[D_,mn];let $s;var wa=C(wr,2);wa.__click=[q_,mn];let Ts;X((lu,uu)=>{D(wr,"aria-pressed",a(at)==="absolute"),$s=In(wr,1,"svelte-1n46o8q",null,$s,lu),D(wa,"aria-pressed",a(at)==="relative"),Ts=In(wa,1,"svelte-1n46o8q",null,Ts,uu)},[()=>({selected:a(at)==="absolute"}),()=>({selected:a(at)==="relative"})]),E(Ke,Xn)};Z(eu,Ke=>{a(Ut)&&Ke(nu)})}var Ms=C(Gr,2),As=x(Ms),ru=x(As),Ns=C(As,2),iu=x(Ns),au=C(Ns,2);{var su=Ke=>{var Xn=B_(),wr=x(Xn);X(()=>H(wr,a(nt))),E(Ke,Xn)};Z(au,Ke=>{a(nt)&&Ke(su)})}var ou=C(Ms,2);{let Ke=L(()=>a(M)==="bands");Rp(ou,{get years(){return a(O)},get maxFieldSize(){return a(V)},get bands(){return a(Le)},get yMode(){return a(at)},get showConductorMarkers(){return a(Ke)}})}X((Ke,Xn)=>{D(Ei,"aria-pressed",a(at)==="absolute"),Es=In(Ei,1,"svelte-1n46o8q",null,Es,Ke),D(ya,"aria-pressed",a(at)==="relative"),Ss=In(ya,1,"svelte-1n46o8q",null,Ss,Xn),D(Si,"aria-label",a(un)),D(Si,"aria-expanded",a(Ut)),H(ru,a(be)),H(iu,a(_t))},[()=>({selected:a(at)==="absolute"}),()=>({selected:a(at)==="relative"})]),E(bn,ki)};Z(ma,bn=>{a(M)==="composers"?bn(bi):bn(xi,!1)},!0)}E(Cn,yr)};Z(Kr,Cn=>{a(M)==="pieces"?Cn(_a):Cn(ga,!1)})}var wi=C(Kr,2);Wt(wi,21,()=>a(_),te,(Cn,yr,ma)=>{var bi=V_(),xi=x(bi);xi.textContent=ma+1;var bn=C(xi,2),ki=x(bn),Gr=C(bn,2);Gr.__click=[Y_,jr,yr],X(()=>{H(ki,a(yr).name),D(Gr,"aria-label",`Fjern ${a(yr).name}`)}),E(Cn,bi)}),X(()=>D(wi,"aria-label",a(Et))),E(mr,Xr)},tu=mr=>{var Xr=j_(),Kr=x(Xr),_a=x(Kr),ga=C(Kr,2),wi=x(ga);X(()=>{H(_a,a(ct)),H(wi,a(Ot))}),E(mr,Xr)};Z(wn,mr=>{a(_).length>0?mr(yi):mr(tu,!1)})}E(cn,Oe)},Fe=cn=>{n_(cn,{get dataset(){return a(v)},get bandType(){return a(tt)},streamingResolver:Mt})};Z(Bt,cn=>{a(ne)?cn(Xe):cn(Fe,!1)},!0)}E(it,zt)};Z(J,it=>{a(v)?it(gt,!1):it(st)},!0)}E(K,j)};Z(A,K=>{a(F)?K(N):K(S,!1)},!0)}E(g,y)};Z(Zl,g=>{a(U)?g(Ql):g(Jl,!1)})}X(g=>{H(ae,a(tt)==="wind"?"NM Janitsjar":"NM Brass"),D(Te,"aria-label",a(we)),D(Te,"aria-expanded",a(St)),gr=In(yn,1,"header-controls svelte-1n46o8q",null,gr,g),D(mi,"aria-label",a(wt)),H(Yl,a(re)),H(Hl,a(ht)),D(pa,"aria-label",a(oe)),H(jl,a(Ht)),H(Kl,a(qt)),H(Gl,a(Dt))},[()=>({"header-controls--mobile-open":a(St)})]),E(t,pr),Ur()}nl(["click","input","keydown","mousedown"]);Tc(K_,{target:document.getElementById("app")});
