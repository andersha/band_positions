var rl=Object.defineProperty;var qa=t=>{throw TypeError(t)};var il=(t,e,n)=>e in t?rl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Hn=(t,e,n)=>il(t,typeof e!="symbol"?e+"":e,n),Li=(t,e,n)=>e.has(t)||qa("Cannot "+n);var x=(t,e,n)=>(Li(t,e,"read from private field"),n?n.call(t):e.get(t)),ct=(t,e,n)=>e.has(t)?qa("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),j=(t,e,n,r)=>(Li(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Bt=(t,e,n)=>(Li(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const al="5";var Ns;typeof window<"u"&&((Ns=window.__svelte??(window.__svelte={})).v??(Ns.v=new Set)).add(al);const xi=1,ki=2,Ms=4,sl=8,ol=16,ll=1,ul=4,fl=8,cl=16,$s=1,hl=2,Tt=Symbol(),dl="http://www.w3.org/1999/xhtml",Ts=!1;var ua=Array.isArray,vl=Array.prototype.indexOf,fa=Array.from,Vi=Object.defineProperty,jn=Object.getOwnPropertyDescriptor,_l=Object.getOwnPropertyDescriptors,pl=Object.prototype,gl=Array.prototype,Is=Object.getPrototypeOf,Ya=Object.isExtensible;function Ps(t){for(var e=0;e<t.length;e++)t[e]()}function ml(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const se=2,ca=4,ha=8,ur=16,Ke=32,Fn=64,da=128,ve=256,ri=512,Dt=1024,pe=2048,cn=4096,Ne=8192,On=16384,va=32768,Ei=65536,Ba=1<<17,yl=1<<18,fr=1<<19,wl=1<<20,zi=1<<21,_a=1<<22,Mn=1<<23,kr=Symbol("$state"),bl=Symbol("legacy props"),xl=Symbol(""),pa=new class extends Error{constructor(){super(...arguments);Hn(this,"name","StaleReactionError");Hn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Cs(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function kl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function El(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Sl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Al(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Nl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ml(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function $l(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Tl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Il(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Pl(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Cl(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Rl=!1;function Rs(t){return t===this.v}function Ll(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Fl(t,e){return t!==e}function Ls(t){return!Ll(t,this.v)}let Ol=!1,Wt=null;function nr(t){Wt=t}function Fr(t,e=!1,n){Wt={p:Wt,c:null,e:null,s:t,x:null,l:null}}function Or(t){var e=Wt,n=e.e;if(n!==null){e.e=null;for(var r of n)Ws(r)}return Wt=e.p,{}}function Fs(){return!0}let on=[],ii=[];function Os(){var t=on;on=[],Ps(t)}function Dl(){var t=ii;ii=[],Ps(t)}function ql(){return on.length>0||ii.length>0}function cr(t){if(on.length===0&&!Er){var e=on;queueMicrotask(()=>{e===on&&Os()})}on.push(t)}function Yl(){on.length>0&&Os(),ii.length>0&&Dl()}const Bl=new WeakMap;function Ds(t){var e=at;if(e===null)return rt.f|=Mn,t;if(e.f&va)rr(t,e);else{if(!(e.f&da))throw!e.parent&&t instanceof Error&&qs(t),t;e.b.error(t)}}function rr(t,e){for(;e!==null;){if(e.f&da)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&qs(t),t}function qs(t){const e=Bl.get(t);e&&(Vi(t,"message",{value:e.message}),Vi(t,"stack",{value:e.stack}))}const Fi=new Set;let xt=null,jr=null,Hi=new Set,Pn=[],Si=null,Xi=!1,Er=!1;var Ir,Jn,en,Pr,Cr,kn,tr,En,nn,er,Rr,Lr,Me,Ys,Wr,Ki;const yi=class yi{constructor(){ct(this,Me);Hn(this,"current",new Map);ct(this,Ir,new Map);ct(this,Jn,new Set);ct(this,en,0);ct(this,Pr,null);ct(this,Cr,!1);ct(this,kn,[]);ct(this,tr,[]);ct(this,En,[]);ct(this,nn,[]);ct(this,er,[]);ct(this,Rr,[]);ct(this,Lr,[]);Hn(this,"skipped_effects",new Set)}process(e){var i;Pn=[],jr=null;for(const a of e)Bt(this,Me,Ys).call(this,a);if(x(this,kn).length===0&&x(this,en)===0){Bt(this,Me,Ki).call(this);var n=x(this,En),r=x(this,nn);j(this,En,[]),j(this,nn,[]),j(this,er,[]),jr=xt,xt=null,Ua(n),Ua(r),xt===null?xt=this:Fi.delete(this),(i=x(this,Pr))==null||i.resolve()}else Bt(this,Me,Wr).call(this,x(this,En)),Bt(this,Me,Wr).call(this,x(this,nn)),Bt(this,Me,Wr).call(this,x(this,er));for(const a of x(this,kn))Zn(a);for(const a of x(this,tr))Zn(a);j(this,kn,[]),j(this,tr,[])}capture(e,n){x(this,Ir).has(e)||x(this,Ir).set(e,n),this.current.set(e,e.v)}activate(){xt=this}deactivate(){xt=null,jr=null;for(const e of Hi)if(Hi.delete(e),e(),xt!==null)break}neuter(){j(this,Cr,!0)}flush(){Pn.length>0?Bs():Bt(this,Me,Ki).call(this),xt===this&&(x(this,en)===0&&Fi.delete(this),this.deactivate())}increment(){j(this,en,x(this,en)+1)}decrement(){if(j(this,en,x(this,en)-1),x(this,en)===0){for(const e of x(this,Rr))jt(e,pe),ir(e);for(const e of x(this,Lr))jt(e,cn),ir(e);j(this,En,[]),j(this,nn,[]),this.flush()}else this.deactivate()}add_callback(e){x(this,Jn).add(e)}settled(){return(x(this,Pr)??j(this,Pr,ml())).promise}static ensure(){if(xt===null){const e=xt=new yi;Fi.add(xt),Er||yi.enqueue(()=>{xt===e&&e.flush()})}return xt}static enqueue(e){cr(e)}};Ir=new WeakMap,Jn=new WeakMap,en=new WeakMap,Pr=new WeakMap,Cr=new WeakMap,kn=new WeakMap,tr=new WeakMap,En=new WeakMap,nn=new WeakMap,er=new WeakMap,Rr=new WeakMap,Lr=new WeakMap,Me=new WeakSet,Ys=function(e){var c;e.f^=Dt;for(var n=e.first;n!==null;){var r=n.f,i=(r&(Ke|Fn))!==0,a=i&&(r&Dt)!==0,o=a||(r&Ne)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(i)n.f^=Dt;else if(r&ca)x(this,nn).push(n);else if(!(r&Dt))if(r&_a){var l=(c=n.b)!=null&&c.is_pending()?x(this,tr):x(this,kn);l.push(n)}else $i(n)&&(n.f&ur&&x(this,er).push(n),Zn(n));var f=n.first;if(f!==null){n=f;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Wr=function(e){for(const n of e)(n.f&pe?x(this,Rr):x(this,Lr)).push(n),jt(n,Dt);e.length=0},Ki=function(){if(!x(this,Cr))for(const e of x(this,Jn))e();x(this,Jn).clear()};let un=yi;function Ul(t){var e=Er;Er=!0;try{for(var n;;){if(Yl(),Pn.length===0&&!ql()&&(xt==null||xt.flush(),Pn.length===0))return Si=null,n;Bs()}}finally{Er=e}}function Bs(){var t=Wn;Xi=!0;try{var e=0;for(Ha(!0);Pn.length>0;){var n=un.ensure();if(e++>1e3){var r,i;Vl()}n.process(Pn),fn.clear()}}finally{Xi=!1,Ha(t),Si=null}}function Vl(){try{Nl()}catch(t){rr(t,Si)}}let ze=null;function Ua(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if(!(r.f&(On|Ne))&&$i(r)&&(ze=[],Zn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Js(r):r.fn=null),(ze==null?void 0:ze.length)>0)){fn.clear();for(const i of ze)Zn(i);ze=[]}}ze=null}}function ir(t){for(var e=Si=t;e.parent!==null;){e=e.parent;var n=e.f;if(Xi&&e===at&&n&ur)return;if(n&(Fn|Ke)){if(!(n&Dt))return;e.f^=Dt}}Pn.push(e)}function zl(t){let e=0,n=Cn(0),r;return()=>{lu()&&(s(n),ya(()=>(e===0&&(r=dr(()=>t(()=>Sr(n)))),e+=1,()=>{cr(()=>{e-=1,e===0&&(r==null||r(),r=void 0,Sr(n))})})))}}var Hl=Ei|fr|da;function Xl(t,e,n){new Kl(t,e,n)}var ke,fe,la,Re,Sn,Le,ce,Xt,Fe,rn,An,an,Nn,sn,wi,bi,zt,Gl,jl,Zr,Qr,Gi;class Kl{constructor(e,n,r){ct(this,zt);Hn(this,"parent");ct(this,ke,!1);ct(this,fe);ct(this,la,null);ct(this,Re);ct(this,Sn);ct(this,Le);ct(this,ce,null);ct(this,Xt,null);ct(this,Fe,null);ct(this,rn,null);ct(this,An,0);ct(this,an,0);ct(this,Nn,!1);ct(this,sn,null);ct(this,wi,()=>{x(this,sn)&&ar(x(this,sn),x(this,An))});ct(this,bi,zl(()=>(j(this,sn,Cn(x(this,An))),()=>{j(this,sn,null)})));j(this,fe,e),j(this,Re,n),j(this,Sn,r),this.parent=at.b,j(this,ke,!!x(this,Re).pending),j(this,Le,Mi(()=>{at.b=this;{try{j(this,ce,he(()=>r(x(this,fe))))}catch(i){this.error(i)}x(this,an)>0?Bt(this,zt,Qr).call(this):j(this,ke,!1)}},Hl))}is_pending(){return x(this,ke)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!x(this,Re).pending}update_pending_count(e){Bt(this,zt,Gi).call(this,e),j(this,An,x(this,An)+e),Hi.add(x(this,wi))}get_effect_pending(){return x(this,bi).call(this),s(x(this,sn))}error(e){var n=x(this,Re).onerror;let r=x(this,Re).failed;if(x(this,Nn)||!n&&!r)throw e;x(this,ce)&&(_e(x(this,ce)),j(this,ce,null)),x(this,Xt)&&(_e(x(this,Xt)),j(this,Xt,null)),x(this,Fe)&&(_e(x(this,Fe)),j(this,Fe,null));var i=!1,a=!1;const o=()=>{if(i){Cl();return}i=!0,a&&Pl(),un.ensure(),j(this,An,0),x(this,Fe)!==null&&$n(x(this,Fe),()=>{j(this,Fe,null)}),j(this,ke,this.has_pending_snippet()),j(this,ce,Bt(this,zt,Zr).call(this,()=>(j(this,Nn,!1),he(()=>x(this,Sn).call(this,x(this,fe)))))),x(this,an)>0?Bt(this,zt,Qr).call(this):j(this,ke,!1)};var l=rt;try{Kt(null),a=!0,n==null||n(e,o),a=!1}catch(f){rr(f,x(this,Le)&&x(this,Le).parent)}finally{Kt(l)}r&&cr(()=>{j(this,Fe,Bt(this,zt,Zr).call(this,()=>{j(this,Nn,!0);try{return he(()=>{r(x(this,fe),()=>e,()=>o)})}catch(f){return rr(f,x(this,Le).parent),null}finally{j(this,Nn,!1)}}))})}}ke=new WeakMap,fe=new WeakMap,la=new WeakMap,Re=new WeakMap,Sn=new WeakMap,Le=new WeakMap,ce=new WeakMap,Xt=new WeakMap,Fe=new WeakMap,rn=new WeakMap,An=new WeakMap,an=new WeakMap,Nn=new WeakMap,sn=new WeakMap,wi=new WeakMap,bi=new WeakMap,zt=new WeakSet,Gl=function(){try{j(this,ce,he(()=>x(this,Sn).call(this,x(this,fe))))}catch(e){this.error(e)}j(this,ke,!1)},jl=function(){const e=x(this,Re).pending;e&&(j(this,Xt,he(()=>e(x(this,fe)))),un.enqueue(()=>{j(this,ce,Bt(this,zt,Zr).call(this,()=>(un.ensure(),he(()=>x(this,Sn).call(this,x(this,fe)))))),x(this,an)>0?Bt(this,zt,Qr).call(this):($n(x(this,Xt),()=>{j(this,Xt,null)}),j(this,ke,!1))}))},Zr=function(e){var n=at,r=rt,i=Wt;De(x(this,Le)),Kt(x(this,Le)),nr(x(this,Le).ctx);try{return e()}catch(a){return Ds(a),null}finally{De(n),Kt(r),nr(i)}},Qr=function(){const e=x(this,Re).pending;x(this,ce)!==null&&(j(this,rn,document.createDocumentFragment()),Wl(x(this,ce),x(this,rn))),x(this,Xt)===null&&j(this,Xt,he(()=>e(x(this,fe))))},Gi=function(e){var n;if(!this.has_pending_snippet()){this.parent&&Bt(n=this.parent,zt,Gi).call(n,e);return}j(this,an,x(this,an)+e),x(this,an)===0&&(j(this,ke,!1),x(this,Xt)&&$n(x(this,Xt),()=>{j(this,Xt,null)}),x(this,rn)&&(x(this,fe).before(x(this,rn)),j(this,rn,null)))};function Wl(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:Dr(n);e.append(n),n=i}}function Zl(t,e,n){const r=Ai;if(e.length===0){n(t.map(r));return}var i=xt,a=at,o=Ql();Promise.all(e.map(l=>Jl(l))).then(l=>{i==null||i.activate(),o();try{n([...t.map(r),...l])}catch(f){a.f&On||rr(f,a)}i==null||i.deactivate(),Us()}).catch(l=>{rr(l,a)})}function Ql(){var t=at,e=rt,n=Wt,r=xt;return function(){De(t),Kt(e),nr(n),r==null||r.activate()}}function Us(){De(null),Kt(null),nr(null)}function Ai(t){var e=se|pe,n=rt!==null&&rt.f&se?rt:null;return at===null||n!==null&&n.f&ve?e|=ve:at.f|=fr,{ctx:Wt,deps:null,effects:null,equals:Rs,f:e,fn:t,reactions:null,rv:0,v:Tt,wv:0,parent:n??at,ac:null}}function Jl(t,e){let n=at;n===null&&kl();var r=n.b,i=void 0,a=Cn(Tt),o=null,l=!rt;return hu(()=>{try{var f=t();o&&Promise.resolve(f).catch(()=>{})}catch(v){f=Promise.reject(v)}var u=()=>f;i=(o==null?void 0:o.then(u,u))??Promise.resolve(f),o=i;var c=xt,h=r.is_pending();l&&(r.update_pending_count(1),h||c.increment());const d=(v,_=void 0)=>{o=null,h||c.activate(),_?_!==pa&&(a.f|=Mn,ar(a,_)):(a.f&Mn&&(a.f^=Mn),ar(a,v)),l&&(r.update_pending_count(-1),h||c.decrement()),Us()};if(i.then(d,v=>d(null,v||"unknown")),c)return()=>{queueMicrotask(()=>c.neuter())}}),new Promise(f=>{function u(c){function h(){c===i?f(a):u(i)}c.then(h,h)}u(i)})}function L(t){const e=Ai(t);return no(e),e}function Vs(t){const e=Ai(t);return e.equals=Ls,e}function zs(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)_e(e[n])}}function tu(t){for(var e=t.parent;e!==null;){if(!(e.f&se))return e;e=e.parent}return null}function ga(t){var e,n=at;De(tu(t));try{zs(t),e=so(t)}finally{De(n)}return e}function Hs(t){var e=ga(t);if(t.equals(e)||(t.v=e,t.wv=io()),!Dn){var n=(ln||t.f&ve)&&t.deps!==null?cn:Dt;jt(t,n)}}const fn=new Map;function Cn(t,e){var n={f:0,v:t,reactions:null,equals:Rs,rv:0,wv:0};return n}function mt(t,e){const n=Cn(t);return no(n),n}function eu(t,e=!1,n=!0){const r=Cn(t);return e||(r.equals=Ls),r}function D(t,e,n=!1){rt!==null&&(!Se||rt.f&Ba)&&Fs()&&rt.f&(se|ur|_a|Ba)&&!(Vt!=null&&Vt.includes(t))&&Il();let r=n?de(e):e;return ar(t,r)}function ar(t,e){if(!t.equals(e)){var n=t.v;Dn?fn.set(t,e):fn.set(t,n),t.v=e;var r=un.ensure();r.capture(t,n),t.f&se&&(t.f&pe&&ga(t),jt(t,t.f&ve?cn:Dt)),t.wv=io(),Xs(t,pe),at!==null&&at.f&Dt&&!(at.f&(Ke|Fn))&&(ue===null?_u([t]):ue.push(t))}return e}function Sr(t){D(t,t.v+1)}function Xs(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var a=n[i],o=a.f,l=(o&pe)===0;l&&jt(a,e),o&se?Xs(a,cn):l&&(o&ur&&ze!==null&&ze.push(a),ir(a))}}function de(t){if(typeof t!="object"||t===null||kr in t)return t;const e=Is(t);if(e!==pl&&e!==gl)return t;var n=new Map,r=ua(t),i=mt(0),a=Tn,o=l=>{if(Tn===a)return l();var f=rt,u=Tn;Kt(null),Ka(a);var c=l();return Kt(f),Ka(u),c};return r&&n.set("length",mt(t.length)),new Proxy(t,{defineProperty(l,f,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&$l();var c=n.get(f);return c===void 0?c=o(()=>{var h=mt(u.value);return n.set(f,h),h}):D(c,u.value,!0),!0},deleteProperty(l,f){var u=n.get(f);if(u===void 0){if(f in l){const c=o(()=>mt(Tt));n.set(f,c),Sr(i)}}else D(u,Tt),Sr(i);return!0},get(l,f,u){var v;if(f===kr)return t;var c=n.get(f),h=f in l;if(c===void 0&&(!h||(v=jn(l,f))!=null&&v.writable)&&(c=o(()=>{var _=de(h?l[f]:Tt),k=mt(_);return k}),n.set(f,c)),c!==void 0){var d=s(c);return d===Tt?void 0:d}return Reflect.get(l,f,u)},getOwnPropertyDescriptor(l,f){var u=Reflect.getOwnPropertyDescriptor(l,f);if(u&&"value"in u){var c=n.get(f);c&&(u.value=s(c))}else if(u===void 0){var h=n.get(f),d=h==null?void 0:h.v;if(h!==void 0&&d!==Tt)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(l,f){var d;if(f===kr)return!0;var u=n.get(f),c=u!==void 0&&u.v!==Tt||Reflect.has(l,f);if(u!==void 0||at!==null&&(!c||(d=jn(l,f))!=null&&d.writable)){u===void 0&&(u=o(()=>{var v=c?de(l[f]):Tt,_=mt(v);return _}),n.set(f,u));var h=s(u);if(h===Tt)return!1}return c},set(l,f,u,c){var N;var h=n.get(f),d=f in l;if(r&&f==="length")for(var v=u;v<h.v;v+=1){var _=n.get(v+"");_!==void 0?D(_,Tt):v in l&&(_=o(()=>mt(Tt)),n.set(v+"",_))}if(h===void 0)(!d||(N=jn(l,f))!=null&&N.writable)&&(h=o(()=>mt(void 0)),D(h,de(u)),n.set(f,h));else{d=h.v!==Tt;var k=o(()=>de(u));D(h,k)}var E=Reflect.getOwnPropertyDescriptor(l,f);if(E!=null&&E.set&&E.set.call(c,u),!d){if(r&&typeof f=="string"){var q=n.get("length"),F=Number(f);Number.isInteger(F)&&F>=q.v&&D(q,F+1)}Sr(i)}return!0},ownKeys(l){s(i);var f=Reflect.ownKeys(l).filter(h=>{var d=n.get(h);return d===void 0||d.v!==Tt});for(var[u,c]of n)c.v!==Tt&&!(u in l)&&f.push(u);return f},setPrototypeOf(){Tl()}})}var Va,Ks,Gs,js;function nu(){if(Va===void 0){Va=window,Ks=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Gs=jn(e,"firstChild").get,js=jn(e,"nextSibling").get,Ya(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ya(n)&&(n.__t=void 0)}}function hr(t=""){return document.createTextNode(t)}function He(t){return Gs.call(t)}function Dr(t){return js.call(t)}function b(t,e){return He(t)}function Et(t,e=!1){{var n=He(t);return n instanceof Comment&&n.data===""?Dr(n):n}}function P(t,e=1,n=!1){let r=t;for(;e--;)r=Dr(r);return r}function ru(t){t.textContent=""}function ma(){return!1}let za=!1;function iu(){za||(za=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function Ni(t){var e=rt,n=at;Kt(null),De(null);try{return t()}finally{Kt(e),De(n)}}function au(t,e,n,r=n){t.addEventListener(e,()=>Ni(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),iu()}function su(t){at===null&&rt===null&&Al(),rt!==null&&rt.f&ve&&at===null&&Sl(),Dn&&El()}function ou(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Ge(t,e,n,r=!0){var i=at;i!==null&&i.f&Ne&&(t|=Ne);var a={ctx:Wt,deps:null,nodes_start:null,nodes_end:null,f:t|pe,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Zn(a),a.f|=va}catch(f){throw _e(a),f}else e!==null&&ir(a);if(r){var o=a;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&fr)&&(o=o.first),o!==null&&(o.parent=i,i!==null&&ou(o,i),rt!==null&&rt.f&se&&!(t&Fn))){var l=rt;(l.effects??(l.effects=[])).push(o)}}return a}function lu(){return rt!==null&&!Se}function uu(t){const e=Ge(ha,null,!1);return jt(e,Dt),e.teardown=t,e}function ai(t){su();var e=at.f,n=!rt&&(e&Ke)!==0&&(e&va)===0;if(n){var r=Wt;(r.e??(r.e=[])).push(t)}else return Ws(t)}function Ws(t){return Ge(ca|wl,t,!1)}function fu(t){un.ensure();const e=Ge(Fn|fr,t,!0);return(n={})=>new Promise(r=>{n.outro?$n(e,()=>{_e(e),r(void 0)}):(_e(e),r(void 0))})}function cu(t){return Ge(ca,t,!1)}function hu(t){return Ge(_a|fr,t,!0)}function ya(t,e=0){return Ge(ha|e,t,!0)}function Q(t,e=[],n=[]){Zl(e,n,r=>{Ge(ha,()=>t(...r.map(s)),!0)})}function Mi(t,e=0){var n=Ge(ur|e,t,!0);return n}function he(t,e=!0){return Ge(Ke|fr,t,!0,e)}function Zs(t){var e=t.teardown;if(e!==null){const n=Dn,r=rt;Xa(!0),Kt(null);try{e.call(null)}finally{Xa(n),Kt(r)}}}function Qs(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&Ni(()=>{i.abort(pa)});var r=n.next;n.f&Fn?n.parent=null:_e(n,e),n=r}}function du(t){for(var e=t.first;e!==null;){var n=e.next;e.f&Ke||_e(e),e=n}}function _e(t,e=!0){var n=!1;(e||t.f&yl)&&t.nodes_start!==null&&t.nodes_end!==null&&(vu(t.nodes_start,t.nodes_end),n=!0),Qs(t,e&&!n),si(t,0),jt(t,On);var r=t.transitions;if(r!==null)for(const a of r)a.stop();Zs(t);var i=t.parent;i!==null&&i.first!==null&&Js(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function vu(t,e){for(;t!==null;){var n=t===e?null:Dr(t);t.remove(),t=n}}function Js(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function $n(t,e){var n=[];wa(t,n,!0),to(n,()=>{_e(t),e&&e()})}function to(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function wa(t,e,n){if(!(t.f&Ne)){if(t.f^=Ne,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,a=(r.f&Ei)!==0||(r.f&Ke)!==0;wa(r,e,a?n:!1),r=i}}}function ba(t){eo(t,!0)}function eo(t,e){if(t.f&Ne){t.f^=Ne,t.f&Dt||(jt(t,pe),ir(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&Ei)!==0||(n.f&Ke)!==0;eo(n,i?e:!1),n=r}if(t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&a.in()}}let Wn=!1;function Ha(t){Wn=t}let Dn=!1;function Xa(t){Dn=t}let rt=null,Se=!1;function Kt(t){rt=t}let at=null;function De(t){at=t}let Vt=null;function no(t){rt!==null&&(Vt===null?Vt=[t]:Vt.push(t))}let Ut=null,ae=0,ue=null;function _u(t){ue=t}let ro=1,Ar=0,Tn=Ar;function Ka(t){Tn=t}let ln=!1;function io(){return++ro}function $i(t){var h;var e=t.f;if(e&pe)return!0;if(e&cn){var n=t.deps,r=(e&ve)!==0;if(n!==null){var i,a,o=(e&ri)!==0,l=r&&at!==null&&!ln,f=n.length;if((o||l)&&(at===null||!(at.f&On))){var u=t,c=u.parent;for(i=0;i<f;i++)a=n[i],(o||!((h=a==null?void 0:a.reactions)!=null&&h.includes(u)))&&(a.reactions??(a.reactions=[])).push(u);o&&(u.f^=ri),l&&c!==null&&!(c.f&ve)&&(u.f^=ve)}for(i=0;i<f;i++)if(a=n[i],$i(a)&&Hs(a),a.wv>t.wv)return!0}(!r||at!==null&&!ln)&&jt(t,Dt)}return!1}function ao(t,e,n=!0){var r=t.reactions;if(r!==null&&!(Vt!=null&&Vt.includes(t)))for(var i=0;i<r.length;i++){var a=r[i];a.f&se?ao(a,e,!1):e===a&&(n?jt(a,pe):a.f&Dt&&jt(a,cn),ir(a))}}function so(t){var k;var e=Ut,n=ae,r=ue,i=rt,a=ln,o=Vt,l=Wt,f=Se,u=Tn,c=t.f;Ut=null,ae=0,ue=null,ln=(c&ve)!==0&&(Se||!Wn||rt===null),rt=c&(Ke|Fn)?null:t,Vt=null,nr(t.ctx),Se=!1,Tn=++Ar,t.ac!==null&&(Ni(()=>{t.ac.abort(pa)}),t.ac=null);try{t.f|=zi;var h=t.fn,d=h(),v=t.deps;if(Ut!==null){var _;if(si(t,ae),v!==null&&ae>0)for(v.length=ae+Ut.length,_=0;_<Ut.length;_++)v[ae+_]=Ut[_];else t.deps=v=Ut;if(!ln||c&se&&t.reactions!==null)for(_=ae;_<v.length;_++)((k=v[_]).reactions??(k.reactions=[])).push(t)}else v!==null&&ae<v.length&&(si(t,ae),v.length=ae);if(Fs()&&ue!==null&&!Se&&v!==null&&!(t.f&(se|cn|pe)))for(_=0;_<ue.length;_++)ao(ue[_],t);return i!==null&&i!==t&&(Ar++,ue!==null&&(r===null?r=ue:r.push(...ue))),t.f&Mn&&(t.f^=Mn),d}catch(E){return Ds(E)}finally{t.f^=zi,Ut=e,ae=n,ue=r,rt=i,ln=a,Vt=o,nr(l),Se=f,Tn=u}}function pu(t,e){let n=e.reactions;if(n!==null){var r=vl.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&e.f&se&&(Ut===null||!Ut.includes(e))&&(jt(e,cn),e.f&(ve|ri)||(e.f^=ri),zs(e),si(e,0))}function si(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)pu(t,n[r])}function Zn(t){var e=t.f;if(!(e&On)){jt(t,Dt);var n=at,r=Wn;at=t,Wn=!0;try{e&ur?du(t):Qs(t),Zs(t);var i=so(t);t.teardown=typeof i=="function"?i:null,t.wv=ro;var a;Ts&&Ol&&t.f&pe&&t.deps}finally{Wn=r,at=n}}}async function gu(){await Promise.resolve(),Ul()}function s(t){var e=t.f,n=(e&se)!==0;if(rt!==null&&!Se){var r=at!==null&&(at.f&On)!==0;if(!r&&!(Vt!=null&&Vt.includes(t))){var i=rt.deps;if(rt.f&zi)t.rv<Ar&&(t.rv=Ar,Ut===null&&i!==null&&i[ae]===t?ae++:Ut===null?Ut=[t]:(!ln||!Ut.includes(t))&&Ut.push(t));else{(rt.deps??(rt.deps=[])).push(t);var a=t.reactions;a===null?t.reactions=[rt]:a.includes(rt)||a.push(rt)}}}else if(n&&t.deps===null&&t.effects===null){var o=t,l=o.parent;l!==null&&!(l.f&ve)&&(o.f^=ve)}if(Dn){if(fn.has(t))return fn.get(t);if(n){o=t;var f=o.v;return(!(o.f&Dt)&&o.reactions!==null||oo(o))&&(f=ga(o)),fn.set(o,f),f}}else n&&(o=t,$i(o)&&Hs(o));if(t.f&Mn)throw t.v;return t.v}function oo(t){if(t.v===Tt)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(fn.has(e)||e.f&se&&oo(e))return!0;return!1}function dr(t){var e=Se;try{return Se=!0,t()}finally{Se=e}}const mu=-7169;function jt(t,e){t.f=t.f&mu|e}const lo=new Set,ji=new Set;function yu(t,e,n,r={}){function i(a){if(r.capture||mr.call(e,a),!a.cancelBubble)return Ni(()=>n==null?void 0:n.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?cr(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function ie(t,e,n,r,i){var a={capture:r,passive:i},o=yu(t,e,n,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&uu(()=>{e.removeEventListener(t,o,a)})}function uo(t){for(var e=0;e<t.length;e++)lo.add(t[e]);for(var n of ji)n(t)}let Ga=null;function mr(t){var F;var e=this,n=e.ownerDocument,r=t.type,i=((F=t.composedPath)==null?void 0:F.call(t))||[],a=i[0]||t.target;Ga=t;var o=0,l=Ga===t&&t.__root;if(l){var f=i.indexOf(l);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;f<=u&&(o=f)}if(a=i[o]||t.target,a!==e){Vi(t,"currentTarget",{configurable:!0,get(){return a||n}});var c=rt,h=at;Kt(null),De(null);try{for(var d,v=[];a!==null;){var _=a.assignedSlot||a.parentNode||a.host||null;try{var k=a["__"+r];if(k!=null&&(!a.disabled||t.target===a))if(ua(k)){var[E,...q]=k;E.apply(a,[t,...q])}else k.call(a,t)}catch(N){d?v.push(N):d=N}if(t.cancelBubble||_===e||_===null)break;a=_}if(d){for(let N of v)queueMicrotask(()=>{throw N});throw d}}finally{t.__root=e,delete t.currentTarget,Kt(c),De(h)}}}function fo(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Nr(t,e){var n=at;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function K(t,e){var n=(e&$s)!==0,r=(e&hl)!==0,i,a=!t.startsWith("<!>");return()=>{i===void 0&&(i=fo(a?t:"<!>"+t),n||(i=He(i)));var o=r||Ks?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=He(o),f=o.lastChild;Nr(l,f)}else Nr(o,o);return o}}function wu(t,e,n="svg"){var r=!t.startsWith("<!>"),i=(e&$s)!==0,a=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var l=fo(a),f=He(l);if(i)for(o=document.createDocumentFragment();He(f);)o.appendChild(He(f));else o=He(f)}var u=o.cloneNode(!0);if(i){var c=He(u),h=u.lastChild;Nr(c,h)}else Nr(u,u);return u}}function qe(t,e){return wu(t,e,"svg")}function It(){var t=document.createDocumentFragment(),e=document.createComment(""),n=hr();return t.append(e,n),Nr(e,n),t}function S(t,e){t!==null&&t.before(e)}const bu=["touchstart","touchmove"];function xu(t){return bu.includes(t)}function V(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function ku(t,e){return Eu(t,e)}const Xn=new Map;function Eu(t,{target:e,anchor:n,props:r={},events:i,context:a,intro:o=!0}){nu();var l=new Set,f=h=>{for(var d=0;d<h.length;d++){var v=h[d];if(!l.has(v)){l.add(v);var _=xu(v);e.addEventListener(v,mr,{passive:_});var k=Xn.get(v);k===void 0?(document.addEventListener(v,mr,{passive:_}),Xn.set(v,1)):Xn.set(v,k+1)}}};f(fa(lo)),ji.add(f);var u=void 0,c=fu(()=>{var h=n??e.appendChild(hr());return Xl(h,{pending:()=>{}},d=>{if(a){Fr({});var v=Wt;v.c=a}i&&(r.$$events=i),u=t(d,r)||{},a&&Or()}),()=>{var _;for(var d of l){e.removeEventListener(d,mr);var v=Xn.get(d);--v===0?(document.removeEventListener(d,mr),Xn.delete(d)):Xn.set(d,v)}ji.delete(f),h!==n&&((_=h.parentNode)==null||_.removeChild(h))}});return Su.set(u,c),u}let Su=new WeakMap;function oi(t){Wt===null&&Cs(),ai(()=>{const e=dr(t);if(typeof e=="function")return e})}function Au(t){Wt===null&&Cs(),oi(()=>()=>dr(t))}function et(t,e,n=!1){var r=t,i=null,a=null,o=Tt,l=n?Ei:0,f=!1;const u=(v,_=!0)=>{f=!0,d(_,v)};var c=null;function h(){c!==null&&(c.lastChild.remove(),r.before(c),c=null);var v=o?i:a,_=o?a:i;v&&ba(v),_&&$n(_,()=>{o?a=null:i=null})}const d=(v,_)=>{if(o!==(o=v)){var k=ma(),E=r;if(k&&(c=document.createDocumentFragment(),c.append(E=hr())),o?i??(i=_&&he(()=>_(E))):a??(a=_&&he(()=>_(E))),k){var q=xt,F=o?i:a,N=o?a:i;F&&q.skipped_effects.delete(F),N&&q.skipped_effects.add(N),q.add_callback(h)}else h()}};Mi(()=>{f=!1,e(u),f||d(null,null)},l)}function Nu(t,e,n){var r=t,i=Tt,a,o,l=null,f=Fl;function u(){a&&$n(a),l!==null&&(l.lastChild.remove(),r.before(l),l=null),a=o}Mi(()=>{if(f(i,i=e())){var c=r,h=ma();h&&(l=document.createDocumentFragment(),l.append(c=hr())),o=he(()=>n(c)),h?xt.add_callback(u):u()}})}function Lt(t,e){return e}function Mu(t,e,n){for(var r=t.items,i=[],a=e.length,o=0;o<a;o++)wa(e[o].e,i,!0);var l=a>0&&i.length===0&&n!==null;if(l){var f=n.parentNode;ru(f),f.append(n),r.clear(),Ce(t,e[0].prev,e[a-1].next)}to(i,()=>{for(var u=0;u<a;u++){var c=e[u];l||(r.delete(c.k),Ce(t,c.prev,c.next)),_e(c.e,!l)}})}function Pt(t,e,n,r,i,a=null){var o=t,l={flags:e,items:new Map,first:null},f=(e&Ms)!==0;if(f){var u=t;o=u.appendChild(hr())}var c=null,h=!1,d=new Map,v=Vs(()=>{var q=n();return ua(q)?q:q==null?[]:fa(q)}),_,k;function E(){$u(k,_,l,d,o,i,e,r,n),a!==null&&(_.length===0?c?ba(c):c=he(()=>a(o)):c!==null&&$n(c,()=>{c=null}))}Mi(()=>{k??(k=at),_=s(v);var q=_.length;if(!(h&&q===0)){h=q===0;var F,N,J,H;if(ma()){var O=new Set,Y=xt;for(N=0;N<q;N+=1){J=_[N],H=r(J,N);var M=l.items.get(H)??d.get(H);M?e&(xi|ki)&&co(M,J,N,e):(F=ho(null,l,null,null,J,H,N,i,e,n,!0),d.set(H,F)),O.add(H)}for(const[At,st]of l.items)O.has(At)||Y.skipped_effects.add(st.e);Y.add_callback(E)}else E();s(v)}})}function $u(t,e,n,r,i,a,o,l,f){var ot,Zt,Qt,Jt;var u=(o&sl)!==0,c=(o&(xi|ki))!==0,h=e.length,d=n.items,v=n.first,_=v,k,E=null,q,F=[],N=[],J,H,O,Y;if(u)for(Y=0;Y<h;Y+=1)J=e[Y],H=l(J,Y),O=d.get(H),O!==void 0&&((ot=O.a)==null||ot.measure(),(q??(q=new Set)).add(O));for(Y=0;Y<h;Y+=1){if(J=e[Y],H=l(J,Y),O=d.get(H),O===void 0){var M=r.get(H);if(M!==void 0){r.delete(H),d.set(H,M);var At=E?E.next:_;Ce(n,E,M),Ce(n,M,At),Oi(M,At,i),E=M}else{var st=_?_.e.nodes_start:i;E=ho(st,n,E,E===null?n.first:E.next,J,H,Y,a,o,f)}d.set(H,E),F=[],N=[],_=E.next;continue}if(c&&co(O,J,Y,o),O.e.f&Ne&&(ba(O.e),u&&((Zt=O.a)==null||Zt.unfix(),(q??(q=new Set)).delete(O))),O!==_){if(k!==void 0&&k.has(O)){if(F.length<N.length){var X=N[0],vt;E=X.prev;var w=F[0],C=F[F.length-1];for(vt=0;vt<F.length;vt+=1)Oi(F[vt],X,i);for(vt=0;vt<N.length;vt+=1)k.delete(N[vt]);Ce(n,w.prev,C.next),Ce(n,E,w),Ce(n,C,X),_=X,E=C,Y-=1,F=[],N=[]}else k.delete(O),Oi(O,_,i),Ce(n,O.prev,O.next),Ce(n,O,E===null?n.first:E.next),Ce(n,E,O),E=O;continue}for(F=[],N=[];_!==null&&_.k!==H;)_.e.f&Ne||(k??(k=new Set)).add(_),N.push(_),_=_.next;if(_===null)continue;O=_}F.push(O),E=O,_=O.next}if(_!==null||k!==void 0){for(var Z=k===void 0?[]:fa(k);_!==null;)_.e.f&Ne||Z.push(_),_=_.next;var lt=Z.length;if(lt>0){var St=o&Ms&&h===0?i:null;if(u){for(Y=0;Y<lt;Y+=1)(Qt=Z[Y].a)==null||Qt.measure();for(Y=0;Y<lt;Y+=1)(Jt=Z[Y].a)==null||Jt.fix()}Mu(n,Z,St)}}u&&cr(()=>{var ge;if(q!==void 0)for(O of q)(ge=O.a)==null||ge.apply()}),t.first=n.first&&n.first.e,t.last=E&&E.e;for(var dt of r.values())_e(dt.e);r.clear()}function co(t,e,n,r){r&xi&&ar(t.v,e),r&ki?ar(t.i,n):t.i=n}function ho(t,e,n,r,i,a,o,l,f,u,c){var h=(f&xi)!==0,d=(f&ol)===0,v=h?d?eu(i,!1,!1):Cn(i):i,_=f&ki?Cn(o):o,k={i:_,v,k:a,a:null,e:null,prev:n,next:r};try{if(t===null){var E=document.createDocumentFragment();E.append(t=hr())}return k.e=he(()=>l(t,v,_,u),Rl),k.e.prev=n&&n.e,k.e.next=r&&r.e,n===null?c||(e.first=k):(n.next=k,n.e.next=k.e),r!==null&&(r.prev=k,r.e.prev=k.e),k}finally{}}function Oi(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,a=t.e.nodes_start;a!==null&&a!==r;){var o=Dr(a);i.before(a),a=o}}function Ce(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}const ja=[...` 	
\r\f \v\uFEFF`];function Tu(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var a=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+a;(o===0||ja.includes(r[o-1]))&&(l===r.length||ja.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Iu(t,e){return t==null?null:String(t)}function yr(t,e,n,r,i,a){var o=t.__className;if(o!==n||o===void 0){var l=Tu(n,r,a);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(a&&i!==a)for(var f in a){var u=!!a[f];(i==null||u!==!!i[f])&&t.classList.toggle(f,u)}return a}function Vr(t,e,n,r){var i=t.__style;if(i!==e){var a=Iu(e);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}return r}const Pu=Symbol("is custom element"),Cu=Symbol("is html");function Wa(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function z(t,e,n,r){var i=Ru(t);i[e]!==(i[e]=n)&&(e==="loading"&&(t[xl]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Lu(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Ru(t){return t.__attributes??(t.__attributes={[Pu]:t.nodeName.includes("-"),[Cu]:t.namespaceURI===dl})}var Za=new Map;function Lu(t){var e=t.getAttribute("is")||t.nodeName,n=Za.get(e);if(n)return n;Za.set(e,n=[]);for(var r,i=t,a=Element.prototype;a!==i;){r=_l(i);for(var o in r)r[o].set&&n.push(o);i=Is(i)}return n}function Fu(t,e,n=e){var r=new WeakSet;au(t,"input",async i=>{var a=i?t.defaultValue:t.value;if(a=Di(t)?qi(a):a,n(a),xt!==null&&r.add(xt),await gu(),a!==(a=e())){var o=t.selectionStart,l=t.selectionEnd;t.value=a??"",l!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(l,t.value.length))}}),dr(e)==null&&t.value&&(n(Di(t)?qi(t.value):t.value),xt!==null&&r.add(xt)),ya(()=>{var i=e();if(t===document.activeElement){var a=jr??xt;if(r.has(a))return}Di(t)&&i===qi(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Di(t){var e=t.type;return e==="number"||e==="range"}function qi(t){return t===""?null:+t}function Qa(t,e){return t===e||(t==null?void 0:t[kr])===e}function Ou(t={},e,n,r){return cu(()=>{var i,a;return ya(()=>{i=a,a=[],dr(()=>{t!==n(...a)&&(e(t,...a),i&&Qa(n(...i),t)&&e(null,...i))})}),()=>{cr(()=>{a&&Qa(n(...a),t)&&e(null,...a)})}}),t}function Ja(t){return function(...e){var n=e[0];return n.preventDefault(),t==null?void 0:t.apply(this,e)}}let zr=!1;function Du(t){var e=zr;try{return zr=!1,[t(),zr]}finally{zr=e}}function bn(t,e,n,r){var F;var i=(n&fl)!==0,a=(n&cl)!==0,o=r,l=!0,f=()=>(l&&(l=!1,o=a?dr(r):r),o),u;if(i){var c=kr in t||bl in t;u=((F=jn(t,e))==null?void 0:F.set)??(c&&e in t?N=>t[e]=N:void 0)}var h,d=!1;i?[h,d]=Du(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=f(),u&&(Ml(),u(h)));var v;if(v=()=>{var N=t[e];return N===void 0?f():(l=!0,N)},!(n&ul))return v;if(u){var _=t.$$legacy;return function(N,J){return arguments.length>0?((!J||_||d)&&u(J?v():N),N):v()}}var k=!1,E=(n&ll?Ai:Vs)(()=>(k=!1,v()));i&&s(E);var q=at;return function(N,J){if(arguments.length>0){const H=J?s(E):i?de(N):N;return D(E,H),k=!0,o!==void 0&&(o=H),N}return Dn&&k||q.f&On?E.v:s(E)}}function Jr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qu(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vo(t){let e,n,r;t.length!==2?(e=Jr,n=(l,f)=>Jr(t(l),f),r=(l,f)=>t(l)-f):(e=t===Jr||t===qu?t:Yu,n=t,r=t);function i(l,f,u=0,c=l.length){if(u<c){if(e(f,f)!==0)return c;do{const h=u+c>>>1;n(l[h],f)<0?u=h+1:c=h}while(u<c)}return u}function a(l,f,u=0,c=l.length){if(u<c){if(e(f,f)!==0)return c;do{const h=u+c>>>1;n(l[h],f)<=0?u=h+1:c=h}while(u<c)}return u}function o(l,f,u=0,c=l.length){const h=i(l,f,u,c-1);return h>u&&r(l[h-1],f)>-r(l[h],f)?h-1:h}return{left:i,center:o,right:a}}function Yu(){return 0}function Bu(t){return t===null?NaN:+t}const Uu=vo(Jr),Vu=Uu.right;vo(Bu).center;class ts extends Map{constructor(e,n=Xu){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(es(this,e))}has(e){return super.has(es(this,e))}set(e,n){return super.set(zu(this,e),n)}delete(e){return super.delete(Hu(this,e))}}function es({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function zu({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Hu({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Xu(t){return t!==null&&typeof t=="object"?t.valueOf():t}const Ku=Math.sqrt(50),Gu=Math.sqrt(10),ju=Math.sqrt(2);function li(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Ku?10:a>=Gu?5:a>=ju?2:1;let l,f,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),f=Math.round(e*u),l/u<t&&++l,f/u>e&&--f,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),f=Math.round(e/u),l*u<t&&++l,f*u>e&&--f),f<l&&.5<=n&&n<2?li(t,e,n*2):[l,f,u]}function _o(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?li(e,t,n):li(t,e,n);if(!(a>=i))return[];const l=a-i+1,f=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)f[u]=(a-u)/-o;else for(let u=0;u<l;++u)f[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)f[u]=(i+u)/-o;else for(let u=0;u<l;++u)f[u]=(i+u)*o;return f}function Wi(t,e,n){return e=+e,t=+t,n=+n,li(t,e,n)[2]}function Wu(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Wi(e,t,n):Wi(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Zu(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var Qu={value:()=>{}};function po(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ti(n)}function ti(t){this._=t}function Ju(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ti.prototype=po.prototype={constructor:ti,on:function(t,e){var n=this._,r=Ju(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=tf(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=ns(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ns(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ti(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function tf(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ns(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Qu,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Zi="http://www.w3.org/1999/xhtml";const rs={svg:"http://www.w3.org/2000/svg",xhtml:Zi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ti(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),rs.hasOwnProperty(e)?{space:rs[e],local:t}:t}function ef(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Zi&&e.documentElement.namespaceURI===Zi?e.createElement(t):e.createElementNS(n,t)}}function nf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function go(t){var e=Ti(t);return(e.local?nf:ef)(e)}function rf(){}function xa(t){return t==null?rf:function(){return this.querySelector(t)}}function af(t){typeof t!="function"&&(t=xa(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,l=r[i]=new Array(o),f,u,c=0;c<o;++c)(f=a[c])&&(u=t.call(f,f.__data__,c,a))&&("__data__"in f&&(u.__data__=f.__data__),l[c]=u);return new $e(r,this._parents)}function sf(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function of(){return[]}function mo(t){return t==null?of:function(){return this.querySelectorAll(t)}}function lf(t){return function(){return sf(t.apply(this,arguments))}}function uf(t){typeof t=="function"?t=lf(t):t=mo(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],l=o.length,f,u=0;u<l;++u)(f=o[u])&&(r.push(t.call(f,f.__data__,u,o)),i.push(f));return new $e(r,i)}function yo(t){return function(){return this.matches(t)}}function wo(t){return function(e){return e.matches(t)}}var ff=Array.prototype.find;function cf(t){return function(){return ff.call(this.children,t)}}function hf(){return this.firstElementChild}function df(t){return this.select(t==null?hf:cf(typeof t=="function"?t:wo(t)))}var vf=Array.prototype.filter;function _f(){return Array.from(this.children)}function pf(t){return function(){return vf.call(this.children,t)}}function gf(t){return this.selectAll(t==null?_f:pf(typeof t=="function"?t:wo(t)))}function mf(t){typeof t!="function"&&(t=yo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,l=r[i]=[],f,u=0;u<o;++u)(f=a[u])&&t.call(f,f.__data__,u,a)&&l.push(f);return new $e(r,this._parents)}function bo(t){return new Array(t.length)}function yf(){return new $e(this._enter||this._groups.map(bo),this._parents)}function ui(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ui.prototype={constructor:ui,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function wf(t){return function(){return t}}function bf(t,e,n,r,i,a){for(var o=0,l,f=e.length,u=a.length;o<u;++o)(l=e[o])?(l.__data__=a[o],r[o]=l):n[o]=new ui(t,a[o]);for(;o<f;++o)(l=e[o])&&(i[o]=l)}function xf(t,e,n,r,i,a,o){var l,f,u=new Map,c=e.length,h=a.length,d=new Array(c),v;for(l=0;l<c;++l)(f=e[l])&&(d[l]=v=o.call(f,f.__data__,l,e)+"",u.has(v)?i[l]=f:u.set(v,f));for(l=0;l<h;++l)v=o.call(t,a[l],l,a)+"",(f=u.get(v))?(r[l]=f,f.__data__=a[l],u.delete(v)):n[l]=new ui(t,a[l]);for(l=0;l<c;++l)(f=e[l])&&u.get(d[l])===f&&(i[l]=f)}function kf(t){return t.__data__}function Ef(t,e){if(!arguments.length)return Array.from(this,kf);var n=e?xf:bf,r=this._parents,i=this._groups;typeof t!="function"&&(t=wf(t));for(var a=i.length,o=new Array(a),l=new Array(a),f=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],d=h.length,v=Sf(t.call(c,c&&c.__data__,u,r)),_=v.length,k=l[u]=new Array(_),E=o[u]=new Array(_),q=f[u]=new Array(d);n(c,h,k,E,q,v,e);for(var F=0,N=0,J,H;F<_;++F)if(J=k[F]){for(F>=N&&(N=F+1);!(H=E[N])&&++N<_;);J._next=H||null}}return o=new $e(o,r),o._enter=l,o._exit=f,o}function Sf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Af(){return new $e(this._exit||this._groups.map(bo),this._parents)}function Nf(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Mf(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),f=0;f<o;++f)for(var u=n[f],c=r[f],h=u.length,d=l[f]=new Array(h),v,_=0;_<h;++_)(v=u[_]||c[_])&&(d[_]=v);for(;f<i;++f)l[f]=n[f];return new $e(l,this._parents)}function $f(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Tf(t){t||(t=If);function e(h,d){return h&&d?t(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,f=i[a]=new Array(l),u,c=0;c<l;++c)(u=o[c])&&(f[c]=u);f.sort(e)}return new $e(i,this._parents).order()}function If(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pf(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Cf(){return Array.from(this)}function Rf(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Lf(){let t=0;for(const e of this)++t;return t}function Ff(){return!this.node()}function Of(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&t.call(l,l.__data__,a,i);return this}function Df(t){return function(){this.removeAttribute(t)}}function qf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yf(t,e){return function(){this.setAttribute(t,e)}}function Bf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Uf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Vf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function zf(t,e){var n=Ti(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?qf:Df:typeof e=="function"?n.local?Vf:Uf:n.local?Bf:Yf)(n,e))}function xo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Hf(t){return function(){this.style.removeProperty(t)}}function Xf(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Kf(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Gf(t,e,n){return arguments.length>1?this.each((e==null?Hf:typeof e=="function"?Kf:Xf)(t,e,n??"")):sr(this.node(),t)}function sr(t,e){return t.style.getPropertyValue(e)||xo(t).getComputedStyle(t,null).getPropertyValue(e)}function jf(t){return function(){delete this[t]}}function Wf(t,e){return function(){this[t]=e}}function Zf(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Qf(t,e){return arguments.length>1?this.each((e==null?jf:typeof e=="function"?Zf:Wf)(t,e)):this.node()[t]}function ko(t){return t.trim().split(/^|\s+/)}function ka(t){return t.classList||new Eo(t)}function Eo(t){this._node=t,this._names=ko(t.getAttribute("class")||"")}Eo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function So(t,e){for(var n=ka(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ao(t,e){for(var n=ka(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Jf(t){return function(){So(this,t)}}function tc(t){return function(){Ao(this,t)}}function ec(t,e){return function(){(e.apply(this,arguments)?So:Ao)(this,t)}}function nc(t,e){var n=ko(t+"");if(arguments.length<2){for(var r=ka(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ec:e?Jf:tc)(n,e))}function rc(){this.textContent=""}function ic(t){return function(){this.textContent=t}}function ac(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function sc(t){return arguments.length?this.each(t==null?rc:(typeof t=="function"?ac:ic)(t)):this.node().textContent}function oc(){this.innerHTML=""}function lc(t){return function(){this.innerHTML=t}}function uc(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function fc(t){return arguments.length?this.each(t==null?oc:(typeof t=="function"?uc:lc)(t)):this.node().innerHTML}function cc(){this.nextSibling&&this.parentNode.appendChild(this)}function hc(){return this.each(cc)}function dc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vc(){return this.each(dc)}function _c(t){var e=typeof t=="function"?t:go(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function pc(){return null}function gc(t,e){var n=typeof t=="function"?t:go(t),r=e==null?pc:typeof e=="function"?e:xa(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function mc(){var t=this.parentNode;t&&t.removeChild(this)}function yc(){return this.each(mc)}function wc(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bc(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xc(t){return this.select(t?bc:wc)}function kc(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ec(t){return function(e){t.call(this,e,this.__data__)}}function Sc(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ac(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Nc(t,e,n){return function(){var r=this.__on,i,a=Ec(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Mc(t,e,n){var r=Sc(t+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var f=0,u=l.length,c;f<u;++f)for(i=0,c=l[f];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(l=e?Nc:Ac,i=0;i<a;++i)this.each(l(r[i],e,n));return this}function No(t,e,n){var r=xo(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $c(t,e){return function(){return No(this,t,e)}}function Tc(t,e){return function(){return No(this,t,e.apply(this,arguments))}}function Ic(t,e){return this.each((typeof e=="function"?Tc:$c)(t,e))}function*Pc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Cc=[null];function $e(t,e){this._groups=t,this._parents=e}function qr(){return new $e([[document.documentElement]],Cc)}function Rc(){return this}$e.prototype=qr.prototype={constructor:$e,select:af,selectAll:uf,selectChild:df,selectChildren:gf,filter:mf,data:Ef,enter:yf,exit:Af,join:Nf,merge:Mf,selection:Rc,order:$f,sort:Tf,call:Pf,nodes:Cf,node:Rf,size:Lf,empty:Ff,each:Of,attr:zf,style:Gf,property:Qf,classed:nc,text:sc,html:fc,raise:hc,lower:vc,append:_c,insert:gc,remove:yc,clone:xc,datum:kc,on:Mc,dispatch:Ic,[Symbol.iterator]:Pc};function Ea(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yr(){}var Mr=.7,fi=1/Mr,Qn="\\s*([+-]?\\d+)\\s*",$r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lc=/^#([0-9a-f]{3,8})$/,Fc=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),Oc=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),Dc=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${$r}\\)$`),qc=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${$r}\\)$`),Yc=new RegExp(`^hsl\\(${$r},${Oe},${Oe}\\)$`),Bc=new RegExp(`^hsla\\(${$r},${Oe},${Oe},${$r}\\)$`),is={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ea(Yr,Rn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:as,formatHex:as,formatHex8:Uc,formatHsl:Vc,formatRgb:ss,toString:ss});function as(){return this.rgb().formatHex()}function Uc(){return this.rgb().formatHex8()}function Vc(){return $o(this).formatHsl()}function ss(){return this.rgb().formatRgb()}function Rn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Lc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?os(e):n===3?new Gt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Hr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Hr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fc.exec(t))?new Gt(e[1],e[2],e[3],1):(e=Oc.exec(t))?new Gt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dc.exec(t))?Hr(e[1],e[2],e[3],e[4]):(e=qc.exec(t))?Hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Yc.exec(t))?fs(e[1],e[2]/100,e[3]/100,1):(e=Bc.exec(t))?fs(e[1],e[2]/100,e[3]/100,e[4]):is.hasOwnProperty(t)?os(is[t]):t==="transparent"?new Gt(NaN,NaN,NaN,0):null}function os(t){return new Gt(t>>16&255,t>>8&255,t&255,1)}function Hr(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gt(t,e,n,r)}function zc(t){return t instanceof Yr||(t=Rn(t)),t?(t=t.rgb(),new Gt(t.r,t.g,t.b,t.opacity)):new Gt}function Qi(t,e,n,r){return arguments.length===1?zc(t):new Gt(t,e,n,r??1)}function Gt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ea(Gt,Qi,Mo(Yr,{brighter(t){return t=t==null?fi:Math.pow(fi,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mr:Math.pow(Mr,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gt(In(this.r),In(this.g),In(this.b),ci(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ls,formatHex:ls,formatHex8:Hc,formatRgb:us,toString:us}));function ls(){return`#${xn(this.r)}${xn(this.g)}${xn(this.b)}`}function Hc(){return`#${xn(this.r)}${xn(this.g)}${xn(this.b)}${xn((isNaN(this.opacity)?1:this.opacity)*255)}`}function us(){const t=ci(this.opacity);return`${t===1?"rgb(":"rgba("}${In(this.r)}, ${In(this.g)}, ${In(this.b)}${t===1?")":`, ${t})`}`}function ci(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function In(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xn(t){return t=In(t),(t<16?"0":"")+t.toString(16)}function fs(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ae(t,e,n,r)}function $o(t){if(t instanceof Ae)return new Ae(t.h,t.s,t.l,t.opacity);if(t instanceof Yr||(t=Rn(t)),!t)return new Ae;if(t instanceof Ae)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,f=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=f<.5?a+i:2-a-i,o*=60):l=f>0&&f<1?0:o,new Ae(o,l,f,t.opacity)}function Xc(t,e,n,r){return arguments.length===1?$o(t):new Ae(t,e,n,r??1)}function Ae(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ea(Ae,Xc,Mo(Yr,{brighter(t){return t=t==null?fi:Math.pow(fi,t),new Ae(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mr:Math.pow(Mr,t),new Ae(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gt(Yi(t>=240?t-240:t+120,i,r),Yi(t,i,r),Yi(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ae(cs(this.h),Xr(this.s),Xr(this.l),ci(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ci(this.opacity);return`${t===1?"hsl(":"hsla("}${cs(this.h)}, ${Xr(this.s)*100}%, ${Xr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cs(t){return t=(t||0)%360,t<0?t+360:t}function Xr(t){return Math.max(0,Math.min(1,t||0))}function Yi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Sa=t=>()=>t;function Kc(t,e){return function(n){return t+n*e}}function Gc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function jc(t){return(t=+t)==1?To:function(e,n){return n-e?Gc(e,n,t):Sa(isNaN(e)?n:e)}}function To(t,e){var n=e-t;return n?Kc(t,n):Sa(isNaN(t)?e:t)}const hi=function t(e){var n=jc(e);function r(i,a){var o=n((i=Qi(i)).r,(a=Qi(a)).r),l=n(i.g,a.g),f=n(i.b,a.b),u=To(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=l(c),i.b=f(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Wc(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Zc(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Qc(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Aa(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Jc(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ee(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function th(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Aa(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Ji=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bi=new RegExp(Ji.source,"g");function eh(t){return function(){return t}}function nh(t){return function(e){return t(e)+""}}function Io(t,e){var n=Ji.lastIndex=Bi.lastIndex=0,r,i,a,o=-1,l=[],f=[];for(t=t+"",e=e+"";(r=Ji.exec(t))&&(i=Bi.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,f.push({i:o,x:Ee(r,i)})),n=Bi.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?f[0]?nh(f[0].x):eh(e):(e=f.length,function(u){for(var c=0,h;c<e;++c)l[(h=f[c]).i]=h.x(u);return l.join("")})}function Aa(t,e){var n=typeof e,r;return e==null||n==="boolean"?Sa(e):(n==="number"?Ee:n==="string"?(r=Rn(e))?(e=r,hi):Io:e instanceof Rn?hi:e instanceof Date?Jc:Zc(e)?Wc:Array.isArray(e)?Qc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?th:Ee)(t,e)}function rh(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var hs=180/Math.PI,ta={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Po(t,e,n,r,i,a){var o,l,f;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,f/=l),t*r<e*n&&(t=-t,e=-e,f=-f,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*hs,skewX:Math.atan(f)*hs,scaleX:o,scaleY:l}}var Kr;function ih(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ta:Po(e.a,e.b,e.c,e.d,e.e,e.f)}function ah(t){return t==null||(Kr||(Kr=document.createElementNS("http://www.w3.org/2000/svg","g")),Kr.setAttribute("transform",t),!(t=Kr.transform.baseVal.consolidate()))?ta:(t=t.matrix,Po(t.a,t.b,t.c,t.d,t.e,t.f))}function Co(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,h,d,v,_){if(u!==h||c!==d){var k=v.push("translate(",null,e,null,n);_.push({i:k-4,x:Ee(u,h)},{i:k-2,x:Ee(c,d)})}else(h||d)&&v.push("translate("+h+e+d+n)}function o(u,c,h,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ee(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function l(u,c,h,d){u!==c?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ee(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function f(u,c,h,d,v,_){if(u!==h||c!==d){var k=v.push(i(v)+"scale(",null,",",null,")");_.push({i:k-4,x:Ee(u,h)},{i:k-2,x:Ee(c,d)})}else(h!==1||d!==1)&&v.push(i(v)+"scale("+h+","+d+")")}return function(u,c){var h=[],d=[];return u=t(u),c=t(c),a(u.translateX,u.translateY,c.translateX,c.translateY,h,d),o(u.rotate,c.rotate,h,d),l(u.skewX,c.skewX,h,d),f(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,d),u=c=null,function(v){for(var _=-1,k=d.length,E;++_<k;)h[(E=d[_]).i]=E.x(v);return h.join("")}}}var sh=Co(ih,"px, ","px)","deg)"),oh=Co(ah,", ",")",")"),or=0,wr=0,gr=0,Ro=1e3,di,br,vi=0,Ln=0,Ii=0,Tr=typeof performance=="object"&&performance.now?performance:Date,Lo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Na(){return Ln||(Lo(lh),Ln=Tr.now()+Ii)}function lh(){Ln=0}function _i(){this._call=this._time=this._next=null}_i.prototype=Fo.prototype={constructor:_i,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Na():+n)+(e==null?0:+e),!this._next&&br!==this&&(br?br._next=this:di=this,br=this),this._call=t,this._time=n,ea()},stop:function(){this._call&&(this._call=null,this._time=1/0,ea())}};function Fo(t,e,n){var r=new _i;return r.restart(t,e,n),r}function uh(){Na(),++or;for(var t=di,e;t;)(e=Ln-t._time)>=0&&t._call.call(void 0,e),t=t._next;--or}function ds(){Ln=(vi=Tr.now())+Ii,or=wr=0;try{uh()}finally{or=0,ch(),Ln=0}}function fh(){var t=Tr.now(),e=t-vi;e>Ro&&(Ii-=e,vi=t)}function ch(){for(var t,e=di,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:di=n);br=t,ea(r)}function ea(t){if(!or){wr&&(wr=clearTimeout(wr));var e=t-Ln;e>24?(t<1/0&&(wr=setTimeout(ds,t-Tr.now()-Ii)),gr&&(gr=clearInterval(gr))):(gr||(vi=Tr.now(),gr=setInterval(fh,Ro)),or=1,Lo(ds))}}function vs(t,e,n){var r=new _i;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var hh=po("start","end","cancel","interrupt"),dh=[],Oo=0,_s=1,na=2,ei=3,ps=4,ra=5,ni=6;function Pi(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;vh(t,n,{name:e,index:r,group:i,on:hh,tween:dh,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Oo})}function Ma(t,e){var n=Te(t,e);if(n.state>Oo)throw new Error("too late; already scheduled");return n}function Ye(t,e){var n=Te(t,e);if(n.state>ei)throw new Error("too late; already running");return n}function Te(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vh(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Fo(a,0,n.time);function a(u){n.state=_s,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,h,d,v;if(n.state!==_s)return f();for(c in r)if(v=r[c],v.name===n.name){if(v.state===ei)return vs(o);v.state===ps?(v.state=ni,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[c]):+c<e&&(v.state=ni,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[c])}if(vs(function(){n.state===ei&&(n.state=ps,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=na,n.on.call("start",t,t.__data__,n.index,n.group),n.state===na){for(n.state=ei,i=new Array(d=n.tween.length),c=0,h=-1;c<d;++c)(v=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=v);i.length=h+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(f),n.state=ra,1),h=-1,d=i.length;++h<d;)i[h].call(t,c);n.state===ra&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=ni,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function _h(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>na&&r.state<ra,r.state=ni,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function ph(t){return this.each(function(){_h(this,t)})}function gh(t,e){var n,r;return function(){var i=Ye(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function mh(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Ye(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},f=0,u=i.length;f<u;++f)if(i[f].name===e){i[f]=l;break}f===u&&i.push(l)}a.tween=i}}function yh(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Te(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?gh:mh)(n,t,e))}function $a(t,e,n){var r=t._id;return t.each(function(){var i=Ye(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Te(i,r).value[e]}}function Do(t,e){var n;return(typeof e=="number"?Ee:e instanceof Rn?hi:(n=Rn(e))?(e=n,hi):Io)(t,e)}function wh(t){return function(){this.removeAttribute(t)}}function bh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xh(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function kh(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Eh(t,e,n){var r,i,a;return function(){var o,l=n(this),f;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),f=l+"",o===f?null:o===r&&f===i?a:(i=f,a=e(r=o,l)))}}function Sh(t,e,n){var r,i,a;return function(){var o,l=n(this),f;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),f=l+"",o===f?null:o===r&&f===i?a:(i=f,a=e(r=o,l)))}}function Ah(t,e){var n=Ti(t),r=n==="transform"?oh:Do;return this.attrTween(t,typeof e=="function"?(n.local?Sh:Eh)(n,r,$a(this,"attr."+t,e)):e==null?(n.local?bh:wh)(n):(n.local?kh:xh)(n,r,e))}function Nh(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Mh(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function $h(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Mh(t,a)),n}return i._value=e,i}function Th(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Nh(t,a)),n}return i._value=e,i}function Ih(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ti(t);return this.tween(n,(r.local?$h:Th)(r,e))}function Ph(t,e){return function(){Ma(this,t).delay=+e.apply(this,arguments)}}function Ch(t,e){return e=+e,function(){Ma(this,t).delay=e}}function Rh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ph:Ch)(e,t)):Te(this.node(),e).delay}function Lh(t,e){return function(){Ye(this,t).duration=+e.apply(this,arguments)}}function Fh(t,e){return e=+e,function(){Ye(this,t).duration=e}}function Oh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Lh:Fh)(e,t)):Te(this.node(),e).duration}function Dh(t,e){if(typeof e!="function")throw new Error;return function(){Ye(this,t).ease=e}}function qh(t){var e=this._id;return arguments.length?this.each(Dh(e,t)):Te(this.node(),e).ease}function Yh(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ye(this,t).ease=n}}function Bh(t){if(typeof t!="function")throw new Error;return this.each(Yh(this._id,t))}function Uh(t){typeof t!="function"&&(t=yo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,l=r[i]=[],f,u=0;u<o;++u)(f=a[u])&&t.call(f,f.__data__,u,a)&&l.push(f);return new Xe(r,this._parents,this._name,this._id)}function Vh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var f=e[l],u=n[l],c=f.length,h=o[l]=new Array(c),d,v=0;v<c;++v)(d=f[v]||u[v])&&(h[v]=d);for(;l<r;++l)o[l]=e[l];return new Xe(o,this._parents,this._name,this._id)}function zh(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Hh(t,e,n){var r,i,a=zh(e)?Ma:Ye;return function(){var o=a(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function Xh(t,e){var n=this._id;return arguments.length<2?Te(this.node(),n).on.on(t):this.each(Hh(n,t,e))}function Kh(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Gh(){return this.on("end.remove",Kh(this._id))}function jh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xa(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l=r[o],f=l.length,u=a[o]=new Array(f),c,h,d=0;d<f;++d)(c=l[d])&&(h=t.call(c,c.__data__,d,l))&&("__data__"in c&&(h.__data__=c.__data__),u[d]=h,Pi(u[d],e,n,d,u,Te(c,n)));return new Xe(a,this._parents,e,n)}function Wh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mo(t));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var f=r[l],u=f.length,c,h=0;h<u;++h)if(c=f[h]){for(var d=t.call(c,c.__data__,h,f),v,_=Te(c,n),k=0,E=d.length;k<E;++k)(v=d[k])&&Pi(v,e,n,k,d,_);a.push(d),o.push(c)}return new Xe(a,o,e,n)}var Zh=qr.prototype.constructor;function Qh(){return new Zh(this._groups,this._parents)}function Jh(t,e){var n,r,i;return function(){var a=sr(this,t),o=(this.style.removeProperty(t),sr(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function qo(t){return function(){this.style.removeProperty(t)}}function td(t,e,n){var r,i=n+"",a;return function(){var o=sr(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function ed(t,e,n){var r,i,a;return function(){var o=sr(this,t),l=n(this),f=l+"";return l==null&&(f=l=(this.style.removeProperty(t),sr(this,t))),o===f?null:o===r&&f===i?a:(i=f,a=e(r=o,l))}}function nd(t,e){var n,r,i,a="style."+e,o="end."+a,l;return function(){var f=Ye(this,t),u=f.on,c=f.value[a]==null?l||(l=qo(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),f.on=r}}function rd(t,e,n){var r=(t+="")=="transform"?sh:Do;return e==null?this.styleTween(t,Jh(t,r)).on("end.style."+t,qo(t)):typeof e=="function"?this.styleTween(t,ed(t,r,$a(this,"style."+t,e))).each(nd(this._id,t)):this.styleTween(t,td(t,r,e),n).on("end.style."+t,null)}function id(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ad(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&id(t,o,n)),r}return a._value=e,a}function sd(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ad(t,e,n??""))}function od(t){return function(){this.textContent=t}}function ld(t){return function(){var e=t(this);this.textContent=e??""}}function ud(t){return this.tween("text",typeof t=="function"?ld($a(this,"text",t)):od(t==null?"":t+""))}function fd(t){return function(e){this.textContent=t.call(this,e)}}function cd(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&fd(i)),e}return r._value=t,r}function hd(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,cd(t))}function dd(){for(var t=this._name,e=this._id,n=Yo(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,f,u=0;u<l;++u)if(f=o[u]){var c=Te(f,e);Pi(f,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Xe(r,this._parents,t,n)}function vd(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},f={value:function(){--i===0&&a()}};n.each(function(){var u=Ye(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(f)),u.on=e}),i===0&&a()})}var _d=0;function Xe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Yo(){return++_d}var Ve=qr.prototype;Xe.prototype={constructor:Xe,select:jh,selectAll:Wh,selectChild:Ve.selectChild,selectChildren:Ve.selectChildren,filter:Uh,merge:Vh,selection:Qh,transition:dd,call:Ve.call,nodes:Ve.nodes,node:Ve.node,size:Ve.size,empty:Ve.empty,each:Ve.each,on:Xh,attr:Ah,attrTween:Ih,style:rd,styleTween:sd,text:ud,textTween:hd,remove:Gh,tween:yh,delay:Rh,duration:Oh,ease:qh,easeVarying:Bh,end:vd,[Symbol.iterator]:Ve[Symbol.iterator]};function pd(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var gd={time:null,delay:0,duration:250,ease:pd};function md(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function yd(t){var e,n;t instanceof Xe?(e=t._id,t=t._name):(e=Yo(),(n=gd).time=Na(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,f,u=0;u<l;++u)(f=o[u])&&Pi(f,t,e,u,o,n||md(f,e));return new Xe(r,this._parents,t,e)}qr.prototype.interrupt=ph;qr.prototype.transition=yd;const ia=Math.PI,aa=2*ia,wn=1e-6,wd=aa-wn;function Bo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function bd(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Bo;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xd{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Bo:bd(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,f=r-e,u=i-n,c=o-e,h=l-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>wn)if(!(Math.abs(h*f-u*c)>wn)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,_=i-l,k=f*f+u*u,E=v*v+_*_,q=Math.sqrt(k),F=Math.sqrt(d),N=a*Math.tan((ia-Math.acos((k+d-E)/(2*q*F)))/2),J=N/F,H=N/q;Math.abs(J-1)>wn&&this._append`L${e+J*c},${n+J*h}`,this._append`A${a},${a},0,0,${+(h*v>c*_)},${this._x1=e+H*f},${this._y1=n+H*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),f=r*Math.sin(i),u=e+l,c=n+f,h=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>wn||Math.abs(this._y1-c)>wn)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%aa+aa),d>wd?this._append`A${r},${r},0,1,${h},${e-l},${n-f}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:d>wn&&this._append`A${r},${r},0,${+(d>=ia)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function kd(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function lr(t){return t=pi(Math.abs(t)),t?t[1]:NaN}function Ed(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],f=0;i>0&&l>0&&(f+l+1>r&&(l=Math.max(1,r-f)),a.push(n.substring(i-=l,i+l)),!((f+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Sd(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ad=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gi(t){if(!(e=Ad.exec(t)))throw new Error("invalid format: "+t);var e;return new Ta({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gi.prototype=Ta.prototype;function Ta(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ta.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nd(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Uo;function Md(t,e){var n=pi(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Uo=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+pi(t,Math.max(0,e+a-1))[0]}function gs(t,e){var n=pi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ms={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kd,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gs(t*100,e),r:gs,s:Md,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ys(t){return t}var ws=Array.prototype.map,bs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $d(t){var e=t.grouping===void 0||t.thousands===void 0?ys:Ed(ws.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ys:Sd(ws.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function u(h){h=gi(h);var d=h.fill,v=h.align,_=h.sign,k=h.symbol,E=h.zero,q=h.width,F=h.comma,N=h.precision,J=h.trim,H=h.type;H==="n"?(F=!0,H="g"):ms[H]||(N===void 0&&(N=12),J=!0,H="g"),(E||d==="0"&&v==="=")&&(E=!0,d="0",v="=");var O=k==="$"?n:k==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",Y=k==="$"?r:/[%p]/.test(H)?o:"",M=ms[H],At=/[defgprs%]/.test(H);N=N===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function st(X){var vt=O,w=Y,C,Z,lt;if(H==="c")w=M(X)+w,X="";else{X=+X;var St=X<0||1/X<0;if(X=isNaN(X)?f:M(Math.abs(X),N),J&&(X=Nd(X)),St&&+X==0&&_!=="+"&&(St=!1),vt=(St?_==="("?_:l:_==="-"||_==="("?"":_)+vt,w=(H==="s"?bs[8+Uo/3]:"")+w+(St&&_==="("?")":""),At){for(C=-1,Z=X.length;++C<Z;)if(lt=X.charCodeAt(C),48>lt||lt>57){w=(lt===46?i+X.slice(C+1):X.slice(C))+w,X=X.slice(0,C);break}}}F&&!E&&(X=e(X,1/0));var dt=vt.length+X.length+w.length,ot=dt<q?new Array(q-dt+1).join(d):"";switch(F&&E&&(X=e(ot+X,ot.length?q-w.length:1/0),ot=""),v){case"<":X=vt+X+w+ot;break;case"=":X=vt+ot+X+w;break;case"^":X=ot.slice(0,dt=ot.length>>1)+vt+X+w+ot.slice(dt);break;default:X=ot+vt+X+w;break}return a(X)}return st.toString=function(){return h+""},st}function c(h,d){var v=u((h=gi(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(lr(d)/3)))*3,k=Math.pow(10,-_),E=bs[8+_/3];return function(q){return v(k*q)+E}}return{format:u,formatPrefix:c}}var Gr,Vo,zo;Td({thousands:",",grouping:[3],currency:["$",""]});function Td(t){return Gr=$d(t),Vo=Gr.format,zo=Gr.formatPrefix,Gr}function Id(t){return Math.max(0,-lr(Math.abs(t)))}function Pd(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lr(e)/3)))*3-lr(Math.abs(t)))}function Cd(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lr(e)-lr(t))+1}function Ia(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const xs=Symbol("implicit");function Ho(){var t=new ts,e=[],n=[],r=xs;function i(a){let o=t.get(a);if(o===void 0){if(r!==xs)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new ts;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ho(e,n).unknown(r)},Ia.apply(i,arguments),i}function Xo(){var t=Ho().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,f=0,u=0,c=.5;delete t.unknown;function h(){var d=e().length,v=i<r,_=v?i:r,k=v?r:i;a=(k-_)/Math.max(1,d-f+u*2),l&&(a=Math.floor(a)),_+=(k-_-a*(d-f))*c,o=a*(1-f),l&&(_=Math.round(_),o=Math.round(o));var E=Zu(d).map(function(q){return _+a*q});return n(v?E.reverse():E)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(d){return arguments.length?(l=!!d,h()):l},t.padding=function(d){return arguments.length?(f=Math.min(1,u=+d),h()):f},t.paddingInner=function(d){return arguments.length?(f=Math.min(1,d),h()):f},t.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return Xo(e(),[r,i]).round(l).paddingInner(f).paddingOuter(u).align(c)},Ia.apply(h(),arguments)}function Ko(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ko(e())},t}function Rd(){return Ko(Xo.apply(null,arguments).paddingInner(1))}function Ld(t){return function(){return t}}function Fd(t){return+t}var ks=[0,1];function Gn(t){return t}function sa(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ld(isNaN(e)?NaN:.5)}function Od(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Dd(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=sa(i,r),a=n(o,a)):(r=sa(r,i),a=n(a,o)),function(l){return a(r(l))}}function qd(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=sa(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var f=Vu(t,l,1,r)-1;return a[f](i[f](l))}}function Yd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bd(){var t=ks,e=ks,n=Aa,r,i,a,o=Gn,l,f,u;function c(){var d=Math.min(t.length,e.length);return o!==Gn&&(o=Od(t[0],t[d-1])),l=d>2?qd:Dd,f=u=null,h}function h(d){return d==null||isNaN(d=+d)?a:(f||(f=l(t.map(r),e,n)))(r(o(d)))}return h.invert=function(d){return o(i((u||(u=l(e,t.map(r),Ee)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,Fd),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=rh,c()},h.clamp=function(d){return arguments.length?(o=d?!0:Gn,c()):o!==Gn},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(a=d,h):a},function(d,v){return r=d,i=v,c()}}function Ud(){return Bd()(Gn,Gn)}function Vd(t,e,n,r){var i=Wu(t,e,n),a;switch(r=gi(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Pd(i,o))&&(r.precision=a),zo(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Cd(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Id(i))&&(r.precision=a-(r.type==="%")*2);break}}return Vo(r)}function zd(t){var e=t.domain;return t.ticks=function(n){var r=e();return _o(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Vd(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],f,u,c=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);c-- >0;){if(u=Wi(o,l,n),u===f)return r[i]=o,r[a]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;f=u}return t},t}function Go(){var t=Ud();return t.copy=function(){return Yd(t,Go())},Ia.apply(t,arguments),zd(t)}function Kn(t){return function(){return t}}function Hd(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new xd(e)}function Xd(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jo(t){this._context=t}jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kd(t){return new jo(t)}function Gd(t){return t[0]}function jd(t){return t[1]}function Wd(t,e){var n=Kn(!0),r=null,i=Kd,a=null,o=Hd(l);t=typeof t=="function"?t:t===void 0?Gd:Kn(t),e=typeof e=="function"?e:e===void 0?jd:Kn(e);function l(f){var u,c=(f=Xd(f)).length,h,d=!1,v;for(r==null&&(a=i(v=o())),u=0;u<=c;++u)!(u<c&&n(h=f[u],u,f))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(h,u,f),+e(h,u,f));if(v)return a=null,v+""||null}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),l):t},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),l):e},l.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Kn(!!f),l):n},l.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),l):i},l.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),l):r},l}function Es(t){return t<0?-1:1}function Ss(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(Es(a)+Es(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function As(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ui(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function mi(t){this._context=t}mi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ui(this,this._t0,As(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ui(this,As(this,n=Ss(this,t,e)),n);break;default:Ui(this,this._t0,n=Ss(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(mi.prototype).point=function(t,e){mi.prototype.point.call(this,e,t)};function Zd(t){return new mi(t)}function xr(t,e,n){this.k=t,this.x=e,this.y=n}xr.prototype={constructor:xr,scale:function(t){return t===1?this:new xr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new xr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};xr.prototype;var Qd=qe('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),Jd=qe('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),tv=qe('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"> </text></g>'),ev=qe('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),nv=qe('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),rv=qe('<path stroke-width="1.5" role="button" tabindex="0"></path>'),iv=qe("<g><!></g>"),av=K("<div> </div>"),sv=K("<div> </div>"),ov=K("<div> </div>"),lv=K('<div class="tooltip-divider svelte-idxsrp"></div>'),uv=K('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),fv=K("<div> </div>"),cv=K("<div> </div>"),hv=K("<div> </div>"),dv=K("<div> </div>"),vv=K("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),_v=K('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),pv=K("<span> </span>"),gv=qe('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),mv=qe('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),yv=qe('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),wv=K('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),bv=K('<div class="band-legend svelte-idxsrp"></div>'),xv=K('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),kv=K('<div class="legend svelte-idxsrp"></div>'),Ev=K('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function Sv(t,e){Fr(e,!0);let n=bn(e,"bands",19,()=>[]),r=bn(e,"years",19,()=>[]),i=bn(e,"maxFieldSize",3,0),a=bn(e,"yMode",3,"relative"),o=bn(e,"showConductorMarkers",3,!0);const l={top:24,right:48,bottom:48,left:72},f=880,u=360,c={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},h=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],d=["circle","square","triangle"],v=6,_=3,k=18,E=18,q=22,F=l.top+6,N=u-l.bottom-12,J=10,H=6;let O=mt(null),Y=mt(de({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),M=null,At=null,st=mt(null),X=mt(0),vt=mt(0);const w=()=>o()&&n().length===1;function C(g){if(g.absolute_position==null)return 0;const m=g.field_size??s(hn)??i()??1;return m?g.absolute_position/m*100:0}function Z(g){return a()==="relative"?C(g):g.absolute_position??0}function lt(g){return g.map(m=>{const T=m.pieces??m.pieces,R=Array.isArray(T)?T.map(U=>`${U}`.trim()).filter(Boolean):T!=null&&`${T}`.trim().length?[`${T}`.trim()]:[];return{...m,pieces:R}})}function St(g){const m=[];let T=0;if(g.length>0){const R=g[0];if(R.conductor){const U=T%_;m.push({year:R.year,conductor:R.conductor,lane:U}),T+=1}}for(let R=1;R<g.length;R+=1){const U=g[R-1],A=g[R];if(U.conductor&&A.conductor&&U.conductor!==A.conductor){const nt=T%_;m.push({year:A.year,conductor:A.conductor,lane:nt}),T+=1}}return m}function dt(){if(!s(O))return;const g=s(O).getBoundingClientRect(),m=s(O).parentElement;if(!m)return;const T=m.getBoundingClientRect();if(g.width===0||g.height===0)return;const R={offsetX:g.left-T.left,scaleX:g.width/f,offsetY:g.top-T.top,scaleY:g.height/u};(Math.abs(R.offsetX-s(Y).offsetX)>.1||Math.abs(R.scaleX-s(Y).scaleX)>.001||Math.abs(R.offsetY-s(Y).offsetY)>.1||Math.abs(R.scaleY-s(Y).scaleY)>.001)&&D(Y,R,!0)}function ot(){!M||!s(O)||At!==s(O)&&(At&&M.unobserve(At),M.observe(s(O)),At=s(O))}oi(()=>{typeof ResizeObserver<"u"&&(M=new ResizeObserver(()=>dt())),ot(),dt(),window.addEventListener("resize",dt)}),ai(()=>{ot(),dt()}),Au(()=>{M==null||M.disconnect(),window.removeEventListener("resize",dt)});function Zt(g){var nt;const m=s(ee);if(!m)return{anchor:"middle",dx:0};const T=m(g.year)??l.left,U=(((nt=g.conductor)==null?void 0:nt.length)??0)*H/2,A=f-l.right;return T+U>A?{anchor:"end",dx:-8}:T-U<l.left?{anchor:"start",dx:8}:{anchor:"middle",dx:0}}function Qt(g,m){const T=g.find(ut=>ut.year===m.year);if(!T)return l.top-8+m.lane*k;const R=s(oe)(Z(T)),U=g.filter(ut=>ut.year>=m.year-1&&ut.year<=m.year+1).map(ut=>({year:ut.year,y:s(oe)(Z(ut))})).sort((ut,p)=>ut.year-p.year),A=U.findIndex(ut=>ut.year===m.year);let nt=!0;if(A>0&&A<U.length-1){const ut=U[A-1],p=U[A+1],y=Math.abs(R-ut.y),$=Math.abs(R-p.y);(y<E+4||$<E+4)&&(nt=!1)}const ft=E+m.lane*(k/2),bt=R-ft;if(nt&&bt>F)return bt;const Nt=m.lane/_,Ot=q+m.lane*(k/2)+Nt*24;return Math.min(R+Ot,N)}function Jt(g,m,T){return`M ${g} ${m-T} L ${g+T} ${m+T} L ${g-T} ${m+T} Z`}function ge(g){if(!g)return Number.POSITIVE_INFINITY;const m=g.trim().toLowerCase();if(m==="elite")return 0;const T=m.match(/(\d+)/);return T?parseInt(T[1],10):Number.POSITIVE_INFINITY}function je(g,m){const T=ge(g),R=ge(m);return T!==R?T-R:g.localeCompare(m)}let Be=L(()=>n().map(g=>({band:g,entries:lt(g.entries)}))),te=L(()=>s(Be).flatMap(g=>g.entries)),Ie=L(()=>r().length?r():s(te).length?Array.from(new Set(s(te).map(g=>g.year))).sort((g,m)=>g-m):[0]),ee=L(()=>Rd().domain(s(Ie)).range([l.left,f-l.right])),hn=L(()=>i()||(s(te).length?Math.max(...s(te).map(g=>g.field_size??0)):1)),qn=L(()=>a()==="relative"?[100,0]:[s(hn)+1,0]),oe=L(()=>Go().domain(s(qn)).range([u-l.bottom,l.top])),ne=L(()=>s(Be).map((g,m)=>{const T=[...g.entries].sort((ft,bt)=>ft.year-bt.year),R=s(Ie).map(ft=>T.find(bt=>bt.year===ft)??null),A=Wd().defined(ft=>ft!==null).x(ft=>s(ee)(ft.year)??l.left).y(ft=>s(oe)(Z(ft))).curve(Zd)(R)??void 0,nt=w()?St(T):[];return{band:g.band,entries:T,timeline:R,pathData:A,conductorChanges:nt,color:h[m%h.length],shape:d[m%d.length]}})),yt=L(()=>w()&&s(ne).length?s(ne)[0].conductorChanges.map(g=>({...g,...Zt(g),y:Qt(s(ne)[0].entries,g)})):[]),kt=L(()=>(()=>{if(a()==="relative")return Array.from({length:11},(g,m)=>m*10);{const g=Array.from(new Set(_o(1,s(hn),6).map(m=>Math.round(m)))).filter(m=>m>=1).sort((m,T)=>m-T);return g.includes(1)?g:[1,...g]}})()),wt=L(()=>new Set(s(te).map(g=>g.year))),qt=L(()=>s(Ie).length>30?5:s(Ie).length>18?3:1),Ft=L(()=>s(Ie).filter((g,m)=>m===0||m===s(Ie).length-1||g===2019?!0:g%s(qt)===0)),Ht=L(()=>s(Ft).map(g=>{const m=s(ee)(g)??l.left,T=s(Y).offsetX+m*s(Y).scaleX;return{year:g,x:T,inactive:!s(wt).has(g)}})),me=L(()=>s(Y).offsetY+(u-l.bottom)*s(Y).scaleY+J),Ct=L(()=>Array.from(new Set(s(te).map(g=>g.division))).filter(g=>typeof g=="string"&&g.length>0).sort(je));const We=()=>s(Ct).length>0;function ye(g,m,T,R){const U=g.currentTarget,A=U.ownerSVGElement;if(!A)return;const nt=A.getBoundingClientRect();if(g instanceof MouseEvent)D(X,g.clientX-nt.left),D(vt,g.clientY-nt.top);else{const ft=U.getBoundingClientRect();D(X,ft.left+ft.width/2-nt.left),D(vt,ft.top+ft.height/2-nt.top)}D(st,{entry:m,bandName:T,lineColor:R},!0)}function Pe(){D(st,null)}function Yn(g){return g.aggregate_entries}var Bn=Ev(),dn=Et(Bn),Ze=b(dn);z(Ze,"viewBox",`0 0 ${f} ${u}`);var vn=P(b(Ze));Pt(vn,21,()=>s(kt),Lt,(g,m)=>{var T=Qd(),R=Et(T),U=P(R),A=b(U);Q((nt,ft,bt)=>{z(R,"x1",l.left),z(R,"x2",f-l.right),z(R,"y1",nt),z(R,"y2",ft),z(U,"x",l.left-12),z(U,"y",bt),V(A,a()==="relative"?`${s(m)}%`:`#${s(m)}`)},[()=>s(oe)(s(m)),()=>s(oe)(s(m)),()=>s(oe)(s(m))+4]),S(g,T)});var Un=P(vn);Pt(Un,17,()=>s(ne),Lt,(g,m)=>{var T=It(),R=Et(T);{var U=A=>{var nt=Jd();Q(()=>{z(nt,"d",s(m).pathData),z(nt,"stroke",s(m).color)}),S(A,nt)};et(R,A=>{s(m).pathData&&A(U)})}S(g,T)});var Vn=P(Un);{var vr=g=>{var m=It(),T=Et(m);Pt(T,17,()=>s(yt),Lt,(R,U)=>{var A=It(),nt=Et(A);{var ft=bt=>{var Nt=It(),Ot=Et(Nt);Nu(Ot,()=>`${s(U).year}-${s(U).conductor}`,ut=>{var p=tv(),y=b(p),$=P(y),I=b($);Q((W,tt,G)=>{z(y,"x1",W),z(y,"x2",tt),z(y,"y1",l.top),z(y,"y2",u-l.bottom),z($,"x",G),z($,"y",s(U).y),z($,"text-anchor",s(U).anchor),z($,"dx",s(U).dx),V(I,s(U).conductor)},[()=>s(ee)(s(U).year),()=>s(ee)(s(U).year),()=>s(ee)(s(U).year)]),S(ut,p)}),S(bt,Nt)};et(nt,bt=>{s(ee)(s(U).year)!==void 0&&bt(ft)})}S(R,A)}),S(g,m)};et(Vn,g=>{w()&&g(vr)})}var _r=P(Vn);Pt(_r,17,()=>s(ne),Lt,(g,m)=>{var T=It(),R=Et(T);Pt(R,17,()=>s(m).entries,U=>U.year,(U,A)=>{var nt=It(),ft=Et(nt);{var bt=Nt=>{const Ot=L(()=>s(ee)(s(A).year)??l.left),ut=L(()=>s(oe)(Z(s(A)))),p=L(()=>(s(A).field_size??0)>0),y=L(()=>s(p)?`${C(s(A)).toFixed(1)}%`:null);var $=iv(),I=b($);{var W=G=>{var it=ev();z(it,"r",v),Q(()=>{z(it,"cx",s(Ot)),z(it,"cy",s(ut)),z(it,"fill",c[s(A).division]??"#f8fafc"),z(it,"stroke",s(m).color),z(it,"aria-label",`${s(m).band.name}: ${s(A).year} – ${s(A).division} plass ${s(A).rank} (absolutt #${s(A).absolute_position}${s(y)?` · relativ ${s(y)}`:""})${s(A).conductor?` – Dirigent: ${s(A).conductor}`:""}`)}),ie("mouseenter",it,_t=>ye(_t,s(A),s(m).band.name,s(m).color)),ie("mouseleave",it,Pe),ie("focus",it,_t=>ye(_t,s(A),s(m).band.name,s(m).color)),ie("blur",it,Pe),S(G,it)},tt=G=>{var it=It(),_t=Et(it);{var le=ht=>{var B=nv();z(B,"width",v*2),z(B,"height",v*2),Q(()=>{z(B,"x",s(Ot)-v),z(B,"y",s(ut)-v),z(B,"fill",c[s(A).division]??"#f8fafc"),z(B,"stroke",s(m).color),z(B,"aria-label",`${s(m).band.name}: ${s(A).year} – ${s(A).division} plass ${s(A).rank} (absolutt #${s(A).absolute_position}${s(y)?` · relativ ${s(y)}`:""})${s(A).conductor?` – Dirigent: ${s(A).conductor}`:""}`)}),ie("mouseenter",B,pt=>ye(pt,s(A),s(m).band.name,s(m).color)),ie("mouseleave",B,Pe),ie("focus",B,pt=>ye(pt,s(A),s(m).band.name,s(m).color)),ie("blur",B,Pe),S(ht,B)},$t=ht=>{var B=rv();Q(pt=>{z(B,"d",pt),z(B,"fill",c[s(A).division]??"#f8fafc"),z(B,"stroke",s(m).color),z(B,"aria-label",`${s(m).band.name}: ${s(A).year} – ${s(A).division} plass ${s(A).rank} (absolutt #${s(A).absolute_position}${s(y)?` · relativ ${s(y)}`:""})${s(A).conductor?` – Dirigent: ${s(A).conductor}`:""}`)},[()=>Jt(s(Ot),s(ut),v)]),ie("mouseenter",B,pt=>ye(pt,s(A),s(m).band.name,s(m).color)),ie("mouseleave",B,Pe),ie("focus",B,pt=>ye(pt,s(A),s(m).band.name,s(m).color)),ie("blur",B,Pe),S(ht,B)};et(_t,ht=>{s(m).shape==="square"?ht(le):ht($t,!1)},!0)}S(G,it)};et(I,G=>{s(m).shape==="circle"?G(W):G(tt,!1)})}S(Nt,$)};et(ft,Nt=>{s(ee)(s(A).year)!==void 0&&Nt(bt)})}S(U,nt)}),S(g,T)}),Ou(Ze,g=>D(O,g),()=>s(O));var we=P(Ze,2);{var Ue=g=>{const m=L(()=>Yn(s(st).entry));var T=_v(),R=b(T),U=b(R),A=P(R,2);{var nt=bt=>{var Nt=It(),Ot=Et(Nt);Pt(Ot,17,()=>s(m),Lt,(ut,p,y)=>{var $=uv(),I=Et($),W=b(I),tt=b(W),G=P(W,2),it=b(G),_t=P(G,2),le=b(_t),$t=P(_t,2);{var ht=gt=>{const Yt=L(()=>C(s(p)).toFixed(1));var xe=av(),mn=b(xe);Q(()=>V(mn,`Relativ plassering: ${s(Yt)??""}%`)),S(gt,xe)};et($t,gt=>{(s(p).field_size??0)>0&&gt(ht)})}var B=P($t,2),pt=b(B),Mt=P(B,2);{var Rt=gt=>{var Yt=sv(),xe=b(Yt);Q(()=>V(xe,`Poeng: ${s(p).points??""} / ${s(p).max_points??""}`)),S(gt,Yt)};et(Mt,gt=>{s(p).points!==null&&gt(Rt)})}var re=P(Mt,2);{var Qe=gt=>{var Yt=ov(),xe=b(Yt);Q(mn=>V(xe,`Stykker: ${mn??""}`),[()=>s(p).pieces.join("; ")]),S(gt,Yt)};et(re,gt=>{s(p).pieces.length>0&&gt(Qe)})}var Je=P(I,2);{var gn=gt=>{var Yt=lv();S(gt,Yt)};et(Je,gt=>{y<s(m).length-1&&gt(gn)})}Q(()=>{V(tt,s(p).band_name??"Ukjent korps"),V(it,`${s(p).division??""} · #${s(p).rank??""}`),V(le,`Absolutt plassering: #${s(p).absolute_position??""}`),V(pt,`Deltakere: ${s(p).division_size??""} (div) / ${s(p).field_size??""} (totalt)`)}),S(ut,$)}),S(bt,Nt)},ft=bt=>{var Nt=vv(),Ot=Et(Nt),ut=b(Ot),p=P(Ot,2);{var y=B=>{var pt=fv(),Mt=b(pt);Q(()=>V(Mt,`Dirigent: ${s(st).entry.conductor??""}`)),S(B,pt)};et(p,B=>{s(st).entry.conductor&&B(y)})}var $=P(p,2),I=b($),W=P($,2);{var tt=B=>{const pt=L(()=>C(s(st).entry).toFixed(1));var Mt=cv(),Rt=b(Mt);Q(()=>V(Rt,`Relativ plassering: ${s(pt)??""}%`)),S(B,Mt)};et(W,B=>{(s(st).entry.field_size??0)>0&&B(tt)})}var G=P(W,2),it=b(G),_t=P(G,2);{var le=B=>{var pt=hv(),Mt=b(pt);Q(()=>V(Mt,`Poeng: ${s(st).entry.points??""} / ${s(st).entry.max_points??""}`)),S(B,pt)};et(_t,B=>{s(st).entry.points!==null&&B(le)})}var $t=P(_t,2);{var ht=B=>{var pt=dv(),Mt=b(pt);Q(Rt=>V(Mt,`Stykker: ${Rt??""}`),[()=>s(st).entry.pieces.join("; ")]),S(B,pt)};et($t,B=>{s(st).entry.pieces.length>0&&B(ht)})}Q(()=>{V(ut,`${s(st).entry.division??""} · #${s(st).entry.rank??""}`),V(I,`Absolutt plassering: #${s(st).entry.absolute_position??""}`),V(it,`Deltakere: ${s(st).entry.division_size??""} (div) / ${s(st).entry.field_size??""} (totalt)`)}),S(bt,Nt)};et(A,bt=>{s(m)&&s(m).length?bt(nt):bt(ft,!1)})}Q(()=>{Vr(T,`left: ${s(X)}px; top: ${s(vt)}px`),V(U,`${s(st).entry.year??""} · ${s(st).bandName??""}`)}),S(g,T)};et(we,g=>{s(st)&&g(Ue)})}var _n=P(we,2);Pt(_n,21,()=>s(Ht),Lt,(g,m)=>{var T=pv();let R;var U=b(T);Q(A=>{Vr(T,`left: ${s(m).x}px`),R=yr(T,1,"svelte-idxsrp",null,R,A),V(U,s(m).year)},[()=>({inactive:s(m).inactive})]),S(g,T)});var pn=P(dn,2);{var zn=g=>{var m=bv();Pt(m,21,()=>s(ne),Lt,(T,R)=>{var U=wv(),A=b(U),nt=b(A),ft=P(nt);{var bt=ut=>{var p=gv();Q(()=>z(p,"stroke",s(R).color)),S(ut,p)},Nt=ut=>{var p=It(),y=Et(p);{var $=W=>{var tt=mv();Q(()=>z(tt,"stroke",s(R).color)),S(W,tt)},I=W=>{var tt=yv();Q(G=>{z(tt,"d",G),z(tt,"stroke",s(R).color)},[()=>Jt(21,7,6)]),S(W,tt)};et(y,W=>{s(R).shape==="square"?W($):W(I,!1)},!0)}S(ut,p)};et(ft,ut=>{s(R).shape==="circle"?ut(bt):ut(Nt,!1)})}var Ot=P(A);Q(()=>{z(nt,"stroke",s(R).color),V(Ot,` ${s(R).band.name??""}`)}),S(T,U)}),S(g,m)};et(pn,g=>{s(ne).length>0&&g(zn)})}var pr=P(pn,2);{var be=g=>{var m=kv();Pt(m,21,()=>s(Ct),Lt,(T,R)=>{var U=xv(),A=b(U),nt=P(A);Q(()=>{Vr(A,`background-color: ${c[s(R)]??"#94a3b8"}`),V(nt,` ${s(R)??""}`)}),S(T,U)}),S(g,m)};et(pr,g=>{We()&&g(be)})}Q(()=>Vr(_n,`top: ${s(me)}px`)),S(t,Bn),Or()}function oa(t){return t.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}function Av(t,e){const n=Number(t.target.value);D(e,Number.isNaN(n)?null:n,!0)}function Nv(t,e){D(e,t.target.value||null,!0)}var Mv=K('<p class="svelte-1e9ky18"> </p>'),$v=K('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),Tv=K('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),Iv=K("<option> </option>"),Pv=K("<option selected>Ingen divisjoner</option>"),Cv=K("<option> </option>"),Rv=K('<span class="svelte-1e9ky18"> </span>'),Lv=K('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),Fv=K('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),Ov=K("<span>–</span>"),Dv=K('<a class="program-link svelte-1e9ky18"> </a> ',1),qv=K('<tr class="svelte-1e9ky18"><td data-label="Plass" class="svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"> </td><td data-label="Dirigent" class="svelte-1e9ky18"> </td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td></tr>'),Yv=K('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),Bv=K('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!>',1),Uv=K('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2> <!></div> <!></section>');function Vv(t,e){Fr(e,!0);let n=bn(e,"dataset",3,null);const r=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let i=mt(null),a=mt(null),o=L(()=>n()?v(n()):new Map),l=L(()=>{var w,C;return((C=(w=n())==null?void 0:w.metadata)==null?void 0:C.years)??[]}),f=L(()=>{var w,C;return((C=(w=n())==null?void 0:w.metadata)==null?void 0:C.generated_at)??null}),u=L(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||s(i)==null||!s(o).has(s(i)))return[];const w=s(o).get(s(i))??new Map,C=n().metadata.divisions.filter(lt=>w.has(lt)),Z=Array.from(w.keys()).filter(lt=>!C.includes(lt)).sort();return[...C,...Z]})()),c=L(()=>(()=>{if(s(i)!=null&&s(a)&&s(o).has(s(i))){const w=s(o).get(s(i)),C=(w==null?void 0:w.get(s(a)))??[];return E(C)}return[]})()),h=L(()=>(()=>{var w;if(s(c).length>0){const C=(w=s(c)[0])==null?void 0:w.entry,Z=(C==null?void 0:C.division_size)??s(c).length;return Z&&Z>0?Z:null}return null})()),d=L(()=>(()=>{var w;if(s(c).length>0){const C=(w=s(c)[0])==null?void 0:w.entry,Z=(C==null?void 0:C.field_size)??null;return Z&&Z>0?Z:null}return null})());function v(w){const C=new Map;if(!(w!=null&&w.bands)||!Array.isArray(w.bands))return C;for(const Z of w.bands)if(!(!Z||!Z.entries||!Array.isArray(Z.entries)))for(const lt of Z.entries){if(!lt||typeof lt.year!="number"||!lt.division)continue;let St=C.get(lt.year);St||(St=new Map,C.set(lt.year,St));const dt=lt.division;let ot=St.get(dt);ot||(ot=[],St.set(dt,ot)),ot.push({band:Z.name,entry:lt})}return C}function _(w){return w.length?s(i)&&w.includes(s(i))?s(i):w[w.length-1]??null:null}function k(w){return w.length?s(a)&&w.includes(s(a))?s(a):w[0]??null:null}function E(w){return[...w].sort((C,Z)=>{const lt=C.entry.rank??Number.POSITIVE_INFINITY,St=Z.entry.rank??Number.POSITIVE_INFINITY;if(lt!==St)return lt-St;const dt=C.entry.absolute_position??Number.POSITIVE_INFINITY,ot=Z.entry.absolute_position??Number.POSITIVE_INFINITY;return dt!==ot?dt-ot:C.band.localeCompare(Z.band)})}function q(w){return w!=null?`${w}`:"–"}function F(w,C){if(w==null&&C==null)return"–";const Z=w==null?"–":r.format(w);return C==null,Z}function N(w){return w.map(C=>C.trim()).filter(Boolean)}function J(w){if(!w)return null;const C=new Date(w);return Number.isNaN(C.getTime())?w:new Intl.DateTimeFormat("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(C)}ai(()=>{if(n()&&s(l)&&Array.isArray(s(l))&&s(l).length>0){const w=_(s(l));s(i)!==w&&D(i,w,!0)}else D(i,null),D(a,null)}),ai(()=>{if(s(i)!=null&&s(u)&&Array.isArray(s(u))&&s(u).length>0){const w=k(s(u));s(a)!==w&&D(a,w,!0)}else s(i)!=null&&D(a,null)});let H=L(()=>J(s(f)));var O=Uv(),Y=b(O),M=P(b(Y),2);{var At=w=>{var C=Mv(),Z=b(C);Q(()=>V(Z,`Data oppdatert ${s(H)??""}`)),S(w,C)};et(M,w=>{s(H)&&w(At)})}var st=P(Y,2);{var X=w=>{var C=$v();S(w,C)},vt=w=>{var C=It(),Z=Et(C);{var lt=dt=>{var ot=Tv();S(dt,ot)},St=dt=>{var ot=Bv(),Zt=Et(ot),Qt=b(Zt),Jt=P(b(Qt),2);Jt.__change=[Av,i],Pt(Jt,21,()=>s(l)||[],Lt,(yt,kt)=>{var wt=Iv(),qt=b(wt),Ft={};Q(()=>{Wa(wt,s(i)===s(kt)),V(qt,s(kt)),Ft!==(Ft=s(kt))&&(wt.value=(wt.__value=s(kt))??"")}),S(yt,wt)});var ge=P(Qt,2),je=P(b(ge),2);je.__change=[Nv,a];var Be=b(je);{var te=yt=>{var kt=Pv();kt.value=kt.__value="",S(yt,kt)},Ie=yt=>{var kt=It(),wt=Et(kt);Pt(wt,17,()=>s(u),Lt,(qt,Ft)=>{var Ht=Cv(),me=b(Ht),Ct={};Q(()=>{Wa(Ht,s(a)===s(Ft)),V(me,s(Ft)),Ct!==(Ct=s(Ft))&&(Ht.value=(Ht.__value=s(Ft))??"")}),S(qt,Ht)}),S(yt,kt)};et(Be,yt=>{!s(u)||s(u).length===0?yt(te):yt(Ie,!1)})}var ee=P(ge,2);{var hn=yt=>{var kt=Lv(),wt=b(kt),qt=b(wt),Ft=P(wt,2);{var Ht=me=>{var Ct=Rv(),We=b(Ct);Q(()=>V(We,`Totalt felt: ${s(d)??""}`)),S(me,Ct)};et(Ft,me=>{s(d)&&me(Ht)})}Q(()=>V(qt,`${s(h)??""} korps`)),S(yt,kt)};et(ee,yt=>{s(h)&&yt(hn)})}var qn=P(Zt,2);{var oe=yt=>{var kt=Fv();S(yt,kt)},ne=yt=>{var kt=Yv(),wt=b(kt),qt=P(b(wt));Pt(qt,21,()=>s(c),Lt,(Ft,Ht)=>{let me=()=>s(Ht).band,Ct=()=>s(Ht).entry;var We=qv(),ye=b(We),Pe=b(ye),Yn=P(ye),Bn=b(Yn),dn=P(Yn),Ze=b(dn),vn=P(dn),Un=b(vn),Vn=P(vn),vr=b(Vn);{var _r=we=>{const Ue=L(()=>N(Ct().pieces));var _n=It(),pn=Et(_n);{var zn=be=>{var g=Ov();S(be,g)},pr=be=>{var g=It(),m=Et(g);Pt(m,17,()=>s(Ue),Lt,(T,R,U)=>{var A=Dv(),nt=Et(A),ft=b(nt),bt=P(nt,1,!0);Q(Nt=>{z(nt,"href",Nt),V(ft,s(R)),V(bt,U<s(Ue).length-1?", ":"")},[()=>`?view=pieces&piece=${encodeURIComponent(oa(s(R)))}`]),S(T,A)}),S(be,g)};et(pn,be=>{s(Ue).length===0?be(zn):be(pr,!1)})}S(we,_n)};et(vr,we=>{we(_r)})}Q((we,Ue)=>{V(Pe,we),V(Bn,me()),V(Ze,Ct().conductor??"Ukjent"),V(Un,Ue)},[()=>q(Ct().rank),()=>F(Ct().points,Ct().max_points)]),S(Ft,We)}),S(yt,kt)};et(qn,yt=>{!s(c)||s(c).length===0?yt(oe):yt(ne,!1)})}S(dt,ot)};et(Z,dt=>{!s(l)||!s(l).length?dt(lt):dt(St,!1)},!0)}S(w,C)};et(st,w=>{n()?w(vt,!1):w(X)})}S(t,O),Or()}uo(["change"]);var zv=K('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"> </td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"> </td></tr>'),Hv=K('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <p class="svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="svelte-18hgr5c">År</th><th scope="col" class="svelte-18hgr5c">Divisjon</th><th scope="col" class="svelte-18hgr5c">Korps</th><th scope="col" class="svelte-18hgr5c">Plass</th><th scope="col" class="svelte-18hgr5c">Poeng</th><th scope="col" class="svelte-18hgr5c">Dirigent</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),Xv=K('<section class="pieces-view svelte-18hgr5c"></section>');function Kv(t,e){Fr(e,!0);let n=bn(e,"pieces",19,()=>[]);const r=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function i(u){return[...u].sort((c,h)=>{const d=c.entry.year-h.entry.year;if(d!==0)return d;const v=c.entry.rank??Number.POSITIVE_INFINITY,_=h.entry.rank??Number.POSITIVE_INFINITY;return v!==_?v-_:c.band.localeCompare(h.band)})}function a(u){return u==null?"–":r.format(u)}function o(u){return u!=null?`${u}`:"–"}let l=L(()=>n().map(u=>({...u,performances:i(u.performances)})));var f=Xv();Pt(f,21,()=>s(l),Lt,(u,c)=>{var h=Hv(),d=b(h),v=b(d),_=b(v),k=b(_),E=P(_,2),q=b(E),F=P(d,2),N=b(F),J=P(b(N));Pt(J,21,()=>s(c).performances,Lt,(H,O)=>{var Y=zv(),M=b(Y),At=b(M),st=P(M),X=b(st),vt=P(st),w=b(vt),C=P(vt),Z=b(C),lt=P(C),St=b(lt),dt=P(lt),ot=b(dt);Q((Zt,Qt)=>{V(At,s(O).entry.year),V(X,s(O).entry.division),V(w,s(O).band),V(Z,Zt),V(St,Qt),V(ot,s(O).entry.conductor??"Ukjent")},[()=>o(s(O).entry.rank),()=>a(s(O).entry.points)]),S(H,Y)}),Q(()=>{V(k,s(c).name),V(q,`${s(c).performances.length??""} fremføringer`),z(F,"aria-label",`Fremføringer av ${s(c).name}`)}),S(u,h)}),S(t,f),Or()}function Gv(t,e,n){e(s(n)==="dark"?"light":"dark")}function jv(t,e,n){D(e,t.target.value,!0),D(n,-1)}function Wv(t,e,n,r){s(e).length&&(t.key==="ArrowDown"?(t.preventDefault(),D(n,(s(n)+1)%s(e).length)):t.key==="ArrowUp"?(t.preventDefault(),D(n,(s(n)-1+s(e).length)%s(e).length)):t.key==="Enter"&&s(n)>=0&&(t.preventDefault(),r(s(e)[s(n)])))}var Zv=(t,e,n)=>e(s(n)),Qv=K('<button type="button"> </button>'),Jv=(t,e,n)=>e(s(n).slug),t_=K('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),e_=K('<div class="selected-entities svelte-1n46o8q" role="list"></div>'),n_=K('<div role="option" tabindex="-1"> </div>'),r_=K('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),i_=K('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!> <!>',1),a_=K('<section class="status svelte-1n46o8q">Laster data…</section>'),s_=K('<section class="status error svelte-1n46o8q"> </section>'),o_=K('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),l_=(t,e)=>e("absolute"),u_=(t,e)=>e("relative"),f_=K('<p class="comparison-summary svelte-1n46o8q"> </p>'),c_=K('<section class="chart-card svelte-1n46o8q"><div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Plassering:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg plasseringsvisning"><button type="button">Absolutt</button> <button type="button">Relativ</button></div></div> <div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),h_=K('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),d_=K('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><h1 class="svelte-1n46o8q">NM Janitsjar</h1> <div class="header-controls svelte-1n46o8q"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button class="theme-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="theme-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function v_(t,e){Fr(e,!0);const n={bands:"band",conductors:"conductor",pieces:"piece"},r="mode",i="view",a=",",o="relative",l="bands",f="nmjanitsjar-theme",u={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",data:"Resultat"},c=["bands","conductors","pieces","data"];let h=mt(null),d=mt(de([])),v=mt(de([])),_=mt(!0),k=mt(null),E=mt(""),q=mt(de([])),F=mt(de([])),N=mt(de([])),J=mt(-1),H=!1,O="",Y=mt(o),M=mt(l),At=mt("dark");function st(p,y){const $=Array.isArray(p.pieces)?[...p.pieces]:p.pieces!=null?[`${p.pieces}`.trim()].filter(Boolean):[],I={...p,pieces:$,conductor:p.conductor};return y&&(I.band_name=y),I}function X(p){var $;const y=new Map;for(const I of p)for(const W of I.entries){const tt=($=W.conductor)==null?void 0:$.trim();if(!tt)continue;const G=oa(tt);let it=y.get(G);it||(it={name:tt,slug:G,years:new Map},y.set(G,it));let _t=it.years.get(W.year);_t||(_t={entries:[]},it.years.set(W.year,_t)),_t.entries.push(st(W,I.name))}return Array.from(y.values()).map(I=>({name:I.name,slug:I.slug,entries:Array.from(I.years.entries()).map(([W,tt])=>{const G=[...tt.entries].sort((_t,le)=>{const $t=_t.absolute_position??Number.POSITIVE_INFINITY,ht=le.absolute_position??Number.POSITIVE_INFINITY;return $t!==ht?$t-ht:(_t.rank??Number.POSITIVE_INFINITY)-(le.rank??Number.POSITIVE_INFINITY)});return{...G[0],year:W,conductor:I.name,aggregate_entries:G}}).sort((W,tt)=>W.year-tt.year)})).sort((I,W)=>I.name.localeCompare(W.name))}function vt(p){const y=new Map;for(const $ of p)for(const I of $.entries){const W=Array.isArray(I.pieces)?I.pieces:I.pieces!=null?[`${I.pieces}`]:[];for(const tt of W){const G=tt.trim();if(!G)continue;const it=oa(G);let _t=y.get(it);_t||(_t={name:G,slug:it,performances:[]},y.set(it,_t)),_t.performances.push({band:$.name,entry:I})}}return Array.from(y.values()).map($=>({...$,performances:$.performances.map(({band:I,entry:W})=>({band:I,entry:{...W,pieces:[...W.pieces]}}))})).sort(($,I)=>$.name.localeCompare(I.name))}function w(p){return p==="data"?"data":n[p]}function C(){if(typeof window>"u")return o;const y=new URLSearchParams(window.location.search).get(r);return(y?y.toLowerCase():null)==="absolute"?"absolute":"relative"}function Z(){var y;if(typeof window>"u")return"dark";try{const $=window.localStorage.getItem(f);if($==="light"||$==="dark")return $}catch($){console.error("Kunne ikke lese lagret tema",$)}return((y=window.matchMedia)==null?void 0:y.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function lt(p){typeof document>"u"||(p==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function St(p){if(D(At,p,!0),lt(p),typeof window<"u")try{window.localStorage.setItem(f,p)}catch(y){console.error("Kunne ikke lagre tema",y)}}function dt(){var $;if(typeof window>"u")return l;const y=($=new URLSearchParams(window.location.search).get(i))==null?void 0:$.toLowerCase();return y?y==="conductors"||y==="dirigent"||y==="conductor"?"conductors":y==="pieces"||y==="piece"||y==="stykke"||y==="stykker"?"pieces":y==="data"||y==="resultat"||y==="results"?"data":"bands":l}function ot(p){if(typeof window>"u")return[];const $=new URLSearchParams(window.location.search).get(w(p));return $?$.split(a).map(I=>decodeURIComponent(I.trim())).filter(Boolean):[]}function Zt(p,y){if(!p.length||!y.length)return[];const $=new Map(p.map(I=>[I.slug,I]));return y.map(I=>$.get(I)??$.get(I.toLowerCase())).filter(I=>!!I)}function Qt(p,y){return p.length!==y.length?!1:p.every(($,I)=>$.slug===y[I].slug)}function Jt(){if(typeof window>"u")return;const p=new URLSearchParams(window.location.search),y=s(q).map(G=>encodeURIComponent(G.slug)).join(a);y.length?p.set(w("bands"),y):p.delete(w("bands"));const $=s(F).map(G=>encodeURIComponent(G.slug)).join(a);$.length?p.set(w("conductors"),$):p.delete(w("conductors"));const I=s(N).map(G=>encodeURIComponent(G.slug)).join(a);I.length?p.set(w("pieces"),I):p.delete(w("pieces")),p.set(r,s(Y)),p.set(i,s(M));const W=p.toString(),tt=`${window.location.pathname}${W?`?${W}`:""}${window.location.hash}`;window.history.replaceState({},"",tt)}function ge({updateHistory:p=!1}={}){const y=C(),$=dt();let I=!1;if(y!==s(Y)&&(D(Y,y,!0),I=!0),$!==s(M)&&(D(M,$,!0),I=!0),!s(h))return p&&Jt(),I;const W=Zt(s(h).bands,ot("bands"));Qt(s(q),W)||(D(q,W,!0),I=!0),s(d).length||D(d,X(s(h).bands),!0);const tt=Zt(s(d),ot("conductors"));Qt(s(F),tt)||(D(F,tt,!0),I=!0),s(v).length||D(v,vt(s(h).bands),!0);const G=Zt(s(v),ot("pieces"));return Qt(s(N),G)||(D(N,G,!0),I=!0),p&&Jt(),I}function je(){const p=s(q).map(I=>I.slug).join(a),y=s(F).map(I=>I.slug).join(a),$=s(N).map(I=>I.slug).join(a);return`${s(M)}|${s(Y)}|${p}|${y}|${$}`}function Be(){if(!H)return;const p=je();p!==O&&(Jt(),O=p)}function te(p){if(s(M)==="bands"){if(s(q).some(y=>y.slug===p.slug))return;D(q,[...s(q),p],!0)}else if(s(M)==="conductors"){if(s(F).some(y=>y.slug===p.slug))return;D(F,[...s(F),p],!0)}else{const y=p;if(s(N).some($=>$.slug===y.slug))return;D(N,[...s(N),y],!0)}D(E,""),D(J,-1),Be()}function Ie(p){s(M)==="bands"?D(q,s(q).filter(y=>y.slug!==p),!0):s(M)==="conductors"?D(F,s(F).filter(y=>y.slug!==p),!0):D(N,s(N).filter(y=>y.slug!==p),!0),D(J,-1),Be()}function ee(){if(s(oe).length===0)return;const p=s(kt).find(y=>y.name.toLowerCase()===s(ne));p?te(p):s(qt).length>0&&te(s(qt)[0])}function hn(p){p!==s(M)&&(D(M,p,!0),D(E,""),D(J,-1),Be())}function qn(p){s(Y)!==p&&(D(Y,p,!0),Be())}oi(async()=>{try{const p=Z();D(At,p,!0),lt(p);const y=await fetch("data/band_positions.json");if(!y.ok)throw new Error(`Kunne ikke laste data (status ${y.status})`);D(h,await y.json(),!0),D(d,X(s(h).bands),!0),D(v,vt(s(h).bands),!0),ge({updateHistory:!1}),O=je(),Jt(),H=!0}catch(p){D(k,p instanceof Error?p.message:"Ukjent feil ved lasting av data.",!0)}finally{D(_,!1)}}),oi(()=>{const p=()=>{s(h)&&(ge({updateHistory:!1}),O=je())};return window.addEventListener("popstate",p),()=>window.removeEventListener("popstate",p)});let oe=L(()=>s(E).trim()),ne=L(()=>s(oe).toLowerCase()),yt=L(()=>s(M)==="bands"||s(M)==="conductors"||s(M)==="pieces"),kt=L(()=>{var p;return s(yt)?s(M)==="bands"?((p=s(h))==null?void 0:p.bands)??[]:s(M)==="conductors"?s(d):s(v):[]}),wt=L(()=>s(M)==="bands"?s(q):s(M)==="conductors"?s(F):s(M)==="pieces"?s(N):[]),qt=L(()=>s(yt)&&s(kt)&&s(ne).length>=2?s(kt).filter(p=>p.name.toLowerCase().includes(s(ne))&&!s(wt).some(y=>y.slug===p.slug)).slice(0,10):[]),Ft=L(()=>s(h)?s(h).metadata.years:[]),Ht=L(()=>s(h)?s(h).metadata.max_field_size:0),me=L(()=>{var p;return s(yt)?s(M)==="bands"?((p=s(h))==null?void 0:p.bands.length)??0:s(M)==="conductors"?s(d).length:s(v).length:0}),Ct=L(()=>s(M)==="bands"?"korps":s(M)==="conductors"?"dirigenter":"stykker"),We=L(()=>s(h)?`Dekker ${s(me)} ${s(Ct)} · ${s(Ft).length} år (${s(h).metadata.min_year}–${s(h).metadata.max_year})`:""),ye=L(()=>s(M)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":s(M)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":s(M)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":""),Pe=L(()=>s(M)==="bands"?"Søk etter korps":s(M)==="conductors"?"Søk etter dirigent":"Søk etter musikkstykke"),Yn=L(()=>s(M)==="bands"?"Korpsforslag":s(M)==="conductors"?"Dirigentforslag":"Stykke-forslag"),Bn=L(()=>s(M)==="bands"?"Valgte korps":s(M)==="conductors"?"Valgte dirigenter":"Valgte stykker"),dn=L(()=>s(M)==="bands"?"Ingen korps valgt ennå":s(M)==="conductors"?"Ingen dirigenter valgt ennå":"Ingen stykker valgt ennå"),Ze=L(()=>s(M)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":s(M)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer."),vn=L(()=>s(M)==="bands"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":s(M)==="conductors"?"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.":s(M)==="pieces"?"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.":"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen."),Un=L(()=>s(At)==="dark"?"Bytt til lyst tema":"Bytt til mørkt tema"),Vn=L(()=>s(At)==="dark"?"Mørk":"Lys"),vr=L(()=>s(At)==="dark"?"🌙":"☀️"),_r=L(()=>s(wt).length===1?s(wt)[0].name:s(wt).length>1?`${s(wt).length} ${s(Ct)} valgt`:""),we=L(()=>s(wt).length>1?s(wt).map(p=>p.name).join(" · "):""),Ue=L(()=>s(M)==="pieces"?s(wt):[]),_n=L(()=>s(M)==="bands"||s(M)==="conductors"?s(wt):[]);var pn=d_(),zn=b(pn),pr=P(b(zn),2),be=b(pr);Pt(be,21,()=>c,Lt,(p,y)=>{var $=Qv();$.__click=[Zv,hn,y];let I;var W=b($);Q(tt=>{z($,"aria-pressed",s(M)===s(y)),I=yr($,1,"svelte-1n46o8q",null,I,tt),V(W,u[s(y)])},[()=>({selected:s(M)===s(y)})]),S(p,$)});var g=P(be,2);g.__click=[Gv,St,At];var m=b(g),T=b(m),R=P(m,2),U=b(R),A=P(zn,2),nt=b(A),ft=P(A,2);{var bt=p=>{var y=i_(),$=Et(y),I=L(()=>Ja(ee)),W=b($),tt=b(W),G=P(W,2);G.__input=[jv,E,J],G.__keydown=[Wv,qt,J,te];var it=P($,2);{var _t=ht=>{var B=e_();Pt(B,21,()=>s(wt),Lt,(pt,Mt,Rt)=>{var re=t_(),Qe=b(re);Qe.textContent=Rt+1;var Je=P(Qe,2),gn=b(Je),gt=P(Je,2);gt.__click=[Jv,Ie,Mt],Q(()=>{V(gn,s(Mt).name),z(gt,"aria-label",`Fjern ${s(Mt).name}`)}),S(pt,re)}),Q(()=>z(B,"aria-label",s(Bn))),S(ht,B)};et(it,ht=>{s(wt).length>0&&ht(_t)})}var le=P(it,2);{var $t=ht=>{var B=r_();Pt(B,21,()=>s(qt),Lt,(pt,Mt,Rt)=>{var re=n_(),Qe=L(()=>Ja(()=>te(s(Mt))));re.__mousedown=function(...gn){var gt;(gt=s(Qe))==null||gt.apply(this,gn)};var Je=b(re);Q(()=>{yr(re,1,`suggestion ${Rt===s(J)?"active":""}`,"svelte-1n46o8q"),z(re,"aria-selected",Rt===s(J)),V(Je,s(Mt).name)}),S(pt,re)}),Q(()=>z(B,"aria-label",s(Yn))),S(ht,B)};et(le,ht=>{s(qt).length>0&&ht($t)})}Q(()=>{V(tt,s(Pe)),z(G,"placeholder",s(ye))}),ie("submit",$,function(...ht){var B;(B=s(I))==null||B.apply(this,ht)}),Fu(G,()=>s(E),ht=>D(E,ht)),S(p,y)};et(ft,p=>{s(yt)&&p(bt)})}var Nt=P(ft,2);{var Ot=p=>{var y=a_();S(p,y)},ut=p=>{var y=It(),$=Et(y);{var I=tt=>{var G=s_(),it=b(G);Q(()=>V(it,s(k))),S(tt,G)},W=tt=>{var G=It(),it=Et(G);{var _t=$t=>{var ht=o_();S($t,ht)},le=$t=>{var ht=It(),B=Et(ht);{var pt=Rt=>{var re=It(),Qe=Et(re);{var Je=gt=>{var Yt=It(),xe=Et(Yt);{var mn=tn=>{Kv(tn,{get pieces(){return s(Ue)}})},Ci=tn=>{var Pa=c_(),Ca=b(Pa),Wo=P(b(Ca),2),Br=b(Wo);Br.__click=[l_,qn];let Ra;var Ri=P(Br,2);Ri.__click=[u_,qn];let La;var Fa=P(Ca,2),Oa=b(Fa),Zo=b(Oa),Da=P(Oa,2),Qo=b(Da),Jo=P(Da,2);{var tl=yn=>{var Ur=f_(),nl=b(Ur);Q(()=>V(nl,s(we))),S(yn,Ur)};et(Jo,yn=>{s(we)&&yn(tl)})}var el=P(Fa,2);{let yn=L(()=>s(M)==="bands");Sv(el,{get years(){return s(Ft)},get maxFieldSize(){return s(Ht)},get bands(){return s(_n)},get yMode(){return s(Y)},get showConductorMarkers(){return s(yn)}})}Q((yn,Ur)=>{z(Br,"aria-pressed",s(Y)==="absolute"),Ra=yr(Br,1,"svelte-1n46o8q",null,Ra,yn),z(Ri,"aria-pressed",s(Y)==="relative"),La=yr(Ri,1,"svelte-1n46o8q",null,La,Ur),V(Zo,s(_r)),V(Qo,s(We))},[()=>({selected:s(Y)==="absolute"}),()=>({selected:s(Y)==="relative"})]),S(tn,Pa)};et(xe,tn=>{s(M)==="pieces"?tn(mn):tn(Ci,!1)})}S(gt,Yt)},gn=gt=>{var Yt=h_(),xe=b(Yt),mn=b(xe),Ci=P(xe,2),tn=b(Ci);Q(()=>{V(mn,s(dn)),V(tn,s(Ze))}),S(gt,Yt)};et(Qe,gt=>{s(wt).length>0?gt(Je):gt(gn,!1)})}S(Rt,re)},Mt=Rt=>{Vv(Rt,{get dataset(){return s(h)}})};et(B,Rt=>{s(yt)?Rt(pt):Rt(Mt,!1)},!0)}S($t,ht)};et(it,$t=>{s(h)?$t(le,!1):$t(_t)},!0)}S(tt,G)};et($,tt=>{s(k)?tt(I):tt(W,!1)},!0)}S(p,y)};et(Nt,p=>{s(_)?p(Ot):p(ut,!1)})}Q(()=>{z(g,"aria-label",s(Un)),V(T,s(vr)),V(U,s(Vn)),V(nt,s(vn))}),S(t,pn),Or()}uo(["click","input","keydown","mousedown"]);ku(v_,{target:document.getElementById("app")});
