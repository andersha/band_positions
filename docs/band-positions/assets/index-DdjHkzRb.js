var Sl=Object.defineProperty;var Al=(e,t,n)=>t in e?Sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var rn=(e,t,n)=>Al(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ee(){}function xi(e){return e()}function Jn(){return Object.create(null)}function ye(e){e.forEach(xi)}function Di(e){return typeof e=="function"}function yt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Il(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function z(e){e.parentNode&&e.parentNode.removeChild(e)}function ae(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function N(e){return document.createElement(e)}function re(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function R(e){return document.createTextNode(e)}function q(){return R(" ")}function le(){return R("")}function J(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Oi(e){return function(t){return t.preventDefault(),e.call(this,t)}}function c(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function zl(e){return Array.from(e.childNodes)}function U(e,t){t=""+t,e.data!==t&&(e.data=t)}function Xe(e,t){e.value=t??""}function Oe(e,t,n){e.classList.toggle(t,!!n)}let _t;function dt(e){_t=e}function Ln(){if(!_t)throw new Error("Function called outside component initialization");return _t}function gn(e){Ln().$$.on_mount.push(e)}function Cl(e){Ln().$$.after_update.push(e)}function Tl(e){Ln().$$.on_destroy.push(e)}const Qe=[],yn=[];let tt=[];const er=[],$l=Promise.resolve();let vn=!1;function Rl(){vn||(vn=!0,$l.then(qi))}function bn(e){tt.push(e)}const ln=new Set;let We=0;function qi(){if(We!==0)return;const e=_t;do{try{for(;We<Qe.length;){const t=Qe[We];We++,dt(t),Fl(t.$$)}}catch(t){throw Qe.length=0,We=0,t}for(dt(null),Qe.length=0,We=0;yn.length;)yn.pop()();for(let t=0;t<tt.length;t+=1){const n=tt[t];ln.has(n)||(ln.add(n),n())}tt.length=0}while(Qe.length);for(;er.length;)er.pop()();vn=!1,ln.clear(),dt(e)}function Fl(e){if(e.fragment!==null){e.update(),ye(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(bn)}}function Pl(e){const t=[],n=[];tt.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),tt=t}const At=new Set;let Ye;function xn(){Ye={r:0,c:[],p:Ye}}function Dn(){Ye.r||ye(Ye.c),Ye=Ye.p}function ke(e,t){e&&e.i&&(At.delete(e),e.i(t))}function Fe(e,t,n,r){if(e&&e.o){if(At.has(e))return;At.add(e),Ye.c.push(()=>{At.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function W(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ll(e,t){e.d(1),t.delete(e.key)}function xl(e,t,n,r,i,o,l,s,a,u,f,h){let d=e.length,p=o.length,m=d;const A={};for(;m--;)A[e[m].key]=m;const P=[],O=new Map,B=new Map,L=[];for(m=p;m--;){const F=h(i,o,m),$=n(F);let M=l.get($);M?L.push(()=>M.p(F,t)):(M=u($,F),M.c()),O.set($,P[m]=M),$ in A&&B.set($,Math.abs(m-A[$]))}const w=new Set,k=new Set;function T(F){ke(F,1),F.m(s,f),l.set(F.key,F),f=F.first,p--}for(;d&&p;){const F=P[p-1],$=e[d-1],M=F.key,E=$.key;F===$?(f=F.first,d--,p--):O.has(E)?!l.has(M)||w.has(M)?T(F):k.has(E)?d--:B.get(M)>B.get(E)?(k.add(M),T(F)):(w.add(E),d--):(a($,l),d--)}for(;d--;){const F=e[d];O.has(F.key)||a(F,l)}for(;p;)T(P[p-1]);return ye(L),P}function On(e){e&&e.c()}function Vt(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),bn(()=>{const o=e.$$.on_mount.map(xi).filter(Di);e.$$.on_destroy?e.$$.on_destroy.push(...o):ye(o),e.$$.on_mount=[]}),i.forEach(bn)}function Xt(e,t){const n=e.$$;n.fragment!==null&&(Pl(n.after_update),ye(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Dl(e,t){e.$$.dirty[0]===-1&&(Qe.push(e),Rl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ht(e,t,n,r,i,o,l=null,s=[-1]){const a=_t;dt(e);const u=e.$$={fragment:null,ctx:[],props:o,update:ee,not_equal:i,bound:Jn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Jn(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(h,d,...p)=>{const m=p.length?p[0]:d;return u.ctx&&i(u.ctx[h],u.ctx[h]=m)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](m),f&&Dl(e,h)),d}):[],u.update(),f=!0,ye(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const h=zl(t.target);u.fragment&&u.fragment.l(h),h.forEach(z)}else u.fragment&&u.fragment.c();t.intro&&ke(e.$$.fragment),Vt(e,t.target,t.anchor),qi()}dt(a)}class Kt{constructor(){rn(this,"$$");rn(this,"$$set")}$destroy(){Xt(this,1),this.$destroy=ee}$on(t,n){if(!Di(n))return ee;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Il(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ol="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ol);function It(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ql(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bi(e){let t,n,r;e.length!==2?(t=It,n=(s,a)=>It(e(s),a),r=(s,a)=>e(s)-a):(t=e===It||e===ql?e:Bl,n=e,r=e);function i(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const h=u+f>>>1;n(s[h],a)<0?u=h+1:f=h}while(u<f)}return u}function o(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const h=u+f>>>1;n(s[h],a)<=0?u=h+1:f=h}while(u<f)}return u}function l(s,a,u=0,f=s.length){const h=i(s,a,u,f-1);return h>u&&r(s[h-1],a)>-r(s[h],a)?h-1:h}return{left:i,center:l,right:o}}function Bl(){return 0}function Yl(e){return e===null?NaN:+e}const Ul=Bi(It),Vl=Ul.right;Bi(Yl).center;class tr extends Map{constructor(t,n=Kl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(nr(this,t))}has(t){return super.has(nr(this,t))}set(t,n){return super.set(Xl(this,t),n)}delete(t){return super.delete(Hl(this,t))}}function nr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Xl({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Hl({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Kl(e){return e!==null&&typeof e=="object"?e.valueOf():e}const jl=Math.sqrt(50),Gl=Math.sqrt(10),Wl=Math.sqrt(2);function $t(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=jl?10:o>=Gl?5:o>=Wl?2:1;let s,a,u;return i<0?(u=Math.pow(10,-i)/l,s=Math.round(e*u),a=Math.round(t*u),s/u<e&&++s,a/u>t&&--a,u=-u):(u=Math.pow(10,i)*l,s=Math.round(e/u),a=Math.round(t/u),s*u<e&&++s,a*u>t&&--a),a<s&&.5<=n&&n<2?$t(e,t,n*2):[s,a,u]}function Yi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?$t(t,e,n):$t(e,t,n);if(!(o>=i))return[];const s=o-i+1,a=new Array(s);if(r)if(l<0)for(let u=0;u<s;++u)a[u]=(o-u)/-l;else for(let u=0;u<s;++u)a[u]=(o-u)*l;else if(l<0)for(let u=0;u<s;++u)a[u]=(i+u)/-l;else for(let u=0;u<s;++u)a[u]=(i+u)*l;return a}function wn(e,t,n){return t=+t,e=+e,n=+n,$t(e,t,n)[2]}function Zl(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?wn(t,e,n):wn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ql(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}var Jl={value:()=>{}};function Ui(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zt(n)}function zt(e){this._=e}function eo(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zt.prototype=Ui.prototype={constructor:zt,on:function(e,t){var n=this._,r=eo(e+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(e=r[o]).type)&&(i=to(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(i=(e=r[o]).type)n[i]=rr(n[i],e.name,t);else if(t==null)for(i in n)n[i]=rr(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function to(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function rr(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Jl,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var kn="http://www.w3.org/1999/xhtml";const ir={svg:"http://www.w3.org/2000/svg",xhtml:kn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ir.hasOwnProperty(t)?{space:ir[t],local:e}:e}function no(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===kn&&t.documentElement.namespaceURI===kn?t.createElement(e):t.createElementNS(n,e)}}function ro(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Vi(e){var t=jt(e);return(t.local?ro:no)(t)}function io(){}function qn(e){return e==null?io:function(){return this.querySelector(e)}}function lo(e){typeof e!="function"&&(e=qn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=new Array(l),a,u,f=0;f<l;++f)(a=o[f])&&(u=e.call(a,a.__data__,f,o))&&("__data__"in a&&(u.__data__=a.__data__),s[f]=u);return new Ne(r,this._parents)}function oo(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function so(){return[]}function Xi(e){return e==null?so:function(){return this.querySelectorAll(e)}}function ao(e){return function(){return oo(e.apply(this,arguments))}}function uo(e){typeof e=="function"?e=ao(e):e=Xi(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var l=t[o],s=l.length,a,u=0;u<s;++u)(a=l[u])&&(r.push(e.call(a,a.__data__,u,l)),i.push(a));return new Ne(r,i)}function Hi(e){return function(){return this.matches(e)}}function Ki(e){return function(t){return t.matches(e)}}var fo=Array.prototype.find;function co(e){return function(){return fo.call(this.children,e)}}function ho(){return this.firstElementChild}function _o(e){return this.select(e==null?ho:co(typeof e=="function"?e:Ki(e)))}var po=Array.prototype.filter;function mo(){return Array.from(this.children)}function go(e){return function(){return po.call(this.children,e)}}function yo(e){return this.selectAll(e==null?mo:go(typeof e=="function"?e:Ki(e)))}function vo(e){typeof e!="function"&&(e=Hi(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=[],a,u=0;u<l;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&s.push(a);return new Ne(r,this._parents)}function ji(e){return new Array(e.length)}function bo(){return new Ne(this._enter||this._groups.map(ji),this._parents)}function Rt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Rt.prototype={constructor:Rt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function wo(e){return function(){return e}}function ko(e,t,n,r,i,o){for(var l=0,s,a=t.length,u=o.length;l<u;++l)(s=t[l])?(s.__data__=o[l],r[l]=s):n[l]=new Rt(e,o[l]);for(;l<a;++l)(s=t[l])&&(i[l]=s)}function No(e,t,n,r,i,o,l){var s,a,u=new Map,f=t.length,h=o.length,d=new Array(f),p;for(s=0;s<f;++s)(a=t[s])&&(d[s]=p=l.call(a,a.__data__,s,t)+"",u.has(p)?i[s]=a:u.set(p,a));for(s=0;s<h;++s)p=l.call(e,o[s],s,o)+"",(a=u.get(p))?(r[s]=a,a.__data__=o[s],u.delete(p)):n[s]=new Rt(e,o[s]);for(s=0;s<f;++s)(a=t[s])&&u.get(d[s])===a&&(i[s]=a)}function Mo(e){return e.__data__}function Eo(e,t){if(!arguments.length)return Array.from(this,Mo);var n=t?No:ko,r=this._parents,i=this._groups;typeof e!="function"&&(e=wo(e));for(var o=i.length,l=new Array(o),s=new Array(o),a=new Array(o),u=0;u<o;++u){var f=r[u],h=i[u],d=h.length,p=So(e.call(f,f&&f.__data__,u,r)),m=p.length,A=s[u]=new Array(m),P=l[u]=new Array(m),O=a[u]=new Array(d);n(f,h,A,P,O,p,t);for(var B=0,L=0,w,k;B<m;++B)if(w=A[B]){for(B>=L&&(L=B+1);!(k=P[L])&&++L<m;);w._next=k||null}}return l=new Ne(l,r),l._enter=s,l._exit=a,l}function So(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ao(){return new Ne(this._exit||this._groups.map(ji),this._parents)}function Io(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function zo(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,l=Math.min(i,o),s=new Array(i),a=0;a<l;++a)for(var u=n[a],f=r[a],h=u.length,d=s[a]=new Array(h),p,m=0;m<h;++m)(p=u[m]||f[m])&&(d[m]=p);for(;a<i;++a)s[a]=n[a];return new Ne(s,this._parents)}function Co(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function To(e){e||(e=$o);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],s=l.length,a=i[o]=new Array(s),u,f=0;f<s;++f)(u=l[f])&&(a[f]=u);a.sort(t)}return new Ne(i,this._parents).order()}function $o(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ro(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Fo(){return Array.from(this)}function Po(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function Lo(){let e=0;for(const t of this)++e;return e}function xo(){return!this.node()}function Do(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,l=i.length,s;o<l;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function Oo(e){return function(){this.removeAttribute(e)}}function qo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bo(e,t){return function(){this.setAttribute(e,t)}}function Yo(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Uo(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Vo(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Xo(e,t){var n=jt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?qo:Oo:typeof t=="function"?n.local?Vo:Uo:n.local?Yo:Bo)(n,t))}function Gi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ho(e){return function(){this.style.removeProperty(e)}}function Ko(e,t,n){return function(){this.style.setProperty(e,t,n)}}function jo(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Go(e,t,n){return arguments.length>1?this.each((t==null?Ho:typeof t=="function"?jo:Ko)(e,t,n??"")):rt(this.node(),e)}function rt(e,t){return e.style.getPropertyValue(t)||Gi(e).getComputedStyle(e,null).getPropertyValue(t)}function Wo(e){return function(){delete this[e]}}function Zo(e,t){return function(){this[e]=t}}function Qo(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Jo(e,t){return arguments.length>1?this.each((t==null?Wo:typeof t=="function"?Qo:Zo)(e,t)):this.node()[e]}function Wi(e){return e.trim().split(/^|\s+/)}function Bn(e){return e.classList||new Zi(e)}function Zi(e){this._node=e,this._names=Wi(e.getAttribute("class")||"")}Zi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Qi(e,t){for(var n=Bn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ji(e,t){for(var n=Bn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function es(e){return function(){Qi(this,e)}}function ts(e){return function(){Ji(this,e)}}function ns(e,t){return function(){(t.apply(this,arguments)?Qi:Ji)(this,e)}}function rs(e,t){var n=Wi(e+"");if(arguments.length<2){for(var r=Bn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?ns:t?es:ts)(n,t))}function is(){this.textContent=""}function ls(e){return function(){this.textContent=e}}function os(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ss(e){return arguments.length?this.each(e==null?is:(typeof e=="function"?os:ls)(e)):this.node().textContent}function as(){this.innerHTML=""}function us(e){return function(){this.innerHTML=e}}function fs(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function cs(e){return arguments.length?this.each(e==null?as:(typeof e=="function"?fs:us)(e)):this.node().innerHTML}function hs(){this.nextSibling&&this.parentNode.appendChild(this)}function ds(){return this.each(hs)}function _s(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ps(){return this.each(_s)}function ms(e){var t=typeof e=="function"?e:Vi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function gs(){return null}function ys(e,t){var n=typeof e=="function"?e:Vi(e),r=t==null?gs:typeof t=="function"?t:qn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function vs(){var e=this.parentNode;e&&e.removeChild(this)}function bs(){return this.each(vs)}function ws(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ks(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ns(e){return this.select(e?ks:ws)}function Ms(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Es(e){return function(t){e.call(this,t,this.__data__)}}function Ss(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function As(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Is(e,t,n){return function(){var r=this.__on,i,o=Es(t);if(r){for(var l=0,s=r.length;l<s;++l)if((i=r[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function zs(e,t,n){var r=Ss(e+""),i,o=r.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,u=s.length,f;a<u;++a)for(i=0,f=s[a];i<o;++i)if((l=r[i]).type===f.type&&l.name===f.name)return f.value}return}for(s=t?Is:As,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function el(e,t,n){var r=Gi(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Cs(e,t){return function(){return el(this,e,t)}}function Ts(e,t){return function(){return el(this,e,t.apply(this,arguments))}}function $s(e,t){return this.each((typeof t=="function"?Ts:Cs)(e,t))}function*Rs(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var Fs=[null];function Ne(e,t){this._groups=e,this._parents=t}function vt(){return new Ne([[document.documentElement]],Fs)}function Ps(){return this}Ne.prototype=vt.prototype={constructor:Ne,select:lo,selectAll:uo,selectChild:_o,selectChildren:yo,filter:vo,data:Eo,enter:bo,exit:Ao,join:Io,merge:zo,selection:Ps,order:Co,sort:To,call:Ro,nodes:Fo,node:Po,size:Lo,empty:xo,each:Do,attr:Xo,style:Go,property:Jo,classed:rs,text:ss,html:cs,raise:ds,lower:ps,append:ms,insert:ys,remove:bs,clone:Ns,datum:Ms,on:zs,dispatch:$s,[Symbol.iterator]:Rs};function Yn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bt(){}var pt=.7,Ft=1/pt,nt="\\s*([+-]?\\d+)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ls=/^#([0-9a-f]{3,8})$/,xs=new RegExp(`^rgb\\(${nt},${nt},${nt}\\)$`),Ds=new RegExp(`^rgb\\(${Ae},${Ae},${Ae}\\)$`),Os=new RegExp(`^rgba\\(${nt},${nt},${nt},${mt}\\)$`),qs=new RegExp(`^rgba\\(${Ae},${Ae},${Ae},${mt}\\)$`),Bs=new RegExp(`^hsl\\(${mt},${Ae},${Ae}\\)$`),Ys=new RegExp(`^hsla\\(${mt},${Ae},${Ae},${mt}\\)$`),lr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yn(bt,He,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:or,formatHex:or,formatHex8:Us,formatHsl:Vs,formatRgb:sr,toString:sr});function or(){return this.rgb().formatHex()}function Us(){return this.rgb().formatHex8()}function Vs(){return nl(this).formatHsl()}function sr(){return this.rgb().formatRgb()}function He(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ls.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ar(t):n===3?new de(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xs.exec(e))?new de(t[1],t[2],t[3],1):(t=Ds.exec(e))?new de(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Os.exec(e))?Nt(t[1],t[2],t[3],t[4]):(t=qs.exec(e))?Nt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Bs.exec(e))?cr(t[1],t[2]/100,t[3]/100,1):(t=Ys.exec(e))?cr(t[1],t[2]/100,t[3]/100,t[4]):lr.hasOwnProperty(e)?ar(lr[e]):e==="transparent"?new de(NaN,NaN,NaN,0):null}function ar(e){return new de(e>>16&255,e>>8&255,e&255,1)}function Nt(e,t,n,r){return r<=0&&(e=t=n=NaN),new de(e,t,n,r)}function Xs(e){return e instanceof bt||(e=He(e)),e?(e=e.rgb(),new de(e.r,e.g,e.b,e.opacity)):new de}function Nn(e,t,n,r){return arguments.length===1?Xs(e):new de(e,t,n,r??1)}function de(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Yn(de,Nn,tl(bt,{brighter(e){return e=e==null?Ft:Math.pow(Ft,e),new de(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pt:Math.pow(pt,e),new de(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new de(Ve(this.r),Ve(this.g),Ve(this.b),Pt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ur,formatHex:ur,formatHex8:Hs,formatRgb:fr,toString:fr}));function ur(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}`}function Hs(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}${Ue((isNaN(this.opacity)?1:this.opacity)*255)}`}function fr(){const e=Pt(this.opacity);return`${e===1?"rgb(":"rgba("}${Ve(this.r)}, ${Ve(this.g)}, ${Ve(this.b)}${e===1?")":`, ${e})`}`}function Pt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ve(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ue(e){return e=Ve(e),(e<16?"0":"")+e.toString(16)}function cr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new we(e,t,n,r)}function nl(e){if(e instanceof we)return new we(e.h,e.s,e.l,e.opacity);if(e instanceof bt||(e=He(e)),!e)return new we;if(e instanceof we)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,s=o-i,a=(o+i)/2;return s?(t===o?l=(n-r)/s+(n<r)*6:n===o?l=(r-t)/s+2:l=(t-n)/s+4,s/=a<.5?o+i:2-o-i,l*=60):s=a>0&&a<1?0:l,new we(l,s,a,e.opacity)}function Ks(e,t,n,r){return arguments.length===1?nl(e):new we(e,t,n,r??1)}function we(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Yn(we,Ks,tl(bt,{brighter(e){return e=e==null?Ft:Math.pow(Ft,e),new we(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pt:Math.pow(pt,e),new we(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new de(on(e>=240?e-240:e+120,i,r),on(e,i,r),on(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new we(hr(this.h),Mt(this.s),Mt(this.l),Pt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pt(this.opacity);return`${e===1?"hsl(":"hsla("}${hr(this.h)}, ${Mt(this.s)*100}%, ${Mt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hr(e){return e=(e||0)%360,e<0?e+360:e}function Mt(e){return Math.max(0,Math.min(1,e||0))}function on(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Un=e=>()=>e;function js(e,t){return function(n){return e+n*t}}function Gs(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ws(e){return(e=+e)==1?rl:function(t,n){return n-t?Gs(t,n,e):Un(isNaN(t)?n:t)}}function rl(e,t){var n=t-e;return n?js(e,n):Un(isNaN(e)?t:e)}const Lt=function e(t){var n=Ws(t);function r(i,o){var l=n((i=Nn(i)).r,(o=Nn(o)).r),s=n(i.g,o.g),a=n(i.b,o.b),u=rl(i.opacity,o.opacity);return function(f){return i.r=l(f),i.g=s(f),i.b=a(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function Zs(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Qs(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Js(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Vn(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(s){for(l=0;l<r;++l)o[l]=i[l](s);return o}}function ea(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function be(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ta(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Vn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Mn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sn=new RegExp(Mn.source,"g");function na(e){return function(){return e}}function ra(e){return function(t){return e(t)+""}}function il(e,t){var n=Mn.lastIndex=sn.lastIndex=0,r,i,o,l=-1,s=[],a=[];for(e=e+"",t=t+"";(r=Mn.exec(e))&&(i=sn.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[l]?s[l]+=o:s[++l]=o),(r=r[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,a.push({i:l,x:be(r,i)})),n=sn.lastIndex;return n<t.length&&(o=t.slice(n),s[l]?s[l]+=o:s[++l]=o),s.length<2?a[0]?ra(a[0].x):na(t):(t=a.length,function(u){for(var f=0,h;f<t;++f)s[(h=a[f]).i]=h.x(u);return s.join("")})}function Vn(e,t){var n=typeof t,r;return t==null||n==="boolean"?Un(t):(n==="number"?be:n==="string"?(r=He(t))?(t=r,Lt):il:t instanceof He?Lt:t instanceof Date?ea:Qs(t)?Zs:Array.isArray(t)?Js:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ta:be)(e,t)}function ia(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var dr=180/Math.PI,En={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ll(e,t,n,r,i,o){var l,s,a;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,a/=s),e*r<t*n&&(e=-e,t=-t,a=-a,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*dr,skewX:Math.atan(a)*dr,scaleX:l,scaleY:s}}var Et;function la(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?En:ll(t.a,t.b,t.c,t.d,t.e,t.f)}function oa(e){return e==null||(Et||(Et=document.createElementNS("http://www.w3.org/2000/svg","g")),Et.setAttribute("transform",e),!(e=Et.transform.baseVal.consolidate()))?En:(e=e.matrix,ll(e.a,e.b,e.c,e.d,e.e,e.f))}function ol(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,h,d,p,m){if(u!==h||f!==d){var A=p.push("translate(",null,t,null,n);m.push({i:A-4,x:be(u,h)},{i:A-2,x:be(f,d)})}else(h||d)&&p.push("translate("+h+t+d+n)}function l(u,f,h,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:be(u,f)})):f&&h.push(i(h)+"rotate("+f+r)}function s(u,f,h,d){u!==f?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:be(u,f)}):f&&h.push(i(h)+"skewX("+f+r)}function a(u,f,h,d,p,m){if(u!==h||f!==d){var A=p.push(i(p)+"scale(",null,",",null,")");m.push({i:A-4,x:be(u,h)},{i:A-2,x:be(f,d)})}else(h!==1||d!==1)&&p.push(i(p)+"scale("+h+","+d+")")}return function(u,f){var h=[],d=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,h,d),l(u.rotate,f.rotate,h,d),s(u.skewX,f.skewX,h,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,d),u=f=null,function(p){for(var m=-1,A=d.length,P;++m<A;)h[(P=d[m]).i]=P.x(p);return h.join("")}}}var sa=ol(la,"px, ","px)","deg)"),aa=ol(oa,", ",")",")"),it=0,ft=0,ut=0,sl=1e3,xt,ct,Dt=0,Ke=0,Gt=0,gt=typeof performance=="object"&&performance.now?performance:Date,al=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Xn(){return Ke||(al(ua),Ke=gt.now()+Gt)}function ua(){Ke=0}function Ot(){this._call=this._time=this._next=null}Ot.prototype=ul.prototype={constructor:Ot,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Xn():+n)+(t==null?0:+t),!this._next&&ct!==this&&(ct?ct._next=this:xt=this,ct=this),this._call=e,this._time=n,Sn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sn())}};function ul(e,t,n){var r=new Ot;return r.restart(e,t,n),r}function fa(){Xn(),++it;for(var e=xt,t;e;)(t=Ke-e._time)>=0&&e._call.call(void 0,t),e=e._next;--it}function _r(){Ke=(Dt=gt.now())+Gt,it=ft=0;try{fa()}finally{it=0,ha(),Ke=0}}function ca(){var e=gt.now(),t=e-Dt;t>sl&&(Gt-=t,Dt=e)}function ha(){for(var e,t=xt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xt=n);ct=e,Sn(r)}function Sn(e){if(!it){ft&&(ft=clearTimeout(ft));var t=e-Ke;t>24?(e<1/0&&(ft=setTimeout(_r,e-gt.now()-Gt)),ut&&(ut=clearInterval(ut))):(ut||(Dt=gt.now(),ut=setInterval(ca,sl)),it=1,al(_r))}}function pr(e,t,n){var r=new Ot;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var da=Ui("start","end","cancel","interrupt"),_a=[],fl=0,mr=1,An=2,Ct=3,gr=4,In=5,Tt=6;function Wt(e,t,n,r,i,o){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;pa(e,n,{name:t,index:r,group:i,on:da,tween:_a,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fl})}function Hn(e,t){var n=Me(e,t);if(n.state>fl)throw new Error("too late; already scheduled");return n}function Ie(e,t){var n=Me(e,t);if(n.state>Ct)throw new Error("too late; already running");return n}function Me(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function pa(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ul(o,0,n.time);function o(u){n.state=mr,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,h,d,p;if(n.state!==mr)return a();for(f in r)if(p=r[f],p.name===n.name){if(p.state===Ct)return pr(l);p.state===gr?(p.state=Tt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[f]):+f<t&&(p.state=Tt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[f])}if(pr(function(){n.state===Ct&&(n.state=gr,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=An,n.on.call("start",e,e.__data__,n.index,n.group),n.state===An){for(n.state=Ct,i=new Array(d=n.tween.length),f=0,h=-1;f<d;++f)(p=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=p);i.length=h+1}}function s(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=In,1),h=-1,d=i.length;++h<d;)i[h].call(e,f);n.state===In&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Tt,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ma(e,t){var n=e.__transition,r,i,o=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){o=!1;continue}i=r.state>An&&r.state<In,r.state=Tt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}o&&delete e.__transition}}function ga(e){return this.each(function(){ma(this,e)})}function ya(e,t){var n,r;return function(){var i=Ie(this,e),o=i.tween;if(o!==n){r=n=o;for(var l=0,s=r.length;l<s;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function va(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ie(this,e),l=o.tween;if(l!==r){i=(r=l).slice();for(var s={name:t,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===t){i[a]=s;break}a===u&&i.push(s)}o.tween=i}}function ba(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Me(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===e)return l.value;return null}return this.each((t==null?ya:va)(n,e,t))}function Kn(e,t,n){var r=e._id;return e.each(function(){var i=Ie(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Me(i,r).value[t]}}function cl(e,t){var n;return(typeof t=="number"?be:t instanceof He?Lt:(n=He(t))?(t=n,Lt):il)(e,t)}function wa(e){return function(){this.removeAttribute(e)}}function ka(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Na(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttribute(e);return l===i?null:l===r?o:o=t(r=l,n)}}function Ma(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===r?o:o=t(r=l,n)}}function Ea(e,t,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttribute(e):(l=this.getAttribute(e),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s)))}}function Sa(e,t,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s)))}}function Aa(e,t){var n=jt(e),r=n==="transform"?aa:cl;return this.attrTween(e,typeof t=="function"?(n.local?Sa:Ea)(n,r,Kn(this,"attr."+e,t)):t==null?(n.local?ka:wa)(n):(n.local?Ma:Na)(n,r,t))}function Ia(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function za(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ca(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&za(e,o)),n}return i._value=t,i}function Ta(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Ia(e,o)),n}return i._value=t,i}function $a(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=jt(e);return this.tween(n,(r.local?Ca:Ta)(r,t))}function Ra(e,t){return function(){Hn(this,e).delay=+t.apply(this,arguments)}}function Fa(e,t){return t=+t,function(){Hn(this,e).delay=t}}function Pa(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ra:Fa)(t,e)):Me(this.node(),t).delay}function La(e,t){return function(){Ie(this,e).duration=+t.apply(this,arguments)}}function xa(e,t){return t=+t,function(){Ie(this,e).duration=t}}function Da(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?La:xa)(t,e)):Me(this.node(),t).duration}function Oa(e,t){if(typeof t!="function")throw new Error;return function(){Ie(this,e).ease=t}}function qa(e){var t=this._id;return arguments.length?this.each(Oa(t,e)):Me(this.node(),t).ease}function Ba(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ie(this,e).ease=n}}function Ya(e){if(typeof e!="function")throw new Error;return this.each(Ba(this._id,e))}function Ua(e){typeof e!="function"&&(e=Hi(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=[],a,u=0;u<l;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&s.push(a);return new Pe(r,this._parents,this._name,this._id)}function Va(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),l=new Array(r),s=0;s<o;++s)for(var a=t[s],u=n[s],f=a.length,h=l[s]=new Array(f),d,p=0;p<f;++p)(d=a[p]||u[p])&&(h[p]=d);for(;s<r;++s)l[s]=t[s];return new Pe(l,this._parents,this._name,this._id)}function Xa(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Ha(e,t,n){var r,i,o=Xa(t)?Hn:Ie;return function(){var l=o(this,e),s=l.on;s!==r&&(i=(r=s).copy()).on(t,n),l.on=i}}function Ka(e,t){var n=this._id;return arguments.length<2?Me(this.node(),n).on.on(e):this.each(Ha(n,e,t))}function ja(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ga(){return this.on("end.remove",ja(this._id))}function Wa(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qn(e));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var s=r[l],a=s.length,u=o[l]=new Array(a),f,h,d=0;d<a;++d)(f=s[d])&&(h=e.call(f,f.__data__,d,s))&&("__data__"in f&&(h.__data__=f.__data__),u[d]=h,Wt(u[d],t,n,d,u,Me(f,n)));return new Pe(o,this._parents,t,n)}function Za(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xi(e));for(var r=this._groups,i=r.length,o=[],l=[],s=0;s<i;++s)for(var a=r[s],u=a.length,f,h=0;h<u;++h)if(f=a[h]){for(var d=e.call(f,f.__data__,h,a),p,m=Me(f,n),A=0,P=d.length;A<P;++A)(p=d[A])&&Wt(p,t,n,A,d,m);o.push(d),l.push(f)}return new Pe(o,l,t,n)}var Qa=vt.prototype.constructor;function Ja(){return new Qa(this._groups,this._parents)}function eu(e,t){var n,r,i;return function(){var o=rt(this,e),l=(this.style.removeProperty(e),rt(this,e));return o===l?null:o===n&&l===r?i:i=t(n=o,r=l)}}function hl(e){return function(){this.style.removeProperty(e)}}function tu(e,t,n){var r,i=n+"",o;return function(){var l=rt(this,e);return l===i?null:l===r?o:o=t(r=l,n)}}function nu(e,t,n){var r,i,o;return function(){var l=rt(this,e),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(e),rt(this,e))),l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s))}}function ru(e,t){var n,r,i,o="style."+t,l="end."+o,s;return function(){var a=Ie(this,e),u=a.on,f=a.value[o]==null?s||(s=hl(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(l,i=f),a.on=r}}function iu(e,t,n){var r=(e+="")=="transform"?sa:cl;return t==null?this.styleTween(e,eu(e,r)).on("end.style."+e,hl(e)):typeof t=="function"?this.styleTween(e,nu(e,r,Kn(this,"style."+e,t))).each(ru(this._id,e)):this.styleTween(e,tu(e,r,t),n).on("end.style."+e,null)}function lu(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ou(e,t,n){var r,i;function o(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&lu(e,l,n)),r}return o._value=t,o}function su(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ou(e,t,n??""))}function au(e){return function(){this.textContent=e}}function uu(e){return function(){var t=e(this);this.textContent=t??""}}function fu(e){return this.tween("text",typeof e=="function"?uu(Kn(this,"text",e)):au(e==null?"":e+""))}function cu(e){return function(t){this.textContent=e.call(this,t)}}function hu(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&cu(i)),t}return r._value=e,r}function du(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,hu(e))}function _u(){for(var e=this._name,t=this._id,n=dl(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,u=0;u<s;++u)if(a=l[u]){var f=Me(a,t);Wt(a,e,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Pe(r,this._parents,e,n)}function pu(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var s={value:l},a={value:function(){--i===0&&o()}};n.each(function(){var u=Ie(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(a)),u.on=t}),i===0&&o()})}var mu=0;function Pe(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function dl(){return++mu}var $e=vt.prototype;Pe.prototype={constructor:Pe,select:Wa,selectAll:Za,selectChild:$e.selectChild,selectChildren:$e.selectChildren,filter:Ua,merge:Va,selection:Ja,transition:_u,call:$e.call,nodes:$e.nodes,node:$e.node,size:$e.size,empty:$e.empty,each:$e.each,on:Ka,attr:Aa,attrTween:$a,style:iu,styleTween:su,text:fu,textTween:du,remove:Ga,tween:ba,delay:Pa,duration:Da,ease:qa,easeVarying:Ya,end:pu,[Symbol.iterator]:$e[Symbol.iterator]};function gu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var yu={time:null,delay:0,duration:250,ease:gu};function vu(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function bu(e){var t,n;e instanceof Pe?(t=e._id,e=e._name):(t=dl(),(n=yu).time=Xn(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,u=0;u<s;++u)(a=l[u])&&Wt(a,e,t,u,l,n||vu(a,t));return new Pe(r,this._parents,e,t)}vt.prototype.interrupt=ga;vt.prototype.transition=bu;const zn=Math.PI,Cn=2*zn,Be=1e-6,wu=Cn-Be;function _l(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ku(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _l;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Nu{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_l:ku(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,s=this._y1,a=r-t,u=i-n,f=l-t,h=s-n,d=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Be)if(!(Math.abs(h*a-u*f)>Be)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-l,m=i-s,A=a*a+u*u,P=p*p+m*m,O=Math.sqrt(A),B=Math.sqrt(d),L=o*Math.tan((zn-Math.acos((A+d-P)/(2*O*B)))/2),w=L/B,k=L/O;Math.abs(w-1)>Be&&this._append`L${t+w*f},${n+w*h}`,this._append`A${o},${o},0,0,${+(h*p>f*m)},${this._x1=t+k*a},${this._y1=n+k*u}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),a=r*Math.sin(i),u=t+s,f=n+a,h=1^l,d=l?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Be||Math.abs(this._y1-f)>Be)&&this._append`L${u},${f}`,r&&(d<0&&(d=d%Cn+Cn),d>wu?this._append`A${r},${r},0,1,${h},${t-s},${n-a}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:d>Be&&this._append`A${r},${r},0,${+(d>=zn)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Mu(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function lt(e){return e=qt(Math.abs(e)),e?e[1]:NaN}function Eu(e,t){return function(n,r){for(var i=n.length,o=[],l=0,s=e[0],a=0;i>0&&s>0&&(a+s+1>r&&(s=Math.max(1,r-a)),o.push(n.substring(i-=s,i+s)),!((a+=s+1)>r));)s=e[l=(l+1)%e.length];return o.reverse().join(t)}}function Su(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Au=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bt(e){if(!(t=Au.exec(e)))throw new Error("invalid format: "+e);var t;return new jn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bt.prototype=jn.prototype;function jn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Iu(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var pl;function zu(e,t){var n=qt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(pl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qt(e,Math.max(0,t+o-1))[0]}function yr(e,t){var n=qt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mu,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yr(e*100,t),r:yr,s:zu,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function br(e){return e}var wr=Array.prototype.map,kr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Cu(e){var t=e.grouping===void 0||e.thousands===void 0?br:Eu(wr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?br:Su(wr.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Bt(h);var d=h.fill,p=h.align,m=h.sign,A=h.symbol,P=h.zero,O=h.width,B=h.comma,L=h.precision,w=h.trim,k=h.type;k==="n"?(B=!0,k="g"):vr[k]||(L===void 0&&(L=12),w=!0,k="g"),(P||d==="0"&&p==="=")&&(P=!0,d="0",p="=");var T=A==="$"?n:A==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",F=A==="$"?r:/[%p]/.test(k)?l:"",$=vr[k],M=/[defgprs%]/.test(k);L=L===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function E(v){var S=T,D=F,b,g,Y;if(k==="c")D=$(v)+D,v="";else{v=+v;var y=v<0||1/v<0;if(v=isNaN(v)?a:$(Math.abs(v),L),w&&(v=Iu(v)),y&&+v==0&&m!=="+"&&(y=!1),S=(y?m==="("?m:s:m==="-"||m==="("?"":m)+S,D=(k==="s"?kr[8+pl/3]:"")+D+(y&&m==="("?")":""),M){for(b=-1,g=v.length;++b<g;)if(Y=v.charCodeAt(b),48>Y||Y>57){D=(Y===46?i+v.slice(b+1):v.slice(b))+D,v=v.slice(0,b);break}}}B&&!P&&(v=t(v,1/0));var H=S.length+v.length+D.length,X=H<O?new Array(O-H+1).join(d):"";switch(B&&P&&(v=t(X+v,X.length?O-D.length:1/0),X=""),p){case"<":v=S+v+D+X;break;case"=":v=S+X+v+D;break;case"^":v=X.slice(0,H=X.length>>1)+S+v+D+X.slice(H);break;default:v=X+S+v+D;break}return o(v)}return E.toString=function(){return h+""},E}function f(h,d){var p=u((h=Bt(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(lt(d)/3)))*3,A=Math.pow(10,-m),P=kr[8+m/3];return function(O){return p(A*O)+P}}return{format:u,formatPrefix:f}}var St,ml,gl;Tu({thousands:",",grouping:[3],currency:["$",""]});function Tu(e){return St=Cu(e),ml=St.format,gl=St.formatPrefix,St}function $u(e){return Math.max(0,-lt(Math.abs(e)))}function Ru(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lt(t)/3)))*3-lt(Math.abs(e)))}function Fu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lt(t)-lt(e))+1}function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Nr=Symbol("implicit");function yl(){var e=new tr,t=[],n=[],r=Nr;function i(o){let l=e.get(o);if(l===void 0){if(r!==Nr)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new tr;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yl(t,n).unknown(r)},Gn.apply(i,arguments),i}function vl(){var e=yl().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,s=!1,a=0,u=0,f=.5;delete e.unknown;function h(){var d=t().length,p=i<r,m=p?i:r,A=p?r:i;o=(A-m)/Math.max(1,d-a+u*2),s&&(o=Math.floor(o)),m+=(A-m-o*(d-a))*f,l=o*(1-a),s&&(m=Math.round(m),l=Math.round(l));var P=Ql(d).map(function(O){return m+o*O});return n(p?P.reverse():P)}return e.domain=function(d){return arguments.length?(t(d),h()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,h()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,h()):s},e.padding=function(d){return arguments.length?(a=Math.min(1,u=+d),h()):a},e.paddingInner=function(d){return arguments.length?(a=Math.min(1,d),h()):a},e.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),h()):f},e.copy=function(){return vl(t(),[r,i]).round(s).paddingInner(a).paddingOuter(u).align(f)},Gn.apply(h(),arguments)}function bl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bl(t())},e}function Mr(){return bl(vl.apply(null,arguments).paddingInner(1))}function Pu(e){return function(){return e}}function Lu(e){return+e}var Er=[0,1];function Je(e){return e}function Tn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Pu(isNaN(t)?NaN:.5)}function xu(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Du(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=Tn(i,r),o=n(l,o)):(r=Tn(r,i),o=n(o,l)),function(s){return o(r(s))}}function Ou(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Tn(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(s){var a=Vl(e,s,1,r)-1;return o[a](i[a](s))}}function qu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bu(){var e=Er,t=Er,n=Vn,r,i,o,l=Je,s,a,u;function f(){var d=Math.min(e.length,t.length);return l!==Je&&(l=xu(e[0],e[d-1])),s=d>2?Ou:Du,a=u=null,h}function h(d){return d==null||isNaN(d=+d)?o:(a||(a=s(e.map(r),t,n)))(r(l(d)))}return h.invert=function(d){return l(i((u||(u=s(t,e.map(r),be)))(d)))},h.domain=function(d){return arguments.length?(e=Array.from(d,Lu),f()):e.slice()},h.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},h.rangeRound=function(d){return t=Array.from(d),n=ia,f()},h.clamp=function(d){return arguments.length?(l=d?!0:Je,f()):l!==Je},h.interpolate=function(d){return arguments.length?(n=d,f()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,p){return r=d,i=p,f()}}function Yu(){return Bu()(Je,Je)}function Uu(e,t,n,r){var i=Zl(e,t,n),o;switch(r=Bt(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Ru(i,l))&&(r.precision=o),gl(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Fu(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$u(i))&&(r.precision=o-(r.type==="%")*2);break}}return ml(r)}function Vu(e){var t=e.domain;return e.ticks=function(n){var r=t();return Yi(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Uu(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],s=r[o],a,u,f=10;for(s<l&&(u=l,l=s,s=u,u=i,i=o,o=u);f-- >0;){if(u=wn(l,s,n),u===a)return r[i]=l,r[o]=s,t(r);if(u>0)l=Math.floor(l/u)*u,s=Math.ceil(s/u)*u;else if(u<0)l=Math.ceil(l*u)/u,s=Math.floor(s*u)/u;else break;a=u}return e},e}function $n(){var e=Yu();return e.copy=function(){return qu(e,$n())},Gn.apply(e,arguments),Vu(e)}function Ze(e){return function(){return e}}function Xu(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Nu(t)}function Hu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wl(e){this._context=e}wl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ku(e){return new wl(e)}function ju(e){return e[0]}function Gu(e){return e[1]}function Wu(e,t){var n=Ze(!0),r=null,i=Ku,o=null,l=Xu(s);e=typeof e=="function"?e:e===void 0?ju:Ze(e),t=typeof t=="function"?t:t===void 0?Gu:Ze(t);function s(a){var u,f=(a=Hu(a)).length,h,d=!1,p;for(r==null&&(o=i(p=l())),u=0;u<=f;++u)!(u<f&&n(h=a[u],u,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(h,u,a),+t(h,u,a));if(p)return o=null,p+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Ze(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:Ze(+a),s):t},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:Ze(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function Sr(e){return e<0?-1:1}function Ar(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),s=(o*i+l*r)/(r+i);return(Sr(o)+Sr(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(s))||0}function Ir(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function an(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,l-s*n,o,l)}function Yt(e){this._context=e}Yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:an(this,this._t0,Ir(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,an(this,Ir(this,n=Ar(this,e,t)),n);break;default:an(this,this._t0,n=Ar(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(Yt.prototype).point=function(e,t){Yt.prototype.point.call(this,t,e)};function Zu(e){return new Yt(e)}function ht(e,t,n){this.k=e,this.x=t,this.y=n}ht.prototype={constructor:ht,scale:function(e){return e===1?this:new ht(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ht(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ht.prototype;function zr(e,t,n){const r=e.slice();return r[51]=t[n],r}function Cr(e,t,n){const r=e.slice();return r[54]=t[n],r}function Tr(e,t,n){const r=e.slice();return r[57]=t[n],r}function un(e){const t=e.slice(),n=t[16](t[6].entry).toFixed(1);return t[64]=n,t}function $r(e,t,n){const r=e.slice();return r[61]=t[n],r[63]=n,r}function fn(e){const t=e.slice(),n=t[16](t[61]).toFixed(1);return t[64]=n,t}function cn(e){const t=e.slice(),n=mf(t[6].entry);return t[60]=n,t}function Rr(e,t,n){const r=e.slice();return r[65]=t[n],r}function Fr(e,t,n){const r=e.slice();return r[68]=t[n],r}function hn(e){const t=e.slice(),n=t[1](t[68].year)??t[13].left;t[71]=n;const r=t[2](t[17](t[68]));t[72]=r;const i=(t[68].field_size??0)>0;t[73]=i;const o=t[73]?`${t[16](t[68]).toFixed(1)}%`:null;return t[74]=o,t}function Pr(e,t,n){const r=e.slice();return r[75]=t[n],r}function Lr(e,t,n){const r=e.slice();return r[65]=t[n],r}function xr(e,t,n){const r=e.slice();return r[80]=t[n],r}function Dr(e){let t,n,r,i,o=e[0]==="relative"?`${e[80]}%`:`#${e[80]}`,l,s;return{c(){t=re("line"),i=re("text"),l=R(o),c(t,"x1",e[13].left),c(t,"x2",et-e[13].right),c(t,"y1",n=e[2](e[80])),c(t,"y2",r=e[2](e[80])),c(t,"stroke","rgba(148, 163, 184, 0.25)"),c(t,"stroke-width","1"),c(i,"x",e[13].left-12),c(i,"y",s=e[2](e[80])+4),c(i,"text-anchor","end"),c(i,"font-size","12"),c(i,"fill","var(--color-text-secondary)")},m(a,u){C(a,t,u),C(a,i,u),_(i,l)},p(a,u){u[0]&20&&n!==(n=a[2](a[80]))&&c(t,"y1",n),u[0]&20&&r!==(r=a[2](a[80]))&&c(t,"y2",r),u[0]&17&&o!==(o=a[0]==="relative"?`${a[80]}%`:`#${a[80]}`)&&U(l,o),u[0]&20&&s!==(s=a[2](a[80])+4)&&c(i,"y",s)},d(a){a&&(z(t),z(i))}}}function Or(e){let t,n,r;return{c(){t=re("path"),c(t,"d",n=e[65].pathData),c(t,"fill","none"),c(t,"stroke",r=e[65].color),c(t,"stroke-width","3"),c(t,"stroke-opacity","0.85")},m(i,o){C(i,t,o)},p(i,o){o[0]&8&&n!==(n=i[65].pathData)&&c(t,"d",n),o[0]&8&&r!==(r=i[65].color)&&c(t,"stroke",r)},d(i){i&&z(t)}}}function qr(e){let t,n=e[65].pathData&&Or(e);return{c(){n&&n.c(),t=le()},m(r,i){n&&n.m(r,i),C(r,t,i)},p(r,i){r[65].pathData?n?n.p(r,i):(n=Or(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&z(t),n&&n.d(r)}}}function Qu(e){let t,n=W(e[9]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Ur(Pr(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=le()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);C(i,t,o)},p(i,o){if(o[0]&8706){n=W(i[9]);let l;for(l=0;l<n.length;l+=1){const s=Pr(i,n,l);r[l]?r[l].p(s,o):(r[l]=Ur(s),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&z(t),ae(r,i)}}}function Br(e){let t=`${e[75].year}-${e[75].conductor}`,n,r=Yr(e);return{c(){r.c(),n=le()},m(i,o){r.m(i,o),C(i,n,o)},p(i,o){o[0]&512&&yt(t,t=`${i[75].year}-${i[75].conductor}`)?(r.d(1),r=Yr(i),r.c(),r.m(n.parentNode,n)):r.p(i,o)},d(i){i&&z(n),r.d(i)}}}function Yr(e){let t,n,r,i,o,l=e[75].conductor+"",s,a,u,f,h;return{c(){t=re("g"),n=re("line"),o=re("text"),s=R(l),c(n,"x1",r=e[1](e[75].year)),c(n,"x2",i=e[1](e[75].year)),c(n,"y1",e[13].top),c(n,"y2",De-e[13].bottom),c(n,"stroke","var(--color-conductor-line)"),c(n,"stroke-dasharray","4 8"),c(n,"stroke-width","1.5"),c(o,"x",a=e[1](e[75].year)),c(o,"y",u=e[75].y),c(o,"text-anchor",f=e[75].anchor),c(o,"dx",h=e[75].dx),c(o,"font-size","11"),c(o,"fill","var(--color-text-secondary)"),c(o,"class","svelte-y6x3yn"),c(t,"class","conductor-change svelte-y6x3yn"),c(t,"aria-hidden","true")},m(d,p){C(d,t,p),_(t,n),_(t,o),_(o,s)},p(d,p){p[0]&514&&r!==(r=d[1](d[75].year))&&c(n,"x1",r),p[0]&514&&i!==(i=d[1](d[75].year))&&c(n,"x2",i),p[0]&512&&l!==(l=d[75].conductor+"")&&U(s,l),p[0]&514&&a!==(a=d[1](d[75].year))&&c(o,"x",a),p[0]&512&&u!==(u=d[75].y)&&c(o,"y",u),p[0]&512&&f!==(f=d[75].anchor)&&c(o,"text-anchor",f),p[0]&512&&h!==(h=d[75].dx)&&c(o,"dx",h)},d(d){d&&z(t)}}}function Ur(e){let t=e[1](e[75].year)!==void 0,n,r=t&&Br(e);return{c(){r&&r.c(),n=le()},m(i,o){r&&r.m(i,o),C(i,n,o)},p(i,o){o[0]&514&&(t=i[1](i[75].year)!==void 0),t?r?r.p(i,o):(r=Br(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){i&&z(n),r&&r.d(i)}}}function Vr(e){let t;function n(o,l){return o[65].shape==="circle"?tf:o[65].shape==="square"?ef:Ju}let r=n(e),i=r(e);return{c(){t=re("g"),i.c()},m(o,l){C(o,t,l),i.m(t,null)},p(o,l){r===(r=n(o))&&i?i.p(o,l):(i.d(1),i=r(o),i&&(i.c(),i.m(t,null)))},d(o){o&&z(t),i.d()}}}function Ju(e){let t,n,r,i,o,l,s;function a(...f){return e[38](e[68],e[65],...f)}function u(...f){return e[39](e[68],e[65],...f)}return{c(){t=re("path"),c(t,"d",n=Fn(e[71],e[72],Re)),c(t,"fill",r=e[14][e[68].division]??"#f8fafc"),c(t,"stroke",i=e[65].color),c(t,"stroke-width","1.5"),c(t,"role","button"),c(t,"tabindex","0"),c(t,"aria-label",o=`${e[65].band.name}: ${e[68].year} – ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?` · relativ ${e[74]}`:""})${e[68].conductor?` – Dirigent: ${e[68].conductor}`:""}`)},m(f,h){C(f,t,h),l||(s=[J(t,"mouseenter",a),J(t,"mouseleave",e[20]),J(t,"focus",u),J(t,"blur",e[20])],l=!0)},p(f,h){e=f,h[0]&14&&n!==(n=Fn(e[71],e[72],Re))&&c(t,"d",n),h[0]&8&&r!==(r=e[14][e[68].division]??"#f8fafc")&&c(t,"fill",r),h[0]&8&&i!==(i=e[65].color)&&c(t,"stroke",i),h[0]&8&&o!==(o=`${e[65].band.name}: ${e[68].year} – ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?` · relativ ${e[74]}`:""})${e[68].conductor?` – Dirigent: ${e[68].conductor}`:""}`)&&c(t,"aria-label",o)},d(f){f&&z(t),l=!1,ye(s)}}}function ef(e){let t,n,r,i,o,l,s,a;function u(...h){return e[36](e[68],e[65],...h)}function f(...h){return e[37](e[68],e[65],...h)}return{c(){t=re("rect"),c(t,"x",n=e[71]-Re),c(t,"y",r=e[72]-Re),c(t,"width",Re*2),c(t,"height",Re*2),c(t,"rx","2"),c(t,"fill",i=e[14][e[68].division]??"#f8fafc"),c(t,"stroke",o=e[65].color),c(t,"stroke-width","1.5"),c(t,"role","button"),c(t,"tabindex","0"),c(t,"aria-label",l=`${e[65].band.name}: ${e[68].year} – ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?` · relativ ${e[74]}`:""})${e[68].conductor?` – Dirigent: ${e[68].conductor}`:""}`)},m(h,d){C(h,t,d),s||(a=[J(t,"mouseenter",u),J(t,"mouseleave",e[20]),J(t,"focus",f),J(t,"blur",e[20])],s=!0)},p(h,d){e=h,d[0]&10&&n!==(n=e[71]-Re)&&c(t,"x",n),d[0]&12&&r!==(r=e[72]-Re)&&c(t,"y",r),d[0]&8&&i!==(i=e[14][e[68].division]??"#f8fafc")&&c(t,"fill",i),d[0]&8&&o!==(o=e[65].color)&&c(t,"stroke",o),d[0]&8&&l!==(l=`${e[65].band.name}: ${e[68].year} – ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?` · relativ ${e[74]}`:""})${e[68].conductor?` – Dirigent: ${e[68].conductor}`:""}`)&&c(t,"aria-label",l)},d(h){h&&z(t),s=!1,ye(a)}}}function tf(e){let t,n,r,i,o,l,s,a;function u(...h){return e[34](e[68],e[65],...h)}function f(...h){return e[35](e[68],e[65],...h)}return{c(){t=re("circle"),c(t,"cx",n=e[71]),c(t,"cy",r=e[72]),c(t,"r",Re),c(t,"fill",i=e[14][e[68].division]??"#f8fafc"),c(t,"stroke",o=e[65].color),c(t,"stroke-width","1.5"),c(t,"role","button"),c(t,"tabindex","0"),c(t,"aria-label",l=`${e[65].band.name}: ${e[68].year} – ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?` · relativ ${e[74]}`:""})${e[68].conductor?` – Dirigent: ${e[68].conductor}`:""}`)},m(h,d){C(h,t,d),s||(a=[J(t,"mouseenter",u),J(t,"mouseleave",e[20]),J(t,"focus",f),J(t,"blur",e[20])],s=!0)},p(h,d){e=h,d[0]&10&&n!==(n=e[71])&&c(t,"cx",n),d[0]&12&&r!==(r=e[72])&&c(t,"cy",r),d[0]&8&&i!==(i=e[14][e[68].division]??"#f8fafc")&&c(t,"fill",i),d[0]&8&&o!==(o=e[65].color)&&c(t,"stroke",o),d[0]&8&&l!==(l=`${e[65].band.name}: ${e[68].year} – ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?` · relativ ${e[74]}`:""})${e[68].conductor?` – Dirigent: ${e[68].conductor}`:""}`)&&c(t,"aria-label",l)},d(h){h&&z(t),s=!1,ye(a)}}}function Xr(e,t){let n,r=t[1](t[68].year)!==void 0,i,o=r&&Vr(hn(t));return{key:e,first:null,c(){n=le(),o&&o.c(),i=le(),this.first=n},m(l,s){C(l,n,s),o&&o.m(l,s),C(l,i,s)},p(l,s){t=l,s[0]&10&&(r=t[1](t[68].year)!==void 0),r?o?o.p(hn(t),s):(o=Vr(hn(t)),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(l){l&&(z(n),z(i)),o&&o.d(l)}}}function Hr(e){let t=[],n=new Map,r,i=W(e[65].entries);const o=l=>l[68].year;for(let l=0;l<i.length;l+=1){let s=Fr(e,i,l),a=o(s);n.set(a,t[l]=Xr(a,s))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();r=le()},m(l,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(l,s);C(l,r,s)},p(l,s){s[0]&1794062&&(i=W(l[65].entries),t=xl(t,s,o,1,l,i,n,r.parentNode,Ll,Xr,r,Fr))},d(l){l&&z(r);for(let s=0;s<t.length;s+=1)t[s].d(l)}}}function Kr(e){let t,n,r=e[6].entry.year+"",i,o,l=e[6].bandName+"",s,a,u;function f(p,m){return p[60]&&p[60].length?rf:nf}let h=f(e),d=h(e);return{c(){t=N("div"),n=N("strong"),i=R(r),o=R(" · "),s=R(l),a=q(),d.c(),c(t,"class","tooltip svelte-y6x3yn"),c(t,"style",u=`left: ${e[7]}px; top: ${e[8]}px`)},m(p,m){C(p,t,m),_(t,n),_(n,i),_(n,o),_(n,s),_(t,a),d.m(t,null)},p(p,m){m[0]&64&&r!==(r=p[6].entry.year+"")&&U(i,r),m[0]&64&&l!==(l=p[6].bandName+"")&&U(s,l),h===(h=f(p))&&d?d.p(p,m):(d.d(1),d=h(p),d&&(d.c(),d.m(t,null))),m[0]&384&&u!==(u=`left: ${p[7]}px; top: ${p[8]}px`)&&c(t,"style",u)},d(p){p&&z(t),d.d()}}}function nf(e){let t,n=e[6].entry.division+"",r,i,o=e[6].entry.rank+"",l,s,a,u,f,h=e[6].entry.absolute_position+"",d,p,m,A,P,O=e[6].entry.division_size+"",B,L,w=e[6].entry.field_size+"",k,T,F,$,M,E=e[6].entry.conductor&&jr(e),v=(e[6].entry.field_size??0)>0&&Gr(un(e)),S=e[6].entry.points!==null&&Wr(e),D=e[6].entry.pieces.length>0&&Zr(e);return{c(){t=N("div"),r=R(n),i=R(" · #"),l=R(o),s=q(),E&&E.c(),a=q(),u=N("div"),f=R("Absolutt plassering: #"),d=R(h),p=q(),v&&v.c(),m=q(),A=N("div"),P=R("Deltakere: "),B=R(O),L=R(" (div) / "),k=R(w),T=R(" (totalt)"),F=q(),S&&S.c(),$=q(),D&&D.c(),M=le()},m(b,g){C(b,t,g),_(t,r),_(t,i),_(t,l),C(b,s,g),E&&E.m(b,g),C(b,a,g),C(b,u,g),_(u,f),_(u,d),C(b,p,g),v&&v.m(b,g),C(b,m,g),C(b,A,g),_(A,P),_(A,B),_(A,L),_(A,k),_(A,T),C(b,F,g),S&&S.m(b,g),C(b,$,g),D&&D.m(b,g),C(b,M,g)},p(b,g){g[0]&64&&n!==(n=b[6].entry.division+"")&&U(r,n),g[0]&64&&o!==(o=b[6].entry.rank+"")&&U(l,o),b[6].entry.conductor?E?E.p(b,g):(E=jr(b),E.c(),E.m(a.parentNode,a)):E&&(E.d(1),E=null),g[0]&64&&h!==(h=b[6].entry.absolute_position+"")&&U(d,h),(b[6].entry.field_size??0)>0?v?v.p(un(b),g):(v=Gr(un(b)),v.c(),v.m(m.parentNode,m)):v&&(v.d(1),v=null),g[0]&64&&O!==(O=b[6].entry.division_size+"")&&U(B,O),g[0]&64&&w!==(w=b[6].entry.field_size+"")&&U(k,w),b[6].entry.points!==null?S?S.p(b,g):(S=Wr(b),S.c(),S.m($.parentNode,$)):S&&(S.d(1),S=null),b[6].entry.pieces.length>0?D?D.p(b,g):(D=Zr(b),D.c(),D.m(M.parentNode,M)):D&&(D.d(1),D=null)},d(b){b&&(z(t),z(s),z(a),z(u),z(p),z(m),z(A),z(F),z($),z(M)),E&&E.d(b),v&&v.d(b),S&&S.d(b),D&&D.d(b)}}}function rf(e){let t,n=W(e[60]),r=[];for(let i=0;i<n.length;i+=1)r[i]=ni($r(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=le()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);C(i,t,o)},p(i,o){if(o[0]&65600){n=W(i[60]);let l;for(l=0;l<n.length;l+=1){const s=$r(i,n,l);r[l]?r[l].p(s,o):(r[l]=ni(s),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&z(t),ae(r,i)}}}function jr(e){let t,n,r=e[6].entry.conductor+"",i;return{c(){t=N("div"),n=R("Dirigent: "),i=R(r)},m(o,l){C(o,t,l),_(t,n),_(t,i)},p(o,l){l[0]&64&&r!==(r=o[6].entry.conductor+"")&&U(i,r)},d(o){o&&z(t)}}}function Gr(e){let t,n,r=e[64]+"",i,o;return{c(){t=N("div"),n=R("Relativ plassering: "),i=R(r),o=R("%")},m(l,s){C(l,t,s),_(t,n),_(t,i),_(t,o)},p(l,s){s[0]&64&&r!==(r=l[64]+"")&&U(i,r)},d(l){l&&z(t)}}}function Wr(e){let t,n,r=e[6].entry.points+"",i,o,l=e[6].entry.max_points+"",s;return{c(){t=N("div"),n=R("Poeng: "),i=R(r),o=R(" / "),s=R(l)},m(a,u){C(a,t,u),_(t,n),_(t,i),_(t,o),_(t,s)},p(a,u){u[0]&64&&r!==(r=a[6].entry.points+"")&&U(i,r),u[0]&64&&l!==(l=a[6].entry.max_points+"")&&U(s,l)},d(a){a&&z(t)}}}function Zr(e){let t,n,r=e[6].entry.pieces.join("; ")+"",i;return{c(){t=N("div"),n=R("Stykker: "),i=R(r)},m(o,l){C(o,t,l),_(t,n),_(t,i)},p(o,l){l[0]&64&&r!==(r=o[6].entry.pieces.join("; ")+"")&&U(i,r)},d(o){o&&z(t)}}}function Qr(e){let t,n,r=e[64]+"",i,o;return{c(){t=N("div"),n=R("Relativ plassering: "),i=R(r),o=R("%")},m(l,s){C(l,t,s),_(t,n),_(t,i),_(t,o)},p(l,s){s[0]&64&&r!==(r=l[64]+"")&&U(i,r)},d(l){l&&z(t)}}}function Jr(e){let t,n,r=e[61].points+"",i,o,l=e[61].max_points+"",s;return{c(){t=N("div"),n=R("Poeng: "),i=R(r),o=R(" / "),s=R(l)},m(a,u){C(a,t,u),_(t,n),_(t,i),_(t,o),_(t,s)},p(a,u){u[0]&64&&r!==(r=a[61].points+"")&&U(i,r),u[0]&64&&l!==(l=a[61].max_points+"")&&U(s,l)},d(a){a&&z(t)}}}function ei(e){let t,n,r=e[61].pieces.join("; ")+"",i;return{c(){t=N("div"),n=R("Stykker: "),i=R(r)},m(o,l){C(o,t,l),_(t,n),_(t,i)},p(o,l){l[0]&64&&r!==(r=o[61].pieces.join("; ")+"")&&U(i,r)},d(o){o&&z(t)}}}function ti(e){let t;return{c(){t=N("div"),c(t,"class","tooltip-divider svelte-y6x3yn")},m(n,r){C(n,t,r)},d(n){n&&z(t)}}}function ni(e){let t,n,r=(e[61].band_name??"Ukjent korps")+"",i,o,l,s=e[61].division+"",a,u,f=e[61].rank+"",h,d,p,m,A=e[61].absolute_position+"",P,O,B,L,w,k=e[61].division_size+"",T,F,$=e[61].field_size+"",M,E,v,S,D,b,g=(e[61].field_size??0)>0&&Qr(fn(e)),Y=e[61].points!==null&&Jr(e),y=e[61].pieces.length>0&&ei(e),H=e[63]<e[60].length-1&&ti();return{c(){t=N("div"),n=N("div"),i=R(r),o=q(),l=N("div"),a=R(s),u=R(" · #"),h=R(f),d=q(),p=N("div"),m=R("Absolutt plassering: #"),P=R(A),O=q(),g&&g.c(),B=q(),L=N("div"),w=R("Deltakere: "),T=R(k),F=R(" (div) / "),M=R($),E=R(" (totalt)"),v=q(),Y&&Y.c(),S=q(),y&&y.c(),D=q(),H&&H.c(),b=le(),c(n,"class","tooltip-band__title svelte-y6x3yn"),c(t,"class","tooltip-band svelte-y6x3yn")},m(X,Q){C(X,t,Q),_(t,n),_(n,i),_(t,o),_(t,l),_(l,a),_(l,u),_(l,h),_(t,d),_(t,p),_(p,m),_(p,P),_(t,O),g&&g.m(t,null),_(t,B),_(t,L),_(L,w),_(L,T),_(L,F),_(L,M),_(L,E),_(t,v),Y&&Y.m(t,null),_(t,S),y&&y.m(t,null),C(X,D,Q),H&&H.m(X,Q),C(X,b,Q)},p(X,Q){Q[0]&64&&r!==(r=(X[61].band_name??"Ukjent korps")+"")&&U(i,r),Q[0]&64&&s!==(s=X[61].division+"")&&U(a,s),Q[0]&64&&f!==(f=X[61].rank+"")&&U(h,f),Q[0]&64&&A!==(A=X[61].absolute_position+"")&&U(P,A),(X[61].field_size??0)>0?g?g.p(fn(X),Q):(g=Qr(fn(X)),g.c(),g.m(t,B)):g&&(g.d(1),g=null),Q[0]&64&&k!==(k=X[61].division_size+"")&&U(T,k),Q[0]&64&&$!==($=X[61].field_size+"")&&U(M,$),X[61].points!==null?Y?Y.p(X,Q):(Y=Jr(X),Y.c(),Y.m(t,S)):Y&&(Y.d(1),Y=null),X[61].pieces.length>0?y?y.p(X,Q):(y=ei(X),y.c(),y.m(t,null)):y&&(y.d(1),y=null),X[63]<X[60].length-1?H||(H=ti(),H.c(),H.m(b.parentNode,b)):H&&(H.d(1),H=null)},d(X){X&&(z(t),z(D),z(b)),g&&g.d(),Y&&Y.d(),y&&y.d(),H&&H.d(X)}}}function ri(e){let t,n=e[57].year+"",r,i,o;return{c(){t=N("span"),r=R(n),i=q(),c(t,"style",o=`left: ${e[57].x}px`),c(t,"class","svelte-y6x3yn"),Oe(t,"inactive",e[57].inactive)},m(l,s){C(l,t,s),_(t,r),_(t,i)},p(l,s){s[0]&1024&&n!==(n=l[57].year+"")&&U(r,n),s[0]&1024&&o!==(o=`left: ${l[57].x}px`)&&c(t,"style",o),s[0]&1024&&Oe(t,"inactive",l[57].inactive)},d(l){l&&z(t)}}}function ii(e){let t,n=W(e[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=li(Cr(e,n,i));return{c(){t=N("div");for(let i=0;i<r.length;i+=1)r[i].c();c(t,"class","band-legend svelte-y6x3yn")},m(i,o){C(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&8){n=W(i[3]);let l;for(l=0;l<n.length;l+=1){const s=Cr(i,n,l);r[l]?r[l].p(s,o):(r[l]=li(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&z(t),ae(r,i)}}}function lf(e){let t,n;return{c(){t=re("path"),c(t,"d",Fn(21,7,6)),c(t,"fill","var(--color-input-bg, #0f172a)"),c(t,"stroke",n=e[54].color),c(t,"stroke-width","2")},m(r,i){C(r,t,i)},p(r,i){i[0]&8&&n!==(n=r[54].color)&&c(t,"stroke",n)},d(r){r&&z(t)}}}function of(e){let t,n;return{c(){t=re("rect"),c(t,"x","16"),c(t,"y","2"),c(t,"width","10"),c(t,"height","10"),c(t,"rx","2"),c(t,"fill","var(--color-input-bg, #0f172a)"),c(t,"stroke",n=e[54].color),c(t,"stroke-width","2")},m(r,i){C(r,t,i)},p(r,i){i[0]&8&&n!==(n=r[54].color)&&c(t,"stroke",n)},d(r){r&&z(t)}}}function sf(e){let t,n;return{c(){t=re("circle"),c(t,"cx","21"),c(t,"cy","7"),c(t,"r","5"),c(t,"fill","var(--color-input-bg, #0f172a)"),c(t,"stroke",n=e[54].color),c(t,"stroke-width","2")},m(r,i){C(r,t,i)},p(r,i){i[0]&8&&n!==(n=r[54].color)&&c(t,"stroke",n)},d(r){r&&z(t)}}}function li(e){let t,n,r,i,o,l=e[54].band.name+"",s,a;function u(d,p){return d[54].shape==="circle"?sf:d[54].shape==="square"?of:lf}let f=u(e),h=f(e);return{c(){t=N("span"),n=re("svg"),r=re("line"),h.c(),o=q(),s=R(l),a=q(),c(r,"x1","2"),c(r,"y1","7"),c(r,"x2","40"),c(r,"y2","7"),c(r,"stroke",i=e[54].color),c(r,"stroke-width","2.5"),c(r,"stroke-linecap","round"),c(n,"width","42"),c(n,"height","14"),c(n,"aria-hidden","true"),c(n,"class","svelte-y6x3yn"),c(t,"class","svelte-y6x3yn")},m(d,p){C(d,t,p),_(t,n),_(n,r),h.m(n,null),_(t,o),_(t,s),_(t,a)},p(d,p){p[0]&8&&i!==(i=d[54].color)&&c(r,"stroke",i),f===(f=u(d))&&h?h.p(d,p):(h.d(1),h=f(d),h&&(h.c(),h.m(n,null))),p[0]&8&&l!==(l=d[54].band.name+"")&&U(s,l)},d(d){d&&z(t),h.d()}}}function af(e){let t,n=W(e[12]),r=[];for(let i=0;i<n.length;i+=1)r[i]=oi(zr(e,n,i));return{c(){t=N("div");for(let i=0;i<r.length;i+=1)r[i].c();c(t,"class","legend svelte-y6x3yn")},m(i,o){C(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&20480){n=W(i[12]);let l;for(l=0;l<n.length;l+=1){const s=zr(i,n,l);r[l]?r[l].p(s,o):(r[l]=oi(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&z(t),ae(r,i)}}}function oi(e){let t,n,r,i,o=e[51]+"",l,s;return{c(){t=N("span"),n=N("i"),i=q(),l=R(o),s=q(),c(n,"style",r=`background-color: ${e[14][e[51]]??"#94a3b8"}`),c(n,"class","svelte-y6x3yn"),c(t,"class","svelte-y6x3yn")},m(a,u){C(a,t,u),_(t,n),_(t,i),_(t,l),_(t,s)},p(a,u){u[0]&4096&&r!==(r=`background-color: ${a[14][a[51]]??"#94a3b8"}`)&&c(n,"style",r),u[0]&4096&&o!==(o=a[51]+"")&&U(l,o)},d(a){a&&z(t)}}}function uf(e){let t,n,r,i,o,l,s,a,u=e[15](),f,h,d,p,m,A,P,O=e[18](),B,L=W(e[4]),w=[];for(let g=0;g<L.length;g+=1)w[g]=Dr(xr(e,L,g));let k=W(e[3]),T=[];for(let g=0;g<k.length;g+=1)T[g]=qr(Lr(e,k,g));let F=u&&Qu(e),$=W(e[3]),M=[];for(let g=0;g<$.length;g+=1)M[g]=Hr(Rr(e,$,g));let E=e[6]&&Kr(cn(e)),v=W(e[10]),S=[];for(let g=0;g<v.length;g+=1)S[g]=ri(Tr(e,v,g));let D=e[3].length>0&&ii(e),b=O&&af(e);return{c(){t=N("div"),n=re("svg"),r=re("defs"),i=re("linearGradient"),o=re("stop"),l=re("stop"),s=re("g");for(let g=0;g<w.length;g+=1)w[g].c();for(let g=0;g<T.length;g+=1)T[g].c();a=le(),F&&F.c(),f=le();for(let g=0;g<M.length;g+=1)M[g].c();h=q(),E&&E.c(),d=q(),p=N("div");for(let g=0;g<S.length;g+=1)S[g].c();A=q(),D&&D.c(),P=q(),b&&b.c(),B=le(),c(o,"offset","0%"),c(o,"stop-color","#38bdf8"),c(o,"stop-opacity","0.9"),c(l,"offset","100%"),c(l,"stop-color","#2563eb"),c(l,"stop-opacity","0.35"),c(i,"id","trajectory"),c(i,"x1","0%"),c(i,"y1","0%"),c(i,"x2","0%"),c(i,"y2","100%"),c(s,"class","grid"),c(n,"viewBox",`0 0 ${et} ${De}`),c(n,"role","img"),c(n,"aria-label","Band placement over tid"),c(p,"class","year-labels svelte-y6x3yn"),c(p,"style",m=`top: ${e[11]}px`),c(t,"class","chart-canvas svelte-y6x3yn")},m(g,Y){C(g,t,Y),_(t,n),_(n,r),_(r,i),_(i,o),_(i,l),_(n,s);for(let y=0;y<w.length;y+=1)w[y]&&w[y].m(s,null);for(let y=0;y<T.length;y+=1)T[y]&&T[y].m(n,null);_(n,a),F&&F.m(n,null),_(n,f);for(let y=0;y<M.length;y+=1)M[y]&&M[y].m(n,null);e[40](n),_(t,h),E&&E.m(t,null),_(t,d),_(t,p);for(let y=0;y<S.length;y+=1)S[y]&&S[y].m(p,null);C(g,A,Y),D&&D.m(g,Y),C(g,P,Y),b&&b.m(g,Y),C(g,B,Y)},p(g,Y){if(Y[0]&8213){L=W(g[4]);let y;for(y=0;y<L.length;y+=1){const H=xr(g,L,y);w[y]?w[y].p(H,Y):(w[y]=Dr(H),w[y].c(),w[y].m(s,null))}for(;y<w.length;y+=1)w[y].d(1);w.length=L.length}if(Y[0]&8){k=W(g[3]);let y;for(y=0;y<k.length;y+=1){const H=Lr(g,k,y);T[y]?T[y].p(H,Y):(T[y]=qr(H),T[y].c(),T[y].m(n,a))}for(;y<T.length;y+=1)T[y].d(1);T.length=k.length}if(u&&F.p(g,Y),Y[0]&1794062){$=W(g[3]);let y;for(y=0;y<$.length;y+=1){const H=Rr(g,$,y);M[y]?M[y].p(H,Y):(M[y]=Hr(H),M[y].c(),M[y].m(n,null))}for(;y<M.length;y+=1)M[y].d(1);M.length=$.length}if(g[6]?E?E.p(cn(g),Y):(E=Kr(cn(g)),E.c(),E.m(t,d)):E&&(E.d(1),E=null),Y[0]&1024){v=W(g[10]);let y;for(y=0;y<v.length;y+=1){const H=Tr(g,v,y);S[y]?S[y].p(H,Y):(S[y]=ri(H),S[y].c(),S[y].m(p,null))}for(;y<S.length;y+=1)S[y].d(1);S.length=v.length}Y[0]&2048&&m!==(m=`top: ${g[11]}px`)&&c(p,"style",m),g[3].length>0?D?D.p(g,Y):(D=ii(g),D.c(),D.m(P.parentNode,P)):D&&(D.d(1),D=null),O&&b.p(g,Y)},i:ee,o:ee,d(g){g&&(z(t),z(A),z(P),z(B)),ae(w,g),ae(T,g),F&&F.d(),ae(M,g),e[40](null),E&&E.d(),ae(S,g),D&&D.d(g),b&&b.d(g)}}}const et=880,De=360,Re=6,Rn=3,dn=18,_n=18,ff=22,cf=10,hf=6;function df(e){return e.map(t=>{const n=t.pieces??t.pieces,r=Array.isArray(n)?n.map(i=>`${i}`.trim()).filter(Boolean):n!=null&&`${n}`.trim().length?[`${n}`.trim()]:[];return{...t,pieces:r}})}function _f(e){const t=[];let n=0;if(e.length>0){const r=e[0];if(r.conductor){const i=n%Rn;t.push({year:r.year,conductor:r.conductor,lane:i}),n+=1}}for(let r=1;r<e.length;r+=1){const i=e[r-1],o=e[r];if(i.conductor&&o.conductor&&i.conductor!==o.conductor){const l=n%Rn;t.push({year:o.year,conductor:o.conductor,lane:l}),n+=1}}return t}function Fn(e,t,n){return`M ${e} ${t-n} L ${e+n} ${t+n} L ${e-n} ${t+n} Z`}function si(e){if(!e)return Number.POSITIVE_INFINITY;const t=e.trim().toLowerCase();if(t==="elite")return 0;const n=t.match(/(\d+)/);return n?parseInt(n[1],10):Number.POSITIVE_INFINITY}function pf(e,t){const n=si(e),r=si(t);return n!==r?n-r:e.localeCompare(t)}function mf(e){return e.aggregate_entries}function gf(e,t,n){let{bands:r=[]}=t,{years:i=[]}=t,{maxFieldSize:o=0}=t,{yMode:l="relative"}=t,{showConductorMarkers:s=!0}=t;const a={top:24,right:48,bottom:48,left:72},u={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},f=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],h=["circle","square","triangle"],d=a.top+6,p=De-a.bottom-12;let m=null,A={offsetX:0,scaleX:1,offsetY:0,scaleY:1},P=null,O=null,B=null,L=0,w=0;const k=()=>s&&r.length===1;function T(I){if(I.absolute_position==null)return 0;const V=I.field_size??Y??o??1;return V?I.absolute_position/V*100:0}function F(I){return l==="relative"?T(I):I.absolute_position??0}function $(){if(!m)return;const I=m.getBoundingClientRect(),V=m.parentElement;if(!V)return;const Z=V.getBoundingClientRect();I.width===0||I.height===0||n(25,A={offsetX:I.left-Z.left,scaleX:I.width/et,offsetY:I.top-Z.top,scaleY:I.height/De})}function M(){!P||!m||O!==m&&(O&&P.unobserve(O),P.observe(m),O=m)}gn(()=>{typeof ResizeObserver<"u"&&(P=new ResizeObserver(()=>$())),M(),$(),window.addEventListener("resize",$)}),Cl(()=>{M(),$()}),Tl(()=>{P==null||P.disconnect(),window.removeEventListener("resize",$)});function E(I){var fe;const V=g;if(!V)return{anchor:"middle",dx:0};const Z=V(I.year)??a.left,_e=(((fe=I.conductor)==null?void 0:fe.length)??0)*hf/2,pe=et-a.right;return Z+_e>pe?{anchor:"end",dx:-8}:Z-_e<a.left?{anchor:"start",dx:8}:{anchor:"middle",dx:0}}function v(I,V){const Z=I.find(ce=>ce.year===V.year);if(!Z)return a.top-8+V.lane*dn;const me=H(F(Z)),_e=I.filter(ce=>ce.year>=V.year-1&&ce.year<=V.year+1).map(ce=>({year:ce.year,y:H(F(ce))})).sort((ce,at)=>ce.year-at.year),pe=_e.findIndex(ce=>ce.year===V.year);let fe=!0;if(pe>0&&pe<_e.length-1){const ce=_e[pe-1],at=_e[pe+1],tn=Math.abs(me-ce.y),nn=Math.abs(me-at.y);(tn<_n+4||nn<_n+4)&&(fe=!1)}const ie=_n+V.lane*(dn/2),Te=me-ie;if(fe&&Te>d)return Te;const Jt=V.lane/Rn,en=ff+V.lane*(dn/2)+Jt*24;return Math.min(me+en,p)}let S=[],D=[],b=[],g=Mr().domain([0]).range([a.left,et-a.right]),Y=1,y=[Y+1,0],H=$n().domain(y).range([De-a.bottom,a.top]),X=[],Q=[],se=[],je=new Set,Le=1,ve=b,K=[],xe=De,ue=[];const ze=()=>ue.length>0;function Ee(I,V,Z,me){const _e=I.currentTarget,pe=_e.ownerSVGElement;if(!pe)return;const fe=pe.getBoundingClientRect();if(I instanceof MouseEvent)n(7,L=I.clientX-fe.left),n(8,w=I.clientY-fe.top);else{const ie=_e.getBoundingClientRect();n(7,L=ie.left+ie.width/2-fe.left),n(8,w=ie.top+ie.height/2-fe.top)}n(6,B={entry:V,bandName:Z,lineColor:me})}function wt(){n(6,B=null)}const Ce=(I,V,Z)=>Ee(Z,I,V.band.name,V.color),Zt=(I,V,Z)=>Ee(Z,I,V.band.name,V.color),Qt=(I,V,Z)=>Ee(Z,I,V.band.name,V.color),ot=(I,V,Z)=>Ee(Z,I,V.band.name,V.color),Ge=(I,V,Z)=>Ee(Z,I,V.band.name,V.color),kt=(I,V,Z)=>Ee(Z,I,V.band.name,V.color);function st(I){yn[I?"unshift":"push"](()=>{m=I,n(5,m)})}return e.$$set=I=>{"bands"in I&&n(21,r=I.bands),"years"in I&&n(22,i=I.years),"maxFieldSize"in I&&n(23,o=I.maxFieldSize),"yMode"in I&&n(0,l=I.yMode),"showConductorMarkers"in I&&n(24,s=I.showConductorMarkers)},e.$$.update=()=>{e.$$.dirty[0]&2097152&&n(26,S=r.map(I=>({band:I,entries:df(I.entries)}))),e.$$.dirty[0]&67108864&&n(27,D=S.flatMap(I=>I.entries)),e.$$.dirty[0]&138412032&&n(28,b=i.length?i:D.length?Array.from(new Set(D.map(I=>I.year))).sort((I,V)=>I-V):[0]),e.$$.dirty[0]&268435456&&n(1,g=Mr().domain(b).range([a.left,et-a.right])),e.$$.dirty[0]&142606336&&n(29,Y=o||(D.length?Math.max(...D.map(I=>I.field_size)):1)),e.$$.dirty[0]&536870913&&n(30,y=l==="relative"?[100,0]:[Y+1,0]),e.$$.dirty[0]&1073741824&&n(2,H=$n().domain(y).range([De-a.bottom,a.top])),e.$$.dirty[0]&335544326&&n(3,X=S.map((I,V)=>{const Z=[...I.entries].sort((ie,Te)=>ie.year-Te.year),me=b.map(ie=>Z.find(Te=>Te.year===ie)??null),pe=Wu().defined(ie=>ie!==null).x(ie=>g(ie.year)??a.left).y(ie=>H(F(ie))).curve(Zu)(me)??void 0,fe=k()?_f(Z):[];return{band:I.band,entries:Z,timeline:me,pathData:pe,conductorChanges:fe,color:f[V%f.length],shape:h[V%h.length]}})),e.$$.dirty[0]&8&&n(9,Q=k()&&X.length?X[0].conductorChanges.map(I=>({...I,...E(I),y:v(X[0].entries,I)})):[]),e.$$.dirty[0]&536870929&&(l==="relative"?n(4,se=Array.from({length:11},(I,V)=>V*10)):(n(4,se=Array.from(new Set(Yi(1,Y,6).map(I=>Math.round(I)))).filter(I=>I>=1).sort((I,V)=>I-V)),se.includes(1)||n(4,se=[1,...se]))),e.$$.dirty[0]&134217728&&n(31,je=new Set(D.map(I=>I.year))),e.$$.dirty[0]&268435456&&n(32,Le=b.length>30?5:b.length>18?3:1),e.$$.dirty[0]&268435456|e.$$.dirty[1]&2&&n(33,ve=b.filter((I,V)=>V===0||V===b.length-1||I===2019?!0:I%Le===0)),e.$$.dirty[0]&33554434|e.$$.dirty[1]&5&&n(10,K=ve.map(I=>{const V=g(I)??a.left,Z=A.offsetX+V*A.scaleX;return{year:I,x:Z,inactive:!je.has(I)}})),e.$$.dirty[0]&33554432&&n(11,xe=A.offsetY+(De-a.bottom)*A.scaleY+cf),e.$$.dirty[0]&134217728&&n(12,ue=Array.from(new Set(D.map(I=>I.division))).filter(I=>typeof I=="string"&&I.length>0).sort(pf))},[l,g,H,X,se,m,B,L,w,Q,K,xe,ue,a,u,k,T,F,ze,Ee,wt,r,i,o,s,A,S,D,b,Y,y,je,Le,ve,Ce,Zt,Qt,ot,Ge,kt,st]}class yf extends Kt{constructor(t){super(),Ht(this,t,gf,uf,yt,{bands:21,years:22,maxFieldSize:23,yMode:0,showConductorMarkers:24},null,[-1,-1,-1])}}function Ut(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}function ai(e,t,n){const r=e.slice();return r[17]=t[n].band,r[18]=t[n].entry,r}function ui(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function fi(e){const t=e.slice(),n=$f(t[18].pieces);return t[21]=n,t}function ci(e,t,n){const r=e.slice();return r[25]=t[n],r}function hi(e,t,n){const r=e.slice();return r[28]=t[n],r}function di(e){let t,n,r;return{c(){t=N("p"),n=R("Data oppdatert "),r=R(e[8]),c(t,"class","svelte-e68d4z")},m(i,o){C(i,t,o),_(t,n),_(t,r)},p(i,o){o&256&&U(r,i[8])},d(i){i&&z(t)}}}function vf(e){let t,n,r,i,o,l,s,a,u,f,h,d,p,m,A,P=W(e[1]),O=[];for(let M=0;M<P.length;M+=1)O[M]=_i(hi(e,P,M));function B(M,E){return M[3].length===0?Nf:kf}let L=B(e),w=L(e),k=e[6]&&mi(e);function T(M,E){return M[5].length===0?Ef:Mf}let F=T(e),$=F(e);return{c(){t=N("div"),n=N("label"),r=N("span"),r.textContent="År",i=q(),o=N("select");for(let M=0;M<O.length;M+=1)O[M].c();l=q(),s=N("label"),a=N("span"),a.textContent="Divisjon",u=q(),f=N("select"),w.c(),h=q(),k&&k.c(),d=q(),$.c(),p=le(),c(r,"class","svelte-e68d4z"),c(o,"class","svelte-e68d4z"),c(n,"class","control svelte-e68d4z"),c(a,"class","svelte-e68d4z"),c(f,"class","svelte-e68d4z"),c(s,"class","control svelte-e68d4z"),c(t,"class","data-controls svelte-e68d4z")},m(M,E){C(M,t,E),_(t,n),_(n,r),_(n,i),_(n,o);for(let v=0;v<O.length;v+=1)O[v]&&O[v].m(o,null);_(t,l),_(t,s),_(s,a),_(s,u),_(s,f),w.m(f,null),_(t,h),k&&k.m(t,null),C(M,d,E),$.m(M,E),C(M,p,E),m||(A=[J(o,"change",e[10]),J(f,"change",e[11])],m=!0)},p(M,E){if(E&6){P=W(M[1]);let v;for(v=0;v<P.length;v+=1){const S=hi(M,P,v);O[v]?O[v].p(S,E):(O[v]=_i(S),O[v].c(),O[v].m(o,null))}for(;v<O.length;v+=1)O[v].d(1);O.length=P.length}L===(L=B(M))&&w?w.p(M,E):(w.d(1),w=L(M),w&&(w.c(),w.m(f,null))),M[6]?k?k.p(M,E):(k=mi(M),k.c(),k.m(t,null)):k&&(k.d(1),k=null),F===(F=T(M))&&$?$.p(M,E):($.d(1),$=F(M),$&&($.c(),$.m(p.parentNode,p)))},d(M){M&&(z(t),z(d),z(p)),ae(O,M),w.d(),k&&k.d(),$.d(M),m=!1,ye(A)}}}function bf(e){let t;return{c(){t=N("p"),t.textContent="Ingen årsdata tilgjengelig.",c(t,"class","data-status svelte-e68d4z")},m(n,r){C(n,t,r)},p:ee,d(n){n&&z(t)}}}function wf(e){let t;return{c(){t=N("p"),t.textContent="Kunne ikke finne datasettet.",c(t,"class","data-status svelte-e68d4z")},m(n,r){C(n,t,r)},p:ee,d(n){n&&z(t)}}}function _i(e){let t,n=e[28]+"",r,i,o;return{c(){t=N("option"),r=R(n),t.__value=i=e[28],Xe(t,t.__value),t.selected=o=e[2]===e[28]},m(l,s){C(l,t,s),_(t,r)},p(l,s){s&2&&n!==(n=l[28]+"")&&U(r,n),s&2&&i!==(i=l[28])&&(t.__value=i,Xe(t,t.__value)),s&6&&o!==(o=l[2]===l[28])&&(t.selected=o)},d(l){l&&z(t)}}}function kf(e){let t,n=W(e[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=pi(ci(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=le()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);C(i,t,o)},p(i,o){if(o&24){n=W(i[3]);let l;for(l=0;l<n.length;l+=1){const s=ci(i,n,l);r[l]?r[l].p(s,o):(r[l]=pi(s),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&z(t),ae(r,i)}}}function Nf(e){let t;return{c(){t=N("option"),t.textContent="Ingen divisjoner",t.__value="",Xe(t,t.__value),t.selected=!0},m(n,r){C(n,t,r)},p:ee,d(n){n&&z(t)}}}function pi(e){let t,n=e[25]+"",r,i,o;return{c(){t=N("option"),r=R(n),t.__value=i=e[25],Xe(t,t.__value),t.selected=o=e[4]===e[25]},m(l,s){C(l,t,s),_(t,r)},p(l,s){s&8&&n!==(n=l[25]+"")&&U(r,n),s&8&&i!==(i=l[25])&&(t.__value=i,Xe(t,t.__value)),s&24&&o!==(o=l[4]===l[25])&&(t.selected=o)},d(l){l&&z(t)}}}function mi(e){let t,n,r,i,o,l=e[7]&&gi(e);return{c(){t=N("div"),n=N("span"),r=R(e[6]),i=R(" korps"),o=q(),l&&l.c(),c(n,"class","svelte-e68d4z"),c(t,"class","control control--summary svelte-e68d4z"),c(t,"aria-live","polite")},m(s,a){C(s,t,a),_(t,n),_(n,r),_(n,i),_(t,o),l&&l.m(t,null)},p(s,a){a&64&&U(r,s[6]),s[7]?l?l.p(s,a):(l=gi(s),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(s){s&&z(t),l&&l.d()}}}function gi(e){let t,n,r;return{c(){t=N("span"),n=R("Totalt felt: "),r=R(e[7]),c(t,"class","svelte-e68d4z")},m(i,o){C(i,t,o),_(t,n),_(t,r)},p(i,o){o&128&&U(r,i[7])},d(i){i&&z(t)}}}function Mf(e){let t,n,r,i,o,l=W(e[5]),s=[];for(let a=0;a<l.length;a+=1)s[a]=vi(ai(e,l,a));return{c(){t=N("div"),n=N("table"),r=N("thead"),r.innerHTML='<tr><th scope="col" class="svelte-e68d4z">Plass</th> <th scope="col" class="svelte-e68d4z">Korps</th> <th scope="col" class="svelte-e68d4z">Dirigent</th> <th scope="col" class="svelte-e68d4z">Poeng</th> <th scope="col" class="svelte-e68d4z">Program</th></tr>',i=q(),o=N("tbody");for(let a=0;a<s.length;a+=1)s[a].c();c(r,"class","svelte-e68d4z"),c(o,"class","svelte-e68d4z"),c(n,"class","svelte-e68d4z"),c(t,"class","table-wrapper svelte-e68d4z"),c(t,"role","region"),c(t,"aria-live","polite")},m(a,u){C(a,t,u),_(t,n),_(n,r),_(n,i),_(n,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,null)},p(a,u){if(u&544){l=W(a[5]);let f;for(f=0;f<l.length;f+=1){const h=ai(a,l,f);s[f]?s[f].p(h,u):(s[f]=vi(h),s[f].c(),s[f].m(o,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}},d(a){a&&z(t),ae(s,a)}}}function Ef(e){let t;return{c(){t=N("p"),t.textContent="Ingen resultater for valgt kombinasjon.",c(t,"class","data-status svelte-e68d4z")},m(n,r){C(n,t,r)},p:ee,d(n){n&&z(t)}}}function Sf(e){let t;function n(o,l){return o[21].length===0?If:Af}let r=n(e),i=r(e);return{c(){i.c(),t=le()},m(o,l){i.m(o,l),C(o,t,l)},p(o,l){r===(r=n(o))&&i?i.p(o,l):(i.d(1),i=r(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){o&&z(t),i.d(o)}}}function Af(e){let t,n=W(e[21]),r=[];for(let i=0;i<n.length;i+=1)r[i]=yi(ui(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=le()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);C(i,t,o)},p(i,o){if(o&32){n=W(i[21]);let l;for(l=0;l<n.length;l+=1){const s=ui(i,n,l);r[l]?r[l].p(s,o):(r[l]=yi(s),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&z(t),ae(r,i)}}}function If(e){let t;return{c(){t=N("span"),t.textContent="–"},m(n,r){C(n,t,r)},p:ee,d(n){n&&z(t)}}}function yi(e){let t,n=e[22]+"",r,i,o,l=e[24]<e[21].length-1?", ":"",s;return{c(){t=N("a"),r=R(n),i=q(),s=R(l),c(t,"href",o=`?view=pieces&piece=${encodeURIComponent(Ut(e[22]))}`),c(t,"class","program-link svelte-e68d4z")},m(a,u){C(a,t,u),_(t,r),_(t,i),C(a,s,u)},p(a,u){u&32&&n!==(n=a[22]+"")&&U(r,n),u&32&&o!==(o=`?view=pieces&piece=${encodeURIComponent(Ut(a[22]))}`)&&c(t,"href",o),u&32&&l!==(l=a[24]<a[21].length-1?", ":"")&&U(s,l)},d(a){a&&(z(t),z(s))}}}function vi(e){let t,n,r=bi(e[18].rank)+"",i,o,l,s=e[17]+"",a,u,f,h=(e[18].conductor??"Ukjent")+"",d,p,m,A=e[9](e[18].points,e[18].max_points)+"",P,O,B,L,w=Sf(fi(e));return{c(){t=N("tr"),n=N("td"),i=R(r),o=q(),l=N("td"),a=R(s),u=q(),f=N("td"),d=R(h),p=q(),m=N("td"),P=R(A),O=q(),B=N("td"),w&&w.c(),L=q(),c(n,"data-label","Plass"),c(n,"class","svelte-e68d4z"),c(l,"data-label","Korps"),c(l,"class","svelte-e68d4z"),c(f,"data-label","Dirigent"),c(f,"class","svelte-e68d4z"),c(m,"data-label","Poeng"),c(m,"class","svelte-e68d4z"),c(B,"data-label","Program"),c(B,"class","program-cell svelte-e68d4z"),c(t,"class","svelte-e68d4z")},m(k,T){C(k,t,T),_(t,n),_(n,i),_(t,o),_(t,l),_(l,a),_(t,u),_(t,f),_(f,d),_(t,p),_(t,m),_(m,P),_(t,O),_(t,B),w&&w.m(B,null),_(t,L)},p(k,T){T&32&&r!==(r=bi(k[18].rank)+"")&&U(i,r),T&32&&s!==(s=k[17]+"")&&U(a,s),T&32&&h!==(h=(k[18].conductor??"Ukjent")+"")&&U(d,h),T&32&&A!==(A=k[9](k[18].points,k[18].max_points)+"")&&U(P,A),w.p(fi(k),T)},d(k){k&&z(t),w&&w.d()}}}function zf(e){let t,n,r,i,o,l=e[8]&&di(e);function s(f,h){return f[0]?f[1].length?vf:bf:wf}let a=s(e),u=a(e);return{c(){t=N("section"),n=N("div"),r=N("h2"),r.textContent="Resultatlister per divisjon",i=q(),l&&l.c(),o=q(),u.c(),c(r,"class","svelte-e68d4z"),c(n,"class","data-lead svelte-e68d4z"),c(t,"class","data-view svelte-e68d4z")},m(f,h){C(f,t,h),_(t,n),_(n,r),_(n,i),l&&l.m(n,null),_(t,o),u.m(t,null)},p(f,[h]){f[8]?l?l.p(f,h):(l=di(f),l.c(),l.m(n,null)):l&&(l.d(1),l=null),a===(a=s(f))&&u?u.p(f,h):(u.d(1),u=a(f),u&&(u.c(),u.m(t,null)))},i:ee,o:ee,d(f){f&&z(t),l&&l.d(),u.d()}}}function Cf(e){const t=new Map;for(const n of e.bands)for(const r of n.entries){let i=t.get(r.year);i||(i=new Map,t.set(r.year,i));const o=r.division;let l=i.get(o);l||(l=[],i.set(o,l)),l.push({band:n.name,entry:r})}return t}function Tf(e){return[...e].sort((t,n)=>{const r=t.entry.rank??Number.POSITIVE_INFINITY,i=n.entry.rank??Number.POSITIVE_INFINITY;if(r!==i)return r-i;const o=t.entry.absolute_position??Number.POSITIVE_INFINITY,l=n.entry.absolute_position??Number.POSITIVE_INFINITY;return o!==l?o-l:t.band.localeCompare(n.band)})}function bi(e){return e!=null?`${e}`:"–"}function $f(e){return e.map(t=>t.trim()).filter(Boolean)}function Rf(e){if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat("nb-NO",{dateStyle:"medium",timeStyle:"short"}).format(t)}function Ff(e,t,n){let r,{dataset:i=null}=t;const o=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let l=[],s=null,a=[],u=null,f=[],h=null,d=null,p=null,m=new Map;function A(w){return w.length?s&&w.includes(s)?s:w[w.length-1]??null:null}function P(w){return w.length?u&&w.includes(u)?u:w[0]??null:null}function O(w,k){if(w==null&&k==null)return"–";const T=w==null?"–":o.format(w);return k==null,T}function B(w){const k=Number(w.target.value);n(2,s=Number.isNaN(k)?null:k)}function L(w){n(4,u=w.target.value||null)}return e.$$set=w=>{"dataset"in w&&n(0,i=w.dataset)},e.$$.update=()=>{var w,k;if(e.$$.dirty&3&&(i?(n(13,m=Cf(i)),n(1,l=i.metadata.years),n(12,p=i.metadata.generated_at??null),n(2,s=A(l))):(n(13,m=new Map),n(1,l=[]),n(12,p=null),n(2,s=null))),e.$$.dirty&8205)if(i&&s!=null){const T=m.get(s)??new Map,F=i.metadata.divisions.filter(M=>T.has(M)),$=Array.from(T.keys()).filter(M=>!F.includes(M)).sort();n(3,a=[...F,...$]),n(4,u=P(a))}else n(3,a=[]),n(4,u=null);if(e.$$.dirty&8244)if(s!=null&&u&&m.has(s)){const T=((w=m.get(s))==null?void 0:w.get(u))??[];n(5,f=Tf(T));const F=(k=f[0])==null?void 0:k.entry,$=(F==null?void 0:F.division_size)??f.length;n(6,h=$&&$>0?$:null);const M=(F==null?void 0:F.field_size)??null;n(7,d=M&&M>0?M:null)}else n(5,f=[]),n(6,h=null),n(7,d=null);e.$$.dirty&4096&&n(8,r=Rf(p))},[i,l,s,a,u,f,h,d,r,O,B,L,p,m]}class Pf extends Kt{constructor(t){super(),Ht(this,t,Ff,zf,yt,{dataset:0})}}function wi(e,t,n){const r=e.slice();return r[4]=t[n],r}function ki(e,t,n){const r=e.slice();return r[7]=t[n],r}function Ni(e){let t,n,r=e[7].entry.year+"",i,o,l,s=e[7].entry.division+"",a,u,f,h=e[7].band+"",d,p,m,A=Ei(e[7].entry.rank)+"",P,O,B,L=e[1](e[7].entry.points)+"",w,k,T,F=(e[7].entry.conductor??"Ukjent")+"",$,M;return{c(){t=N("tr"),n=N("td"),i=R(r),o=q(),l=N("td"),a=R(s),u=q(),f=N("td"),d=R(h),p=q(),m=N("td"),P=R(A),O=q(),B=N("td"),w=R(L),k=q(),T=N("td"),$=R(F),M=q(),c(n,"data-label","År"),c(n,"class","svelte-1xb0loe"),c(l,"data-label","Divisjon"),c(l,"class","svelte-1xb0loe"),c(f,"data-label","Korps"),c(f,"class","svelte-1xb0loe"),c(m,"data-label","Plass"),c(m,"class","svelte-1xb0loe"),c(B,"data-label","Poeng"),c(B,"class","svelte-1xb0loe"),c(T,"data-label","Dirigent"),c(T,"class","svelte-1xb0loe"),c(t,"class","svelte-1xb0loe")},m(E,v){C(E,t,v),_(t,n),_(n,i),_(t,o),_(t,l),_(l,a),_(t,u),_(t,f),_(f,d),_(t,p),_(t,m),_(m,P),_(t,O),_(t,B),_(B,w),_(t,k),_(t,T),_(T,$),_(t,M)},p(E,v){v&1&&r!==(r=E[7].entry.year+"")&&U(i,r),v&1&&s!==(s=E[7].entry.division+"")&&U(a,s),v&1&&h!==(h=E[7].band+"")&&U(d,h),v&1&&A!==(A=Ei(E[7].entry.rank)+"")&&U(P,A),v&1&&L!==(L=E[1](E[7].entry.points)+"")&&U(w,L),v&1&&F!==(F=(E[7].entry.conductor??"Ukjent")+"")&&U($,F)},d(E){E&&z(t)}}}function Mi(e){let t,n,r,i,o=e[4].name+"",l,s,a,u=e[4].performances.length+"",f,h,d,p,m,A,P,O,B,L,w=W(e[4].performances),k=[];for(let T=0;T<w.length;T+=1)k[T]=Ni(ki(e,w,T));return{c(){t=N("article"),n=N("header"),r=N("div"),i=N("h2"),l=R(o),s=q(),a=N("p"),f=R(u),h=R(" fremføringer"),d=q(),p=N("div"),m=N("table"),A=N("thead"),A.innerHTML='<tr><th scope="col" class="svelte-1xb0loe">År</th> <th scope="col" class="svelte-1xb0loe">Divisjon</th> <th scope="col" class="svelte-1xb0loe">Korps</th> <th scope="col" class="svelte-1xb0loe">Plass</th> <th scope="col" class="svelte-1xb0loe">Poeng</th> <th scope="col" class="svelte-1xb0loe">Dirigent</th></tr>',P=q(),O=N("tbody");for(let T=0;T<k.length;T+=1)k[T].c();L=q(),c(i,"class","svelte-1xb0loe"),c(a,"class","svelte-1xb0loe"),c(n,"class","piece-header svelte-1xb0loe"),c(A,"class","svelte-1xb0loe"),c(O,"class","svelte-1xb0loe"),c(m,"class","svelte-1xb0loe"),c(p,"class","table-wrapper svelte-1xb0loe"),c(p,"role","region"),c(p,"aria-label",B=`Fremføringer av ${e[4].name}`),c(t,"class","piece-card svelte-1xb0loe")},m(T,F){C(T,t,F),_(t,n),_(n,r),_(r,i),_(i,l),_(r,s),_(r,a),_(a,f),_(a,h),_(t,d),_(t,p),_(p,m),_(m,A),_(m,P),_(m,O);for(let $=0;$<k.length;$+=1)k[$]&&k[$].m(O,null);_(t,L)},p(T,F){if(F&1&&o!==(o=T[4].name+"")&&U(l,o),F&1&&u!==(u=T[4].performances.length+"")&&U(f,u),F&3){w=W(T[4].performances);let $;for($=0;$<w.length;$+=1){const M=ki(T,w,$);k[$]?k[$].p(M,F):(k[$]=Ni(M),k[$].c(),k[$].m(O,null))}for(;$<k.length;$+=1)k[$].d(1);k.length=w.length}F&1&&B!==(B=`Fremføringer av ${T[4].name}`)&&c(p,"aria-label",B)},d(T){T&&z(t),ae(k,T)}}}function Lf(e){let t,n=W(e[0]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Mi(wi(e,n,i));return{c(){t=N("section");for(let i=0;i<r.length;i+=1)r[i].c();c(t,"class","pieces-view svelte-1xb0loe")},m(i,o){C(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,[o]){if(o&3){n=W(i[0]);let l;for(l=0;l<n.length;l+=1){const s=wi(i,n,l);r[l]?r[l].p(s,o):(r[l]=Mi(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:ee,o:ee,d(i){i&&z(t),ae(r,i)}}}function xf(e){return[...e].sort((t,n)=>{const r=t.entry.year-n.entry.year;if(r!==0)return r;const i=t.entry.rank??Number.POSITIVE_INFINITY,o=n.entry.rank??Number.POSITIVE_INFINITY;return i!==o?i-o:t.band.localeCompare(n.band)})}function Ei(e){return e!=null?`${e}`:"–"}function Df(e,t,n){let r,{pieces:i=[]}=t;const o=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function l(s){return s==null?"–":o.format(s)}return e.$$set=s=>{"pieces"in s&&n(2,i=s.pieces)},e.$$.update=()=>{e.$$.dirty&4&&n(0,r=i.map(s=>({...s,performances:xf(s.performances)})))},[r,l,i]}class Of extends Kt{constructor(t){super(),Ht(this,t,Df,Lf,yt,{pieces:2})}}function Si(e,t,n){const r=e.slice();return r[66]=t[n],r[68]=n,r}function Ai(e,t,n){const r=e.slice();return r[66]=t[n],r[68]=n,r}function Ii(e,t,n){const r=e.slice();return r[70]=t[n],r}function zi(e){let t,n=e[27][e[70]]+"",r,i,o,l,s;function a(){return e[48](e[70])}return{c(){t=N("button"),r=R(n),i=q(),c(t,"type","button"),c(t,"aria-pressed",o=e[2]===e[70]),c(t,"class","svelte-hydqz6"),Oe(t,"selected",e[2]===e[70])},m(u,f){C(u,t,f),_(t,r),_(t,i),l||(s=J(t,"click",a),l=!0)},p(u,f){e=u,f[0]&4&&o!==(o=e[2]===e[70])&&c(t,"aria-pressed",o),f[0]&268435460&&Oe(t,"selected",e[2]===e[70])},d(u){u&&z(t),l=!1,s()}}}function Ci(e){let t,n,r,i,o,l,s,a,u,f,h=e[3].length>0&&Ti(e),d=e[26].length>0&&Ri(e);return{c(){t=N("form"),n=N("label"),r=R(e[23]),i=q(),o=N("input"),l=q(),h&&h.c(),s=q(),d&&d.c(),a=le(),c(n,"class","sr-only svelte-hydqz6"),c(n,"for","entity-search"),c(o,"id","entity-search"),c(o,"type","search"),c(o,"placeholder",e[24]),c(o,"autocomplete","off"),c(t,"class","search svelte-hydqz6")},m(p,m){C(p,t,m),_(t,n),_(n,r),_(t,i),_(t,o),Xe(o,e[1]),C(p,l,m),h&&h.m(p,m),C(p,s,m),d&&d.m(p,m),C(p,a,m),u||(f=[J(o,"input",e[49]),J(o,"input",e[33]),J(o,"keydown",e[34]),J(t,"submit",Oi(e[32]))],u=!0)},p(p,m){m[0]&8388608&&U(r,p[23]),m[0]&16777216&&c(o,"placeholder",p[24]),m[0]&2&&o.value!==p[1]&&Xe(o,p[1]),p[3].length>0?h?h.p(p,m):(h=Ti(p),h.c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null),p[26].length>0?d?d.p(p,m):(d=Ri(p),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},d(p){p&&(z(t),z(l),z(s),z(a)),h&&h.d(p),d&&d.d(p),u=!1,ye(f)}}}function Ti(e){let t,n=W(e[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=$i(Ai(e,n,i));return{c(){t=N("div");for(let i=0;i<r.length;i+=1)r[i].c();c(t,"class","selected-entities svelte-hydqz6"),c(t,"role","list"),c(t,"aria-label",e[21])},m(i,o){C(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&8|o[1]&1){n=W(i[3]);let l;for(l=0;l<n.length;l+=1){const s=Ai(i,n,l);r[l]?r[l].p(s,o):(r[l]=$i(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}o[0]&2097152&&c(t,"aria-label",i[21])},d(i){i&&z(t),ae(r,i)}}}function $i(e){let t,n,r,i,o=e[66].name+"",l,s,a,u,f,h,d,p;function m(){return e[50](e[66])}return{c(){t=N("span"),n=N("span"),n.textContent=`${e[68]+1}`,r=q(),i=N("span"),l=R(o),s=q(),a=N("button"),u=R("×"),h=q(),c(n,"class","selected-entity__index svelte-hydqz6"),c(i,"class","selected-entity__name svelte-hydqz6"),c(a,"type","button"),c(a,"aria-label",f=`Fjern ${e[66].name}`),c(a,"class","svelte-hydqz6"),c(t,"class","selected-entity svelte-hydqz6"),c(t,"role","listitem")},m(A,P){C(A,t,P),_(t,n),_(t,r),_(t,i),_(i,l),_(t,s),_(t,a),_(a,u),_(t,h),d||(p=J(a,"click",m),d=!0)},p(A,P){e=A,P[0]&8&&o!==(o=e[66].name+"")&&U(l,o),P[0]&8&&f!==(f=`Fjern ${e[66].name}`)&&c(a,"aria-label",f)},d(A){A&&z(t),d=!1,p()}}}function Ri(e){let t,n=W(e[26]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Fi(Si(e,n,i));return{c(){t=N("div");for(let i=0;i<r.length;i+=1)r[i].c();c(t,"class","suggestions svelte-hydqz6"),c(t,"role","listbox"),c(t,"aria-label",e[22])},m(i,o){C(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&1140850944){n=W(i[26]);let l;for(l=0;l<n.length;l+=1){const s=Si(i,n,l);r[l]?r[l].p(s,o):(r[l]=Fi(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}o[0]&4194304&&c(t,"aria-label",i[22])},d(i){i&&z(t),ae(r,i)}}}function Fi(e){let t,n=e[66].name+"",r,i,o,l,s,a;function u(){return e[51](e[66])}return{c(){t=N("div"),r=R(n),i=q(),c(t,"class",o="suggestion "+(e[68]===e[8]?"active":"")+" svelte-hydqz6"),c(t,"role","option"),c(t,"tabindex","-1"),c(t,"aria-selected",l=e[68]===e[8])},m(f,h){C(f,t,h),_(t,r),_(t,i),s||(a=J(t,"mousedown",Oi(u)),s=!0)},p(f,h){e=f,h[0]&67108864&&n!==(n=e[66].name+"")&&U(r,n),h[0]&256&&o!==(o="suggestion "+(e[68]===e[8]?"active":"")+" svelte-hydqz6")&&c(t,"class",o),h[0]&256&&l!==(l=e[68]===e[8])&&c(t,"aria-selected",l)},d(f){f&&z(t),s=!1,a()}}}function qf(e){let t,n;return t=new Pf({props:{dataset:e[0]}}),{c(){On(t.$$.fragment)},m(r,i){Vt(t,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.dataset=r[0]),t.$set(o)},i(r){n||(ke(t.$$.fragment,r),n=!0)},o(r){Fe(t.$$.fragment,r),n=!1},d(r){Xt(t,r)}}}function Bf(e){let t,n,r,i;const o=[Hf,Xf],l=[];function s(a,u){return a[3].length>0?0:1}return t=s(e),n=l[t]=o[t](e),{c(){n.c(),r=le()},m(a,u){l[t].m(a,u),C(a,r,u),i=!0},p(a,u){let f=t;t=s(a),t===f?l[t].p(a,u):(xn(),Fe(l[f],1,1,()=>{l[f]=null}),Dn(),n=l[t],n?n.p(a,u):(n=l[t]=o[t](a),n.c()),ke(n,1),n.m(r.parentNode,r))},i(a){i||(ke(n),i=!0)},o(a){Fe(n),i=!1},d(a){a&&z(r),l[t].d(a)}}}function Yf(e){let t;return{c(){t=N("section"),t.textContent="Ingen data tilgjengelig.",c(t,"class","status svelte-hydqz6")},m(n,r){C(n,t,r)},p:ee,i:ee,o:ee,d(n){n&&z(t)}}}function Uf(e){let t,n;return{c(){t=N("section"),n=R(e[7]),c(t,"class","status error svelte-hydqz6")},m(r,i){C(r,t,i),_(t,n)},p(r,i){i[0]&128&&U(n,r[7])},i:ee,o:ee,d(r){r&&z(t)}}}function Vf(e){let t;return{c(){t=N("section"),t.textContent="Laster data…",c(t,"class","status svelte-hydqz6")},m(n,r){C(n,t,r)},p:ee,i:ee,o:ee,d(n){n&&z(t)}}}function Xf(e){let t,n,r,i,o,l;return{c(){t=N("section"),n=N("h2"),r=R(e[20]),i=q(),o=N("p"),l=R(e[19]),c(t,"class","empty-state svelte-hydqz6")},m(s,a){C(s,t,a),_(t,n),_(n,r),_(t,i),_(t,o),_(o,l)},p(s,a){a[0]&1048576&&U(r,s[20]),a[0]&524288&&U(l,s[19])},i:ee,o:ee,d(s){s&&z(t)}}}function Hf(e){let t,n,r,i;const o=[jf,Kf],l=[];function s(a,u){return a[2]==="pieces"?0:1}return t=s(e),n=l[t]=o[t](e),{c(){n.c(),r=le()},m(a,u){l[t].m(a,u),C(a,r,u),i=!0},p(a,u){let f=t;t=s(a),t===f?l[t].p(a,u):(xn(),Fe(l[f],1,1,()=>{l[f]=null}),Dn(),n=l[t],n?n.p(a,u):(n=l[t]=o[t](a),n.c()),ke(n,1),n.m(r.parentNode,r))},i(a){i||(ke(n),i=!0)},o(a){Fe(n),i=!1},d(a){a&&z(r),l[t].d(a)}}}function Kf(e){let t,n,r,i,o,l,s,a,u,f,h,d,p,m,A,P,O,B,L,w,k,T,F,$,M,E=e[13]&&Pi(e);return T=new yf({props:{years:e[4],maxFieldSize:e[25],bands:e[11],yMode:e[9],showConductorMarkers:e[2]==="bands"}}),{c(){t=N("section"),n=N("div"),r=N("span"),r.textContent="Plassering:",i=q(),o=N("div"),l=N("button"),s=R("Absolutt"),u=q(),f=N("button"),h=R("Relativ"),p=q(),m=N("div"),A=N("h2"),P=R(e[14]),O=q(),B=N("p"),L=R(e[10]),w=q(),E&&E.c(),k=q(),On(T.$$.fragment),c(r,"class","mode-toggle__label svelte-hydqz6"),c(l,"type","button"),c(l,"aria-pressed",a=e[9]==="absolute"),c(l,"class","svelte-hydqz6"),Oe(l,"selected",e[9]==="absolute"),c(f,"type","button"),c(f,"aria-pressed",d=e[9]==="relative"),c(f,"class","svelte-hydqz6"),Oe(f,"selected",e[9]==="relative"),c(o,"class","mode-toggle__buttons svelte-hydqz6"),c(o,"role","group"),c(o,"aria-label","Velg plasseringsvisning"),c(n,"class","mode-toggle svelte-hydqz6"),c(A,"class","svelte-hydqz6"),c(B,"class","svelte-hydqz6"),c(m,"class","chart-header svelte-hydqz6"),c(t,"class","chart-card svelte-hydqz6")},m(v,S){C(v,t,S),_(t,n),_(n,r),_(n,i),_(n,o),_(o,l),_(l,s),_(o,u),_(o,f),_(f,h),_(t,p),_(t,m),_(m,A),_(A,P),_(m,O),_(m,B),_(B,L),_(m,w),E&&E.m(m,null),_(t,k),Vt(T,t,null),F=!0,$||(M=[J(l,"click",e[52]),J(f,"click",e[53])],$=!0)},p(v,S){(!F||S[0]&512&&a!==(a=v[9]==="absolute"))&&c(l,"aria-pressed",a),(!F||S[0]&512)&&Oe(l,"selected",v[9]==="absolute"),(!F||S[0]&512&&d!==(d=v[9]==="relative"))&&c(f,"aria-pressed",d),(!F||S[0]&512)&&Oe(f,"selected",v[9]==="relative"),(!F||S[0]&16384)&&U(P,v[14]),(!F||S[0]&1024)&&U(L,v[10]),v[13]?E?E.p(v,S):(E=Pi(v),E.c(),E.m(m,null)):E&&(E.d(1),E=null);const D={};S[0]&16&&(D.years=v[4]),S[0]&33554432&&(D.maxFieldSize=v[25]),S[0]&2048&&(D.bands=v[11]),S[0]&512&&(D.yMode=v[9]),S[0]&4&&(D.showConductorMarkers=v[2]==="bands"),T.$set(D)},i(v){F||(ke(T.$$.fragment,v),F=!0)},o(v){Fe(T.$$.fragment,v),F=!1},d(v){v&&z(t),E&&E.d(),Xt(T),$=!1,ye(M)}}}function jf(e){let t,n;return t=new Of({props:{pieces:e[12]}}),{c(){On(t.$$.fragment)},m(r,i){Vt(t,r,i),n=!0},p(r,i){const o={};i[0]&4096&&(o.pieces=r[12]),t.$set(o)},i(r){n||(ke(t.$$.fragment,r),n=!0)},o(r){Fe(t.$$.fragment,r),n=!1},d(r){Xt(t,r)}}}function Pi(e){let t,n;return{c(){t=N("p"),n=R(e[13]),c(t,"class","comparison-summary svelte-hydqz6")},m(r,i){C(r,t,i),_(t,n)},p(r,i){i[0]&8192&&U(n,r[13])},d(r){r&&z(t)}}}function Gf(e){let t,n,r,i,o,l,s,a,u,f,h,d,p,m,A,P,O,B,L,w,k,T,F,$=W(e[28]),M=[];for(let b=0;b<$.length;b+=1)M[b]=zi(Ii(e,$,b));let E=e[5]&&Ci(e);const v=[Vf,Uf,Yf,Bf,qf],S=[];function D(b,g){return b[6]?0:b[7]?1:b[0]?b[5]?3:4:2}return L=D(e),w=S[L]=v[L](e),{c(){t=N("main"),n=N("header"),r=N("h1"),r.textContent="NM Janitsjar",i=q(),o=N("div"),l=N("div");for(let b=0;b<M.length;b+=1)M[b].c();s=q(),a=N("button"),u=N("span"),f=R(e[15]),h=q(),d=N("span"),p=R(e[16]),m=q(),A=N("p"),P=R(e[18]),O=q(),E&&E.c(),B=q(),w.c(),c(r,"class","svelte-hydqz6"),c(l,"class","view-toggle svelte-hydqz6"),c(l,"role","group"),c(l,"aria-label","Bytt visning"),c(u,"aria-hidden","true"),c(d,"class","theme-toggle__text svelte-hydqz6"),c(a,"class","theme-toggle svelte-hydqz6"),c(a,"type","button"),c(a,"aria-label",e[17]),c(o,"class","header-controls svelte-hydqz6"),c(n,"class","page-header svelte-hydqz6"),c(A,"class","lead svelte-hydqz6"),c(t,"class","svelte-hydqz6")},m(b,g){C(b,t,g),_(t,n),_(n,r),_(n,i),_(n,o),_(o,l);for(let Y=0;Y<M.length;Y+=1)M[Y]&&M[Y].m(l,null);_(o,s),_(o,a),_(a,u),_(u,f),_(a,h),_(a,d),_(d,p),_(t,m),_(t,A),_(A,P),_(t,O),E&&E.m(t,null),_(t,B),S[L].m(t,null),k=!0,T||(F=J(a,"click",e[29]),T=!0)},p(b,g){if(g[0]&402653188|g[1]&16){$=W(b[28]);let y;for(y=0;y<$.length;y+=1){const H=Ii(b,$,y);M[y]?M[y].p(H,g):(M[y]=zi(H),M[y].c(),M[y].m(l,null))}for(;y<M.length;y+=1)M[y].d(1);M.length=$.length}(!k||g[0]&32768)&&U(f,b[15]),(!k||g[0]&65536)&&U(p,b[16]),(!k||g[0]&131072)&&c(a,"aria-label",b[17]),(!k||g[0]&262144)&&U(P,b[18]),b[5]?E?E.p(b,g):(E=Ci(b),E.c(),E.m(t,B)):E&&(E.d(1),E=null);let Y=L;L=D(b),L===Y?S[L].p(b,g):(xn(),Fe(S[Y],1,1,()=>{S[Y]=null}),Dn(),w=S[L],w?w.p(b,g):(w=S[L]=v[L](b),w.c()),ke(w,1),w.m(t,null))},i(b){k||(ke(w),k=!0)},o(b){Fe(w),k=!1},d(b){b&&z(t),ae(M,b),E&&E.d(),S[L].d(),T=!1,F()}}}const kl="mode",Nl="view",qe=",",Ml="relative",Pn="bands",El="nmjanitsjar-theme";function Wf(e,t){const n=Array.isArray(e.pieces)?[...e.pieces]:e.pieces!=null?[`${e.pieces}`.trim()].filter(Boolean):[],r={...e,pieces:n,conductor:e.conductor};return t&&(r.band_name=t),r}function Zf(){if(typeof window>"u")return Ml;const t=new URLSearchParams(window.location.search).get(kl);return(t?t.toLowerCase():null)==="absolute"?"absolute":"relative"}function Qf(){var t;if(typeof window>"u")return"dark";try{const n=window.localStorage.getItem(El);if(n==="light"||n==="dark")return n}catch(n){console.error("Kunne ikke lese lagret tema",n)}return((t=window.matchMedia)==null?void 0:t.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function Li(e){typeof document>"u"||(e==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function Jf(){var n;if(typeof window>"u")return Pn;const t=(n=new URLSearchParams(window.location.search).get(Nl))==null?void 0:n.toLowerCase();return t?t==="conductors"||t==="dirigent"||t==="conductor"?"conductors":t==="pieces"||t==="piece"||t==="stykke"||t==="stykker"?"pieces":t==="data"||t==="resultat"||t==="results"?"data":"bands":Pn}function pn(e,t){if(!e.length||!t.length)return[];const n=new Map(e.map(r=>[r.slug,r]));return t.map(r=>n.get(r)??n.get(r.toLowerCase())).filter(r=>!!r)}function mn(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.slug===t[r].slug)}function ec(e,t,n){let r,i,o,l,s,a,u,f,h,d,p,m,A,P,O,B,L,w,k,T,F,$;const M={bands:"band",conductors:"conductor",pieces:"piece"},E={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",data:"Resultat"},v=["bands","conductors","pieces","data"];let S=null,D=[],b=[],g=!0,Y=null,y="",H=[],X=[],Q=[],se=-1,je=!1,Le="",ve=Ml,K=Pn,xe=[],ue=[],ze="dark";function Ee(x){var te;const j=new Map;for(const G of x)for(const ne of G.entries){const he=(te=ne.conductor)==null?void 0:te.trim();if(!he)continue;const oe=Ut(he);let Se=j.get(oe);Se||(Se={name:he,slug:oe,years:new Map},j.set(oe,Se));let ge=Se.years.get(ne.year);ge||(ge={entries:[]},Se.years.set(ne.year,ge)),ge.entries.push(Wf(ne,G.name))}return Array.from(j.values()).map(G=>({name:G.name,slug:G.slug,entries:Array.from(G.years.entries()).map(([ne,he])=>{const oe=[...he.entries].sort((ge,Wn)=>{const Zn=ge.absolute_position??Number.POSITIVE_INFINITY,Qn=Wn.absolute_position??Number.POSITIVE_INFINITY;return Zn!==Qn?Zn-Qn:(ge.rank??Number.POSITIVE_INFINITY)-(Wn.rank??Number.POSITIVE_INFINITY)});return{...oe[0],year:ne,conductor:G.name,aggregate_entries:oe}}).sort((ne,he)=>ne.year-he.year)})).sort((G,ne)=>G.name.localeCompare(ne.name))}function wt(x){const j=new Map;for(const te of x)for(const G of te.entries){const ne=Array.isArray(G.pieces)?G.pieces:G.pieces!=null?[`${G.pieces}`]:[];for(const he of ne){const oe=he.trim();if(!oe)continue;const Se=Ut(oe);let ge=j.get(Se);ge||(ge={name:oe,slug:Se,performances:[]},j.set(Se,ge)),ge.performances.push({band:te.name,entry:G})}}return Array.from(j.values()).map(te=>({...te,performances:te.performances.map(({band:G,entry:ne})=>({band:G,entry:{...ne,pieces:[...ne.pieces]}}))})).sort((te,G)=>te.name.localeCompare(G.name))}function Ce(x){return M[x]}function Zt(x){if(n(43,ze=x),Li(x),typeof window<"u")try{window.localStorage.setItem(El,x)}catch(j){console.error("Kunne ikke lagre tema",j)}}function Qt(){Zt(ze==="dark"?"light":"dark")}function ot(x){if(typeof window>"u")return[];const te=new URLSearchParams(window.location.search).get(Ce(x));return te?te.split(qe).map(G=>decodeURIComponent(G.trim())).filter(Boolean):[]}function Ge(){if(typeof window>"u")return;const x=new URLSearchParams(window.location.search),j=H.map(oe=>encodeURIComponent(oe.slug)).join(qe);j.length?x.set(Ce("bands"),j):x.delete(Ce("bands"));const te=X.map(oe=>encodeURIComponent(oe.slug)).join(qe);te.length?x.set(Ce("conductors"),te):x.delete(Ce("conductors"));const G=Q.map(oe=>encodeURIComponent(oe.slug)).join(qe);G.length?x.set(Ce("pieces"),G):x.delete(Ce("pieces")),x.set(kl,ve),x.set(Nl,K);const ne=x.toString(),he=`${window.location.pathname}${ne?`?${ne}`:""}${window.location.hash}`;window.history.replaceState({},"",he)}function kt({updateHistory:x=!1}={}){const j=Zf(),te=Jf();let G=!1;if(j!==ve&&(n(9,ve=j),G=!0),te!==K&&(n(2,K=te),G=!0),!S)return x&&Ge(),G;const ne=pn(S.bands,ot("bands"));mn(H,ne)||(n(39,H=ne),G=!0),D.length||n(37,D=Ee(S.bands));const he=pn(D,ot("conductors"));mn(X,he)||(n(40,X=he),G=!0),b.length||n(38,b=wt(S.bands));const oe=pn(b,ot("pieces"));return mn(Q,oe)||(n(41,Q=oe),G=!0),x&&Ge(),G}function st(){const x=H.map(G=>G.slug).join(qe),j=X.map(G=>G.slug).join(qe),te=Q.map(G=>G.slug).join(qe);return`${K}|${ve}|${x}|${j}|${te}`}function I(){if(!je)return;const x=st();x!==Le&&(Ge(),Le=x)}function V(x){if(K==="bands"){if(H.some(j=>j.slug===x.slug))return;n(39,H=[...H,x])}else if(K==="conductors"){if(X.some(j=>j.slug===x.slug))return;n(40,X=[...X,x])}else{const j=x;if(Q.some(te=>te.slug===j.slug))return;n(41,Q=[...Q,j])}n(1,y=""),n(8,se=-1),I()}function Z(x){K==="bands"?n(39,H=H.filter(j=>j.slug!==x)):K==="conductors"?n(40,X=X.filter(j=>j.slug!==x)):n(41,Q=Q.filter(j=>j.slug!==x)),n(8,se=-1),I()}function me(){if(r.length===0)return;const x=xe.find(j=>j.name.toLowerCase()===i);x?V(x):l.length>0&&V(l[0])}function _e(x){n(1,y=x.target.value),n(8,se=-1)}function pe(x){l.length&&(x.key==="ArrowDown"?(x.preventDefault(),n(8,se=(se+1)%l.length)):x.key==="ArrowUp"?(x.preventDefault(),n(8,se=(se-1+l.length)%l.length)):x.key==="Enter"&&se>=0&&(x.preventDefault(),V(l[se])))}function fe(x){x!==K&&(n(2,K=x),n(1,y=""),n(8,se=-1),I())}function ie(x){ve!==x&&(n(9,ve=x),I())}gn(async()=>{try{const x=Qf();n(43,ze=x),Li(x);const j=await fetch("data/band_positions.json");if(!j.ok)throw new Error(`Kunne ikke laste data (status ${j.status})`);n(0,S=await j.json()),n(37,D=Ee(S.bands)),n(38,b=wt(S.bands)),kt({updateHistory:!1}),Le=st(),Ge(),je=!0}catch(x){n(7,Y=x instanceof Error?x.message:"Ukjent feil ved lasting av data.")}finally{n(6,g=!1)}}),gn(()=>{const x=()=>{S&&(kt({updateHistory:!1}),Le=st())};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)});let Te="";const Jt=x=>fe(x);function en(){y=this.value,n(1,y)}const ce=x=>Z(x.slug),at=x=>V(x),tn=()=>ie("absolute"),nn=()=>ie("relative");return e.$$.update=()=>{e.$$.dirty[0]&2&&n(47,r=y.trim()),e.$$.dirty[1]&65536&&n(46,i=r.toLowerCase()),e.$$.dirty[0]&4&&n(5,o=K==="bands"||K==="conductors"||K==="pieces"),e.$$.dirty[0]&37|e.$$.dirty[1]&192&&n(42,xe=o?K==="bands"?(S==null?void 0:S.bands)??[]:K==="conductors"?D:b:[]),e.$$.dirty[0]&4|e.$$.dirty[1]&1792&&n(3,ue=K==="bands"?H:K==="conductors"?X:K==="pieces"?Q:[]),e.$$.dirty[0]&40|e.$$.dirty[1]&34816&&n(26,l=o&&xe&&i.length>=2?xe.filter(x=>x.name.toLowerCase().includes(i)&&!ue.some(j=>j.slug===x.slug)).slice(0,10):[]),e.$$.dirty[0]&1&&n(4,s=S?S.metadata.years:[]),e.$$.dirty[0]&1&&n(25,a=S?S.metadata.max_field_size:0),e.$$.dirty[0]&37|e.$$.dirty[1]&192&&n(45,u=o?K==="bands"?(S==null?void 0:S.bands.length)??0:K==="conductors"?D.length:b.length:0),e.$$.dirty[0]&4&&n(44,f=K==="bands"?"korps":K==="conductors"?"dirigenter":"stykker"),e.$$.dirty[0]&17|e.$$.dirty[1]&24576&&n(10,Te=S?`Dekker ${u} ${f} · ${s.length} år (${S.metadata.min_year}–${S.metadata.max_year})`:""),e.$$.dirty[0]&4&&n(24,h=K==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":K==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":K==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":""),e.$$.dirty[0]&4&&n(23,d=K==="bands"?"Søk etter korps":K==="conductors"?"Søk etter dirigent":"Søk etter musikkstykke"),e.$$.dirty[0]&4&&n(22,p=K==="bands"?"Korpsforslag":K==="conductors"?"Dirigentforslag":"Stykke-forslag"),e.$$.dirty[0]&4&&n(21,m=K==="bands"?"Valgte korps":K==="conductors"?"Valgte dirigenter":"Valgte stykker"),e.$$.dirty[0]&4&&n(20,A=K==="bands"?"Ingen korps valgt ennå":K==="conductors"?"Ingen dirigenter valgt ennå":"Ingen stykker valgt ennå"),e.$$.dirty[0]&4&&n(19,P=K==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":K==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer."),e.$$.dirty[0]&4&&n(18,O=K==="bands"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":K==="conductors"?"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.":K==="pieces"?"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.":"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen."),e.$$.dirty[1]&4096&&n(17,B=ze==="dark"?"Bytt til lyst tema":"Bytt til mørkt tema"),e.$$.dirty[1]&4096&&n(16,L=ze==="dark"?"Mørk":"Lys"),e.$$.dirty[1]&4096&&n(15,w=ze==="dark"?"🌙":"☀️"),e.$$.dirty[0]&8|e.$$.dirty[1]&8192&&n(14,k=ue.length===1?ue[0].name:ue.length>1?`${ue.length} ${f} valgt`:""),e.$$.dirty[0]&8&&n(13,T=ue.length>1?ue.map(x=>x.name).join(" · "):""),e.$$.dirty[0]&12&&n(12,F=K==="pieces"?ue:[]),e.$$.dirty[0]&12&&n(11,$=K==="bands"||K==="conductors"?ue:[])},[S,y,K,ue,s,o,g,Y,se,ve,Te,$,F,T,k,w,L,B,O,P,A,m,p,d,h,a,l,E,v,Qt,V,Z,me,_e,pe,fe,ie,D,b,H,X,Q,xe,ze,f,u,i,r,Jt,en,ce,at,tn,nn]}class tc extends Kt{constructor(t){super(),Ht(this,t,ec,Gf,yt,{},null,[-1,-1,-1])}}new tc({target:document.getElementById("app")});
