var xl=Object.defineProperty;var ts=t=>{throw TypeError(t)};var kl=(t,e,n)=>e in t?xl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var er=(t,e,n)=>kl(t,typeof e!="symbol"?e+"":e,n),Gi=(t,e,n)=>e.has(t)||ts("Cannot "+n);var S=(t,e,n)=>(Gi(t,e,"read from private field"),n?n.call(t):e.get(t)),vt=(t,e,n)=>e.has(t)?ts("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Q=(t,e,n,r)=>(Gi(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Jt=(t,e,n)=>(Gi(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const El="5";var Bs;typeof window<"u"&&((Bs=window.__svelte??(window.__svelte={})).v??(Bs.v=new Set)).add(El);const Li=1,Fi=2,Us=4,Nl=8,Sl=16,Al=1,Ml=4,$l=8,Tl=16,Vs=1,Il=2,Vt=Symbol(),Cl="http://www.w3.org/1999/xhtml",Hs=!1;var ka=Array.isArray,Rl=Array.prototype.indexOf,Ea=Array.from,ra=Object.defineProperty,ar=Object.getOwnPropertyDescriptor,Pl=Object.getOwnPropertyDescriptors,Ll=Object.prototype,Fl=Array.prototype,Xs=Object.getPrototypeOf,es=Object.isExtensible;function js(t){for(var e=0;e<t.length;e++)t[e]()}function Ol(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const me=2,Na=4,Sa=8,yr=16,sn=32,Xn=64,Aa=128,Me=256,_i=512,Wt=1024,Te=2048,Sn=4096,De=8192,jn=16384,Ma=32768,Oi=65536,ns=1<<17,Dl=1<<18,wr=1<<19,ql=1<<20,ia=1<<21,$a=1<<22,Dn=1<<23,Or=Symbol("$state"),zl=Symbol("legacy props"),Yl=Symbol(""),Ta=new class extends Error{constructor(){super(...arguments);er(this,"name","StaleReactionError");er(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Ks(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Bl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ul(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Hl(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Xl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function jl(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Kl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Gl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Wl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Zl(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Ql(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Jl=!1;function Gs(t){return t===this.v}function tu(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function eu(t,e){return t!==e}function Ws(t){return!tu(t,this.v)}let nu=!1,he=null;function hr(t){he=t}function br(t,e=!1,n){he={p:he,c:null,e:null,s:t,x:null,l:null}}function xr(t){var e=he,n=e.e;if(n!==null){e.e=null;for(var r of n)co(r)}return he=e.p,{}}function Zs(){return!0}let xn=[],gi=[];function Qs(){var t=xn;xn=[],js(t)}function ru(){var t=gi;gi=[],js(t)}function iu(){return xn.length>0||gi.length>0}function kr(t){if(xn.length===0&&!Dr){var e=xn;queueMicrotask(()=>{e===xn&&Qs()})}xn.push(t)}function au(){xn.length>0&&Qs(),gi.length>0&&ru()}const su=new WeakMap;function Js(t){var e=ut;if(e===null)return at.f|=Dn,t;if(e.f&Ma)dr(t,e);else{if(!(e.f&Aa))throw!e.parent&&t instanceof Error&&to(t),t;e.b.error(t)}}function dr(t,e){for(;e!==null;){if(e.f&Aa)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&to(t),t}function to(t){const e=su.get(t);e&&(ra(t,"message",{value:e.message}),ra(t,"stack",{value:e.stack}))}const Wi=new Set;let Nt=null,li=null,aa=new Set,Bn=[],Di=null,sa=!1,Dr=!1;var Hr,ur,gn,Xr,jr,Rn,fr,Pn,mn,cr,Kr,Gr,qe,eo,ui,oa;const Ci=class Ci{constructor(){vt(this,qe);er(this,"current",new Map);vt(this,Hr,new Map);vt(this,ur,new Set);vt(this,gn,0);vt(this,Xr,null);vt(this,jr,!1);vt(this,Rn,[]);vt(this,fr,[]);vt(this,Pn,[]);vt(this,mn,[]);vt(this,cr,[]);vt(this,Kr,[]);vt(this,Gr,[]);er(this,"skipped_effects",new Set)}process(e){var i;Bn=[],li=null;for(const s of e)Jt(this,qe,eo).call(this,s);if(S(this,Rn).length===0&&S(this,gn)===0){Jt(this,qe,oa).call(this);var n=S(this,Pn),r=S(this,mn);Q(this,Pn,[]),Q(this,mn,[]),Q(this,cr,[]),li=Nt,Nt=null,rs(n),rs(r),Nt===null?Nt=this:Wi.delete(this),(i=S(this,Xr))==null||i.resolve()}else Jt(this,qe,ui).call(this,S(this,Pn)),Jt(this,qe,ui).call(this,S(this,mn)),Jt(this,qe,ui).call(this,S(this,cr));for(const s of S(this,Rn))or(s);for(const s of S(this,fr))or(s);Q(this,Rn,[]),Q(this,fr,[])}capture(e,n){S(this,Hr).has(e)||S(this,Hr).set(e,n),this.current.set(e,e.v)}activate(){Nt=this}deactivate(){Nt=null,li=null;for(const e of aa)if(aa.delete(e),e(),Nt!==null)break}neuter(){Q(this,jr,!0)}flush(){Bn.length>0?no():Jt(this,qe,oa).call(this),Nt===this&&(S(this,gn)===0&&Wi.delete(this),this.deactivate())}increment(){Q(this,gn,S(this,gn)+1)}decrement(){if(Q(this,gn,S(this,gn)-1),S(this,gn)===0){for(const e of S(this,Kr))ce(e,Te),vr(e);for(const e of S(this,Gr))ce(e,Sn),vr(e);Q(this,Pn,[]),Q(this,mn,[]),this.flush()}else this.deactivate()}add_callback(e){S(this,ur).add(e)}settled(){return(S(this,Xr)??Q(this,Xr,Ol())).promise}static ensure(){if(Nt===null){const e=Nt=new Ci;Wi.add(Nt),Dr||Ci.enqueue(()=>{Nt===e&&e.flush()})}return Nt}static enqueue(e){kr(e)}};Hr=new WeakMap,ur=new WeakMap,gn=new WeakMap,Xr=new WeakMap,jr=new WeakMap,Rn=new WeakMap,fr=new WeakMap,Pn=new WeakMap,mn=new WeakMap,cr=new WeakMap,Kr=new WeakMap,Gr=new WeakMap,qe=new WeakSet,eo=function(e){var c;e.f^=Wt;for(var n=e.first;n!==null;){var r=n.f,i=(r&(sn|Xn))!==0,s=i&&(r&Wt)!==0,o=s||(r&De)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(i)n.f^=Wt;else if(r&Na)S(this,mn).push(n);else if(!(r&Wt))if(r&$a){var l=(c=n.b)!=null&&c.is_pending()?S(this,fr):S(this,Rn);l.push(n)}else Bi(n)&&(n.f&yr&&S(this,cr).push(n),or(n));var u=n.first;if(u!==null){n=u;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)n=f.next,f=f.parent}},ui=function(e){for(const n of e)(n.f&Te?S(this,Kr):S(this,Gr)).push(n),ce(n,Wt);e.length=0},oa=function(){if(!S(this,jr))for(const e of S(this,ur))e();S(this,ur).clear()};let En=Ci;function ou(t){var e=Dr;Dr=!0;try{for(var n;;){if(au(),Bn.length===0&&!iu()&&(Nt==null||Nt.flush(),Bn.length===0))return Di=null,n;no()}}finally{Dr=e}}function no(){var t=sr;sa=!0;try{var e=0;for(ss(!0);Bn.length>0;){var n=En.ensure();if(e++>1e3){var r,i;lu()}n.process(Bn),Nn.clear()}}finally{sa=!1,ss(t),Di=null}}function lu(){try{Xl()}catch(t){dr(t,Di)}}let nn=null;function rs(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if(!(r.f&(jn|De))&&Bi(r)&&(nn=[],or(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?po(r):r.fn=null),(nn==null?void 0:nn.length)>0)){Nn.clear();for(const i of nn)or(i);nn=[]}}nn=null}}function vr(t){for(var e=Di=t;e.parent!==null;){e=e.parent;var n=e.f;if(sa&&e===ut&&n&yr)return;if(n&(Xn|sn)){if(!(n&Wt))return;e.f^=Wt}}Bn.push(e)}function uu(t){let e=0,n=Un(0),r;return()=>{Au()&&(a(n),Ra(()=>(e===0&&(r=Nr(()=>t(()=>qr(n)))),e+=1,()=>{kr(()=>{e-=1,e===0&&(r==null||r(),r=void 0,qr(n))})})))}}var fu=Oi|wr|Aa;function cu(t,e,n){new hu(t,e,n)}var Pe,Ne,xa,je,Ln,Ke,Se,se,Ge,yn,Fn,wn,On,bn,Ri,Pi,ne,du,vu,fi,ci,la;class hu{constructor(e,n,r){vt(this,ne);er(this,"parent");vt(this,Pe,!1);vt(this,Ne);vt(this,xa,null);vt(this,je);vt(this,Ln);vt(this,Ke);vt(this,Se,null);vt(this,se,null);vt(this,Ge,null);vt(this,yn,null);vt(this,Fn,0);vt(this,wn,0);vt(this,On,!1);vt(this,bn,null);vt(this,Ri,()=>{S(this,bn)&&pr(S(this,bn),S(this,Fn))});vt(this,Pi,uu(()=>(Q(this,bn,Un(S(this,Fn))),()=>{Q(this,bn,null)})));Q(this,Ne,e),Q(this,je,n),Q(this,Ln,r),this.parent=ut.b,Q(this,Pe,!!S(this,je).pending),Q(this,Ke,Yi(()=>{ut.b=this;{try{Q(this,Se,Ae(()=>r(S(this,Ne))))}catch(i){this.error(i)}S(this,wn)>0?Jt(this,ne,ci).call(this):Q(this,Pe,!1)}},fu))}is_pending(){return S(this,Pe)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!S(this,je).pending}update_pending_count(e){Jt(this,ne,la).call(this,e),Q(this,Fn,S(this,Fn)+e),aa.add(S(this,Ri))}get_effect_pending(){return S(this,Pi).call(this),a(S(this,bn))}error(e){var n=S(this,je).onerror;let r=S(this,je).failed;if(S(this,On)||!n&&!r)throw e;S(this,Se)&&($e(S(this,Se)),Q(this,Se,null)),S(this,se)&&($e(S(this,se)),Q(this,se,null)),S(this,Ge)&&($e(S(this,Ge)),Q(this,Ge,null));var i=!1,s=!1;const o=()=>{if(i){Ql();return}i=!0,s&&Zl(),En.ensure(),Q(this,Fn,0),S(this,Ge)!==null&&qn(S(this,Ge),()=>{Q(this,Ge,null)}),Q(this,Pe,this.has_pending_snippet()),Q(this,Se,Jt(this,ne,fi).call(this,()=>(Q(this,On,!1),Ae(()=>S(this,Ln).call(this,S(this,Ne)))))),S(this,wn)>0?Jt(this,ne,ci).call(this):Q(this,Pe,!1)};var l=at;try{ue(null),s=!0,n==null||n(e,o),s=!1}catch(u){dr(u,S(this,Ke)&&S(this,Ke).parent)}finally{ue(l)}r&&kr(()=>{Q(this,Ge,Jt(this,ne,fi).call(this,()=>{Q(this,On,!0);try{return Ae(()=>{r(S(this,Ne),()=>e,()=>o)})}catch(u){return dr(u,S(this,Ke).parent),null}finally{Q(this,On,!1)}}))})}}Pe=new WeakMap,Ne=new WeakMap,xa=new WeakMap,je=new WeakMap,Ln=new WeakMap,Ke=new WeakMap,Se=new WeakMap,se=new WeakMap,Ge=new WeakMap,yn=new WeakMap,Fn=new WeakMap,wn=new WeakMap,On=new WeakMap,bn=new WeakMap,Ri=new WeakMap,Pi=new WeakMap,ne=new WeakSet,du=function(){try{Q(this,Se,Ae(()=>S(this,Ln).call(this,S(this,Ne))))}catch(e){this.error(e)}Q(this,Pe,!1)},vu=function(){const e=S(this,je).pending;e&&(Q(this,se,Ae(()=>e(S(this,Ne)))),En.enqueue(()=>{Q(this,Se,Jt(this,ne,fi).call(this,()=>(En.ensure(),Ae(()=>S(this,Ln).call(this,S(this,Ne)))))),S(this,wn)>0?Jt(this,ne,ci).call(this):(qn(S(this,se),()=>{Q(this,se,null)}),Q(this,Pe,!1))}))},fi=function(e){var n=ut,r=at,i=he;Ze(S(this,Ke)),ue(S(this,Ke)),hr(S(this,Ke).ctx);try{return e()}catch(s){return Js(s),null}finally{Ze(n),ue(r),hr(i)}},ci=function(){const e=S(this,je).pending;S(this,Se)!==null&&(Q(this,yn,document.createDocumentFragment()),pu(S(this,Se),S(this,yn))),S(this,se)===null&&Q(this,se,Ae(()=>e(S(this,Ne))))},la=function(e){var n;if(!this.has_pending_snippet()){this.parent&&Jt(n=this.parent,ne,la).call(n,e);return}Q(this,wn,S(this,wn)+e),S(this,wn)===0&&(Q(this,Pe,!1),S(this,se)&&qn(S(this,se),()=>{Q(this,se,null)}),S(this,yn)&&(S(this,Ne).before(S(this,yn)),Q(this,yn,null)))};function pu(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:Wr(n);e.append(n),n=i}}function _u(t,e,n){const r=qi;if(e.length===0){n(t.map(r));return}var i=Nt,s=ut,o=gu();Promise.all(e.map(l=>mu(l))).then(l=>{i==null||i.activate(),o();try{n([...t.map(r),...l])}catch(u){s.f&jn||dr(u,s)}i==null||i.deactivate(),ro()}).catch(l=>{dr(l,s)})}function gu(){var t=ut,e=at,n=he,r=Nt;return function(){Ze(t),ue(e),hr(n),r==null||r.activate()}}function ro(){Ze(null),ue(null),hr(null)}function qi(t){var e=me|Te,n=at!==null&&at.f&me?at:null;return ut===null||n!==null&&n.f&Me?e|=Me:ut.f|=wr,{ctx:he,deps:null,effects:null,equals:Gs,f:e,fn:t,reactions:null,rv:0,v:Vt,wv:0,parent:n??ut,ac:null}}function mu(t,e){let n=ut;n===null&&Bl();var r=n.b,i=void 0,s=Un(Vt),o=null,l=!at;return Iu(()=>{try{var u=t();o&&Promise.resolve(u).catch(()=>{})}catch(v){u=Promise.reject(v)}var f=()=>u;i=(o==null?void 0:o.then(f,f))??Promise.resolve(u),o=i;var c=Nt,h=r.is_pending();l&&(r.update_pending_count(1),h||c.increment());const d=(v,p=void 0)=>{o=null,h||c.activate(),p?p!==Ta&&(s.f|=Dn,pr(s,p)):(s.f&Dn&&(s.f^=Dn),pr(s,v)),l&&(r.update_pending_count(-1),h||c.decrement()),ro()};if(i.then(d,v=>d(null,v||"unknown")),c)return()=>{queueMicrotask(()=>c.neuter())}}),new Promise(u=>{function f(c){function h(){c===i?u(s):f(i)}c.then(h,h)}f(i)})}function F(t){const e=qi(t);return mo(e),e}function io(t){const e=qi(t);return e.equals=Ws,e}function ao(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)$e(e[n])}}function yu(t){for(var e=t.parent;e!==null;){if(!(e.f&me))return e;e=e.parent}return null}function Ia(t){var e,n=ut;Ze(yu(t));try{ao(t),e=xo(t)}finally{Ze(n)}return e}function so(t){var e=Ia(t);if(t.equals(e)||(t.v=e,t.wv=wo()),!Kn){var n=(kn||t.f&Me)&&t.deps!==null?Sn:Wt;ce(t,n)}}const Nn=new Map;function Un(t,e){var n={f:0,v:t,reactions:null,equals:Gs,rv:0,wv:0};return n}function gt(t,e){const n=Un(t);return mo(n),n}function wu(t,e=!1,n=!0){const r=Un(t);return e||(r.equals=Ws),r}function z(t,e,n=!1){at!==null&&(!Fe||at.f&ns)&&Zs()&&at.f&(me|yr|$a|ns)&&!(ee!=null&&ee.includes(t))&&Wl();let r=n?le(e):e;return pr(t,r)}function pr(t,e){if(!t.equals(e)){var n=t.v;Kn?Nn.set(t,e):Nn.set(t,n),t.v=e;var r=En.ensure();r.capture(t,n),t.f&me&&(t.f&Te&&Ia(t),ce(t,t.f&Me?Sn:Wt)),t.wv=wo(),oo(t,Te),ut!==null&&ut.f&Wt&&!(ut.f&(sn|Xn))&&(Ee===null?Pu([t]):Ee.push(t))}return e}function qr(t){z(t,t.v+1)}function oo(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],o=s.f,l=(o&Te)===0;l&&ce(s,e),o&me?oo(s,Sn):l&&(o&yr&&nn!==null&&nn.push(s),vr(s))}}function le(t){if(typeof t!="object"||t===null||Or in t)return t;const e=Xs(t);if(e!==Ll&&e!==Fl)return t;var n=new Map,r=ka(t),i=gt(0),s=zn,o=l=>{if(zn===s)return l();var u=at,f=zn;ue(null),ls(s);var c=l();return ue(u),ls(f),c};return r&&n.set("length",gt(t.length)),new Proxy(t,{defineProperty(l,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Kl();var c=n.get(u);return c===void 0?c=o(()=>{var h=gt(f.value);return n.set(u,h),h}):z(c,f.value,!0),!0},deleteProperty(l,u){var f=n.get(u);if(f===void 0){if(u in l){const c=o(()=>gt(Vt));n.set(u,c),qr(i)}}else z(f,Vt),qr(i);return!0},get(l,u,f){var v;if(u===Or)return t;var c=n.get(u),h=u in l;if(c===void 0&&(!h||(v=ar(l,u))!=null&&v.writable)&&(c=o(()=>{var p=le(h?l[u]:Vt),N=gt(p);return N}),n.set(u,c)),c!==void 0){var d=a(c);return d===Vt?void 0:d}return Reflect.get(l,u,f)},getOwnPropertyDescriptor(l,u){var f=Reflect.getOwnPropertyDescriptor(l,u);if(f&&"value"in f){var c=n.get(u);c&&(f.value=a(c))}else if(f===void 0){var h=n.get(u),d=h==null?void 0:h.v;if(h!==void 0&&d!==Vt)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return f},has(l,u){var d;if(u===Or)return!0;var f=n.get(u),c=f!==void 0&&f.v!==Vt||Reflect.has(l,u);if(f!==void 0||ut!==null&&(!c||(d=ar(l,u))!=null&&d.writable)){f===void 0&&(f=o(()=>{var v=c?le(l[u]):Vt,p=gt(v);return p}),n.set(u,f));var h=a(f);if(h===Vt)return!1}return c},set(l,u,f,c){var I;var h=n.get(u),d=u in l;if(r&&u==="length")for(var v=f;v<h.v;v+=1){var p=n.get(v+"");p!==void 0?z(p,Vt):v in l&&(p=o(()=>gt(Vt)),n.set(v+"",p))}if(h===void 0)(!d||(I=ar(l,u))!=null&&I.writable)&&(h=o(()=>gt(void 0)),z(h,le(f)),n.set(u,h));else{d=h.v!==Vt;var N=o(()=>le(f));z(h,N)}var T=Reflect.getOwnPropertyDescriptor(l,u);if(T!=null&&T.set&&T.set.call(c,f),!d){if(r&&typeof u=="string"){var X=n.get("length"),D=Number(u);Number.isInteger(D)&&D>=X.v&&z(X,D+1)}qr(i)}return!0},ownKeys(l){a(i);var u=Reflect.ownKeys(l).filter(h=>{var d=n.get(h);return d===void 0||d.v!==Vt});for(var[f,c]of n)c.v!==Vt&&!(f in l)&&u.push(f);return u},setPrototypeOf(){Gl()}})}var is,lo,uo,fo;function bu(){if(is===void 0){is=window,lo=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;uo=ar(e,"firstChild").get,fo=ar(e,"nextSibling").get,es(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),es(n)&&(n.__t=void 0)}}function Er(t=""){return document.createTextNode(t)}function rn(t){return uo.call(t)}function Wr(t){return fo.call(t)}function x(t,e){return rn(t)}function bt(t,e=!1){{var n=rn(t);return n instanceof Comment&&n.data===""?Wr(n):n}}function P(t,e=1,n=!1){let r=t;for(;e--;)r=Wr(r);return r}function xu(t){t.textContent=""}function Ca(){return!1}let as=!1;function ku(){as||(as=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function zi(t){var e=at,n=ut;ue(null),Ze(null);try{return t()}finally{ue(e),Ze(n)}}function Eu(t,e,n,r=n){t.addEventListener(e,()=>zi(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),ku()}function Nu(t){ut===null&&at===null&&Hl(),at!==null&&at.f&Me&&ut===null&&Vl(),Kn&&Ul()}function Su(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function on(t,e,n,r=!0){var i=ut;i!==null&&i.f&De&&(t|=De);var s={ctx:he,deps:null,nodes_start:null,nodes_end:null,f:t|Te,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{or(s),s.f|=Ma}catch(u){throw $e(s),u}else e!==null&&vr(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&wr)&&(o=o.first),o!==null&&(o.parent=i,i!==null&&Su(o,i),at!==null&&at.f&me&&!(t&Xn))){var l=at;(l.effects??(l.effects=[])).push(o)}}return s}function Au(){return at!==null&&!Fe}function Mu(t){const e=on(Sa,null,!1);return ce(e,Wt),e.teardown=t,e}function mi(t){Nu();var e=ut.f,n=!at&&(e&sn)!==0&&(e&Ma)===0;if(n){var r=he;(r.e??(r.e=[])).push(t)}else return co(t)}function co(t){return on(Na|ql,t,!1)}function $u(t){En.ensure();const e=on(Xn|wr,t,!0);return(n={})=>new Promise(r=>{n.outro?qn(e,()=>{$e(e),r(void 0)}):($e(e),r(void 0))})}function Tu(t){return on(Na,t,!1)}function Iu(t){return on($a|wr,t,!0)}function Ra(t,e=0){return on(Sa|e,t,!0)}function Z(t,e=[],n=[]){_u(e,n,r=>{on(Sa,()=>t(...r.map(a)),!0)})}function Yi(t,e=0){var n=on(yr|e,t,!0);return n}function Ae(t,e=!0){return on(sn|wr,t,!0,e)}function ho(t){var e=t.teardown;if(e!==null){const n=Kn,r=at;os(!0),ue(null);try{e.call(null)}finally{os(n),ue(r)}}}function vo(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&zi(()=>{i.abort(Ta)});var r=n.next;n.f&Xn?n.parent=null:$e(n,e),n=r}}function Cu(t){for(var e=t.first;e!==null;){var n=e.next;e.f&sn||$e(e),e=n}}function $e(t,e=!0){var n=!1;(e||t.f&Dl)&&t.nodes_start!==null&&t.nodes_end!==null&&(Ru(t.nodes_start,t.nodes_end),n=!0),vo(t,e&&!n),yi(t,0),ce(t,jn);var r=t.transitions;if(r!==null)for(const s of r)s.stop();ho(t);var i=t.parent;i!==null&&i.first!==null&&po(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Ru(t,e){for(;t!==null;){var n=t===e?null:Wr(t);t.remove(),t=n}}function po(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function qn(t,e){var n=[];Pa(t,n,!0),_o(n,()=>{$e(t),e&&e()})}function _o(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function Pa(t,e,n){if(!(t.f&De)){if(t.f^=De,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&Oi)!==0||(r.f&sn)!==0;Pa(r,e,s?n:!1),r=i}}}function La(t){go(t,!0)}function go(t,e){if(t.f&De){t.f^=De,t.f&Wt||(ce(t,Te),vr(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&Oi)!==0||(n.f&sn)!==0;go(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let sr=!1;function ss(t){sr=t}let Kn=!1;function os(t){Kn=t}let at=null,Fe=!1;function ue(t){at=t}let ut=null;function Ze(t){ut=t}let ee=null;function mo(t){at!==null&&(ee===null?ee=[t]:ee.push(t))}let te=null,ge=0,Ee=null;function Pu(t){Ee=t}let yo=1,zr=0,zn=zr;function ls(t){zn=t}let kn=!1;function wo(){return++yo}function Bi(t){var h;var e=t.f;if(e&Te)return!0;if(e&Sn){var n=t.deps,r=(e&Me)!==0;if(n!==null){var i,s,o=(e&_i)!==0,l=r&&ut!==null&&!kn,u=n.length;if((o||l)&&(ut===null||!(ut.f&jn))){var f=t,c=f.parent;for(i=0;i<u;i++)s=n[i],(o||!((h=s==null?void 0:s.reactions)!=null&&h.includes(f)))&&(s.reactions??(s.reactions=[])).push(f);o&&(f.f^=_i),l&&c!==null&&!(c.f&Me)&&(f.f^=Me)}for(i=0;i<u;i++)if(s=n[i],Bi(s)&&so(s),s.wv>t.wv)return!0}(!r||ut!==null&&!kn)&&ce(t,Wt)}return!1}function bo(t,e,n=!0){var r=t.reactions;if(r!==null&&!(ee!=null&&ee.includes(t)))for(var i=0;i<r.length;i++){var s=r[i];s.f&me?bo(s,e,!1):e===s&&(n?ce(s,Te):s.f&Wt&&ce(s,Sn),vr(s))}}function xo(t){var N;var e=te,n=ge,r=Ee,i=at,s=kn,o=ee,l=he,u=Fe,f=zn,c=t.f;te=null,ge=0,Ee=null,kn=(c&Me)!==0&&(Fe||!sr||at===null),at=c&(sn|Xn)?null:t,ee=null,hr(t.ctx),Fe=!1,zn=++zr,t.ac!==null&&(zi(()=>{t.ac.abort(Ta)}),t.ac=null);try{t.f|=ia;var h=t.fn,d=h(),v=t.deps;if(te!==null){var p;if(yi(t,ge),v!==null&&ge>0)for(v.length=ge+te.length,p=0;p<te.length;p++)v[ge+p]=te[p];else t.deps=v=te;if(!kn||c&me&&t.reactions!==null)for(p=ge;p<v.length;p++)((N=v[p]).reactions??(N.reactions=[])).push(t)}else v!==null&&ge<v.length&&(yi(t,ge),v.length=ge);if(Zs()&&Ee!==null&&!Fe&&v!==null&&!(t.f&(me|Sn|Te)))for(p=0;p<Ee.length;p++)bo(Ee[p],t);return i!==null&&i!==t&&(zr++,Ee!==null&&(r===null?r=Ee:r.push(...Ee))),t.f&Dn&&(t.f^=Dn),d}catch(T){return Js(T)}finally{t.f^=ia,te=e,ge=n,Ee=r,at=i,kn=s,ee=o,hr(l),Fe=u,zn=f}}function Lu(t,e){let n=e.reactions;if(n!==null){var r=Rl.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&e.f&me&&(te===null||!te.includes(e))&&(ce(e,Sn),e.f&(Me|_i)||(e.f^=_i),ao(e),yi(e,0))}function yi(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Lu(t,n[r])}function or(t){var e=t.f;if(!(e&jn)){ce(t,Wt);var n=ut,r=sr;ut=t,sr=!0;try{e&yr?Cu(t):vo(t),ho(t);var i=xo(t);t.teardown=typeof i=="function"?i:null,t.wv=yo;var s;Hs&&nu&&t.f&Te&&t.deps}finally{sr=r,ut=n}}}async function Fu(){await Promise.resolve(),ou()}function a(t){var e=t.f,n=(e&me)!==0;if(at!==null&&!Fe){var r=ut!==null&&(ut.f&jn)!==0;if(!r&&!(ee!=null&&ee.includes(t))){var i=at.deps;if(at.f&ia)t.rv<zr&&(t.rv=zr,te===null&&i!==null&&i[ge]===t?ge++:te===null?te=[t]:(!kn||!te.includes(t))&&te.push(t));else{(at.deps??(at.deps=[])).push(t);var s=t.reactions;s===null?t.reactions=[at]:s.includes(at)||s.push(at)}}}else if(n&&t.deps===null&&t.effects===null){var o=t,l=o.parent;l!==null&&!(l.f&Me)&&(o.f^=Me)}if(Kn){if(Nn.has(t))return Nn.get(t);if(n){o=t;var u=o.v;return(!(o.f&Wt)&&o.reactions!==null||ko(o))&&(u=Ia(o)),Nn.set(o,u),u}}else n&&(o=t,Bi(o)&&so(o));if(t.f&Dn)throw t.v;return t.v}function ko(t){if(t.v===Vt)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Nn.has(e)||e.f&me&&ko(e))return!0;return!1}function Nr(t){var e=Fe;try{return Fe=!0,t()}finally{Fe=e}}const Ou=-7169;function ce(t,e){t.f=t.f&Ou|e}const Eo=new Set,ua=new Set;function Du(t,e,n,r={}){function i(s){if(r.capture||Cr.call(e,s),!s.cancelBubble)return zi(()=>n==null?void 0:n.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?kr(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function _e(t,e,n,r,i){var s={capture:r,passive:i},o=Du(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Mu(()=>{e.removeEventListener(t,o,s)})}function No(t){for(var e=0;e<t.length;e++)Eo.add(t[e]);for(var n of ua)n(t)}let us=null;function Cr(t){var D;var e=this,n=e.ownerDocument,r=t.type,i=((D=t.composedPath)==null?void 0:D.call(t))||[],s=i[0]||t.target;us=t;var o=0,l=us===t&&t.__root;if(l){var u=i.indexOf(l);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var f=i.indexOf(e);if(f===-1)return;u<=f&&(o=u)}if(s=i[o]||t.target,s!==e){ra(t,"currentTarget",{configurable:!0,get(){return s||n}});var c=at,h=ut;ue(null),Ze(null);try{for(var d,v=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var N=s["__"+r];if(N!=null&&(!s.disabled||t.target===s))if(ka(N)){var[T,...X]=N;T.apply(s,[t,...X])}else N.call(s,t)}catch(I){d?v.push(I):d=I}if(t.cancelBubble||p===e||p===null)break;s=p}if(d){for(let I of v)queueMicrotask(()=>{throw I});throw d}}finally{t.__root=e,delete t.currentTarget,ue(c),Ze(h)}}}function So(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Yr(t,e){var n=ut;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function H(t,e){var n=(e&Vs)!==0,r=(e&Il)!==0,i,s=!t.startsWith("<!>");return()=>{i===void 0&&(i=So(s?t:"<!>"+t),n||(i=rn(i)));var o=r||lo?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=rn(o),u=o.lastChild;Yr(l,u)}else Yr(o,o);return o}}function qu(t,e,n="svg"){var r=!t.startsWith("<!>"),i=(e&Vs)!==0,s=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var l=So(s),u=rn(l);if(i)for(o=document.createDocumentFragment();rn(u);)o.appendChild(rn(u));else o=rn(u)}var f=o.cloneNode(!0);if(i){var c=rn(f),h=f.lastChild;Yr(c,h)}else Yr(f,f);return f}}function Ye(t,e){return qu(t,e,"svg")}function zt(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Er();return t.append(e,n),Yr(e,n),t}function E(t,e){t!==null&&t.before(e)}const zu=["touchstart","touchmove"];function Yu(t){return zu.includes(t)}function V(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function Bu(t,e){return Uu(t,e)}const nr=new Map;function Uu(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){bu();var l=new Set,u=h=>{for(var d=0;d<h.length;d++){var v=h[d];if(!l.has(v)){l.add(v);var p=Yu(v);e.addEventListener(v,Cr,{passive:p});var N=nr.get(v);N===void 0?(document.addEventListener(v,Cr,{passive:p}),nr.set(v,1)):nr.set(v,N+1)}}};u(Ea(Eo)),ua.add(u);var f=void 0,c=$u(()=>{var h=n??e.appendChild(Er());return cu(h,{pending:()=>{}},d=>{if(s){br({});var v=he;v.c=s}i&&(r.$$events=i),f=t(d,r)||{},s&&xr()}),()=>{var p;for(var d of l){e.removeEventListener(d,Cr);var v=nr.get(d);--v===0?(document.removeEventListener(d,Cr),nr.delete(d)):nr.set(d,v)}ua.delete(u),h!==n&&((p=h.parentNode)==null||p.removeChild(h))}});return Vu.set(f,c),f}let Vu=new WeakMap;function wi(t){he===null&&Ks(),mi(()=>{const e=Nr(t);if(typeof e=="function")return e})}function Hu(t){he===null&&Ks(),wi(()=>()=>Nr(t))}function et(t,e,n=!1){var r=t,i=null,s=null,o=Vt,l=n?Oi:0,u=!1;const f=(v,p=!0)=>{u=!0,d(p,v)};var c=null;function h(){c!==null&&(c.lastChild.remove(),r.before(c),c=null);var v=o?i:s,p=o?s:i;v&&La(v),p&&qn(p,()=>{o?s=null:i=null})}const d=(v,p)=>{if(o!==(o=v)){var N=Ca(),T=r;if(N&&(c=document.createDocumentFragment(),c.append(T=Er())),o?i??(i=p&&Ae(()=>p(T))):s??(s=p&&Ae(()=>p(T))),N){var X=Nt,D=o?i:s,I=o?s:i;D&&X.skipped_effects.delete(D),I&&X.skipped_effects.add(I),X.add_callback(h)}else h()}};Yi(()=>{u=!1,e(f),u||d(null,null)},l)}function Xu(t,e,n){var r=t,i=Vt,s,o,l=null,u=eu;function f(){s&&qn(s),l!==null&&(l.lastChild.remove(),r.before(l),l=null),s=o}Yi(()=>{if(u(i,i=e())){var c=r,h=Ca();h&&(l=document.createDocumentFragment(),l.append(c=Er())),o=Ae(()=>n(c)),h?Nt.add_callback(f):f()}})}function Ot(t,e){return e}function ju(t,e,n){for(var r=t.items,i=[],s=e.length,o=0;o<s;o++)Pa(e[o].e,i,!0);var l=s>0&&i.length===0&&n!==null;if(l){var u=n.parentNode;xu(u),u.append(n),r.clear(),Xe(t,e[0].prev,e[s-1].next)}_o(i,()=>{for(var f=0;f<s;f++){var c=e[f];l||(r.delete(c.k),Xe(t,c.prev,c.next)),$e(c.e,!l)}})}function Pt(t,e,n,r,i,s=null){var o=t,l={flags:e,items:new Map,first:null},u=(e&Us)!==0;if(u){var f=t;o=f.appendChild(Er())}var c=null,h=!1,d=new Map,v=io(()=>{var X=n();return ka(X)?X:X==null?[]:Ea(X)}),p,N;function T(){Ku(N,p,l,d,o,i,e,r,n),s!==null&&(p.length===0?c?La(c):c=Ae(()=>s(o)):c!==null&&qn(c,()=>{c=null}))}Yi(()=>{N??(N=ut),p=a(v);var X=p.length;if(!(h&&X===0)){h=X===0;var D,I,J,B;if(Ca()){var j=new Set,tt=Nt;for(I=0;I<X;I+=1){J=p[I],B=r(J,I);var mt=l.items.get(B)??d.get(B);mt?e&(Li|Fi)&&Ao(mt,J,I,e):(D=Mo(null,l,null,null,J,B,I,i,e,n,!0),d.set(B,D)),j.add(B)}for(const[xt,b]of l.items)j.has(xt)||tt.skipped_effects.add(b.e);tt.add_callback(T)}else T();a(v)}})}function Ku(t,e,n,r,i,s,o,l,u){var it,ye,de,ve;var f=(o&Nl)!==0,c=(o&(Li|Fi))!==0,h=e.length,d=n.items,v=n.first,p=v,N,T=null,X,D=[],I=[],J,B,j,tt;if(f)for(tt=0;tt<h;tt+=1)J=e[tt],B=l(J,tt),j=d.get(B),j!==void 0&&((it=j.a)==null||it.measure(),(X??(X=new Set)).add(j));for(tt=0;tt<h;tt+=1){if(J=e[tt],B=l(J,tt),j=d.get(B),j===void 0){var mt=r.get(B);if(mt!==void 0){r.delete(B),d.set(B,mt);var xt=T?T.next:p;Xe(n,T,mt),Xe(n,mt,xt),Zi(mt,xt,i),T=mt}else{var b=p?p.e.nodes_start:i;T=Mo(b,n,T,T===null?n.first:T.next,J,B,tt,s,o,u)}d.set(B,T),D=[],I=[],p=T.next;continue}if(c&&Ao(j,J,tt,o),j.e.f&De&&(La(j.e),f&&((ye=j.a)==null||ye.unfix(),(X??(X=new Set)).delete(j))),j!==p){if(N!==void 0&&N.has(j)){if(D.length<I.length){var O=I[0],ft;T=O.prev;var k=D[0],L=D[D.length-1];for(ft=0;ft<D.length;ft+=1)Zi(D[ft],O,i);for(ft=0;ft<I.length;ft+=1)N.delete(I[ft]);Xe(n,k.prev,L.next),Xe(n,T,k),Xe(n,L,O),p=O,T=L,tt-=1,D=[],I=[]}else N.delete(j),Zi(j,p,i),Xe(n,j.prev,j.next),Xe(n,j,T===null?n.first:T.next),Xe(n,T,j),T=j;continue}for(D=[],I=[];p!==null&&p.k!==B;)p.e.f&De||(N??(N=new Set)).add(p),I.push(p),p=p.next;if(p===null)continue;j=p}D.push(j),T=j,p=j.next}if(p!==null||N!==void 0){for(var K=N===void 0?[]:Ea(N);p!==null;)p.e.f&De||K.push(p),p=p.next;var nt=K.length;if(nt>0){var pt=o&Us&&h===0?i:null;if(f){for(tt=0;tt<nt;tt+=1)(de=K[tt].a)==null||de.measure();for(tt=0;tt<nt;tt+=1)(ve=K[tt].a)==null||ve.fix()}ju(n,K,pt)}}f&&kr(()=>{var re;if(X!==void 0)for(j of X)(re=j.a)==null||re.apply()}),t.first=n.first&&n.first.e,t.last=T&&T.e;for(var kt of r.values())$e(kt.e);r.clear()}function Ao(t,e,n,r){r&Li&&pr(t.v,e),r&Fi?pr(t.i,n):t.i=n}function Mo(t,e,n,r,i,s,o,l,u,f,c){var h=(u&Li)!==0,d=(u&Sl)===0,v=h?d?wu(i,!1,!1):Un(i):i,p=u&Fi?Un(o):o,N={i:p,v,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var T=document.createDocumentFragment();T.append(t=Er())}return N.e=Ae(()=>l(t,v,p,f),Jl),N.e.prev=n&&n.e,N.e.next=r&&r.e,n===null?c||(e.first=N):(n.next=N,n.e.next=N.e),r!==null&&(r.prev=N,r.e.prev=N.e),N}finally{}}function Zi(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var o=Wr(s);i.before(s),s=o}}function Xe(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}const fs=[...` 	
\r\f \v\uFEFF`];function Gu(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+s;(o===0||fs.includes(r[o-1]))&&(l===r.length||fs.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Wu(t,e){return t==null?null:String(t)}function Rr(t,e,n,r,i,s){var o=t.__className;if(o!==n||o===void 0){var l=Gu(n,r,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(s&&i!==s)for(var u in s){var f=!!s[u];(i==null||f!==!!i[u])&&t.classList.toggle(u,f)}return s}function ni(t,e,n,r){var i=t.__style;if(i!==e){var s=Wu(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const Zu=Symbol("is custom element"),Qu=Symbol("is html");function cs(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function U(t,e,n,r){var i=Ju(t);i[e]!==(i[e]=n)&&(e==="loading"&&(t[Yl]=n),n==null?t.removeAttribute(e):typeof n!="string"&&tf(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Ju(t){return t.__attributes??(t.__attributes={[Zu]:t.nodeName.includes("-"),[Qu]:t.namespaceURI===Cl})}var hs=new Map;function tf(t){var e=t.getAttribute("is")||t.nodeName,n=hs.get(e);if(n)return n;hs.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=Pl(i);for(var o in r)r[o].set&&n.push(o);i=Xs(i)}return n}function ef(t,e,n=e){var r=new WeakSet;Eu(t,"input",async i=>{var s=i?t.defaultValue:t.value;if(s=Qi(t)?Ji(s):s,n(s),Nt!==null&&r.add(Nt),await Fu(),s!==(s=e())){var o=t.selectionStart,l=t.selectionEnd;t.value=s??"",l!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(l,t.value.length))}}),Nr(e)==null&&t.value&&(n(Qi(t)?Ji(t.value):t.value),Nt!==null&&r.add(Nt)),Ra(()=>{var i=e();if(t===document.activeElement){var s=li??Nt;if(r.has(s))return}Qi(t)&&i===Ji(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Qi(t){var e=t.type;return e==="number"||e==="range"}function Ji(t){return t===""?null:+t}function ds(t,e){return t===e||(t==null?void 0:t[Or])===e}function nf(t={},e,n,r){return Tu(()=>{var i,s;return Ra(()=>{i=s,s=[],Nr(()=>{t!==n(...s)&&(e(t,...s),i&&ds(n(...i),t)&&e(null,...i))})}),()=>{kr(()=>{s&&ds(n(...s),t)&&e(null,...s)})}}),t}function vs(t){return function(...e){var n=e[0];return n.preventDefault(),t==null?void 0:t.apply(this,e)}}let ri=!1;function rf(t){var e=ri;try{return ri=!1,[t(),ri]}finally{ri=e}}function _n(t,e,n,r){var D;var i=(n&$l)!==0,s=(n&Tl)!==0,o=r,l=!0,u=()=>(l&&(l=!1,o=s?Nr(r):r),o),f;if(i){var c=Or in t||zl in t;f=((D=ar(t,e))==null?void 0:D.set)??(c&&e in t?I=>t[e]=I:void 0)}var h,d=!1;i?[h,d]=rf(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=u(),f&&(jl(),f(h)));var v;if(v=()=>{var I=t[e];return I===void 0?u():(l=!0,I)},!(n&Ml))return v;if(f){var p=t.$$legacy;return function(I,J){return arguments.length>0?((!J||p||d)&&f(J?v():I),I):v()}}var N=!1,T=(n&Al?qi:io)(()=>(N=!1,v()));i&&a(T);var X=ut;return function(I,J){if(arguments.length>0){const B=J?a(T):i?le(I):I;return z(T,B),N=!0,o!==void 0&&(o=B),I}return Kn&&N||X.f&jn?T.v:a(T)}}function hi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function af(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $o(t){let e,n,r;t.length!==2?(e=hi,n=(l,u)=>hi(t(l),u),r=(l,u)=>t(l)-u):(e=t===hi||t===af?t:sf,n=t,r=t);function i(l,u,f=0,c=l.length){if(f<c){if(e(u,u)!==0)return c;do{const h=f+c>>>1;n(l[h],u)<0?f=h+1:c=h}while(f<c)}return f}function s(l,u,f=0,c=l.length){if(f<c){if(e(u,u)!==0)return c;do{const h=f+c>>>1;n(l[h],u)<=0?f=h+1:c=h}while(f<c)}return f}function o(l,u,f=0,c=l.length){const h=i(l,u,f,c-1);return h>f&&r(l[h-1],u)>-r(l[h],u)?h-1:h}return{left:i,center:o,right:s}}function sf(){return 0}function of(t){return t===null?NaN:+t}const lf=$o(hi),uf=lf.right;$o(of).center;class ps extends Map{constructor(e,n=hf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_s(this,e))}has(e){return super.has(_s(this,e))}set(e,n){return super.set(ff(this,e),n)}delete(e){return super.delete(cf(this,e))}}function _s({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ff({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cf({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function hf(t){return t!==null&&typeof t=="object"?t.valueOf():t}const df=Math.sqrt(50),vf=Math.sqrt(10),pf=Math.sqrt(2);function bi(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=df?10:s>=vf?5:s>=pf?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),u=Math.round(e*f),l/f<t&&++l,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),u=Math.round(e/f),l*f<t&&++l,u*f>e&&--u),u<l&&.5<=n&&n<2?bi(t,e,n*2):[l,u,f]}function To(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?bi(e,t,n):bi(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)u[f]=(s-f)/-o;else for(let f=0;f<l;++f)u[f]=(s-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(i+f)/-o;else for(let f=0;f<l;++f)u[f]=(i+f)*o;return u}function fa(t,e,n){return e=+e,t=+t,n=+n,bi(t,e,n)[2]}function _f(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?fa(e,t,n):fa(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function gf(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var mf={value:()=>{}};function Io(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new di(n)}function di(t){this._=t}function yf(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}di.prototype=Io.prototype={constructor:di,on:function(t,e){var n=this._,r=yf(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=wf(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=gs(n[i],t.name,e);else if(e==null)for(i in n)n[i]=gs(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new di(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function wf(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function gs(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=mf,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ca="http://www.w3.org/1999/xhtml";const ms={svg:"http://www.w3.org/2000/svg",xhtml:ca,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ui(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ms.hasOwnProperty(e)?{space:ms[e],local:t}:t}function bf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ca&&e.documentElement.namespaceURI===ca?e.createElement(t):e.createElementNS(n,t)}}function xf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Co(t){var e=Ui(t);return(e.local?xf:bf)(e)}function kf(){}function Fa(t){return t==null?kf:function(){return this.querySelector(t)}}function Ef(t){typeof t!="function"&&(t=Fa(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,f,c=0;c<o;++c)(u=s[c])&&(f=t.call(u,u.__data__,c,s))&&("__data__"in u&&(f.__data__=u.__data__),l[c]=f);return new ze(r,this._parents)}function Nf(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Sf(){return[]}function Ro(t){return t==null?Sf:function(){return this.querySelectorAll(t)}}function Af(t){return function(){return Nf(t.apply(this,arguments))}}function Mf(t){typeof t=="function"?t=Af(t):t=Ro(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,f=0;f<l;++f)(u=o[f])&&(r.push(t.call(u,u.__data__,f,o)),i.push(u));return new ze(r,i)}function Po(t){return function(){return this.matches(t)}}function Lo(t){return function(e){return e.matches(t)}}var $f=Array.prototype.find;function Tf(t){return function(){return $f.call(this.children,t)}}function If(){return this.firstElementChild}function Cf(t){return this.select(t==null?If:Tf(typeof t=="function"?t:Lo(t)))}var Rf=Array.prototype.filter;function Pf(){return Array.from(this.children)}function Lf(t){return function(){return Rf.call(this.children,t)}}function Ff(t){return this.selectAll(t==null?Pf:Lf(typeof t=="function"?t:Lo(t)))}function Of(t){typeof t!="function"&&(t=Po(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,f=0;f<o;++f)(u=s[f])&&t.call(u,u.__data__,f,s)&&l.push(u);return new ze(r,this._parents)}function Fo(t){return new Array(t.length)}function Df(){return new ze(this._enter||this._groups.map(Fo),this._parents)}function xi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}xi.prototype={constructor:xi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function qf(t){return function(){return t}}function zf(t,e,n,r,i,s){for(var o=0,l,u=e.length,f=s.length;o<f;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new xi(t,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function Yf(t,e,n,r,i,s,o){var l,u,f=new Map,c=e.length,h=s.length,d=new Array(c),v;for(l=0;l<c;++l)(u=e[l])&&(d[l]=v=o.call(u,u.__data__,l,e)+"",f.has(v)?i[l]=u:f.set(v,u));for(l=0;l<h;++l)v=o.call(t,s[l],l,s)+"",(u=f.get(v))?(r[l]=u,u.__data__=s[l],f.delete(v)):n[l]=new xi(t,s[l]);for(l=0;l<c;++l)(u=e[l])&&f.get(d[l])===u&&(i[l]=u)}function Bf(t){return t.__data__}function Uf(t,e){if(!arguments.length)return Array.from(this,Bf);var n=e?Yf:zf,r=this._parents,i=this._groups;typeof t!="function"&&(t=qf(t));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),f=0;f<s;++f){var c=r[f],h=i[f],d=h.length,v=Vf(t.call(c,c&&c.__data__,f,r)),p=v.length,N=l[f]=new Array(p),T=o[f]=new Array(p),X=u[f]=new Array(d);n(c,h,N,T,X,v,e);for(var D=0,I=0,J,B;D<p;++D)if(J=N[D]){for(D>=I&&(I=D+1);!(B=T[I])&&++I<p;);J._next=B||null}}return o=new ze(o,r),o._enter=l,o._exit=u,o}function Vf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hf(){return new ze(this._exit||this._groups.map(Fo),this._parents)}function Xf(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function jf(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var f=n[u],c=r[u],h=f.length,d=l[u]=new Array(h),v,p=0;p<h;++p)(v=f[p]||c[p])&&(d[p]=v);for(;u<i;++u)l[u]=n[u];return new ze(l,this._parents)}function Kf(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Gf(t){t||(t=Wf);function e(h,d){return h&&d?t(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=i[s]=new Array(l),f,c=0;c<l;++c)(f=o[c])&&(u[c]=f);u.sort(e)}return new ze(i,this._parents).order()}function Wf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zf(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Qf(){return Array.from(this)}function Jf(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function tc(){let t=0;for(const e of this)++t;return t}function ec(){return!this.node()}function nc(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function rc(t){return function(){this.removeAttribute(t)}}function ic(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ac(t,e){return function(){this.setAttribute(t,e)}}function sc(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function oc(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function lc(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function uc(t,e){var n=Ui(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ic:rc:typeof e=="function"?n.local?lc:oc:n.local?sc:ac)(n,e))}function Oo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function fc(t){return function(){this.style.removeProperty(t)}}function cc(t,e,n){return function(){this.style.setProperty(t,e,n)}}function hc(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function dc(t,e,n){return arguments.length>1?this.each((e==null?fc:typeof e=="function"?hc:cc)(t,e,n??"")):_r(this.node(),t)}function _r(t,e){return t.style.getPropertyValue(e)||Oo(t).getComputedStyle(t,null).getPropertyValue(e)}function vc(t){return function(){delete this[t]}}function pc(t,e){return function(){this[t]=e}}function _c(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function gc(t,e){return arguments.length>1?this.each((e==null?vc:typeof e=="function"?_c:pc)(t,e)):this.node()[t]}function Do(t){return t.trim().split(/^|\s+/)}function Oa(t){return t.classList||new qo(t)}function qo(t){this._node=t,this._names=Do(t.getAttribute("class")||"")}qo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function zo(t,e){for(var n=Oa(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Yo(t,e){for(var n=Oa(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mc(t){return function(){zo(this,t)}}function yc(t){return function(){Yo(this,t)}}function wc(t,e){return function(){(e.apply(this,arguments)?zo:Yo)(this,t)}}function bc(t,e){var n=Do(t+"");if(arguments.length<2){for(var r=Oa(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?wc:e?mc:yc)(n,e))}function xc(){this.textContent=""}function kc(t){return function(){this.textContent=t}}function Ec(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Nc(t){return arguments.length?this.each(t==null?xc:(typeof t=="function"?Ec:kc)(t)):this.node().textContent}function Sc(){this.innerHTML=""}function Ac(t){return function(){this.innerHTML=t}}function Mc(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function $c(t){return arguments.length?this.each(t==null?Sc:(typeof t=="function"?Mc:Ac)(t)):this.node().innerHTML}function Tc(){this.nextSibling&&this.parentNode.appendChild(this)}function Ic(){return this.each(Tc)}function Cc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Rc(){return this.each(Cc)}function Pc(t){var e=typeof t=="function"?t:Co(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Lc(){return null}function Fc(t,e){var n=typeof t=="function"?t:Co(t),r=e==null?Lc:typeof e=="function"?e:Fa(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Oc(){var t=this.parentNode;t&&t.removeChild(this)}function Dc(){return this.each(Oc)}function qc(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zc(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Yc(t){return this.select(t?zc:qc)}function Bc(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Uc(t){return function(e){t.call(this,e,this.__data__)}}function Vc(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Hc(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Xc(t,e,n){return function(){var r=this.__on,i,s=Uc(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function jc(t,e,n){var r=Vc(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,f=l.length,c;u<f;++u)for(i=0,c=l[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(l=e?Xc:Hc,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function Bo(t,e,n){var r=Oo(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Kc(t,e){return function(){return Bo(this,t,e)}}function Gc(t,e){return function(){return Bo(this,t,e.apply(this,arguments))}}function Wc(t,e){return this.each((typeof e=="function"?Gc:Kc)(t,e))}function*Zc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Qc=[null];function ze(t,e){this._groups=t,this._parents=e}function Zr(){return new ze([[document.documentElement]],Qc)}function Jc(){return this}ze.prototype=Zr.prototype={constructor:ze,select:Ef,selectAll:Mf,selectChild:Cf,selectChildren:Ff,filter:Of,data:Uf,enter:Df,exit:Hf,join:Xf,merge:jf,selection:Jc,order:Kf,sort:Gf,call:Zf,nodes:Qf,node:Jf,size:tc,empty:ec,each:nc,attr:uc,style:dc,property:gc,classed:bc,text:Nc,html:$c,raise:Ic,lower:Rc,append:Pc,insert:Fc,remove:Dc,clone:Yc,datum:Bc,on:jc,dispatch:Wc,[Symbol.iterator]:Zc};function Da(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Uo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qr(){}var Br=.7,ki=1/Br,lr="\\s*([+-]?\\d+)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",We="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",th=/^#([0-9a-f]{3,8})$/,eh=new RegExp(`^rgb\\(${lr},${lr},${lr}\\)$`),nh=new RegExp(`^rgb\\(${We},${We},${We}\\)$`),rh=new RegExp(`^rgba\\(${lr},${lr},${lr},${Ur}\\)$`),ih=new RegExp(`^rgba\\(${We},${We},${We},${Ur}\\)$`),ah=new RegExp(`^hsl\\(${Ur},${We},${We}\\)$`),sh=new RegExp(`^hsla\\(${Ur},${We},${We},${Ur}\\)$`),ys={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Da(Qr,Vn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ws,formatHex:ws,formatHex8:oh,formatHsl:lh,formatRgb:bs,toString:bs});function ws(){return this.rgb().formatHex()}function oh(){return this.rgb().formatHex8()}function lh(){return Vo(this).formatHsl()}function bs(){return this.rgb().formatRgb()}function Vn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=th.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xs(e):n===3?new fe(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ii(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ii(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eh.exec(t))?new fe(e[1],e[2],e[3],1):(e=nh.exec(t))?new fe(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rh.exec(t))?ii(e[1],e[2],e[3],e[4]):(e=ih.exec(t))?ii(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ah.exec(t))?Ns(e[1],e[2]/100,e[3]/100,1):(e=sh.exec(t))?Ns(e[1],e[2]/100,e[3]/100,e[4]):ys.hasOwnProperty(t)?xs(ys[t]):t==="transparent"?new fe(NaN,NaN,NaN,0):null}function xs(t){return new fe(t>>16&255,t>>8&255,t&255,1)}function ii(t,e,n,r){return r<=0&&(t=e=n=NaN),new fe(t,e,n,r)}function uh(t){return t instanceof Qr||(t=Vn(t)),t?(t=t.rgb(),new fe(t.r,t.g,t.b,t.opacity)):new fe}function ha(t,e,n,r){return arguments.length===1?uh(t):new fe(t,e,n,r??1)}function fe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Da(fe,ha,Uo(Qr,{brighter(t){return t=t==null?ki:Math.pow(ki,t),new fe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Br:Math.pow(Br,t),new fe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fe(Yn(this.r),Yn(this.g),Yn(this.b),Ei(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ks,formatHex:ks,formatHex8:fh,formatRgb:Es,toString:Es}));function ks(){return`#${Cn(this.r)}${Cn(this.g)}${Cn(this.b)}`}function fh(){return`#${Cn(this.r)}${Cn(this.g)}${Cn(this.b)}${Cn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Es(){const t=Ei(this.opacity);return`${t===1?"rgb(":"rgba("}${Yn(this.r)}, ${Yn(this.g)}, ${Yn(this.b)}${t===1?")":`, ${t})`}`}function Ei(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cn(t){return t=Yn(t),(t<16?"0":"")+t.toString(16)}function Ns(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Oe(t,e,n,r)}function Vo(t){if(t instanceof Oe)return new Oe(t.h,t.s,t.l,t.opacity);if(t instanceof Qr||(t=Vn(t)),!t)return new Oe;if(t instanceof Oe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Oe(o,l,u,t.opacity)}function ch(t,e,n,r){return arguments.length===1?Vo(t):new Oe(t,e,n,r??1)}function Oe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Da(Oe,ch,Uo(Qr,{brighter(t){return t=t==null?ki:Math.pow(ki,t),new Oe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Br:Math.pow(Br,t),new Oe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fe(ta(t>=240?t-240:t+120,i,r),ta(t,i,r),ta(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Oe(Ss(this.h),ai(this.s),ai(this.l),Ei(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ei(this.opacity);return`${t===1?"hsl(":"hsla("}${Ss(this.h)}, ${ai(this.s)*100}%, ${ai(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ss(t){return t=(t||0)%360,t<0?t+360:t}function ai(t){return Math.max(0,Math.min(1,t||0))}function ta(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qa=t=>()=>t;function hh(t,e){return function(n){return t+n*e}}function dh(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vh(t){return(t=+t)==1?Ho:function(e,n){return n-e?dh(e,n,t):qa(isNaN(e)?n:e)}}function Ho(t,e){var n=e-t;return n?hh(t,n):qa(isNaN(t)?e:t)}const Ni=function t(e){var n=vh(e);function r(i,s){var o=n((i=ha(i)).r,(s=ha(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),f=Ho(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=l(c),i.b=u(c),i.opacity=f(c),i+""}}return r.gamma=t,r}(1);function ph(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function _h(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gh(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=za(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function mh(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Le(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yh(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=za(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var da=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ea=new RegExp(da.source,"g");function wh(t){return function(){return t}}function bh(t){return function(e){return t(e)+""}}function Xo(t,e){var n=da.lastIndex=ea.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=da.exec(t))&&(i=ea.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Le(r,i)})),n=ea.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?bh(u[0].x):wh(e):(e=u.length,function(f){for(var c=0,h;c<e;++c)l[(h=u[c]).i]=h.x(f);return l.join("")})}function za(t,e){var n=typeof e,r;return e==null||n==="boolean"?qa(e):(n==="number"?Le:n==="string"?(r=Vn(e))?(e=r,Ni):Xo:e instanceof Vn?Ni:e instanceof Date?mh:_h(e)?ph:Array.isArray(e)?gh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yh:Le)(t,e)}function xh(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var As=180/Math.PI,va={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jo(t,e,n,r,i,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*As,skewX:Math.atan(u)*As,scaleX:o,scaleY:l}}var si;function kh(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?va:jo(e.a,e.b,e.c,e.d,e.e,e.f)}function Eh(t){return t==null||(si||(si=document.createElementNS("http://www.w3.org/2000/svg","g")),si.setAttribute("transform",t),!(t=si.transform.baseVal.consolidate()))?va:(t=t.matrix,jo(t.a,t.b,t.c,t.d,t.e,t.f))}function Ko(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function s(f,c,h,d,v,p){if(f!==h||c!==d){var N=v.push("translate(",null,e,null,n);p.push({i:N-4,x:Le(f,h)},{i:N-2,x:Le(c,d)})}else(h||d)&&v.push("translate("+h+e+d+n)}function o(f,c,h,d){f!==c?(f-c>180?c+=360:c-f>180&&(f+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Le(f,c)})):c&&h.push(i(h)+"rotate("+c+r)}function l(f,c,h,d){f!==c?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Le(f,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(f,c,h,d,v,p){if(f!==h||c!==d){var N=v.push(i(v)+"scale(",null,",",null,")");p.push({i:N-4,x:Le(f,h)},{i:N-2,x:Le(c,d)})}else(h!==1||d!==1)&&v.push(i(v)+"scale("+h+","+d+")")}return function(f,c){var h=[],d=[];return f=t(f),c=t(c),s(f.translateX,f.translateY,c.translateX,c.translateY,h,d),o(f.rotate,c.rotate,h,d),l(f.skewX,c.skewX,h,d),u(f.scaleX,f.scaleY,c.scaleX,c.scaleY,h,d),f=c=null,function(v){for(var p=-1,N=d.length,T;++p<N;)h[(T=d[p]).i]=T.x(v);return h.join("")}}}var Nh=Ko(kh,"px, ","px)","deg)"),Sh=Ko(Eh,", ",")",")"),gr=0,Pr=0,Ir=0,Go=1e3,Si,Lr,Ai=0,Hn=0,Vi=0,Vr=typeof performance=="object"&&performance.now?performance:Date,Wo=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ya(){return Hn||(Wo(Ah),Hn=Vr.now()+Vi)}function Ah(){Hn=0}function Mi(){this._call=this._time=this._next=null}Mi.prototype=Zo.prototype={constructor:Mi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ya():+n)+(e==null?0:+e),!this._next&&Lr!==this&&(Lr?Lr._next=this:Si=this,Lr=this),this._call=t,this._time=n,pa()},stop:function(){this._call&&(this._call=null,this._time=1/0,pa())}};function Zo(t,e,n){var r=new Mi;return r.restart(t,e,n),r}function Mh(){Ya(),++gr;for(var t=Si,e;t;)(e=Hn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--gr}function Ms(){Hn=(Ai=Vr.now())+Vi,gr=Pr=0;try{Mh()}finally{gr=0,Th(),Hn=0}}function $h(){var t=Vr.now(),e=t-Ai;e>Go&&(Vi-=e,Ai=t)}function Th(){for(var t,e=Si,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Si=n);Lr=t,pa(r)}function pa(t){if(!gr){Pr&&(Pr=clearTimeout(Pr));var e=t-Hn;e>24?(t<1/0&&(Pr=setTimeout(Ms,t-Vr.now()-Vi)),Ir&&(Ir=clearInterval(Ir))):(Ir||(Ai=Vr.now(),Ir=setInterval($h,Go)),gr=1,Wo(Ms))}}function $s(t,e,n){var r=new Mi;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ih=Io("start","end","cancel","interrupt"),Ch=[],Qo=0,Ts=1,_a=2,vi=3,Is=4,ga=5,pi=6;function Hi(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Rh(t,n,{name:e,index:r,group:i,on:Ih,tween:Ch,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Qo})}function Ba(t,e){var n=Be(t,e);if(n.state>Qo)throw new Error("too late; already scheduled");return n}function Qe(t,e){var n=Be(t,e);if(n.state>vi)throw new Error("too late; already running");return n}function Be(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Rh(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Zo(s,0,n.time);function s(f){n.state=Ts,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var c,h,d,v;if(n.state!==Ts)return u();for(c in r)if(v=r[c],v.name===n.name){if(v.state===vi)return $s(o);v.state===Is?(v.state=pi,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[c]):+c<e&&(v.state=pi,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[c])}if($s(function(){n.state===vi&&(n.state=Is,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=_a,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_a){for(n.state=vi,i=new Array(d=n.tween.length),c=0,h=-1;c<d;++c)(v=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=v);i.length=h+1}}function l(f){for(var c=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(u),n.state=ga,1),h=-1,d=i.length;++h<d;)i[h].call(t,c);n.state===ga&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=pi,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function Ph(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>_a&&r.state<ga,r.state=pi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function Lh(t){return this.each(function(){Ph(this,t)})}function Fh(t,e){var n,r;return function(){var i=Qe(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Oh(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Qe(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,f=i.length;u<f;++u)if(i[u].name===e){i[u]=l;break}u===f&&i.push(l)}s.tween=i}}function Dh(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Be(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Fh:Oh)(n,t,e))}function Ua(t,e,n){var r=t._id;return t.each(function(){var i=Qe(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Be(i,r).value[e]}}function Jo(t,e){var n;return(typeof e=="number"?Le:e instanceof Vn?Ni:(n=Vn(e))?(e=n,Ni):Xo)(t,e)}function qh(t){return function(){this.removeAttribute(t)}}function zh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yh(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function Bh(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function Uh(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function Vh(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function Hh(t,e){var n=Ui(t),r=n==="transform"?Sh:Jo;return this.attrTween(t,typeof e=="function"?(n.local?Vh:Uh)(n,r,Ua(this,"attr."+t,e)):e==null?(n.local?zh:qh)(n):(n.local?Bh:Yh)(n,r,e))}function Xh(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function jh(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Kh(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&jh(t,s)),n}return i._value=e,i}function Gh(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Xh(t,s)),n}return i._value=e,i}function Wh(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ui(t);return this.tween(n,(r.local?Kh:Gh)(r,e))}function Zh(t,e){return function(){Ba(this,t).delay=+e.apply(this,arguments)}}function Qh(t,e){return e=+e,function(){Ba(this,t).delay=e}}function Jh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Zh:Qh)(e,t)):Be(this.node(),e).delay}function td(t,e){return function(){Qe(this,t).duration=+e.apply(this,arguments)}}function ed(t,e){return e=+e,function(){Qe(this,t).duration=e}}function nd(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?td:ed)(e,t)):Be(this.node(),e).duration}function rd(t,e){if(typeof e!="function")throw new Error;return function(){Qe(this,t).ease=e}}function id(t){var e=this._id;return arguments.length?this.each(rd(e,t)):Be(this.node(),e).ease}function ad(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Qe(this,t).ease=n}}function sd(t){if(typeof t!="function")throw new Error;return this.each(ad(this._id,t))}function od(t){typeof t!="function"&&(t=Po(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,f=0;f<o;++f)(u=s[f])&&t.call(u,u.__data__,f,s)&&l.push(u);return new an(r,this._parents,this._name,this._id)}function ld(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],f=n[l],c=u.length,h=o[l]=new Array(c),d,v=0;v<c;++v)(d=u[v]||f[v])&&(h[v]=d);for(;l<r;++l)o[l]=e[l];return new an(o,this._parents,this._name,this._id)}function ud(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function fd(t,e,n){var r,i,s=ud(e)?Ba:Qe;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function cd(t,e){var n=this._id;return arguments.length<2?Be(this.node(),n).on.on(t):this.each(fd(n,t,e))}function hd(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function dd(){return this.on("end.remove",hd(this._id))}function vd(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fa(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,f=s[o]=new Array(u),c,h,d=0;d<u;++d)(c=l[d])&&(h=t.call(c,c.__data__,d,l))&&("__data__"in c&&(h.__data__=c.__data__),f[d]=h,Hi(f[d],e,n,d,f,Be(c,n)));return new an(s,this._parents,e,n)}function pd(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ro(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],f=u.length,c,h=0;h<f;++h)if(c=u[h]){for(var d=t.call(c,c.__data__,h,u),v,p=Be(c,n),N=0,T=d.length;N<T;++N)(v=d[N])&&Hi(v,e,n,N,d,p);s.push(d),o.push(c)}return new an(s,o,e,n)}var _d=Zr.prototype.constructor;function gd(){return new _d(this._groups,this._parents)}function md(t,e){var n,r,i;return function(){var s=_r(this,t),o=(this.style.removeProperty(t),_r(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function tl(t){return function(){this.style.removeProperty(t)}}function yd(t,e,n){var r,i=n+"",s;return function(){var o=_r(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function wd(t,e,n){var r,i,s;return function(){var o=_r(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),_r(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function bd(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var u=Qe(this,t),f=u.on,c=u.value[s]==null?l||(l=tl(e)):void 0;(f!==n||i!==c)&&(r=(n=f).copy()).on(o,i=c),u.on=r}}function xd(t,e,n){var r=(t+="")=="transform"?Nh:Jo;return e==null?this.styleTween(t,md(t,r)).on("end.style."+t,tl(t)):typeof e=="function"?this.styleTween(t,wd(t,r,Ua(this,"style."+t,e))).each(bd(this._id,t)):this.styleTween(t,yd(t,r,e),n).on("end.style."+t,null)}function kd(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ed(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&kd(t,o,n)),r}return s._value=e,s}function Nd(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ed(t,e,n??""))}function Sd(t){return function(){this.textContent=t}}function Ad(t){return function(){var e=t(this);this.textContent=e??""}}function Md(t){return this.tween("text",typeof t=="function"?Ad(Ua(this,"text",t)):Sd(t==null?"":t+""))}function $d(t){return function(e){this.textContent=t.call(this,e)}}function Td(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&$d(i)),e}return r._value=t,r}function Id(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Td(t))}function Cd(){for(var t=this._name,e=this._id,n=el(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,f=0;f<l;++f)if(u=o[f]){var c=Be(u,e);Hi(u,t,n,f,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new an(r,this._parents,t,n)}function Rd(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var f=Qe(this,r),c=f.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),f.on=e}),i===0&&s()})}var Pd=0;function an(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function el(){return++Pd}var en=Zr.prototype;an.prototype={constructor:an,select:vd,selectAll:pd,selectChild:en.selectChild,selectChildren:en.selectChildren,filter:od,merge:ld,selection:gd,transition:Cd,call:en.call,nodes:en.nodes,node:en.node,size:en.size,empty:en.empty,each:en.each,on:cd,attr:Hh,attrTween:Wh,style:xd,styleTween:Nd,text:Md,textTween:Id,remove:dd,tween:Dh,delay:Jh,duration:nd,ease:id,easeVarying:sd,end:Rd,[Symbol.iterator]:en[Symbol.iterator]};function Ld(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Fd={time:null,delay:0,duration:250,ease:Ld};function Od(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Dd(t){var e,n;t instanceof an?(e=t._id,t=t._name):(e=el(),(n=Fd).time=Ya(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,f=0;f<l;++f)(u=o[f])&&Hi(u,t,e,f,o,n||Od(u,e));return new an(r,this._parents,t,e)}Zr.prototype.interrupt=Lh;Zr.prototype.transition=Dd;const ma=Math.PI,ya=2*ma,In=1e-6,qd=ya-In;function nl(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function zd(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return nl;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Yd{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?nl:zd(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=r-e,f=i-n,c=o-e,h=l-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>In)if(!(Math.abs(h*u-f*c)>In)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,p=i-l,N=u*u+f*f,T=v*v+p*p,X=Math.sqrt(N),D=Math.sqrt(d),I=s*Math.tan((ma-Math.acos((N+d-T)/(2*X*D)))/2),J=I/D,B=I/X;Math.abs(J-1)>In&&this._append`L${e+J*c},${n+J*h}`,this._append`A${s},${s},0,0,${+(h*v>c*p)},${this._x1=e+B*u},${this._y1=n+B*f}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=e+l,c=n+u,h=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>In||Math.abs(this._y1-c)>In)&&this._append`L${f},${c}`,r&&(d<0&&(d=d%ya+ya),d>qd?this._append`A${r},${r},0,1,${h},${e-l},${n-u}A${r},${r},0,1,${h},${this._x1=f},${this._y1=c}`:d>In&&this._append`A${r},${r},0,${+(d>=ma)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Bd(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $i(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function mr(t){return t=$i(Math.abs(t)),t?t[1]:NaN}function Ud(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Vd(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Hd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ti(t){if(!(e=Hd.exec(t)))throw new Error("invalid format: "+t);var e;return new Va({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ti.prototype=Va.prototype;function Va(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Va.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xd(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var rl;function jd(t,e){var n=$i(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(rl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+$i(t,Math.max(0,e+s-1))[0]}function Cs(t,e){var n=$i(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Rs={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Bd,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Cs(t*100,e),r:Cs,s:jd,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ps(t){return t}var Ls=Array.prototype.map,Fs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Kd(t){var e=t.grouping===void 0||t.thousands===void 0?Ps:Ud(Ls.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Ps:Vd(Ls.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(h){h=Ti(h);var d=h.fill,v=h.align,p=h.sign,N=h.symbol,T=h.zero,X=h.width,D=h.comma,I=h.precision,J=h.trim,B=h.type;B==="n"?(D=!0,B="g"):Rs[B]||(I===void 0&&(I=12),J=!0,B="g"),(T||d==="0"&&v==="=")&&(T=!0,d="0",v="=");var j=N==="$"?n:N==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",tt=N==="$"?r:/[%p]/.test(B)?o:"",mt=Rs[B],xt=/[defgprs%]/.test(B);I=I===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function b(O){var ft=j,k=tt,L,K,nt;if(B==="c")k=mt(O)+k,O="";else{O=+O;var pt=O<0||1/O<0;if(O=isNaN(O)?u:mt(Math.abs(O),I),J&&(O=Xd(O)),pt&&+O==0&&p!=="+"&&(pt=!1),ft=(pt?p==="("?p:l:p==="-"||p==="("?"":p)+ft,k=(B==="s"?Fs[8+rl/3]:"")+k+(pt&&p==="("?")":""),xt){for(L=-1,K=O.length;++L<K;)if(nt=O.charCodeAt(L),48>nt||nt>57){k=(nt===46?i+O.slice(L+1):O.slice(L))+k,O=O.slice(0,L);break}}}D&&!T&&(O=e(O,1/0));var kt=ft.length+O.length+k.length,it=kt<X?new Array(X-kt+1).join(d):"";switch(D&&T&&(O=e(it+O,it.length?X-k.length:1/0),it=""),v){case"<":O=ft+O+k+it;break;case"=":O=ft+it+O+k;break;case"^":O=it.slice(0,kt=it.length>>1)+ft+O+k+it.slice(kt);break;default:O=it+ft+O+k;break}return s(O)}return b.toString=function(){return h+""},b}function c(h,d){var v=f((h=Ti(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(mr(d)/3)))*3,N=Math.pow(10,-p),T=Fs[8+p/3];return function(X){return v(N*X)+T}}return{format:f,formatPrefix:c}}var oi,il,al;Gd({thousands:",",grouping:[3],currency:["$",""]});function Gd(t){return oi=Kd(t),il=oi.format,al=oi.formatPrefix,oi}function Wd(t){return Math.max(0,-mr(Math.abs(t)))}function Zd(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mr(e)/3)))*3-mr(Math.abs(t)))}function Qd(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mr(e)-mr(t))+1}function Ha(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Os=Symbol("implicit");function sl(){var t=new ps,e=[],n=[],r=Os;function i(s){let o=t.get(s);if(o===void 0){if(r!==Os)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new ps;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return sl(e,n).unknown(r)},Ha.apply(i,arguments),i}function ol(){var t=sl().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,u=0,f=0,c=.5;delete t.unknown;function h(){var d=e().length,v=i<r,p=v?i:r,N=v?r:i;s=(N-p)/Math.max(1,d-u+f*2),l&&(s=Math.floor(s)),p+=(N-p-s*(d-u))*c,o=s*(1-u),l&&(p=Math.round(p),o=Math.round(o));var T=gf(d).map(function(X){return p+s*X});return n(v?T.reverse():T)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(d){return arguments.length?(l=!!d,h()):l},t.padding=function(d){return arguments.length?(u=Math.min(1,f=+d),h()):u},t.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),h()):u},t.paddingOuter=function(d){return arguments.length?(f=+d,h()):f},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return ol(e(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(c)},Ha.apply(h(),arguments)}function ll(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ll(e())},t}function Jd(){return ll(ol.apply(null,arguments).paddingInner(1))}function tv(t){return function(){return t}}function ev(t){return+t}var Ds=[0,1];function ir(t){return t}function wa(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tv(isNaN(e)?NaN:.5)}function nv(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rv(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=wa(i,r),s=n(o,s)):(r=wa(r,i),s=n(s,o)),function(l){return s(r(l))}}function iv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=wa(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var u=uf(t,l,1,r)-1;return s[u](i[u](l))}}function av(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sv(){var t=Ds,e=Ds,n=za,r,i,s,o=ir,l,u,f;function c(){var d=Math.min(t.length,e.length);return o!==ir&&(o=nv(t[0],t[d-1])),l=d>2?iv:rv,u=f=null,h}function h(d){return d==null||isNaN(d=+d)?s:(u||(u=l(t.map(r),e,n)))(r(o(d)))}return h.invert=function(d){return o(i((f||(f=l(e,t.map(r),Le)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,ev),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=xh,c()},h.clamp=function(d){return arguments.length?(o=d?!0:ir,c()):o!==ir},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(s=d,h):s},function(d,v){return r=d,i=v,c()}}function ov(){return sv()(ir,ir)}function lv(t,e,n,r){var i=_f(t,e,n),s;switch(r=Ti(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Zd(i,o))&&(r.precision=s),al(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Qd(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Wd(i))&&(r.precision=s-(r.type==="%")*2);break}}return il(r)}function uv(t){var e=t.domain;return t.ticks=function(n){var r=e();return To(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return lv(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],u,f,c=10;for(l<o&&(f=o,o=l,l=f,f=i,i=s,s=f);c-- >0;){if(f=fa(o,l,n),f===u)return r[i]=o,r[s]=l,e(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return t},t}function ul(){var t=ov();return t.copy=function(){return av(t,ul())},Ha.apply(t,arguments),uv(t)}function rr(t){return function(){return t}}function fv(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Yd(e)}function cv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fl(t){this._context=t}fl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hv(t){return new fl(t)}function dv(t){return t[0]}function vv(t){return t[1]}function pv(t,e){var n=rr(!0),r=null,i=hv,s=null,o=fv(l);t=typeof t=="function"?t:t===void 0?dv:rr(t),e=typeof e=="function"?e:e===void 0?vv:rr(e);function l(u){var f,c=(u=cv(u)).length,h,d=!1,v;for(r==null&&(s=i(v=o())),f=0;f<=c;++f)!(f<c&&n(h=u[f],f,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+t(h,f,u),+e(h,f,u));if(v)return s=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:rr(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:rr(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:rr(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}function qs(t){return t<0?-1:1}function zs(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(qs(s)+qs(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Ys(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function na(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function Ii(t){this._context=t}Ii.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:na(this,this._t0,Ys(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,na(this,Ys(this,n=zs(this,t,e)),n);break;default:na(this,this._t0,n=zs(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(Ii.prototype).point=function(t,e){Ii.prototype.point.call(this,e,t)};function _v(t){return new Ii(t)}function Fr(t,e,n){this.k=t,this.x=e,this.y=n}Fr.prototype={constructor:Fr,scale:function(t){return t===1?this:new Fr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Fr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Fr.prototype;var gv=Ye('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),mv=Ye('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),yv=Ye("<tspan> </tspan>"),wv=Ye('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),bv=Ye('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),xv=Ye('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),kv=Ye('<path stroke-width="1.5" role="button" tabindex="0"></path>'),Ev=Ye("<g><!></g>"),Nv=H("<div> </div>"),Sv=H("<div> </div>"),Av=H("<div> </div>"),Mv=H('<div class="tooltip-divider svelte-idxsrp"></div>'),$v=H('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),Tv=H("<div> </div>"),Iv=H("<div> </div>"),Cv=H("<div> </div>"),Rv=H("<div> </div>"),Pv=H("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),Lv=H('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),Fv=H("<span> </span>"),Ov=Ye('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),Dv=Ye('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),qv=Ye('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),zv=H('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),Yv=H('<div class="band-legend svelte-idxsrp"></div>'),Bv=H('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),Uv=H('<div class="legend svelte-idxsrp"></div>'),Vv=H('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function Hv(t,e){br(e,!0);let n=_n(e,"bands",19,()=>[]),r=_n(e,"years",19,()=>[]),i=_n(e,"maxFieldSize",3,0),s=_n(e,"yMode",3,"relative"),o=_n(e,"showConductorMarkers",3,!0);const l={top:24,right:48,bottom:48,left:72},u=880,f=360,c={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},h=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],d=["circle","square","triangle"],v=6,p=24,N=26,T=30,X=l.top+12,D=f-l.bottom-22,I=10,J=6,B=[0,1,2,3];let j=gt(null),tt=gt(le({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),mt=null,xt=null,b=gt(null),O=gt(0),ft=gt(0);const k=()=>o()&&n().length===1;function L(g){if(g.absolute_position==null)return 0;const m=g.field_size??a(Tt)??i()??1;return m?g.absolute_position/m*100:0}function K(g){return s()==="relative"?L(g):g.absolute_position??0}function nt(g){const m=g.pieces??g.pieces,C=Array.isArray(m)?m.map($=>`${$}`.trim()).filter(Boolean):m!=null&&`${m}`.trim().length?[`${m}`.trim()]:[],R={...g,pieces:C},q=g;return q.band_name!=null&&(R.band_name=q.band_name),Array.isArray(q.aggregate_entries)&&q.aggregate_entries.length>0&&(R.aggregate_entries=q.aggregate_entries.map($=>nt($))),R}function pt(g){return g.map(m=>nt(m))}function kt(g){const m=[];let C=0;if(g.length>0){const R=g[0];R.conductor&&(m.push({year:R.year,conductor:R.conductor,lane:C}),C+=1)}for(let R=1;R<g.length;R+=1){const q=g[R-1],$=g[R];q.conductor&&$.conductor&&q.conductor!==$.conductor&&(m.push({year:$.year,conductor:$.conductor,lane:C}),C+=1)}return m}function it(){if(!a(j))return;const g=a(j).getBoundingClientRect(),m=a(j).parentElement;if(!m)return;const C=m.getBoundingClientRect();if(g.width===0||g.height===0)return;const R={offsetX:g.left-C.left,scaleX:g.width/u,offsetY:g.top-C.top,scaleY:g.height/f};(Math.abs(R.offsetX-a(tt).offsetX)>.1||Math.abs(R.scaleX-a(tt).scaleX)>.001||Math.abs(R.offsetY-a(tt).offsetY)>.1||Math.abs(R.scaleY-a(tt).scaleY)>.001)&&z(tt,R,!0)}function ye(){!mt||!a(j)||xt!==a(j)&&(xt&&mt.unobserve(xt),mt.observe(a(j)),xt=a(j))}wi(()=>{typeof ResizeObserver<"u"&&(mt=new ResizeObserver(()=>it())),ye(),it(),window.addEventListener("resize",it)}),mi(()=>{ye(),it()}),Hu(()=>{mt==null||mt.disconnect(),window.removeEventListener("resize",it)});function de(g){return B[g%B.length]??0}function ve(g,m){const C=a(Yt);if(!C)return{anchor:"middle",dx:0};const R=C(g.year)??l.left,q=48,$=l.left-q,lt=u-l.right+q,ct=Math.max(m,1)*J/2;return R+ct>lt?{anchor:"end",dx:0}:R-ct<$?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function re(g){const m=g==null?void 0:g.trim();if(!m)return[""];const C=m.split(/\s+/);if(C.length<=1)return[m];const R=C.pop(),q=C.join(" ");return q?[q,R]:[R]}function Ht(g,m,C){const R=g.find(dt=>dt.year===m.year),q=de(m.lane);if(!R)return l.top-8+q*(p+6);const $=a(ot)(K(R)),lt=C??re(m.conductor),wt=(Math.max(lt.length,1)-1)*6,At=g.filter(dt=>dt.year>=m.year-1&&dt.year<=m.year+1).map(dt=>({year:dt.year,y:a(ot)(K(dt))})).sort((dt,yt)=>dt.year-yt.year),Dt=At.findIndex(dt=>dt.year===m.year);let Lt=!0;if(Dt>0&&Dt<At.length-1){const dt=At[Dt-1],yt=At[Dt+1],jt=Math.abs($-dt.y),_=Math.abs($-yt.y);(jt<N+4||_<N+4)&&(Lt=!1)}const ht=p+10,Ct=N+q*ht+wt,Rt=$-Ct;if(Lt&&Rt>X)return Rt;const Kt=T+q*ht+wt,Mt=$+Kt;if(Mt<=D)return Mt;const Ft=D-q*ht;return Ft>X?Ft:Math.max(X,Math.min(D,$))}function ln(g,m,C){return`M ${g} ${m-C} L ${g+C} ${m+C} L ${g-C} ${m+C} Z`}function Je(g){if(!g)return Number.POSITIVE_INFINITY;const m=g.trim().toLowerCase();if(m==="elite")return 0;const C=m.match(/(\d+)/);return C?parseInt(C[1],10):Number.POSITIVE_INFINITY}function un(g,m){const C=Je(g),R=Je(m);return C!==R?C-R:g.localeCompare(m)}let fn=F(()=>n().map(g=>({band:g,entries:pt(g.entries)}))),we=F(()=>a(fn).reduce((g,m)=>(g.push(...m.entries),g),[])),Zt=F(()=>(()=>{if(r().length)return r();if(!a(we).length)return[0];const g=new Set(a(we).map(m=>m.year));return Array.from(g).sort((m,C)=>m-C)})()),Yt=F(()=>Jd().domain(a(Zt)).range([l.left,u-l.right])),Tt=F(()=>i()||(a(we).length?Math.max(...a(we).map(g=>g.field_size??0)):1)),st=F(()=>s()==="relative"?[100,0]:[a(Tt)+1,0]),ot=F(()=>ul().domain(a(st)).range([f-l.bottom,l.top])),St=F(()=>a(fn).map((g,m)=>{const C=[...g.entries].sort((ct,wt)=>ct.year-wt.year),R=a(Zt).map(ct=>C.find(wt=>wt.year===ct)??null),$=pv().defined(ct=>ct!==null).x(ct=>ct?a(Yt)(ct.year)??l.left:l.left).y(ct=>ct?a(ot)(K(ct)):a(ot)(a(st)[1])).curve(_v)(R)??void 0,lt=k()?kt(C):[];return{band:g.band,entries:C,timeline:R,pathData:$,conductorChanges:lt,color:h[m%h.length],shape:d[m%d.length]}})),ie=F(()=>k()&&a(St).length?a(St)[0].conductorChanges.map(g=>{const m=re(g.conductor),C=m.reduce((q,$)=>Math.max(q,$.length),0),R=ve(g,C);return{...g,...R,y:Ht(a(St)[0].entries,g,m),labelLines:m}}):[]),Bt=F(()=>(()=>{if(s()==="relative")return Array.from({length:11},(g,m)=>m*10);{const g=Array.from(new Set(To(1,a(Tt),6).map(m=>Math.round(m)))).filter(m=>m>=1).sort((m,C)=>m-C);return g.includes(1)?g:[1,...g]}})()),ae=F(()=>new Set(a(we).map(g=>g.year))),be=F(()=>a(Zt).length>30?5:a(Zt).length>18?3:1),Ut=F(()=>a(Zt).filter((g,m)=>m===0||m===a(Zt).length-1||g===2019?!0:g%a(be)===0)),tn=F(()=>a(Ut).map(g=>{const m=a(Yt)(g)??l.left,C=a(tt).offsetX+m*a(tt).scaleX;return{year:g,x:C,inactive:!a(ae).has(g)}})),An=F(()=>a(tt).offsetY+(f-l.bottom)*a(tt).scaleY+I),cn=F(()=>Array.from(new Set(a(we).map(g=>g.division))).filter(g=>typeof g=="string"&&g.length>0).sort(un));const Ue=()=>a(cn).length>0;function pe(g,m,C,R){const q=g.currentTarget,$=q.ownerSVGElement;if(!$)return;const lt=$.getBoundingClientRect();if(g instanceof MouseEvent)z(O,g.clientX-lt.left),z(ft,g.clientY-lt.top);else{const ct=q.getBoundingClientRect();z(O,ct.left+ct.width/2-lt.left),z(ft,ct.top+ct.height/2-lt.top)}z(b,{entry:m,bandName:C,lineColor:R},!0)}function It(){z(b,null)}function Ve(g){return g.aggregate_entries}var Mn=Vv(),Gn=bt(Mn),hn=x(Gn);U(hn,"viewBox",`0 0 ${u} ${f}`);var dn=P(x(hn));Pt(dn,21,()=>a(Bt),Ot,(g,m)=>{var C=gv(),R=bt(C),q=P(R),$=x(q);Z((lt,ct,wt)=>{U(R,"x1",l.left),U(R,"x2",u-l.right),U(R,"y1",lt),U(R,"y2",ct),U(q,"x",l.left-12),U(q,"y",wt),V($,s()==="relative"?`${a(m)}%`:`#${a(m)}`)},[()=>a(ot)(a(m)),()=>a(ot)(a(m)),()=>a(ot)(a(m))+4]),E(g,C)});var Wn=P(dn);Pt(Wn,17,()=>a(St),Ot,(g,m)=>{var C=zt(),R=bt(C);{var q=$=>{var lt=mv();Z(()=>{U(lt,"d",a(m).pathData),U(lt,"stroke",a(m).color)}),E($,lt)};et(R,$=>{a(m).pathData&&$(q)})}E(g,C)});var Zn=P(Wn);{var Sr=g=>{var m=zt(),C=bt(m);Pt(C,17,()=>a(ie),Ot,(R,q)=>{var $=zt(),lt=bt($);{var ct=wt=>{var At=zt(),Dt=bt(At);Xu(Dt,()=>`${a(q).year}-${a(q).conductor}`,Lt=>{var ht=wv(),Ct=x(ht),Rt=P(Ct);Pt(Rt,21,()=>a(q).labelLines,Ot,(Kt,Mt,Ft,dt)=>{var yt=yv();U(yt,"dy",Ft===0?0:"1.1em");var jt=x(yt);Z(_=>{U(yt,"x",_),V(jt,a(Mt))},[()=>a(Yt)(a(q).year)]),E(Kt,yt)}),Z((Kt,Mt,Ft)=>{U(Ct,"x1",Kt),U(Ct,"x2",Mt),U(Ct,"y1",l.top),U(Ct,"y2",f-l.bottom),U(Rt,"x",Ft),U(Rt,"y",a(q).y),U(Rt,"text-anchor",a(q).anchor),U(Rt,"dx",a(q).dx)},[()=>a(Yt)(a(q).year),()=>a(Yt)(a(q).year),()=>a(Yt)(a(q).year)]),E(Lt,ht)}),E(wt,At)};et(lt,wt=>{a(Yt)(a(q).year)!==void 0&&wt(ct)})}E(R,$)}),E(g,m)};et(Zn,g=>{k()&&g(Sr)})}var Ar=P(Zn);Pt(Ar,17,()=>a(St),Ot,(g,m)=>{var C=zt(),R=bt(C);Pt(R,17,()=>a(m).entries,q=>q.year,(q,$)=>{var lt=zt(),ct=bt(lt);{var wt=At=>{const Dt=F(()=>a(Yt)(a($).year)??l.left),Lt=F(()=>a(ot)(K(a($)))),ht=F(()=>(a($).field_size??0)>0),Ct=F(()=>a(ht)?`${L(a($)).toFixed(1)}%`:null);var Rt=Ev(),Kt=x(Rt);{var Mt=dt=>{var yt=bv();U(yt,"r",v),Z(()=>{U(yt,"cx",a(Dt)),U(yt,"cy",a(Lt)),U(yt,"fill",c[a($).division]??"#f8fafc"),U(yt,"stroke",a(m).color),U(yt,"aria-label",`${a(m).band.name}: ${a($).year} – ${a($).division} plass ${a($).rank} (absolutt #${a($).absolute_position}${a(Ct)?` · relativ ${a(Ct)}`:""})${a($).conductor?` – Dirigent: ${a($).conductor}`:""}`)}),_e("mouseenter",yt,jt=>pe(jt,a($),a(m).band.name,a(m).color)),_e("mouseleave",yt,It),_e("focus",yt,jt=>pe(jt,a($),a(m).band.name,a(m).color)),_e("blur",yt,It),E(dt,yt)},Ft=dt=>{var yt=zt(),jt=bt(yt);{var _=A=>{var y=xv();U(y,"width",v*2),U(y,"height",v*2),Z(()=>{U(y,"x",a(Dt)-v),U(y,"y",a(Lt)-v),U(y,"fill",c[a($).division]??"#f8fafc"),U(y,"stroke",a(m).color),U(y,"aria-label",`${a(m).band.name}: ${a($).year} – ${a($).division} plass ${a($).rank} (absolutt #${a($).absolute_position}${a(Ct)?` · relativ ${a(Ct)}`:""})${a($).conductor?` – Dirigent: ${a($).conductor}`:""}`)}),_e("mouseenter",y,M=>pe(M,a($),a(m).band.name,a(m).color)),_e("mouseleave",y,It),_e("focus",y,M=>pe(M,a($),a(m).band.name,a(m).color)),_e("blur",y,It),E(A,y)},w=A=>{var y=kv();Z(M=>{U(y,"d",M),U(y,"fill",c[a($).division]??"#f8fafc"),U(y,"stroke",a(m).color),U(y,"aria-label",`${a(m).band.name}: ${a($).year} – ${a($).division} plass ${a($).rank} (absolutt #${a($).absolute_position}${a(Ct)?` · relativ ${a(Ct)}`:""})${a($).conductor?` – Dirigent: ${a($).conductor}`:""}`)},[()=>ln(a(Dt),a(Lt),v)]),_e("mouseenter",y,M=>pe(M,a($),a(m).band.name,a(m).color)),_e("mouseleave",y,It),_e("focus",y,M=>pe(M,a($),a(m).band.name,a(m).color)),_e("blur",y,It),E(A,y)};et(jt,A=>{a(m).shape==="square"?A(_):A(w,!1)},!0)}E(dt,yt)};et(Kt,dt=>{a(m).shape==="circle"?dt(Mt):dt(Ft,!1)})}E(At,Rt)};et(ct,At=>{a(Yt)(a($).year)!==void 0&&At(wt)})}E(q,lt)}),E(g,C)}),nf(hn,g=>z(j,g),()=>a(j));var Xt=P(hn,2);{var Qt=g=>{const m=F(()=>Ve(a(b).entry));var C=Lv(),R=x(C),q=x(R),$=P(R,2);{var lt=wt=>{var At=zt(),Dt=bt(At);Pt(Dt,17,()=>a(m),Ot,(Lt,ht,Ct)=>{var Rt=$v(),Kt=bt(Rt),Mt=x(Kt),Ft=x(Mt),dt=P(Mt,2),yt=x(dt),jt=P(dt,2),_=x(jt),w=P(jt,2);{var A=rt=>{const Et=F(()=>L(a(ht)).toFixed(1));var Gt=Nv(),xe=x(Gt);Z(()=>V(xe,`Relativ plassering: ${a(Et)??""}%`)),E(rt,Gt)};et(w,rt=>{(a(ht).field_size??0)>0&&rt(A)})}var y=P(w,2),M=x(y),Y=P(y,2);{var G=rt=>{var Et=Sv(),Gt=x(Et);Z(()=>V(Gt,`Poeng: ${a(ht).points??""} / ${a(ht).max_points??""}`)),E(rt,Et)};et(Y,rt=>{a(ht).points!==null&&rt(G)})}var W=P(Y,2);{var _t=rt=>{var Et=Av(),Gt=x(Et);Z(xe=>V(Gt,`Stykker: ${xe??""}`),[()=>a(ht).pieces.join("; ")]),E(rt,Et)};et(W,rt=>{a(ht).pieces.length>0&&rt(_t)})}var qt=P(Kt,2);{var $t=rt=>{var Et=Mv();E(rt,Et)};et(qt,rt=>{Ct<a(m).length-1&&rt($t)})}Z(()=>{V(Ft,a(ht).band_name??"Ukjent korps"),V(yt,`${a(ht).division??""} · #${a(ht).rank??""}`),V(_,`Absolutt plassering: #${a(ht).absolute_position??""}`),V(M,`Deltakere: ${a(ht).division_size??""} (div) / ${a(ht).field_size??""} (totalt)`)}),E(Lt,Rt)}),E(wt,At)},ct=wt=>{var At=Pv(),Dt=bt(At),Lt=x(Dt),ht=P(Dt,2);{var Ct=y=>{var M=Tv(),Y=x(M);Z(()=>V(Y,`Dirigent: ${a(b).entry.conductor??""}`)),E(y,M)};et(ht,y=>{a(b).entry.conductor&&y(Ct)})}var Rt=P(ht,2),Kt=x(Rt),Mt=P(Rt,2);{var Ft=y=>{const M=F(()=>L(a(b).entry).toFixed(1));var Y=Iv(),G=x(Y);Z(()=>V(G,`Relativ plassering: ${a(M)??""}%`)),E(y,Y)};et(Mt,y=>{(a(b).entry.field_size??0)>0&&y(Ft)})}var dt=P(Mt,2),yt=x(dt),jt=P(dt,2);{var _=y=>{var M=Cv(),Y=x(M);Z(()=>V(Y,`Poeng: ${a(b).entry.points??""} / ${a(b).entry.max_points??""}`)),E(y,M)};et(jt,y=>{a(b).entry.points!==null&&y(_)})}var w=P(jt,2);{var A=y=>{var M=Rv(),Y=x(M);Z(G=>V(Y,`Stykker: ${G??""}`),[()=>a(b).entry.pieces.join("; ")]),E(y,M)};et(w,y=>{a(b).entry.pieces.length>0&&y(A)})}Z(()=>{V(Lt,`${a(b).entry.division??""} · #${a(b).entry.rank??""}`),V(Kt,`Absolutt plassering: #${a(b).entry.absolute_position??""}`),V(yt,`Deltakere: ${a(b).entry.division_size??""} (div) / ${a(b).entry.field_size??""} (totalt)`)}),E(wt,At)};et($,wt=>{a(m)&&a(m).length?wt(lt):wt(ct,!1)})}Z(()=>{ni(C,`left: ${a(O)}px; top: ${a(ft)}px`),V(q,`${a(b).entry.year??""} · ${a(b).bandName??""}`)}),E(g,C)};et(Xt,g=>{a(b)&&g(Qt)})}var Ie=P(Xt,2);Pt(Ie,21,()=>a(tn),Ot,(g,m)=>{var C=Fv();let R;var q=x(C);Z($=>{ni(C,`left: ${a(m).x}px`),R=Rr(C,1,"svelte-idxsrp",null,R,$),V(q,a(m).year)},[()=>({inactive:a(m).inactive})]),E(g,C)});var vn=P(Gn,2);{var $n=g=>{var m=Yv();Pt(m,21,()=>a(St),Ot,(C,R)=>{var q=zv(),$=x(q),lt=x($),ct=P(lt);{var wt=Lt=>{var ht=Ov();Z(()=>U(ht,"stroke",a(R).color)),E(Lt,ht)},At=Lt=>{var ht=zt(),Ct=bt(ht);{var Rt=Mt=>{var Ft=Dv();Z(()=>U(Ft,"stroke",a(R).color)),E(Mt,Ft)},Kt=Mt=>{var Ft=qv();Z(dt=>{U(Ft,"d",dt),U(Ft,"stroke",a(R).color)},[()=>ln(21,7,6)]),E(Mt,Ft)};et(Ct,Mt=>{a(R).shape==="square"?Mt(Rt):Mt(Kt,!1)},!0)}E(Lt,ht)};et(ct,Lt=>{a(R).shape==="circle"?Lt(wt):Lt(At,!1)})}var Dt=P($);Z(()=>{U(lt,"stroke",a(R).color),V(Dt,` ${a(R).band.name??""}`)}),E(C,q)}),E(g,m)};et(vn,g=>{a(St).length>0&&g($n)})}var Mr=P(vn,2);{var He=g=>{var m=Uv();Pt(m,21,()=>a(cn),Ot,(C,R)=>{var q=Bv(),$=x(q),lt=P($);Z(()=>{ni($,`background-color: ${c[a(R)]??"#94a3b8"}`),V(lt,` ${a(R)??""}`)}),E(C,q)}),E(g,m)};et(Mr,g=>{Ue()&&g(He)})}Z(()=>ni(Ie,`top: ${a(An)}px`)),E(t,Mn),xr()}function oe(t){return t.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}function Xv(t,e){const n=Number(t.target.value);z(e,Number.isNaN(n)?null:n,!0)}function jv(t,e){z(e,t.target.value||null,!0)}var Kv=H('<p class="svelte-1e9ky18"> </p>'),Gv=H('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),Wv=H('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),Zv=H("<option> </option>"),Qv=H("<option selected>Ingen divisjoner</option>"),Jv=H("<option> </option>"),tp=H('<span class="svelte-1e9ky18"> </span>'),ep=H('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),np=H('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),rp=H('<a class="entity-link svelte-1e9ky18"> </a>'),ip=H("<span>Ukjent</span>"),ap=H("<span>–</span>"),sp=H('<a class="program-link svelte-1e9ky18"> </a> ',1),op=H('<tr class="svelte-1e9ky18"><td data-label="Plass" class="svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td></tr>'),lp=H('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),up=H('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!>',1),fp=H('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2> <!></div> <!></section>');function cp(t,e){br(e,!0);let n=_n(e,"dataset",3,null);const r=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let i=gt(null),s=gt(null),o=F(()=>n()?v(n()):new Map),l=F(()=>{var k,L;return((L=(k=n())==null?void 0:k.metadata)==null?void 0:L.years)??[]}),u=F(()=>{var k,L;return((L=(k=n())==null?void 0:k.metadata)==null?void 0:L.generated_at)??null}),f=F(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||a(i)==null||!a(o).has(a(i)))return[];const k=a(o).get(a(i))??new Map,L=n().metadata.divisions.filter(nt=>k.has(nt)),K=Array.from(k.keys()).filter(nt=>!L.includes(nt)).sort();return[...L,...K]})()),c=F(()=>(()=>{if(a(i)!=null&&a(s)&&a(o).has(a(i))){const k=a(o).get(a(i)),L=(a(s)&&(k==null?void 0:k.get(a(s))))??[];return T(L)}return[]})()),h=F(()=>(()=>{var k;if(a(c).length>0){const L=(k=a(c)[0])==null?void 0:k.entry,K=(L==null?void 0:L.division_size)??a(c).length;return K&&K>0?K:null}return null})()),d=F(()=>(()=>{var k;if(a(c).length>0){const L=(k=a(c)[0])==null?void 0:k.entry,K=(L==null?void 0:L.field_size)??null;return K&&K>0?K:null}return null})());function v(k){const L=new Map;if(!(k!=null&&k.bands)||!Array.isArray(k.bands))return L;for(const K of k.bands)if(!(!K||!K.entries||!Array.isArray(K.entries)))for(const nt of K.entries){if(!nt||typeof nt.year!="number"||!nt.division)continue;let pt=L.get(nt.year);pt||(pt=new Map,L.set(nt.year,pt));const kt=nt.division;let it=pt.get(kt);it||(it=[],pt.set(kt,it)),it.push({band:K.name,entry:nt})}return L}function p(k){return k.length?a(i)&&k.includes(a(i))?a(i):k[k.length-1]??null:null}function N(k){return k.length?a(s)&&k.includes(a(s))?a(s):k[0]??null:null}function T(k){return[...k].sort((L,K)=>{const nt=L.entry.rank??Number.POSITIVE_INFINITY,pt=K.entry.rank??Number.POSITIVE_INFINITY;if(nt!==pt)return nt-pt;const kt=L.entry.absolute_position??Number.POSITIVE_INFINITY,it=K.entry.absolute_position??Number.POSITIVE_INFINITY;return kt!==it?kt-it:L.band.localeCompare(K.band)})}function X(k){return k!=null?`${k}`:"–"}function D(k,L){if(k==null&&L==null)return"–";const K=k==null?"–":r.format(k);return L==null,K}function I(k){return k.map(L=>L.trim()).filter(Boolean)}function J(k){if(!k)return null;const L=new Date(k);return Number.isNaN(L.getTime())?k:new Intl.DateTimeFormat("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(L)}mi(()=>{if(n()&&a(l)&&Array.isArray(a(l))&&a(l).length>0){const k=p(a(l));a(i)!==k&&z(i,k,!0)}else z(i,null),z(s,null)}),mi(()=>{if(a(i)!=null&&a(f)&&Array.isArray(a(f))&&a(f).length>0){const k=N(a(f));a(s)!==k&&z(s,k,!0)}else a(i)!=null&&z(s,null)});let B=F(()=>J(a(u)));var j=fp(),tt=x(j),mt=P(x(tt),2);{var xt=k=>{var L=Kv(),K=x(L);Z(()=>V(K,`Data oppdatert ${a(B)??""}`)),E(k,L)};et(mt,k=>{a(B)&&k(xt)})}var b=P(tt,2);{var O=k=>{var L=Gv();E(k,L)},ft=k=>{var L=zt(),K=bt(L);{var nt=kt=>{var it=Wv();E(kt,it)},pt=kt=>{var it=up(),ye=bt(it),de=x(ye),ve=P(x(de),2);ve.__change=[Xv,i],Pt(ve,21,()=>a(l)||[],Ot,(st,ot)=>{var St=Zv(),ie=x(St),Bt={};Z(()=>{cs(St,a(i)===a(ot)),V(ie,a(ot)),Bt!==(Bt=a(ot))&&(St.value=(St.__value=a(ot))??"")}),E(st,St)});var re=P(de,2),Ht=P(x(re),2);Ht.__change=[jv,s];var ln=x(Ht);{var Je=st=>{var ot=Qv();ot.value=ot.__value="",E(st,ot)},un=st=>{var ot=zt(),St=bt(ot);Pt(St,17,()=>a(f),Ot,(ie,Bt)=>{var ae=Jv(),be=x(ae),Ut={};Z(()=>{cs(ae,a(s)===a(Bt)),V(be,a(Bt)),Ut!==(Ut=a(Bt))&&(ae.value=(ae.__value=a(Bt))??"")}),E(ie,ae)}),E(st,ot)};et(ln,st=>{!a(f)||a(f).length===0?st(Je):st(un,!1)})}var fn=P(re,2);{var we=st=>{var ot=ep(),St=x(ot),ie=x(St),Bt=P(St,2);{var ae=be=>{var Ut=tp(),tn=x(Ut);Z(()=>V(tn,`Totalt felt: ${a(d)??""}`)),E(be,Ut)};et(Bt,be=>{a(d)&&be(ae)})}Z(()=>V(ie,`${a(h)??""} korps`)),E(st,ot)};et(fn,st=>{a(h)&&st(we)})}var Zt=P(ye,2);{var Yt=st=>{var ot=np();E(st,ot)},Tt=st=>{var ot=lp(),St=x(ot),ie=P(x(St));Pt(ie,21,()=>a(c),Ot,(Bt,ae)=>{let be=()=>a(ae).band,Ut=()=>a(ae).entry;var tn=op(),An=x(tn),cn=x(An),Ue=P(An),pe=x(Ue),It=x(pe),Ve=P(Ue),Mn=x(Ve);{var Gn=Xt=>{var Qt=rp(),Ie=x(Qt);Z((vn,$n)=>{U(Qt,"href",vn),V(Ie,$n)},[()=>`?view=conductors&conductor=${encodeURIComponent(oe(Ut().conductor))}`,()=>Ut().conductor.trim()]),E(Xt,Qt)},hn=Xt=>{var Qt=ip();E(Xt,Qt)};et(Mn,Xt=>{Ut().conductor&&Ut().conductor.trim().length>0?Xt(Gn):Xt(hn,!1)})}var dn=P(Ve),Wn=x(dn),Zn=P(dn),Sr=x(Zn);{var Ar=Xt=>{const Qt=F(()=>I(Ut().pieces));var Ie=zt(),vn=bt(Ie);{var $n=He=>{var g=ap();E(He,g)},Mr=He=>{var g=zt(),m=bt(g);Pt(m,17,()=>a(Qt),Ot,(C,R,q)=>{var $=sp(),lt=bt($),ct=x(lt),wt=P(lt,1,!0);Z(At=>{U(lt,"href",At),V(ct,a(R)),V(wt,q<a(Qt).length-1?", ":"")},[()=>`?view=pieces&piece=${encodeURIComponent(oe(a(R)))}`]),E(C,$)}),E(He,g)};et(vn,He=>{a(Qt).length===0?He($n):He(Mr,!1)})}E(Xt,Ie)};et(Sr,Xt=>{Xt(Ar)})}Z((Xt,Qt,Ie)=>{V(cn,Xt),U(pe,"href",Qt),V(It,be()),V(Wn,Ie)},[()=>X(Ut().rank),()=>`?view=bands&band=${encodeURIComponent(oe(be()))}`,()=>D(Ut().points,Ut().max_points)]),E(Bt,tn)}),E(st,ot)};et(Zt,st=>{!a(c)||a(c).length===0?st(Yt):st(Tt,!1)})}E(kt,it)};et(K,kt=>{!a(l)||!a(l).length?kt(nt):kt(pt,!1)},!0)}E(k,L)};et(b,k=>{n()?k(ft,!1):k(O)})}E(t,j),xr()}No(["change"]);function cl(t){return t.replace(/\s+/g," ").trim()}const hp=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function dp(t){return t.replace(hp,"").trim()}function ba(t){if(!t)return[];const e=dp(t);if(!e)return[];const r=e.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/·]/g,",").split(/[;,]/).map(s=>cl(s)).filter(s=>s.length>0),i=new Map;for(const s of r){const o=s.toLowerCase();i.has(o)||i.set(o,s)}return Array.from(i.values())}var vp=H('<a class="composer-link svelte-18hgr5c"> </a> ',1),pp=H('<p class="piece-composer svelte-18hgr5c"></p>'),_p=H('<p class="piece-composer svelte-18hgr5c"> </p>'),gp=H('<a class="entity-link svelte-18hgr5c"> </a>'),mp=H("<span>Ukjent</span>"),yp=H('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td></tr>'),wp=H('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="svelte-18hgr5c">År</th><th scope="col" class="svelte-18hgr5c">Divisjon</th><th scope="col" class="svelte-18hgr5c">Korps</th><th scope="col" class="svelte-18hgr5c">Plass</th><th scope="col" class="svelte-18hgr5c">Poeng</th><th scope="col" class="svelte-18hgr5c">Dirigent</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),bp=H('<section class="pieces-view svelte-18hgr5c"></section>');function xp(t,e){br(e,!0);let n=_n(e,"pieces",19,()=>[]);const r=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function i(c){return[...c].sort((h,d)=>{const v=h.entry.year-d.entry.year;if(v!==0)return v;const p=h.entry.rank??Number.POSITIVE_INFINITY,N=d.entry.rank??Number.POSITIVE_INFINITY;return p!==N?p-N:h.band.localeCompare(d.band)})}function s(c){return c.composerNames&&c.composerNames.length>0?c.composerNames:c.composer?ba(c.composer):[]}function o(c){return c==null?"–":r.format(c)}function l(c){return c!=null?`${c}`:"–"}let u=F(()=>n().map(c=>({...c,performances:i(c.performances)})));var f=bp();Pt(f,21,()=>a(u),Ot,(c,h)=>{const d=F(()=>s(a(h)));var v=wp(),p=x(v),N=x(p),T=x(N),X=x(T),D=P(T,2);{var I=b=>{var O=pp();Pt(O,21,()=>a(d),Ot,(ft,k,L)=>{var K=vp(),nt=bt(K),pt=x(nt),kt=P(nt,1,!0);Z(it=>{U(nt,"href",it),V(pt,a(k)),V(kt,L<a(d).length-1?", ":"")},[()=>`?view=composers&composer=${encodeURIComponent(oe(a(k)))}`]),E(ft,K)}),E(b,O)},J=b=>{var O=zt(),ft=bt(O);{var k=L=>{var K=_p(),nt=x(K);Z(()=>V(nt,a(h).composer)),E(L,K)};et(ft,L=>{a(h).composer&&L(k)},!0)}E(b,O)};et(D,b=>{a(d).length>0?b(I):b(J,!1)})}var B=P(D,2),j=x(B),tt=P(p,2),mt=x(tt),xt=P(x(mt));Pt(xt,21,()=>a(h).performances,Ot,(b,O)=>{const ft=F(()=>{var Tt;return((Tt=a(O).entry.conductor)==null?void 0:Tt.trim())??""}),k=F(()=>a(ft).length>0),L=F(()=>a(k)?oe(a(ft)):""),K=F(()=>oe(a(O).band));var nt=yp(),pt=x(nt),kt=x(pt),it=P(pt),ye=x(it),de=P(it),ve=x(de),re=x(ve),Ht=P(de),ln=x(Ht),Je=P(Ht),un=x(Je),fn=P(Je),we=x(fn);{var Zt=Tt=>{var st=gp(),ot=x(st);Z(St=>{U(st,"href",St),V(ot,a(ft))},[()=>`?view=conductors&conductor=${encodeURIComponent(a(L))}`]),E(Tt,st)},Yt=Tt=>{var st=mp();E(Tt,st)};et(we,Tt=>{a(k)?Tt(Zt):Tt(Yt,!1)})}Z((Tt,st,ot)=>{V(kt,a(O).entry.year),V(ye,a(O).entry.division),U(ve,"href",Tt),V(re,a(O).band),V(ln,st),V(un,ot)},[()=>`?view=bands&band=${encodeURIComponent(a(K))}`,()=>l(a(O).entry.rank),()=>o(a(O).entry.points)]),E(b,nt)}),Z(()=>{V(X,a(h).name),V(j,`${a(h).performances.length??""} fremføringer`),U(tt,"aria-label",`Fremføringer av ${a(h).name}`)}),E(c,v)}),E(t,f),xr()}var kp=H('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),Ep=H('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),Np=H('<section class="composers-view svelte-1njzana"></section>');function Sp(t,e){br(e,!0);let n=_n(e,"composers",19,()=>[]),r=F(()=>[...n()].sort((s,o)=>s.name.localeCompare(o.name)));var i=Np();Pt(i,21,()=>a(r),Ot,(s,o)=>{var l=Ep(),u=x(l),f=x(u),c=x(f),h=x(c),d=P(c,2),v=x(d),p=P(u,2);Pt(p,21,()=>a(o).pieces,Ot,(N,T)=>{var X=kp(),D=x(X),I=x(D);Z(J=>{U(D,"href",J),V(I,a(T).name)},[()=>`?view=pieces&piece=${encodeURIComponent(a(T).slug)}`]),E(N,X)}),Z(()=>{V(h,a(o).name),V(v,`${a(o).pieces.length??""} ${a(o).pieces.length===1?"stykke":"stykker"}`)}),E(s,l)}),E(t,i),xr()}function Ap(t,e,n){e(a(n)==="dark"?"light":"dark")}function Mp(t,e,n){z(e,t.target.value,!0),z(n,-1)}function $p(t,e,n,r){a(e).length&&(t.key==="ArrowDown"?(t.preventDefault(),z(n,(a(n)+1)%a(e).length)):t.key==="ArrowUp"?(t.preventDefault(),z(n,(a(n)-1+a(e).length)%a(e).length)):t.key==="Enter"&&a(n)>=0&&(t.preventDefault(),r(a(e)[a(n)])))}var Tp=(t,e,n)=>e(a(n)),Ip=H('<button type="button"> </button>'),Cp=(t,e,n)=>e(a(n).slug),Rp=H('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),Pp=H('<div class="selected-entities svelte-1n46o8q" role="list"></div>'),Lp=H('<div role="option" tabindex="-1"> </div>'),Fp=H('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),Op=H('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!> <!>',1),Dp=H('<section class="status svelte-1n46o8q">Laster data…</section>'),qp=H('<section class="status error svelte-1n46o8q"> </section>'),zp=H('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),Yp=(t,e)=>e("absolute"),Bp=(t,e)=>e("relative"),Up=H('<p class="comparison-summary svelte-1n46o8q"> </p>'),Vp=H('<section class="chart-card svelte-1n46o8q"><div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Plassering:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg plasseringsvisning"><button type="button">Absolutt</button> <button type="button">Relativ</button></div></div> <div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),Hp=H('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),Xp=H('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><h1 class="svelte-1n46o8q">NM Janitsjar</h1> <div class="header-controls svelte-1n46o8q"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button class="theme-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="theme-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function jp(t,e){br(e,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},r="mode",i="view",s=",",o="relative",l="bands",u="nmjanitsjar-theme",f={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat"},c=["bands","conductors","pieces","composers","data"];let h=gt(null),d=gt(le([])),v=gt(le([])),p=gt(le([])),N=gt(!0),T=gt(null),X=gt(""),D=gt(le([])),I=gt(le([])),J=gt(le([])),B=gt(le([])),j=gt(-1),tt=!1,mt="",xt=gt(o),b=gt(l),O=gt("dark"),ft=new Map;function k(_){const w=new Map;for(const A of _){if(!A||!A.slug)continue;const y=A.slug.trim();if(!y)continue;const M=w.get(y);M?M.push(A):w.set(y,[A])}return w}const L=/["'«»“”„‟]/g,K=/\([^)]*\)/g;function nt(_){return _.replace(K," ")}function pt(_){return _.replace(L,"").replace(/\s+/g," ").trim().toLowerCase()}function kt(_){const w=_.trim();if(!w)return[];const A=new Set,y=oe(w);y!=="uidentifisert"&&A.add(y);const M=nt(w),Y=oe(M);Y!=="uidentifisert"&&A.add(Y);const G=pt(w),W=oe(G.replace(/[-–—]/g," "));W!=="uidentifisert"&&A.add(W);const _t=oe(G.replace(/[:;·]/g," "));_t!=="uidentifisert"&&A.add(_t);const qt=[];M.includes("-")&&qt.push(M.split(/[-–—]/)[0]),M.includes(":")&&qt.push(M.split(":")[0]);for(const $t of qt){const rt=oe($t);rt!=="uidentifisert"&&A.add(rt)}return Array.from(A)}function it(_,w){const A=kt(_);if(!A.length)return null;const y=pt(_),M=pt(nt(_));for(const Y of A){const G=w.get(Y);if(!G||G.length===0)continue;if(G.length===1)return G[0].composer??null;const W=G.find(qt=>pt(qt.title)===y);if(W)return W.composer??null;const _t=G.find(qt=>pt(nt(qt.title))===M);return _t?_t.composer??null:G[0].composer??null}return null}function ye(_,w){const A=Array.isArray(_.pieces)?[..._.pieces]:_.pieces!=null?[`${_.pieces}`.trim()].filter(Boolean):[],y={..._,pieces:A,conductor:_.conductor};return w&&(y.band_name=w),y}function de(_){var A;const w=new Map;for(const y of _)for(const M of y.entries){const Y=(A=M.conductor)==null?void 0:A.trim();if(!Y)continue;const G=oe(Y);let W=w.get(G);W||(W={name:Y,slug:G,years:new Map},w.set(G,W));let _t=W.years.get(M.year);_t||(_t={entries:[]},W.years.set(M.year,_t)),_t.entries.push(ye(M,y.name))}return Array.from(w.values()).map(y=>({name:y.name,slug:y.slug,entries:Array.from(y.years.entries()).map(([M,Y])=>{const G=[...Y.entries].sort((_t,qt)=>{const $t=_t.absolute_position??Number.POSITIVE_INFINITY,rt=qt.absolute_position??Number.POSITIVE_INFINITY;return $t!==rt?$t-rt:(_t.rank??Number.POSITIVE_INFINITY)-(qt.rank??Number.POSITIVE_INFINITY)});return{...G[0],year:M,conductor:y.name,aggregate_entries:G}}).sort((M,Y)=>M.year-Y.year)})).sort((y,M)=>y.name.localeCompare(M.name))}function ve(_,w){var y;const A=new Map;for(const M of _)for(const Y of M.entries){const G=Array.isArray(Y.pieces)?Y.pieces:Y.pieces!=null?[`${Y.pieces}`]:[];for(const W of G){const _t=W.trim();if(!_t)continue;const qt=oe(_t);let $t=A.get(qt);const rt=it(_t,w),Et=rt?ba(rt):[],Gt=Et.length>0?Et.join(", "):null;$t?(!$t.composer||!((y=$t.composerNames)!=null&&y.length))&&Gt&&($t.composer=Gt,$t.composerNames=Et):($t={name:_t,slug:qt,composer:Gt,composerNames:Et,performances:[]},A.set(qt,$t)),$t.performances.push({band:M.name,entry:Y})}}return Array.from(A.values()).map(M=>({...M,performances:M.performances.map(({band:Y,entry:G})=>({band:Y,entry:{...G,pieces:[...G.pieces]}}))})).sort((M,Y)=>M.name.localeCompare(Y.name))}function re(_){const w=new Map;for(const y of _){const M=y.composerNames&&y.composerNames.length>0?y.composerNames:ba(y.composer??null);if(M.length)for(const Y of M){const G=cl(Y);if(!G)continue;const W=oe(G);if(W==="uidentifisert")continue;let _t=w.get(W);_t||(_t={name:G,slug:W,normalized:G.toLowerCase(),pieces:new Map},w.set(W,_t)),_t.pieces.has(y.slug)||_t.pieces.set(y.slug,{name:y.name,slug:y.slug})}}const A=Array.from(w.values()).map(y=>({name:y.name,slug:y.slug,normalized:y.normalized,pieces:Array.from(y.pieces.values()).sort((M,Y)=>M.name.localeCompare(Y.name))})).sort((y,M)=>y.name.localeCompare(M.name));return new Map(A.map(y=>[y.slug,y])),A}function Ht(_){return _==="data"?"data":n[_]}function ln(){if(typeof window>"u")return o;const w=new URLSearchParams(window.location.search).get(r);return(w?w.toLowerCase():null)==="absolute"?"absolute":"relative"}function Je(){var w;if(typeof window>"u")return"dark";try{const A=window.localStorage.getItem(u);if(A==="light"||A==="dark")return A}catch(A){console.error("Kunne ikke lese lagret tema",A)}return((w=window.matchMedia)==null?void 0:w.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function un(_){typeof document>"u"||(_==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function fn(_){if(z(O,_,!0),un(_),typeof window<"u")try{window.localStorage.setItem(u,_)}catch(w){console.error("Kunne ikke lagre tema",w)}}function we(){var A;if(typeof window>"u")return l;const w=(A=new URLSearchParams(window.location.search).get(i))==null?void 0:A.toLowerCase();return w?w==="conductors"||w==="dirigent"||w==="conductor"?"conductors":w==="pieces"||w==="piece"||w==="stykke"||w==="stykker"?"pieces":w==="composers"||w==="komponist"||w==="composer"?"composers":w==="data"||w==="resultat"||w==="results"?"data":"bands":l}function Zt(_){if(typeof window>"u")return[];const A=new URLSearchParams(window.location.search).get(Ht(_));return A?A.split(s).map(y=>decodeURIComponent(y.trim())).filter(Boolean):[]}function Yt(_,w){if(!_.length||!w.length)return[];const A=new Map(_.map(y=>[y.slug,y]));return w.map(y=>A.get(y)??A.get(y.toLowerCase())).filter(y=>!!y)}function Tt(_,w){return _.length!==w.length?!1:_.every((A,y)=>A.slug===w[y].slug)}function st(){if(typeof window>"u")return;const _=new URLSearchParams(window.location.search),w=a(D).map(W=>encodeURIComponent(W.slug)).join(s);w.length?_.set(Ht("bands"),w):_.delete(Ht("bands"));const A=a(I).map(W=>encodeURIComponent(W.slug)).join(s);A.length?_.set(Ht("conductors"),A):_.delete(Ht("conductors"));const y=a(J).map(W=>encodeURIComponent(W.slug)).join(s);y.length?_.set(Ht("pieces"),y):_.delete(Ht("pieces"));const M=a(B).map(W=>encodeURIComponent(W.slug)).join(s);M.length?_.set(Ht("composers"),M):_.delete(Ht("composers")),_.set(r,a(xt)),_.set(i,a(b));const Y=_.toString(),G=`${window.location.pathname}${Y?`?${Y}`:""}${window.location.hash}`;window.history.replaceState({},"",G)}function ot({updateHistory:_=!1}={}){const w=ln(),A=we();let y=!1;if(w!==a(xt)&&(z(xt,w,!0),y=!0),A!==a(b)&&(z(b,A,!0),y=!0),!a(h))return _&&st(),y;const M=Yt(a(h).bands,Zt("bands"));Tt(a(D),M)||(z(D,M,!0),y=!0),a(d).length||z(d,de(a(h).bands),!0);const Y=Yt(a(d),Zt("conductors"));Tt(a(I),Y)||(z(I,Y,!0),y=!0),a(v).length||(z(v,ve(a(h).bands,ft),!0),z(p,re(a(v)),!0));const G=Yt(a(v),Zt("pieces"));Tt(a(J),G)||(z(J,G,!0),y=!0),a(p).length||z(p,re(a(v)),!0);const W=Yt(a(p),Zt("composers"));return Tt(a(B),W)||(z(B,W,!0),y=!0),_&&st(),y}function St(){const _=a(D).map(M=>M.slug).join(s),w=a(I).map(M=>M.slug).join(s),A=a(J).map(M=>M.slug).join(s),y=a(B).map(M=>M.slug).join(s);return`${a(b)}|${a(xt)}|${_}|${w}|${A}|${y}`}function ie(){if(!tt)return;const _=St();_!==mt&&(st(),mt=_)}function Bt(_){if(a(b)==="bands"){if(a(D).some(w=>w.slug===_.slug))return;z(D,[...a(D),_],!0)}else if(a(b)==="conductors"){if(a(I).some(w=>w.slug===_.slug))return;z(I,[...a(I),_],!0)}else if(a(b)==="pieces"){const w=_;if(a(J).some(A=>A.slug===w.slug))return;z(J,[...a(J),w],!0)}else if(a(b)==="composers"){const w=_;if(a(B).some(A=>A.slug===w.slug))return;z(B,[...a(B),w],!0)}z(X,""),z(j,-1),ie()}function ae(_){a(b)==="bands"?z(D,a(D).filter(w=>w.slug!==_),!0):a(b)==="conductors"?z(I,a(I).filter(w=>w.slug!==_),!0):a(b)==="pieces"?z(J,a(J).filter(w=>w.slug!==_),!0):a(b)==="composers"&&z(B,a(B).filter(w=>w.slug!==_),!0),z(j,-1),ie()}function be(){if(a(An).length===0)return;const _=a(pe).find(w=>w.name.toLowerCase()===a(cn));_?Bt(_):a(Ve).length>0&&Bt(a(Ve)[0])}function Ut(_){_!==a(b)&&(z(b,_,!0),z(X,""),z(j,-1),ie())}function tn(_){a(xt)!==_&&(z(xt,_,!0),ie())}wi(async()=>{try{const _=Je();z(O,_,!0),un(_);const[w,A]=await Promise.all([fetch("data/band_positions.json"),fetch("data/piece_metadata.json")]);if(!w.ok)throw new Error(`Kunne ikke laste data (status ${w.status})`);let y=[];if(A.ok)try{const Y=await A.json();y=(Array.isArray(Y.pieces)?Y.pieces:[]).filter(W=>!!(W!=null&&W.title&&(W!=null&&W.slug))).map(W=>({title:W.title.trim(),slug:W.slug.trim(),composer:W.composer??null}))}catch(Y){console.warn("Kunne ikke tolke stykke-metadata",Y)}else console.warn(`Kunne ikke laste stykke-metadata (status ${A.status})`);ft=k(y);const M=await w.json();z(h,M,!0),z(d,de(M.bands),!0),z(v,ve(M.bands,ft),!0),z(p,re(a(v)),!0),ot({updateHistory:!1}),mt=St(),st(),tt=!0}catch(_){z(T,_ instanceof Error?_.message:"Ukjent feil ved lasting av data.",!0)}finally{z(N,!1)}}),wi(()=>{const _=()=>{a(h)&&(ot({updateHistory:!1}),mt=St())};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)});let An=F(()=>a(X).trim()),cn=F(()=>a(An).toLowerCase()),Ue=F(()=>a(b)==="bands"||a(b)==="conductors"||a(b)==="pieces"||a(b)==="composers"),pe=F(()=>{var _;return a(Ue)?a(b)==="bands"?((_=a(h))==null?void 0:_.bands)??[]:a(b)==="conductors"?a(d):a(b)==="pieces"?a(v):a(p):[]}),It=F(()=>a(b)==="bands"?a(D):a(b)==="conductors"?a(I):a(b)==="pieces"?a(J):a(b)==="composers"?a(B):[]),Ve=F(()=>a(Ue)&&a(pe)&&a(cn).length>=2?a(pe).filter(_=>_.name.toLowerCase().includes(a(cn))&&!a(It).some(w=>w.slug===_.slug)).slice(0,10):[]),Mn=F(()=>a(h)?a(h).metadata.years:[]),Gn=F(()=>a(h)?a(h).metadata.max_field_size:0),hn=F(()=>{var _;return a(Ue)?a(b)==="bands"?((_=a(h))==null?void 0:_.bands.length)??0:a(b)==="conductors"?a(d).length:a(b)==="pieces"?a(v).length:a(p).length:0}),dn=F(()=>a(b)==="bands"?"korps":a(b)==="conductors"?"dirigenter":a(b)==="pieces"?"stykker":"komponister"),Wn=F(()=>a(h)?`Dekker ${a(hn)} ${a(dn)} · ${a(Mn).length} år (${a(h).metadata.min_year}–${a(h).metadata.max_year})`:""),Zn=F(()=>a(b)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":a(b)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":a(b)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":a(b)==="composers"?"Begynn å skrive et komponistnavn (minst 2 bokstaver)…":""),Sr=F(()=>a(b)==="bands"?"Søk etter korps":a(b)==="conductors"?"Søk etter dirigent":a(b)==="pieces"?"Søk etter musikkstykke":"Søk etter komponist"),Ar=F(()=>a(b)==="bands"?"Korpsforslag":a(b)==="conductors"?"Dirigentforslag":a(b)==="pieces"?"Stykke-forslag":"Komponistforslag"),Xt=F(()=>a(b)==="bands"?"Valgte korps":a(b)==="conductors"?"Valgte dirigenter":a(b)==="pieces"?"Valgte stykker":"Valgte komponister"),Qt=F(()=>a(b)==="bands"?"Ingen korps valgt ennå":a(b)==="conductors"?"Ingen dirigenter valgt ennå":a(b)==="pieces"?"Ingen stykker valgt ennå":"Ingen komponister valgt ennå"),Ie=F(()=>a(b)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":a(b)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":a(b)==="pieces"?"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer.":"Finn en komponist i søkefeltet for å se hvilke stykker vi har registrert av dem."),vn=F(()=>a(b)==="bands"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":a(b)==="conductors"?"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.":a(b)==="pieces"?"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.":a(b)==="composers"?"Søk etter en komponist for å se hvilke NM-stykker de står bak.":"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen."),$n=F(()=>a(O)==="dark"?"Bytt til lyst tema":"Bytt til mørkt tema"),Mr=F(()=>a(O)==="dark"?"Mørk":"Lys"),He=F(()=>a(O)==="dark"?"🌙":"☀️"),g=F(()=>a(It).length===1?a(It)[0].name:a(It).length>1?`${a(It).length} ${a(dn)} valgt`:""),m=F(()=>a(It).length>1?a(It).map(_=>_.name).join(" · "):""),C=F(()=>a(b)==="pieces"?a(It):[]),R=F(()=>a(b)==="composers"?a(It):[]),q=F(()=>a(b)==="bands"||a(b)==="conductors"?a(It):[]);var $=Xp(),lt=x($),ct=P(x(lt),2),wt=x(ct);Pt(wt,21,()=>c,Ot,(_,w)=>{var A=Ip();A.__click=[Tp,Ut,w];let y;var M=x(A);Z(Y=>{U(A,"aria-pressed",a(b)===a(w)),y=Rr(A,1,"svelte-1n46o8q",null,y,Y),V(M,f[a(w)])},[()=>({selected:a(b)===a(w)})]),E(_,A)});var At=P(wt,2);At.__click=[Ap,fn,O];var Dt=x(At),Lt=x(Dt),ht=P(Dt,2),Ct=x(ht),Rt=P(lt,2),Kt=x(Rt),Mt=P(Rt,2);{var Ft=_=>{var w=Op(),A=bt(w),y=F(()=>vs(be)),M=x(A),Y=x(M),G=P(M,2);G.__input=[Mp,X,j],G.__keydown=[$p,Ve,j,Bt];var W=P(A,2);{var _t=rt=>{var Et=Pp();Pt(Et,21,()=>a(It),Ot,(Gt,xe,Ce)=>{var Re=Rp(),Qn=x(Re);Qn.textContent=Ce+1;var Jn=P(Qn,2),$r=x(Jn),ke=P(Jn,2);ke.__click=[Cp,ae,xe],Z(()=>{V($r,a(xe).name),U(ke,"aria-label",`Fjern ${a(xe).name}`)}),E(Gt,Re)}),Z(()=>U(Et,"aria-label",a(Xt))),E(rt,Et)};et(W,rt=>{a(It).length>0&&rt(_t)})}var qt=P(W,2);{var $t=rt=>{var Et=Fp();Pt(Et,21,()=>a(Ve),Ot,(Gt,xe,Ce)=>{var Re=Lp(),Qn=F(()=>vs(()=>Bt(a(xe))));Re.__mousedown=function(...$r){var ke;(ke=a(Qn))==null||ke.apply(this,$r)};var Jn=x(Re);Z(()=>{Rr(Re,1,`suggestion ${Ce===a(j)?"active":""}`,"svelte-1n46o8q"),U(Re,"aria-selected",Ce===a(j)),V(Jn,a(xe).name)}),E(Gt,Re)}),Z(()=>U(Et,"aria-label",a(Ar))),E(rt,Et)};et(qt,rt=>{a(Ve).length>0&&rt($t)})}Z(()=>{V(Y,a(Sr)),U(G,"placeholder",a(Zn))}),_e("submit",A,function(...rt){var Et;(Et=a(y))==null||Et.apply(this,rt)}),ef(G,()=>a(X),rt=>z(X,rt)),E(_,w)};et(Mt,_=>{a(Ue)&&_(Ft)})}var dt=P(Mt,2);{var yt=_=>{var w=Dp();E(_,w)},jt=_=>{var w=zt(),A=bt(w);{var y=Y=>{var G=qp(),W=x(G);Z(()=>V(W,a(T))),E(Y,G)},M=Y=>{var G=zt(),W=bt(G);{var _t=$t=>{var rt=zp();E($t,rt)},qt=$t=>{var rt=zt(),Et=bt(rt);{var Gt=Ce=>{var Re=zt(),Qn=bt(Re);{var Jn=ke=>{var Tr=zt(),Jr=bt(Tr);{var Xi=pn=>{xp(pn,{get pieces(){return a(C)}})},ji=pn=>{var Xa=zt(),hl=bt(Xa);{var dl=tr=>{Sp(tr,{get composers(){return a(R)}})},vl=tr=>{var ja=Vp(),Ka=x(ja),pl=P(x(Ka),2),ti=x(pl);ti.__click=[Yp,tn];let Ga;var Ki=P(ti,2);Ki.__click=[Bp,tn];let Wa;var Za=P(Ka,2),Qa=x(Za),_l=x(Qa),Ja=P(Qa,2),gl=x(Ja),ml=P(Ja,2);{var yl=Tn=>{var ei=Up(),bl=x(ei);Z(()=>V(bl,a(m))),E(Tn,ei)};et(ml,Tn=>{a(m)&&Tn(yl)})}var wl=P(Za,2);{let Tn=F(()=>a(b)==="bands");Hv(wl,{get years(){return a(Mn)},get maxFieldSize(){return a(Gn)},get bands(){return a(q)},get yMode(){return a(xt)},get showConductorMarkers(){return a(Tn)}})}Z((Tn,ei)=>{U(ti,"aria-pressed",a(xt)==="absolute"),Ga=Rr(ti,1,"svelte-1n46o8q",null,Ga,Tn),U(Ki,"aria-pressed",a(xt)==="relative"),Wa=Rr(Ki,1,"svelte-1n46o8q",null,Wa,ei),V(_l,a(g)),V(gl,a(Wn))},[()=>({selected:a(xt)==="absolute"}),()=>({selected:a(xt)==="relative"})]),E(tr,ja)};et(hl,tr=>{a(b)==="composers"?tr(dl):tr(vl,!1)},!0)}E(pn,Xa)};et(Jr,pn=>{a(b)==="pieces"?pn(Xi):pn(ji,!1)})}E(ke,Tr)},$r=ke=>{var Tr=Hp(),Jr=x(Tr),Xi=x(Jr),ji=P(Jr,2),pn=x(ji);Z(()=>{V(Xi,a(Qt)),V(pn,a(Ie))}),E(ke,Tr)};et(Qn,ke=>{a(It).length>0?ke(Jn):ke($r,!1)})}E(Ce,Re)},xe=Ce=>{cp(Ce,{get dataset(){return a(h)}})};et(Et,Ce=>{a(Ue)?Ce(Gt):Ce(xe,!1)},!0)}E($t,rt)};et(W,$t=>{a(h)?$t(qt,!1):$t(_t)},!0)}E(Y,G)};et(A,Y=>{a(T)?Y(y):Y(M,!1)},!0)}E(_,w)};et(dt,_=>{a(N)?_(yt):_(jt,!1)})}Z(()=>{U(At,"aria-label",a($n)),V(Lt,a(He)),V(Ct,a(Mr)),V(Kt,a(vn))}),E(t,$),xr()}No(["click","input","keydown","mousedown"]);Bu(jp,{target:document.getElementById("app")});
