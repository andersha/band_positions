var Nc=Object.defineProperty;var js=e=>{throw TypeError(e)};var Mc=(e,t,n)=>t in e?Nc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ir=(e,t,n)=>Mc(e,typeof t!="symbol"?t+"":t,n),Ca=(e,t,n)=>t.has(e)||js("Cannot "+n);var D=(e,t,n)=>(Ca(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>t.has(e)?js("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ve=(e,t,n,r)=>(Ca(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ot=(e,t,n)=>(Ca(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Ec="5";var Io;typeof window<"u"&&((Io=window.__svelte??(window.__svelte={})).v??(Io.v=new Set)).add(Ec);const _a=1,ga=2,Po=4,Ac=8,$c=16,Tc=1,Ic=4,Pc=8,Cc=16,Co=1,Rc=2,It=Symbol(),qc="http://www.w3.org/1999/xhtml",Ro=!1;var ss=Array.isArray,Lc=Array.prototype.indexOf,os=Array.from,za=Object.defineProperty,qr=Object.getOwnPropertyDescriptor,Fc=Object.getOwnPropertyDescriptors,Oc=Object.prototype,Dc=Array.prototype,qo=Object.getPrototypeOf,Ys=Object.isExtensible;function Lo(e){for(var t=0;t<e.length;t++)e[t]()}function Bc(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}const rn=2,ls=4,cs=8,Gr=16,Hn=32,Mr=64,us=128,vn=256,Qi=512,qt=1024,pn=2048,ar=4096,xn=8192,Er=16384,fs=32768,ma=65536,Us=1<<17,zc=1<<18,Wr=1<<19,jc=1<<20,ja=1<<21,ds=1<<22,mr=1<<23,vi=Symbol("$state"),Yc=Symbol("legacy props"),Uc=Symbol(""),vs=new class extends Error{constructor(){super(...arguments);Ir(this,"name","StaleReactionError");Ir(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Fo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Vc(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Hc(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Kc(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Xc(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Gc(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wc(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Zc(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Qc(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Jc(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function eu(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function tu(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let nu=!1;function Oo(e){return e===this.v}function ru(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function iu(e,t){return e!==t}function Do(e){return!ru(e,this.v)}let au=!1,Gt=null;function jr(e){Gt=e}function sr(e,t=!1,n){Gt={p:Gt,c:null,e:null,s:e,x:null,l:null}}function or(e){var t=Gt,n=t.e;if(n!==null){t.e=null;for(var r of n)el(r)}return Gt=t.p,{}}function Bo(){return!0}let tr=[],Ji=[];function zo(){var e=tr;tr=[],Lo(e)}function su(){var e=Ji;Ji=[],Lo(e)}function ou(){return tr.length>0||Ji.length>0}function Zr(e){if(tr.length===0&&!hi){var t=tr;queueMicrotask(()=>{t===tr&&zo()})}tr.push(e)}function lu(){tr.length>0&&zo(),Ji.length>0&&su()}const cu=new WeakMap;function jo(e){var t=Re;if(t===null)return Ne.f|=mr,e;if(t.f&fs)Yr(e,t);else{if(!(t.f&us))throw!t.parent&&e instanceof Error&&Yo(e),e;t.b.error(e)}}function Yr(e,t){for(;t!==null;){if(t.f&us)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Yo(e),e}function Yo(e){const t=cu.get(e);t&&(za(e,"message",{value:t.message}),za(e,"stack",{value:t.stack}))}const Ra=new Set;let ct=null,Ui=null,Ya=new Set,xr=[],ya=null,Ua=!1,hi=!1;var xi,Dr,Wn,ki,Si,vr,Br,hr,Zn,zr,Ni,Mi,kn,Uo,Vi,Va;const va=class va{constructor(){Be(this,kn);Ir(this,"current",new Map);Be(this,xi,new Map);Be(this,Dr,new Set);Be(this,Wn,0);Be(this,ki,null);Be(this,Si,!1);Be(this,vr,[]);Be(this,Br,[]);Be(this,hr,[]);Be(this,Zn,[]);Be(this,zr,[]);Be(this,Ni,[]);Be(this,Mi,[]);Ir(this,"skipped_effects",new Set)}process(t){var a;xr=[],Ui=null;for(const s of t)Ot(this,kn,Uo).call(this,s);if(D(this,vr).length===0&&D(this,Wn)===0){Ot(this,kn,Va).call(this);var n=D(this,hr),r=D(this,Zn);ve(this,hr,[]),ve(this,Zn,[]),ve(this,zr,[]),Ui=ct,ct=null,Vs(n),Vs(r),ct===null?ct=this:Ra.delete(this),(a=D(this,ki))==null||a.resolve()}else Ot(this,kn,Vi).call(this,D(this,hr)),Ot(this,kn,Vi).call(this,D(this,Zn)),Ot(this,kn,Vi).call(this,D(this,zr));for(const s of D(this,vr))Fr(s);for(const s of D(this,Br))Fr(s);ve(this,vr,[]),ve(this,Br,[])}capture(t,n){D(this,xi).has(t)||D(this,xi).set(t,n),this.current.set(t,t.v)}activate(){ct=this}deactivate(){ct=null,Ui=null;for(const t of Ya)if(Ya.delete(t),t(),ct!==null)break}neuter(){ve(this,Si,!0)}flush(){xr.length>0?Vo():Ot(this,kn,Va).call(this),ct===this&&(D(this,Wn)===0&&Ra.delete(this),this.deactivate())}increment(){ve(this,Wn,D(this,Wn)+1)}decrement(){if(ve(this,Wn,D(this,Wn)-1),D(this,Wn)===0){for(const t of D(this,Ni))Xt(t,pn),Ur(t);for(const t of D(this,Mi))Xt(t,ar),Ur(t);ve(this,hr,[]),ve(this,Zn,[]),this.flush()}else this.deactivate()}add_callback(t){D(this,Dr).add(t)}settled(){return(D(this,ki)??ve(this,ki,Bc())).promise}static ensure(){if(ct===null){const t=ct=new va;Ra.add(ct),hi||va.enqueue(()=>{ct===t&&t.flush()})}return ct}static enqueue(t){Zr(t)}};xi=new WeakMap,Dr=new WeakMap,Wn=new WeakMap,ki=new WeakMap,Si=new WeakMap,vr=new WeakMap,Br=new WeakMap,hr=new WeakMap,Zn=new WeakMap,zr=new WeakMap,Ni=new WeakMap,Mi=new WeakMap,kn=new WeakSet,Uo=function(t){var f;t.f^=qt;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Hn|Mr))!==0,s=a&&(r&qt)!==0,o=s||(r&xn)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(a)n.f^=qt;else if(r&ls)D(this,Zn).push(n);else if(!(r&qt))if(r&ds){var l=(f=n.b)!=null&&f.is_pending()?D(this,Br):D(this,vr);l.push(n)}else ka(n)&&(n.f&Gr&&D(this,zr).push(n),Fr(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Vi=function(t){for(const n of t)(n.f&pn?D(this,Ni):D(this,Mi)).push(n),Xt(n,qt);t.length=0},Va=function(){if(!D(this,Si))for(const t of D(this,Dr))t();D(this,Dr).clear()};let rr=va;function uu(e){var t=hi;hi=!0;try{for(var n;;){if(lu(),xr.length===0&&!ou()&&(ct==null||ct.flush(),xr.length===0))return ya=null,n;Vo()}}finally{hi=t}}function Vo(){var e=Lr;Ua=!0;try{var t=0;for(Xs(!0);xr.length>0;){var n=rr.ensure();if(t++>1e3){var r,a;fu()}n.process(xr),ir.clear()}}finally{Ua=!1,Xs(e),ya=null}}function fu(){try{Gc()}catch(e){Yr(e,ya)}}let Yn=null;function Vs(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if(!(r.f&(Er|xn))&&ka(r)&&(Yn=[],Fr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?rl(r):r.fn=null),(Yn==null?void 0:Yn.length)>0)){ir.clear();for(const a of Yn)Fr(a);Yn=[]}}Yn=null}}function Ur(e){for(var t=ya=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ua&&t===Re&&n&Gr)return;if(n&(Mr|Hn)){if(!(n&qt))return;t.f^=qt}}xr.push(t)}function du(e){let t=0,n=kr(0),r;return()=>{Tu()&&(i(n),_s(()=>(t===0&&(r=Jr(()=>e(()=>pi(n)))),t+=1,()=>{Zr(()=>{t-=1,t===0&&(r==null||r(),r=void 0,pi(n))})})))}}var vu=ma|Wr|us;function hu(e,t,n){new pu(e,t,n)}var mn,un,as,In,pr,Pn,fn,Ut,Cn,Qn,_r,Jn,gr,er,ha,pa,zt,_u,gu,Hi,Ki,Ha;class pu{constructor(t,n,r){Be(this,zt);Ir(this,"parent");Be(this,mn,!1);Be(this,un);Be(this,as,null);Be(this,In);Be(this,pr);Be(this,Pn);Be(this,fn,null);Be(this,Ut,null);Be(this,Cn,null);Be(this,Qn,null);Be(this,_r,0);Be(this,Jn,0);Be(this,gr,!1);Be(this,er,null);Be(this,ha,()=>{D(this,er)&&Vr(D(this,er),D(this,_r))});Be(this,pa,du(()=>(ve(this,er,kr(D(this,_r))),()=>{ve(this,er,null)})));ve(this,un,t),ve(this,In,n),ve(this,pr,r),this.parent=Re.b,ve(this,mn,!!D(this,In).pending),ve(this,Pn,xa(()=>{Re.b=this;{try{ve(this,fn,dn(()=>r(D(this,un))))}catch(a){this.error(a)}D(this,Jn)>0?Ot(this,zt,Ki).call(this):ve(this,mn,!1)}},vu))}is_pending(){return D(this,mn)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!D(this,In).pending}update_pending_count(t){Ot(this,zt,Ha).call(this,t),ve(this,_r,D(this,_r)+t),Ya.add(D(this,ha))}get_effect_pending(){return D(this,pa).call(this),i(D(this,er))}error(t){var n=D(this,In).onerror;let r=D(this,In).failed;if(D(this,gr)||!n&&!r)throw t;D(this,fn)&&(hn(D(this,fn)),ve(this,fn,null)),D(this,Ut)&&(hn(D(this,Ut)),ve(this,Ut,null)),D(this,Cn)&&(hn(D(this,Cn)),ve(this,Cn,null));var a=!1,s=!1;const o=()=>{if(a){tu();return}a=!0,s&&eu(),rr.ensure(),ve(this,_r,0),D(this,Cn)!==null&&yr(D(this,Cn),()=>{ve(this,Cn,null)}),ve(this,mn,this.has_pending_snippet()),ve(this,fn,Ot(this,zt,Hi).call(this,()=>(ve(this,gr,!1),dn(()=>D(this,pr).call(this,D(this,un)))))),D(this,Jn)>0?Ot(this,zt,Ki).call(this):ve(this,mn,!1)};var l=Ne;try{Ht(null),s=!0,n==null||n(t,o),s=!1}catch(c){Yr(c,D(this,Pn)&&D(this,Pn).parent)}finally{Ht(l)}r&&Zr(()=>{ve(this,Cn,Ot(this,zt,Hi).call(this,()=>{ve(this,gr,!0);try{return dn(()=>{r(D(this,un),()=>t,()=>o)})}catch(c){return Yr(c,D(this,Pn).parent),null}finally{ve(this,gr,!1)}}))})}}mn=new WeakMap,un=new WeakMap,as=new WeakMap,In=new WeakMap,pr=new WeakMap,Pn=new WeakMap,fn=new WeakMap,Ut=new WeakMap,Cn=new WeakMap,Qn=new WeakMap,_r=new WeakMap,Jn=new WeakMap,gr=new WeakMap,er=new WeakMap,ha=new WeakMap,pa=new WeakMap,zt=new WeakSet,_u=function(){try{ve(this,fn,dn(()=>D(this,pr).call(this,D(this,un))))}catch(t){this.error(t)}ve(this,mn,!1)},gu=function(){const t=D(this,In).pending;t&&(ve(this,Ut,dn(()=>t(D(this,un)))),rr.enqueue(()=>{ve(this,fn,Ot(this,zt,Hi).call(this,()=>(rr.ensure(),dn(()=>D(this,pr).call(this,D(this,un)))))),D(this,Jn)>0?Ot(this,zt,Ki).call(this):(yr(D(this,Ut),()=>{ve(this,Ut,null)}),ve(this,mn,!1))}))},Hi=function(t){var n=Re,r=Ne,a=Gt;qn(D(this,Pn)),Ht(D(this,Pn)),jr(D(this,Pn).ctx);try{return t()}catch(s){return jo(s),null}finally{qn(n),Ht(r),jr(a)}},Ki=function(){const t=D(this,In).pending;D(this,fn)!==null&&(ve(this,Qn,document.createDocumentFragment()),mu(D(this,fn),D(this,Qn))),D(this,Ut)===null&&ve(this,Ut,dn(()=>t(D(this,un))))},Ha=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Ot(n=this.parent,zt,Ha).call(n,t);return}ve(this,Jn,D(this,Jn)+t),D(this,Jn)===0&&(ve(this,mn,!1),D(this,Ut)&&yr(D(this,Ut),()=>{ve(this,Ut,null)}),D(this,Qn)&&(D(this,un).before(D(this,Qn)),ve(this,Qn,null)))};function mu(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:Ei(n);t.append(n),n=a}}function yu(e,t,n){const r=wa;if(t.length===0){n(e.map(r));return}var a=ct,s=Re,o=wu();Promise.all(t.map(l=>bu(l))).then(l=>{a==null||a.activate(),o();try{n([...e.map(r),...l])}catch(c){s.f&Er||Yr(c,s)}a==null||a.deactivate(),Ho()}).catch(l=>{Yr(l,s)})}function wu(){var e=Re,t=Ne,n=Gt,r=ct;return function(){qn(e),Ht(t),jr(n),r==null||r.activate()}}function Ho(){qn(null),Ht(null),jr(null)}function wa(e){var t=rn|pn,n=Ne!==null&&Ne.f&rn?Ne:null;return Re===null||n!==null&&n.f&vn?t|=vn:Re.f|=Wr,{ctx:Gt,deps:null,effects:null,equals:Oo,f:t,fn:e,reactions:null,rv:0,v:It,wv:0,parent:n??Re,ac:null}}function bu(e,t){let n=Re;n===null&&Vc();var r=n.b,a=void 0,s=kr(It),o=null,l=!Ne;return Ru(()=>{try{var c=e();o&&Promise.resolve(c).catch(()=>{})}catch(_){c=Promise.reject(_)}var u=()=>c;a=(o==null?void 0:o.then(u,u))??Promise.resolve(c),o=a;var f=ct,d=r.is_pending();l&&(r.update_pending_count(1),d||f.increment());const v=(_,h=void 0)=>{o=null,d||f.activate(),h?h!==vs&&(s.f|=mr,Vr(s,h)):(s.f&mr&&(s.f^=mr),Vr(s,_)),l&&(r.update_pending_count(-1),d||f.decrement()),Ho()};if(a.then(v,_=>v(null,_||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(c=>{function u(f){function d(){f===a?c(s):u(a)}f.then(d,d)}u(a)})}function M(e){const t=wa(e);return sl(t),t}function Ko(e){const t=wa(e);return t.equals=Do,t}function Xo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)hn(t[n])}}function xu(e){for(var t=e.parent;t!==null;){if(!(t.f&rn))return t;t=t.parent}return null}function hs(e){var t,n=Re;qn(xu(e));try{Xo(e),t=ul(e)}finally{qn(n)}return t}function Go(e){var t=hs(e);if(e.equals(t)||(e.v=t,e.wv=ll()),!Ar){var n=(nr||e.f&vn)&&e.deps!==null?ar:qt;Xt(e,n)}}const ir=new Map;function kr(e,t){var n={f:0,v:e,reactions:null,equals:Oo,rv:0,wv:0};return n}function Te(e,t){const n=kr(e);return sl(n),n}function ku(e,t=!1,n=!0){const r=kr(e);return t||(r.equals=Do),r}function z(e,t,n=!1){Ne!==null&&(!wn||Ne.f&Us)&&Bo()&&Ne.f&(rn|Gr|ds|Us)&&!(Bt!=null&&Bt.includes(e))&&Jc();let r=n?Vt(t):t;return Vr(e,r)}function Vr(e,t){if(!e.equals(t)){var n=e.v;Ar?ir.set(e,t):ir.set(e,n),e.v=t;var r=rr.ensure();r.capture(e,n),e.f&rn&&(e.f&pn&&hs(e),Xt(e,e.f&vn?ar:qt)),e.wv=ll(),Wo(e,pn),Re!==null&&Re.f&qt&&!(Re.f&(Hn|Mr))&&(ln===null?Fu([e]):ln.push(e))}return t}function pi(e){z(e,e.v+1)}function Wo(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,a=0;a<r;a++){var s=n[a],o=s.f,l=(o&pn)===0;l&&Xt(s,t),o&rn?Wo(s,ar):l&&(o&Gr&&Yn!==null&&Yn.push(s),Ur(s))}}function Vt(e){if(typeof e!="object"||e===null||vi in e)return e;const t=qo(e);if(t!==Oc&&t!==Dc)return e;var n=new Map,r=ss(e),a=Te(0),s=wr,o=l=>{if(wr===s)return l();var c=Ne,u=wr;Ht(null),Ws(s);var f=l();return Ht(c),Ws(u),f};return r&&n.set("length",Te(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Zc();var f=n.get(c);return f===void 0?f=o(()=>{var d=Te(u.value);return n.set(c,d),d}):z(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=o(()=>Te(It));n.set(c,f),pi(a)}}else z(u,It),pi(a);return!0},get(l,c,u){var _;if(c===vi)return e;var f=n.get(c),d=c in l;if(f===void 0&&(!d||(_=qr(l,c))!=null&&_.writable)&&(f=o(()=>{var h=Vt(d?l[c]:It),w=Te(h);return w}),n.set(c,f)),f!==void 0){var v=i(f);return v===It?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=i(f))}else if(u===void 0){var d=n.get(c),v=d==null?void 0:d.v;if(d!==void 0&&v!==It)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){var v;if(c===vi)return!0;var u=n.get(c),f=u!==void 0&&u.v!==It||Reflect.has(l,c);if(u!==void 0||Re!==null&&(!f||(v=qr(l,c))!=null&&v.writable)){u===void 0&&(u=o(()=>{var _=f?Vt(l[c]):It,h=Te(_);return h}),n.set(c,u));var d=i(u);if(d===It)return!1}return f},set(l,c,u,f){var E;var d=n.get(c),v=c in l;if(r&&c==="length")for(var _=u;_<d.v;_+=1){var h=n.get(_+"");h!==void 0?z(h,It):_ in l&&(h=o(()=>Te(It)),n.set(_+"",h))}if(d===void 0)(!v||(E=qr(l,c))!=null&&E.writable)&&(d=o(()=>Te(void 0)),z(d,Vt(u)),n.set(c,d));else{v=d.v!==It;var w=o(()=>Vt(u));z(d,w)}var k=Reflect.getOwnPropertyDescriptor(l,c);if(k!=null&&k.set&&k.set.call(f,u),!v){if(r&&typeof c=="string"){var N=n.get("length"),I=Number(c);Number.isInteger(I)&&I>=N.v&&z(N,I+1)}pi(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(d=>{var v=n.get(d);return v===void 0||v.v!==It});for(var[u,f]of n)f.v!==It&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Qc()}})}var Hs,Zo,Qo,Jo;function Su(){if(Hs===void 0){Hs=window,Zo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Qo=qr(t,"firstChild").get,Jo=qr(t,"nextSibling").get,Ys(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ys(n)&&(n.__t=void 0)}}function Qr(e=""){return document.createTextNode(e)}function Un(e){return Qo.call(e)}function Ei(e){return Jo.call(e)}function p(e,t){return Un(e)}function ke(e,t=!1){{var n=Un(e);return n instanceof Comment&&n.data===""?Ei(n):n}}function T(e,t=1,n=!1){let r=e;for(;t--;)r=Ei(r);return r}function Nu(e){e.textContent=""}function ps(){return!1}let Ks=!1;function Mu(){Ks||(Ks=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ba(e){var t=Ne,n=Re;Ht(null),qn(null);try{return e()}finally{Ht(t),qn(n)}}function Eu(e,t,n,r=n){e.addEventListener(t,()=>ba(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Mu()}function Au(e){Re===null&&Ne===null&&Xc(),Ne!==null&&Ne.f&vn&&Re===null&&Kc(),Ar&&Hc()}function $u(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Kn(e,t,n,r=!0){var a=Re;a!==null&&a.f&xn&&(e|=xn);var s={ctx:Gt,deps:null,nodes_start:null,nodes_end:null,f:e|pn,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Fr(s),s.f|=fs}catch(c){throw hn(s),c}else t!==null&&Ur(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&Wr)&&(o=o.first),o!==null&&(o.parent=a,a!==null&&$u(o,a),Ne!==null&&Ne.f&rn&&!(e&Mr))){var l=Ne;(l.effects??(l.effects=[])).push(o)}}return s}function Tu(){return Ne!==null&&!wn}function Iu(e){const t=Kn(cs,null,!1);return Xt(t,qt),t.teardown=e,t}function _i(e){Au();var t=Re.f,n=!Ne&&(t&Hn)!==0&&(t&fs)===0;if(n){var r=Gt;(r.e??(r.e=[])).push(e)}else return el(e)}function el(e){return Kn(ls|jc,e,!1)}function Pu(e){rr.ensure();const t=Kn(Mr|Wr,e,!0);return(n={})=>new Promise(r=>{n.outro?yr(t,()=>{hn(t),r(void 0)}):(hn(t),r(void 0))})}function Cu(e){return Kn(ls,e,!1)}function Ru(e){return Kn(ds|Wr,e,!0)}function _s(e,t=0){return Kn(cs|t,e,!0)}function X(e,t=[],n=[]){yu(t,n,r=>{Kn(cs,()=>e(...r.map(i)),!0)})}function xa(e,t=0){var n=Kn(Gr|t,e,!0);return n}function dn(e,t=!0){return Kn(Hn|Wr,e,!0,t)}function tl(e){var t=e.teardown;if(t!==null){const n=Ar,r=Ne;Gs(!0),Ht(null);try{t.call(null)}finally{Gs(n),Ht(r)}}}function nl(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&ba(()=>{a.abort(vs)});var r=n.next;n.f&Mr?n.parent=null:hn(n,t),n=r}}function qu(e){for(var t=e.first;t!==null;){var n=t.next;t.f&Hn||hn(t),t=n}}function hn(e,t=!0){var n=!1;(t||e.f&zc)&&e.nodes_start!==null&&e.nodes_end!==null&&(Lu(e.nodes_start,e.nodes_end),n=!0),nl(e,t&&!n),ea(e,0),Xt(e,Er);var r=e.transitions;if(r!==null)for(const s of r)s.stop();tl(e);var a=e.parent;a!==null&&a.first!==null&&rl(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Lu(e,t){for(;e!==null;){var n=e===t?null:Ei(e);e.remove(),e=n}}function rl(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function yr(e,t){var n=[];gs(e,n,!0),il(n,()=>{hn(e),t&&t()})}function il(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function gs(e,t,n){if(!(e.f&xn)){if(e.f^=xn,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&ma)!==0||(r.f&Hn)!==0;gs(r,t,s?n:!1),r=a}}}function ms(e){al(e,!0)}function al(e,t){if(e.f&xn){e.f^=xn,e.f&qt||(Xt(e,pn),Ur(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&ma)!==0||(n.f&Hn)!==0;al(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Lr=!1;function Xs(e){Lr=e}let Ar=!1;function Gs(e){Ar=e}let Ne=null,wn=!1;function Ht(e){Ne=e}let Re=null;function qn(e){Re=e}let Bt=null;function sl(e){Ne!==null&&(Bt===null?Bt=[e]:Bt.push(e))}let Dt=null,nn=0,ln=null;function Fu(e){ln=e}let ol=1,gi=0,wr=gi;function Ws(e){wr=e}let nr=!1;function ll(){return++ol}function ka(e){var d;var t=e.f;if(t&pn)return!0;if(t&ar){var n=e.deps,r=(t&vn)!==0;if(n!==null){var a,s,o=(t&Qi)!==0,l=r&&Re!==null&&!nr,c=n.length;if((o||l)&&(Re===null||!(Re.f&Er))){var u=e,f=u.parent;for(a=0;a<c;a++)s=n[a],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(u)))&&(s.reactions??(s.reactions=[])).push(u);o&&(u.f^=Qi),l&&f!==null&&!(f.f&vn)&&(u.f^=vn)}for(a=0;a<c;a++)if(s=n[a],ka(s)&&Go(s),s.wv>e.wv)return!0}(!r||Re!==null&&!nr)&&Xt(e,qt)}return!1}function cl(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Bt!=null&&Bt.includes(e)))for(var a=0;a<r.length;a++){var s=r[a];s.f&rn?cl(s,t,!1):t===s&&(n?Xt(s,pn):s.f&qt&&Xt(s,ar),Ur(s))}}function ul(e){var w;var t=Dt,n=nn,r=ln,a=Ne,s=nr,o=Bt,l=Gt,c=wn,u=wr,f=e.f;Dt=null,nn=0,ln=null,nr=(f&vn)!==0&&(wn||!Lr||Ne===null),Ne=f&(Hn|Mr)?null:e,Bt=null,jr(e.ctx),wn=!1,wr=++gi,e.ac!==null&&(ba(()=>{e.ac.abort(vs)}),e.ac=null);try{e.f|=ja;var d=e.fn,v=d(),_=e.deps;if(Dt!==null){var h;if(ea(e,nn),_!==null&&nn>0)for(_.length=nn+Dt.length,h=0;h<Dt.length;h++)_[nn+h]=Dt[h];else e.deps=_=Dt;if(!nr||f&rn&&e.reactions!==null)for(h=nn;h<_.length;h++)((w=_[h]).reactions??(w.reactions=[])).push(e)}else _!==null&&nn<_.length&&(ea(e,nn),_.length=nn);if(Bo()&&ln!==null&&!wn&&_!==null&&!(e.f&(rn|ar|pn)))for(h=0;h<ln.length;h++)cl(ln[h],e);return a!==null&&a!==e&&(gi++,ln!==null&&(r===null?r=ln:r.push(...ln))),e.f&mr&&(e.f^=mr),v}catch(k){return jo(k)}finally{e.f^=ja,Dt=t,nn=n,ln=r,Ne=a,nr=s,Bt=o,jr(l),wn=c,wr=u}}function Ou(e,t){let n=t.reactions;if(n!==null){var r=Lc.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&t.f&rn&&(Dt===null||!Dt.includes(t))&&(Xt(t,ar),t.f&(vn|Qi)||(t.f^=Qi),Xo(t),ea(t,0))}function ea(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ou(e,n[r])}function Fr(e){var t=e.f;if(!(t&Er)){Xt(e,qt);var n=Re,r=Lr;Re=e,Lr=!0;try{t&Gr?qu(e):nl(e),tl(e);var a=ul(e);e.teardown=typeof a=="function"?a:null,e.wv=ol;var s;Ro&&au&&e.f&pn&&e.deps}finally{Lr=r,Re=n}}}async function Du(){await Promise.resolve(),uu()}function i(e){var t=e.f,n=(t&rn)!==0;if(Ne!==null&&!wn){var r=Re!==null&&(Re.f&Er)!==0;if(!r&&!(Bt!=null&&Bt.includes(e))){var a=Ne.deps;if(Ne.f&ja)e.rv<gi&&(e.rv=gi,Dt===null&&a!==null&&a[nn]===e?nn++:Dt===null?Dt=[e]:(!nr||!Dt.includes(e))&&Dt.push(e));else{(Ne.deps??(Ne.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[Ne]:s.includes(Ne)||s.push(Ne)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&!(l.f&vn)&&(o.f^=vn)}if(Ar){if(ir.has(e))return ir.get(e);if(n){o=e;var c=o.v;return(!(o.f&qt)&&o.reactions!==null||fl(o))&&(c=hs(o)),ir.set(o,c),c}}else n&&(o=e,ka(o)&&Go(o));if(e.f&mr)throw e.v;return e.v}function fl(e){if(e.v===It)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ir.has(t)||t.f&rn&&fl(t))return!0;return!1}function Jr(e){var t=wn;try{return wn=!0,e()}finally{wn=t}}const Bu=-7169;function Xt(e,t){e.f=e.f&Bu|t}const dl=new Set,Ka=new Set;function zu(e,t,n,r={}){function a(s){if(r.capture||li.call(t,s),!s.cancelBubble)return ba(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Zr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function tn(e,t,n,r,a){var s={capture:r,passive:a},o=zu(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Iu(()=>{t.removeEventListener(e,o,s)})}function vl(e){for(var t=0;t<e.length;t++)dl.add(e[t]);for(var n of Ka)n(e)}let Zs=null;function li(e){var I;var t=this,n=t.ownerDocument,r=e.type,a=((I=e.composedPath)==null?void 0:I.call(e))||[],s=a[0]||e.target;Zs=e;var o=0,l=Zs===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(o=c)}if(s=a[o]||e.target,s!==t){za(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=Ne,d=Re;Ht(null),qn(null);try{for(var v,_=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var w=s["__"+r];if(w!=null&&(!s.disabled||e.target===s))if(ss(w)){var[k,...N]=w;k.apply(s,[e,...N])}else w.call(s,e)}catch(E){v?_.push(E):v=E}if(e.cancelBubble||h===t||h===null)break;s=h}if(v){for(let E of _)queueMicrotask(()=>{throw E});throw v}}finally{e.__root=t,delete e.currentTarget,Ht(f),qn(d)}}}function hl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function mi(e,t){var n=Re;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function A(e,t){var n=(t&Co)!==0,r=(t&Rc)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=hl(s?e:"<!>"+e),n||(a=Un(a)));var o=r||Zo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Un(o),c=o.lastChild;mi(l,c)}else mi(o,o);return o}}function ju(e,t,n="svg"){var r=!e.startsWith("<!>"),a=(t&Co)!==0,s=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var l=hl(s),c=Un(l);if(a)for(o=document.createDocumentFragment();Un(c);)o.appendChild(Un(c));else o=Un(c)}var u=o.cloneNode(!0);if(a){var f=Un(u),d=u.lastChild;mi(f,d)}else mi(u,u);return u}}function Nn(e,t){return ju(e,t,"svg")}function et(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Qr();return e.append(t,n),mi(t,n),e}function m(e,t){e!==null&&e.before(t)}const Yu=["touchstart","touchmove"];function Uu(e){return Yu.includes(e)}function B(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Vu(e,t){return Hu(e,t)}const Pr=new Map;function Hu(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:o=!0}){Su();var l=new Set,c=d=>{for(var v=0;v<d.length;v++){var _=d[v];if(!l.has(_)){l.add(_);var h=Uu(_);t.addEventListener(_,li,{passive:h});var w=Pr.get(_);w===void 0?(document.addEventListener(_,li,{passive:h}),Pr.set(_,1)):Pr.set(_,w+1)}}};c(os(dl)),Ka.add(c);var u=void 0,f=Pu(()=>{var d=n??t.appendChild(Qr());return hu(d,{pending:()=>{}},v=>{if(s){sr({});var _=Gt;_.c=s}a&&(r.$$events=a),u=e(v,r)||{},s&&or()}),()=>{var h;for(var v of l){t.removeEventListener(v,li);var _=Pr.get(v);--_===0?(document.removeEventListener(v,li),Pr.delete(v)):Pr.set(v,_)}Ka.delete(c),d!==n&&((h=d.parentNode)==null||h.removeChild(d))}});return Ku.set(u,f),u}let Ku=new WeakMap;function ta(e){Gt===null&&Fo(),_i(()=>{const t=Jr(e);if(typeof t=="function")return t})}function Xu(e){Gt===null&&Fo(),ta(()=>()=>Jr(e))}function V(e,t,n=!1){var r=e,a=null,s=null,o=It,l=n?ma:0,c=!1;const u=(_,h=!0)=>{c=!0,v(h,_)};var f=null;function d(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var _=o?a:s,h=o?s:a;_&&ms(_),h&&yr(h,()=>{o?s=null:a=null})}const v=(_,h)=>{if(o!==(o=_)){var w=ps(),k=r;if(w&&(f=document.createDocumentFragment(),f.append(k=Qr())),o?a??(a=h&&dn(()=>h(k))):s??(s=h&&dn(()=>h(k))),w){var N=ct,I=o?a:s,E=o?s:a;I&&N.skipped_effects.delete(I),E&&N.skipped_effects.add(E),N.add_callback(d)}else d()}};xa(()=>{c=!1,t(u),c||v(null,null)},l)}function Gu(e,t,n){var r=e,a=It,s,o,l=null,c=iu;function u(){s&&yr(s),l!==null&&(l.lastChild.remove(),r.before(l),l=null),s=o}xa(()=>{if(c(a,a=t())){var f=r,d=ps();d&&(l=document.createDocumentFragment(),l.append(f=Qr())),o=dn(()=>n(f)),d?ct.add_callback(u):u()}})}function Ve(e,t){return t}function Wu(e,t,n){for(var r=e.items,a=[],s=t.length,o=0;o<s;o++)gs(t[o].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Nu(c),c.append(n),r.clear(),Tn(e,t[0].prev,t[s-1].next)}il(a,()=>{for(var u=0;u<s;u++){var f=t[u];l||(r.delete(f.k),Tn(e,f.prev,f.next)),hn(f.e,!l)}})}function ze(e,t,n,r,a,s=null){var o=e,l={flags:t,items:new Map,first:null},c=(t&Po)!==0;if(c){var u=e;o=u.appendChild(Qr())}var f=null,d=!1,v=new Map,_=Ko(()=>{var N=n();return ss(N)?N:N==null?[]:os(N)}),h,w;function k(){Zu(w,h,l,v,o,a,t,r,n),s!==null&&(h.length===0?f?ms(f):f=dn(()=>s(o)):f!==null&&yr(f,()=>{f=null}))}xa(()=>{w??(w=Re),h=i(_);var N=h.length;if(!(d&&N===0)){d=N===0;var I,E,H,j;if(ps()){var K=new Set,ie=ct;for(E=0;E<N;E+=1){H=h[E],j=r(H,E);var xe=l.items.get(j)??v.get(j);xe?t&(_a|ga)&&pl(xe,H,E,t):(I=_l(null,l,null,null,H,j,E,a,t,n,!0),v.set(j,I)),K.add(j)}for(const[He,Ke]of l.items)K.has(He)||ie.skipped_effects.add(Ke.e);ie.add_callback(k)}else k();i(_)}})}function Zu(e,t,n,r,a,s,o,l,c){var Ae,je,yt,$;var u=(o&Ac)!==0,f=(o&(_a|ga))!==0,d=t.length,v=n.items,_=n.first,h=_,w,k=null,N,I=[],E=[],H,j,K,ie;if(u)for(ie=0;ie<d;ie+=1)H=t[ie],j=l(H,ie),K=v.get(j),K!==void 0&&((Ae=K.a)==null||Ae.measure(),(N??(N=new Set)).add(K));for(ie=0;ie<d;ie+=1){if(H=t[ie],j=l(H,ie),K=v.get(j),K===void 0){var xe=r.get(j);if(xe!==void 0){r.delete(j),v.set(j,xe);var He=k?k.next:h;Tn(n,k,xe),Tn(n,xe,He),qa(xe,He,a),k=xe}else{var Ke=h?h.e.nodes_start:a;k=_l(Ke,n,k,k===null?n.first:k.next,H,j,ie,s,o,c)}v.set(j,k),I=[],E=[],h=k.next;continue}if(f&&pl(K,H,ie,o),K.e.f&xn&&(ms(K.e),u&&((je=K.a)==null||je.unfix(),(N??(N=new Set)).delete(K))),K!==h){if(w!==void 0&&w.has(K)){if(I.length<E.length){var Q=E[0],re;k=Q.prev;var pe=I[0],x=I[I.length-1];for(re=0;re<I.length;re+=1)qa(I[re],Q,a);for(re=0;re<E.length;re+=1)w.delete(E[re]);Tn(n,pe.prev,x.next),Tn(n,k,pe),Tn(n,x,Q),h=Q,k=x,ie-=1,I=[],E=[]}else w.delete(K),qa(K,h,a),Tn(n,K.prev,K.next),Tn(n,K,k===null?n.first:k.next),Tn(n,k,K),k=K;continue}for(I=[],E=[];h!==null&&h.k!==j;)h.e.f&xn||(w??(w=new Set)).add(h),E.push(h),h=h.next;if(h===null)continue;K=h}I.push(K),k=K,h=K.next}if(h!==null||w!==void 0){for(var _e=w===void 0?[]:os(w);h!==null;)h.e.f&xn||_e.push(h),h=h.next;var ce=_e.length;if(ce>0){var qe=o&Po&&d===0?a:null;if(u){for(ie=0;ie<ce;ie+=1)(yt=_e[ie].a)==null||yt.measure();for(ie=0;ie<ce;ie+=1)($=_e[ie].a)==null||$.fix()}Wu(n,_e,qe)}}u&&Zr(()=>{var U;if(N!==void 0)for(K of N)(U=K.a)==null||U.apply()}),e.first=n.first&&n.first.e,e.last=k&&k.e;for(var Ie of r.values())hn(Ie.e);r.clear()}function pl(e,t,n,r){r&_a&&Vr(e.v,t),r&ga?Vr(e.i,n):e.i=n}function _l(e,t,n,r,a,s,o,l,c,u,f){var d=(c&_a)!==0,v=(c&$c)===0,_=d?v?ku(a,!1,!1):kr(a):a,h=c&ga?kr(o):o,w={i:h,v:_,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var k=document.createDocumentFragment();k.append(e=Qr())}return w.e=dn(()=>l(e,_,h,u),nu),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?f||(t.first=w):(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function qa(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var o=Ei(s);a.before(s),s=o}}function Tn(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const Qs=[...` 	
\r\f \v\uFEFF`];function Qu(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,o=0;(o=r.indexOf(a,o))>=0;){var l=o+s;(o===0||Qs.includes(r[o-1]))&&(l===r.length||Qs.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Ju(e,t){return e==null?null:String(e)}function cn(e,t,n,r,a,s){var o=e.__className;if(o!==n||o===void 0){var l=Qu(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function Oi(e,t,n,r){var a=e.__style;if(a!==t){var s=Ju(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const ef=Symbol("is custom element"),tf=Symbol("is html");function Js(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function O(e,t,n,r){var a=nf(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Uc]=n),n==null?e.removeAttribute(t):typeof n!="string"&&rf(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function nf(e){return e.__attributes??(e.__attributes={[ef]:e.nodeName.includes("-"),[tf]:e.namespaceURI===qc})}var eo=new Map;function rf(e){var t=e.getAttribute("is")||e.nodeName,n=eo.get(t);if(n)return n;eo.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=Fc(a);for(var o in r)r[o].set&&n.push(o);a=qo(a)}return n}function af(e,t,n=t){var r=new WeakSet;Eu(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=La(e)?Fa(s):s,n(s),ct!==null&&r.add(ct),await Du(),s!==(s=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),Jr(t)==null&&e.value&&(n(La(e)?Fa(e.value):e.value),ct!==null&&r.add(ct)),_s(()=>{var a=t();if(e===document.activeElement){var s=Ui??ct;if(r.has(s))return}La(e)&&a===Fa(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function La(e){var t=e.type;return t==="number"||t==="range"}function Fa(e){return e===""?null:+e}function to(e,t){return e===t||(e==null?void 0:e[vi])===t}function sf(e={},t,n,r){return Cu(()=>{var a,s;return _s(()=>{a=s,s=[],Jr(()=>{e!==n(...s)&&(t(e,...s),a&&to(n(...a),e)&&t(null,...a))})}),()=>{Zr(()=>{s&&to(n(...s),e)&&t(null,...s)})}}),e}function no(e){return function(...t){var n=t[0];return n.preventDefault(),e==null?void 0:e.apply(this,t)}}let Di=!1;function of(e){var t=Di;try{return Di=!1,[e(),Di]}finally{Di=t}}function Mt(e,t,n,r){var I;var a=(n&Pc)!==0,s=(n&Cc)!==0,o=r,l=!0,c=()=>(l&&(l=!1,o=s?Jr(r):r),o),u;if(a){var f=vi in e||Yc in e;u=((I=qr(e,t))==null?void 0:I.set)??(f&&t in e?E=>e[t]=E:void 0)}var d,v=!1;a?[d,v]=of(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=c(),u&&(Wc(),u(d)));var _;if(_=()=>{var E=e[t];return E===void 0?c():(l=!0,E)},!(n&Ic))return _;if(u){var h=e.$$legacy;return function(E,H){return arguments.length>0?((!H||h||v)&&u(H?_():E),E):_()}}var w=!1,k=(n&Tc?wa:Ko)(()=>(w=!1,_()));a&&i(k);var N=Re;return function(E,H){if(arguments.length>0){const j=H?i(k):a?Vt(E):E;return z(k,j),w=!0,o!==void 0&&(o=j),E}return Ar&&w||N.f&Er?k.v:i(k)}}function Xi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lf(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gl(e){let t,n,r;e.length!==2?(t=Xi,n=(l,c)=>Xi(e(l),c),r=(l,c)=>e(l)-c):(t=e===Xi||e===lf?e:cf,n=e,r=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&r(l[d-1],c)>-r(l[d],c)?d-1:d}return{left:a,center:o,right:s}}function cf(){return 0}function uf(e){return e===null?NaN:+e}const ff=gl(Xi),df=ff.right;gl(uf).center;class ro extends Map{constructor(t,n=pf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(io(this,t))}has(t){return super.has(io(this,t))}set(t,n){return super.set(vf(this,t),n)}delete(t){return super.delete(hf(this,t))}}function io({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function vf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function hf({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function pf(e){return e!==null&&typeof e=="object"?e.valueOf():e}const _f=Math.sqrt(50),gf=Math.sqrt(10),mf=Math.sqrt(2);function na(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=_f?10:s>=gf?5:s>=mf?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?na(e,t,n*2):[l,c,u]}function ml(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,o]=r?na(t,e,n):na(e,t,n);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Xa(e,t,n){return t=+t,e=+e,n=+n,na(e,t,n)[2]}function yf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Xa(t,e,n):Xa(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function wf(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}var bf={value:()=>{}};function yl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gi(n)}function Gi(e){this._=e}function xf(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gi.prototype=yl.prototype={constructor:Gi,on:function(e,t){var n=this._,r=xf(e+"",n),a,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((a=(e=r[s]).type)&&(a=kf(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=r[s]).type)n[a]=ao(n[a],e.name,t);else if(t==null)for(a in n)n[a]=ao(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gi(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,a=s.length;r<a;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,s=r.length;a<s;++a)r[a].value.apply(t,n)}};function kf(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function ao(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=bf,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ga="http://www.w3.org/1999/xhtml";const so={svg:"http://www.w3.org/2000/svg",xhtml:Ga,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sa(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),so.hasOwnProperty(t)?{space:so[t],local:e}:e}function Sf(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ga&&t.documentElement.namespaceURI===Ga?t.createElement(e):t.createElementNS(n,e)}}function Nf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wl(e){var t=Sa(e);return(t.local?Nf:Sf)(t)}function Mf(){}function ys(e){return e==null?Mf:function(){return this.querySelector(e)}}function Ef(e){typeof e!="function"&&(e=ys(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=new Array(o),c,u,f=0;f<o;++f)(c=s[f])&&(u=e.call(c,c.__data__,f,s))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new Sn(r,this._parents)}function Af(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $f(){return[]}function bl(e){return e==null?$f:function(){return this.querySelectorAll(e)}}function Tf(e){return function(){return Af(e.apply(this,arguments))}}function If(e){typeof e=="function"?e=Tf(e):e=bl(e);for(var t=this._groups,n=t.length,r=[],a=[],s=0;s<n;++s)for(var o=t[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(r.push(e.call(c,c.__data__,u,o)),a.push(c));return new Sn(r,a)}function xl(e){return function(){return this.matches(e)}}function kl(e){return function(t){return t.matches(e)}}var Pf=Array.prototype.find;function Cf(e){return function(){return Pf.call(this.children,e)}}function Rf(){return this.firstElementChild}function qf(e){return this.select(e==null?Rf:Cf(typeof e=="function"?e:kl(e)))}var Lf=Array.prototype.filter;function Ff(){return Array.from(this.children)}function Of(e){return function(){return Lf.call(this.children,e)}}function Df(e){return this.selectAll(e==null?Ff:Of(typeof e=="function"?e:kl(e)))}function Bf(e){typeof e!="function"&&(e=xl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Sn(r,this._parents)}function Sl(e){return new Array(e.length)}function zf(){return new Sn(this._enter||this._groups.map(Sl),this._parents)}function ra(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ra.prototype={constructor:ra,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function jf(e){return function(){return e}}function Yf(e,t,n,r,a,s){for(var o=0,l,c=t.length,u=s.length;o<u;++o)(l=t[o])?(l.__data__=s[o],r[o]=l):n[o]=new ra(e,s[o]);for(;o<c;++o)(l=t[o])&&(a[o]=l)}function Uf(e,t,n,r,a,s,o){var l,c,u=new Map,f=t.length,d=s.length,v=new Array(f),_;for(l=0;l<f;++l)(c=t[l])&&(v[l]=_=o.call(c,c.__data__,l,t)+"",u.has(_)?a[l]=c:u.set(_,c));for(l=0;l<d;++l)_=o.call(e,s[l],l,s)+"",(c=u.get(_))?(r[l]=c,c.__data__=s[l],u.delete(_)):n[l]=new ra(e,s[l]);for(l=0;l<f;++l)(c=t[l])&&u.get(v[l])===c&&(a[l]=c)}function Vf(e){return e.__data__}function Hf(e,t){if(!arguments.length)return Array.from(this,Vf);var n=t?Uf:Yf,r=this._parents,a=this._groups;typeof e!="function"&&(e=jf(e));for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var f=r[u],d=a[u],v=d.length,_=Kf(e.call(f,f&&f.__data__,u,r)),h=_.length,w=l[u]=new Array(h),k=o[u]=new Array(h),N=c[u]=new Array(v);n(f,d,w,k,N,_,t);for(var I=0,E=0,H,j;I<h;++I)if(H=w[I]){for(I>=E&&(E=I+1);!(j=k[E])&&++E<h;);H._next=j||null}}return o=new Sn(o,r),o._enter=l,o._exit=c,o}function Kf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xf(){return new Sn(this._exit||this._groups.map(Sl),this._parents)}function Gf(e,t,n){var r=this.enter(),a=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function Wf(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),l=new Array(a),c=0;c<o;++c)for(var u=n[c],f=r[c],d=u.length,v=l[c]=new Array(d),_,h=0;h<d;++h)(_=u[h]||f[h])&&(v[h]=_);for(;c<a;++c)l[c]=n[c];return new Sn(l,this._parents)}function Zf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,s=r[a],o;--a>=0;)(o=r[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Qf(e){e||(e=Jf);function t(d,v){return d&&v?e(d.__data__,v.__data__):!d-!v}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,c=a[s]=new Array(l),u,f=0;f<l;++f)(u=o[f])&&(c[f]=u);c.sort(t)}return new Sn(a,this._parents).order()}function Jf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ed(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function td(){return Array.from(this)}function nd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length;a<s;++a){var o=r[a];if(o)return o}return null}function rd(){let e=0;for(const t of this)++e;return e}function id(){return!this.node()}function ad(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function sd(e){return function(){this.removeAttribute(e)}}function od(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ld(e,t){return function(){this.setAttribute(e,t)}}function cd(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ud(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function fd(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function dd(e,t){var n=Sa(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?od:sd:typeof t=="function"?n.local?fd:ud:n.local?cd:ld)(n,t))}function Nl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function vd(e){return function(){this.style.removeProperty(e)}}function hd(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pd(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function _d(e,t,n){return arguments.length>1?this.each((t==null?vd:typeof t=="function"?pd:hd)(e,t,n??"")):Hr(this.node(),e)}function Hr(e,t){return e.style.getPropertyValue(t)||Nl(e).getComputedStyle(e,null).getPropertyValue(t)}function gd(e){return function(){delete this[e]}}function md(e,t){return function(){this[e]=t}}function yd(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function wd(e,t){return arguments.length>1?this.each((t==null?gd:typeof t=="function"?yd:md)(e,t)):this.node()[e]}function Ml(e){return e.trim().split(/^|\s+/)}function ws(e){return e.classList||new El(e)}function El(e){this._node=e,this._names=Ml(e.getAttribute("class")||"")}El.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Al(e,t){for(var n=ws(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function $l(e,t){for(var n=ws(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function bd(e){return function(){Al(this,e)}}function xd(e){return function(){$l(this,e)}}function kd(e,t){return function(){(t.apply(this,arguments)?Al:$l)(this,e)}}function Sd(e,t){var n=Ml(e+"");if(arguments.length<2){for(var r=ws(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?kd:t?bd:xd)(n,t))}function Nd(){this.textContent=""}function Md(e){return function(){this.textContent=e}}function Ed(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ad(e){return arguments.length?this.each(e==null?Nd:(typeof e=="function"?Ed:Md)(e)):this.node().textContent}function $d(){this.innerHTML=""}function Td(e){return function(){this.innerHTML=e}}function Id(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Pd(e){return arguments.length?this.each(e==null?$d:(typeof e=="function"?Id:Td)(e)):this.node().innerHTML}function Cd(){this.nextSibling&&this.parentNode.appendChild(this)}function Rd(){return this.each(Cd)}function qd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ld(){return this.each(qd)}function Fd(e){var t=typeof e=="function"?e:wl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Od(){return null}function Dd(e,t){var n=typeof e=="function"?e:wl(e),r=t==null?Od:typeof t=="function"?t:ys(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Bd(){var e=this.parentNode;e&&e.removeChild(this)}function zd(){return this.each(Bd)}function jd(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Yd(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ud(e){return this.select(e?Yd:jd)}function Vd(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Hd(e){return function(t){e.call(this,t,this.__data__)}}function Kd(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Xd(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Gd(e,t,n){return function(){var r=this.__on,a,s=Hd(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(a):this.__on=[a]}}function Wd(e,t,n){var r=Kd(e+""),a,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(a=0,f=l[c];a<s;++a)if((o=r[a]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?Gd:Xd,a=0;a<s;++a)this.each(l(r[a],t,n));return this}function Tl(e,t,n){var r=Nl(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Zd(e,t){return function(){return Tl(this,e,t)}}function Qd(e,t){return function(){return Tl(this,e,t.apply(this,arguments))}}function Jd(e,t){return this.each((typeof t=="function"?Qd:Zd)(e,t))}function*ev(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,s=r.length,o;a<s;++a)(o=r[a])&&(yield o)}var tv=[null];function Sn(e,t){this._groups=e,this._parents=t}function Ai(){return new Sn([[document.documentElement]],tv)}function nv(){return this}Sn.prototype=Ai.prototype={constructor:Sn,select:Ef,selectAll:If,selectChild:qf,selectChildren:Df,filter:Bf,data:Hf,enter:zf,exit:Xf,join:Gf,merge:Wf,selection:nv,order:Zf,sort:Qf,call:ed,nodes:td,node:nd,size:rd,empty:id,each:ad,attr:dd,style:_d,property:wd,classed:Sd,text:Ad,html:Pd,raise:Rd,lower:Ld,append:Fd,insert:Dd,remove:zd,clone:Ud,datum:Vd,on:Wd,dispatch:Jd,[Symbol.iterator]:ev};function bs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Il(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $i(){}var yi=.7,ia=1/yi,Or="\\s*([+-]?\\d+)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rv=/^#([0-9a-f]{3,8})$/,iv=new RegExp(`^rgb\\(${Or},${Or},${Or}\\)$`),av=new RegExp(`^rgb\\(${Rn},${Rn},${Rn}\\)$`),sv=new RegExp(`^rgba\\(${Or},${Or},${Or},${wi}\\)$`),ov=new RegExp(`^rgba\\(${Rn},${Rn},${Rn},${wi}\\)$`),lv=new RegExp(`^hsl\\(${wi},${Rn},${Rn}\\)$`),cv=new RegExp(`^hsla\\(${wi},${Rn},${Rn},${wi}\\)$`),oo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bs($i,Sr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lo,formatHex:lo,formatHex8:uv,formatHsl:fv,formatRgb:co,toString:co});function lo(){return this.rgb().formatHex()}function uv(){return this.rgb().formatHex8()}function fv(){return Pl(this).formatHsl()}function co(){return this.rgb().formatRgb()}function Sr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rv.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uo(t):n===3?new Kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iv.exec(e))?new Kt(t[1],t[2],t[3],1):(t=av.exec(e))?new Kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sv.exec(e))?Bi(t[1],t[2],t[3],t[4]):(t=ov.exec(e))?Bi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lv.exec(e))?ho(t[1],t[2]/100,t[3]/100,1):(t=cv.exec(e))?ho(t[1],t[2]/100,t[3]/100,t[4]):oo.hasOwnProperty(e)?uo(oo[e]):e==="transparent"?new Kt(NaN,NaN,NaN,0):null}function uo(e){return new Kt(e>>16&255,e>>8&255,e&255,1)}function Bi(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kt(e,t,n,r)}function dv(e){return e instanceof $i||(e=Sr(e)),e?(e=e.rgb(),new Kt(e.r,e.g,e.b,e.opacity)):new Kt}function Wa(e,t,n,r){return arguments.length===1?dv(e):new Kt(e,t,n,r??1)}function Kt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}bs(Kt,Wa,Il($i,{brighter(e){return e=e==null?ia:Math.pow(ia,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yi:Math.pow(yi,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kt(br(this.r),br(this.g),br(this.b),aa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fo,formatHex:fo,formatHex8:vv,formatRgb:vo,toString:vo}));function fo(){return`#${dr(this.r)}${dr(this.g)}${dr(this.b)}`}function vv(){return`#${dr(this.r)}${dr(this.g)}${dr(this.b)}${dr((isNaN(this.opacity)?1:this.opacity)*255)}`}function vo(){const e=aa(this.opacity);return`${e===1?"rgb(":"rgba("}${br(this.r)}, ${br(this.g)}, ${br(this.b)}${e===1?")":`, ${e})`}`}function aa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function br(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dr(e){return e=br(e),(e<16?"0":"")+e.toString(16)}function ho(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bn(e,t,n,r)}function Pl(e){if(e instanceof bn)return new bn(e.h,e.s,e.l,e.opacity);if(e instanceof $i||(e=Sr(e)),!e)return new bn;if(e instanceof bn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new bn(o,l,c,e.opacity)}function hv(e,t,n,r){return arguments.length===1?Pl(e):new bn(e,t,n,r??1)}function bn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}bs(bn,hv,Il($i,{brighter(e){return e=e==null?ia:Math.pow(ia,e),new bn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yi:Math.pow(yi,e),new bn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Kt(Oa(e>=240?e-240:e+120,a,r),Oa(e,a,r),Oa(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new bn(po(this.h),zi(this.s),zi(this.l),aa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=aa(this.opacity);return`${e===1?"hsl(":"hsla("}${po(this.h)}, ${zi(this.s)*100}%, ${zi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function po(e){return e=(e||0)%360,e<0?e+360:e}function zi(e){return Math.max(0,Math.min(1,e||0))}function Oa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const xs=e=>()=>e;function pv(e,t){return function(n){return e+n*t}}function _v(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gv(e){return(e=+e)==1?Cl:function(t,n){return n-t?_v(t,n,e):xs(isNaN(t)?n:t)}}function Cl(e,t){var n=t-e;return n?pv(e,n):xs(isNaN(e)?t:e)}const sa=function e(t){var n=gv(t);function r(a,s){var o=n((a=Wa(a)).r,(s=Wa(s)).r),l=n(a.g,s.g),c=n(a.b,s.b),u=Cl(a.opacity,s.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return r.gamma=e,r}(1);function mv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function yv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wv(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)a[o]=ks(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<r;++o)s[o]=a[o](l);return s}}function bv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xv(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=ks(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Za=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Da=new RegExp(Za.source,"g");function kv(e){return function(){return e}}function Sv(e){return function(t){return e(t)+""}}function Rl(e,t){var n=Za.lastIndex=Da.lastIndex=0,r,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Za.exec(e))&&(a=Da.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:yn(r,a)})),n=Da.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Sv(c[0].x):kv(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function ks(e,t){var n=typeof t,r;return t==null||n==="boolean"?xs(t):(n==="number"?yn:n==="string"?(r=Sr(t))?(t=r,sa):Rl:t instanceof Sr?sa:t instanceof Date?bv:yv(t)?mv:Array.isArray(t)?wv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xv:yn)(e,t)}function Nv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var _o=180/Math.PI,Qa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ql(e,t,n,r,a,s){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*_o,skewX:Math.atan(c)*_o,scaleX:o,scaleY:l}}var ji;function Mv(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qa:ql(t.a,t.b,t.c,t.d,t.e,t.f)}function Ev(e){return e==null||(ji||(ji=document.createElementNS("http://www.w3.org/2000/svg","g")),ji.setAttribute("transform",e),!(e=ji.transform.baseVal.consolidate()))?Qa:(e=e.matrix,ql(e.a,e.b,e.c,e.d,e.e,e.f))}function Ll(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function s(u,f,d,v,_,h){if(u!==d||f!==v){var w=_.push("translate(",null,t,null,n);h.push({i:w-4,x:yn(u,d)},{i:w-2,x:yn(f,v)})}else(d||v)&&_.push("translate("+d+t+v+n)}function o(u,f,d,v){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),v.push({i:d.push(a(d)+"rotate(",null,r)-2,x:yn(u,f)})):f&&d.push(a(d)+"rotate("+f+r)}function l(u,f,d,v){u!==f?v.push({i:d.push(a(d)+"skewX(",null,r)-2,x:yn(u,f)}):f&&d.push(a(d)+"skewX("+f+r)}function c(u,f,d,v,_,h){if(u!==d||f!==v){var w=_.push(a(_)+"scale(",null,",",null,")");h.push({i:w-4,x:yn(u,d)},{i:w-2,x:yn(f,v)})}else(d!==1||v!==1)&&_.push(a(_)+"scale("+d+","+v+")")}return function(u,f){var d=[],v=[];return u=e(u),f=e(f),s(u.translateX,u.translateY,f.translateX,f.translateY,d,v),o(u.rotate,f.rotate,d,v),l(u.skewX,f.skewX,d,v),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,v),u=f=null,function(_){for(var h=-1,w=v.length,k;++h<w;)d[(k=v[h]).i]=k.x(_);return d.join("")}}}var Av=Ll(Mv,"px, ","px)","deg)"),$v=Ll(Ev,", ",")",")"),Kr=0,ci=0,oi=0,Fl=1e3,oa,ui,la=0,Nr=0,Na=0,bi=typeof performance=="object"&&performance.now?performance:Date,Ol=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ss(){return Nr||(Ol(Tv),Nr=bi.now()+Na)}function Tv(){Nr=0}function ca(){this._call=this._time=this._next=null}ca.prototype=Dl.prototype={constructor:ca,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ss():+n)+(t==null?0:+t),!this._next&&ui!==this&&(ui?ui._next=this:oa=this,ui=this),this._call=e,this._time=n,Ja()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ja())}};function Dl(e,t,n){var r=new ca;return r.restart(e,t,n),r}function Iv(){Ss(),++Kr;for(var e=oa,t;e;)(t=Nr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Kr}function go(){Nr=(la=bi.now())+Na,Kr=ci=0;try{Iv()}finally{Kr=0,Cv(),Nr=0}}function Pv(){var e=bi.now(),t=e-la;t>Fl&&(Na-=t,la=e)}function Cv(){for(var e,t=oa,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:oa=n);ui=e,Ja(r)}function Ja(e){if(!Kr){ci&&(ci=clearTimeout(ci));var t=e-Nr;t>24?(e<1/0&&(ci=setTimeout(go,e-bi.now()-Na)),oi&&(oi=clearInterval(oi))):(oi||(la=bi.now(),oi=setInterval(Pv,Fl)),Kr=1,Ol(go))}}function mo(e,t,n){var r=new ca;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var Rv=yl("start","end","cancel","interrupt"),qv=[],Bl=0,yo=1,es=2,Wi=3,wo=4,ts=5,Zi=6;function Ma(e,t,n,r,a,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Lv(e,n,{name:t,index:r,group:a,on:Rv,tween:qv,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Bl})}function Ns(e,t){var n=Mn(e,t);if(n.state>Bl)throw new Error("too late; already scheduled");return n}function Ln(e,t){var n=Mn(e,t);if(n.state>Wi)throw new Error("too late; already running");return n}function Mn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Lv(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=Dl(s,0,n.time);function s(u){n.state=yo,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,d,v,_;if(n.state!==yo)return c();for(f in r)if(_=r[f],_.name===n.name){if(_.state===Wi)return mo(o);_.state===wo?(_.state=Zi,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete r[f]):+f<t&&(_.state=Zi,_.timer.stop(),_.on.call("cancel",e,e.__data__,_.index,_.group),delete r[f])}if(mo(function(){n.state===Wi&&(n.state=wo,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=es,n.on.call("start",e,e.__data__,n.index,n.group),n.state===es){for(n.state=Wi,a=new Array(v=n.tween.length),f=0,d=-1;f<v;++f)(_=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=_);a.length=d+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=ts,1),d=-1,v=a.length;++d<v;)a[d].call(e,f);n.state===ts&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Zi,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Fv(e,t){var n=e.__transition,r,a,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}a=r.state>es&&r.state<ts,r.state=Zi,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function Ov(e){return this.each(function(){Fv(this,e)})}function Dv(e,t){var n,r;return function(){var a=Ln(this,e),s=a.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function Bv(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=Ln(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}s.tween=a}}function zv(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Mn(this.node(),n).tween,a=0,s=r.length,o;a<s;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?Dv:Bv)(n,e,t))}function Ms(e,t,n){var r=e._id;return e.each(function(){var a=Ln(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Mn(a,r).value[t]}}function zl(e,t){var n;return(typeof t=="number"?yn:t instanceof Sr?sa:(n=Sr(t))?(t=n,sa):Rl)(e,t)}function jv(e){return function(){this.removeAttribute(e)}}function Yv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Uv(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===r?s:s=t(r=o,n)}}function Vv(e,t,n){var r,a=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?s:s=t(r=o,n)}}function Hv(e,t,n){var r,a,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l)))}}function Kv(e,t,n){var r,a,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l)))}}function Xv(e,t){var n=Sa(e),r=n==="transform"?$v:zl;return this.attrTween(e,typeof t=="function"?(n.local?Kv:Hv)(n,r,Ms(this,"attr."+e,t)):t==null?(n.local?Yv:jv)(n):(n.local?Vv:Uv)(n,r,t))}function Gv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Wv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Zv(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Wv(e,s)),n}return a._value=t,a}function Qv(e,t){var n,r;function a(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Gv(e,s)),n}return a._value=t,a}function Jv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Sa(e);return this.tween(n,(r.local?Zv:Qv)(r,t))}function eh(e,t){return function(){Ns(this,e).delay=+t.apply(this,arguments)}}function th(e,t){return t=+t,function(){Ns(this,e).delay=t}}function nh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?eh:th)(t,e)):Mn(this.node(),t).delay}function rh(e,t){return function(){Ln(this,e).duration=+t.apply(this,arguments)}}function ih(e,t){return t=+t,function(){Ln(this,e).duration=t}}function ah(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rh:ih)(t,e)):Mn(this.node(),t).duration}function sh(e,t){if(typeof t!="function")throw new Error;return function(){Ln(this,e).ease=t}}function oh(e){var t=this._id;return arguments.length?this.each(sh(t,e)):Mn(this.node(),t).ease}function lh(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ln(this,e).ease=n}}function ch(e){if(typeof e!="function")throw new Error;return this.each(lh(this._id,e))}function uh(e){typeof e!="function"&&(e=xl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var s=t[a],o=s.length,l=r[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Vn(r,this._parents,this._name,this._id)}function fh(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var c=t[l],u=n[l],f=c.length,d=o[l]=new Array(f),v,_=0;_<f;++_)(v=c[_]||u[_])&&(d[_]=v);for(;l<r;++l)o[l]=t[l];return new Vn(o,this._parents,this._name,this._id)}function dh(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function vh(e,t,n){var r,a,s=dh(t)?Ns:Ln;return function(){var o=s(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function hh(e,t){var n=this._id;return arguments.length<2?Mn(this.node(),n).on.on(e):this.each(vh(n,e,t))}function ph(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function _h(){return this.on("end.remove",ph(this._id))}function gh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ys(e));for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o)for(var l=r[o],c=l.length,u=s[o]=new Array(c),f,d,v=0;v<c;++v)(f=l[v])&&(d=e.call(f,f.__data__,v,l))&&("__data__"in f&&(d.__data__=f.__data__),u[v]=d,Ma(u[v],t,n,v,u,Mn(f,n)));return new Vn(s,this._parents,t,n)}function mh(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bl(e));for(var r=this._groups,a=r.length,s=[],o=[],l=0;l<a;++l)for(var c=r[l],u=c.length,f,d=0;d<u;++d)if(f=c[d]){for(var v=e.call(f,f.__data__,d,c),_,h=Mn(f,n),w=0,k=v.length;w<k;++w)(_=v[w])&&Ma(_,t,n,w,v,h);s.push(v),o.push(f)}return new Vn(s,o,t,n)}var yh=Ai.prototype.constructor;function wh(){return new yh(this._groups,this._parents)}function bh(e,t){var n,r,a;return function(){var s=Hr(this,e),o=(this.style.removeProperty(e),Hr(this,e));return s===o?null:s===n&&o===r?a:a=t(n=s,r=o)}}function jl(e){return function(){this.style.removeProperty(e)}}function xh(e,t,n){var r,a=n+"",s;return function(){var o=Hr(this,e);return o===a?null:o===r?s:s=t(r=o,n)}}function kh(e,t,n){var r,a,s;return function(){var o=Hr(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Hr(this,e))),o===c?null:o===r&&c===a?s:(a=c,s=t(r=o,l))}}function Sh(e,t){var n,r,a,s="style."+t,o="end."+s,l;return function(){var c=Ln(this,e),u=c.on,f=c.value[s]==null?l||(l=jl(t)):void 0;(u!==n||a!==f)&&(r=(n=u).copy()).on(o,a=f),c.on=r}}function Nh(e,t,n){var r=(e+="")=="transform"?Av:zl;return t==null?this.styleTween(e,bh(e,r)).on("end.style."+e,jl(e)):typeof t=="function"?this.styleTween(e,kh(e,r,Ms(this,"style."+e,t))).each(Sh(this._id,e)):this.styleTween(e,xh(e,r,t),n).on("end.style."+e,null)}function Mh(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Eh(e,t,n){var r,a;function s(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&Mh(e,o,n)),r}return s._value=t,s}function Ah(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Eh(e,t,n??""))}function $h(e){return function(){this.textContent=e}}function Th(e){return function(){var t=e(this);this.textContent=t??""}}function Ih(e){return this.tween("text",typeof e=="function"?Th(Ms(this,"text",e)):$h(e==null?"":e+""))}function Ph(e){return function(t){this.textContent=e.call(this,t)}}function Ch(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&Ph(a)),t}return r._value=e,r}function Rh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ch(e))}function qh(){for(var e=this._name,t=this._id,n=Yl(),r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var f=Mn(c,t);Ma(c,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Vn(r,this._parents,e,n)}function Lh(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--a===0&&s()}};n.each(function(){var u=Ln(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&s()})}var Fh=0;function Vn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Yl(){return++Fh}var jn=Ai.prototype;Vn.prototype={constructor:Vn,select:gh,selectAll:mh,selectChild:jn.selectChild,selectChildren:jn.selectChildren,filter:uh,merge:fh,selection:wh,transition:qh,call:jn.call,nodes:jn.nodes,node:jn.node,size:jn.size,empty:jn.empty,each:jn.each,on:hh,attr:Xv,attrTween:Jv,style:Nh,styleTween:Ah,text:Ih,textTween:Rh,remove:_h,tween:zv,delay:nh,duration:ah,ease:oh,easeVarying:ch,end:Lh,[Symbol.iterator]:jn[Symbol.iterator]};function Oh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Dh={time:null,delay:0,duration:250,ease:Oh};function Bh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function zh(e){var t,n;e instanceof Vn?(t=e._id,e=e._name):(t=Yl(),(n=Dh).time=Ss(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var o=r[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&Ma(c,e,t,u,o,n||Bh(c,t));return new Vn(r,this._parents,e,t)}Ai.prototype.interrupt=Ov;Ai.prototype.transition=zh;const ns=Math.PI,rs=2*ns,fr=1e-6,jh=rs-fr;function Ul(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Yh(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ul;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Uh{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ul:Yh(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,f=o-t,d=l-n,v=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>fr)if(!(Math.abs(d*c-u*f)>fr)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-o,h=a-l,w=c*c+u*u,k=_*_+h*h,N=Math.sqrt(w),I=Math.sqrt(v),E=s*Math.tan((ns-Math.acos((w+v-k)/(2*N*I)))/2),H=E/I,j=E/N;Math.abs(H-1)>fr&&this._append`L${t+H*f},${n+H*d}`,this._append`A${s},${s},0,0,${+(d*_>f*h)},${this._x1=t+j*c},${this._y1=n+j*u}`}}arc(t,n,r,a,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,f=n+c,d=1^o,v=o?a-s:s-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>fr||Math.abs(this._y1-f)>fr)&&this._append`L${u},${f}`,r&&(v<0&&(v=v%rs+rs),v>jh?this._append`A${r},${r},0,1,${d},${t-l},${n-c}A${r},${r},0,1,${d},${this._x1=u},${this._y1=f}`:v>fr&&this._append`A${r},${r},0,${+(v>=ns)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Vh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ua(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xr(e){return e=ua(Math.abs(e)),e?e[1]:NaN}function Hh(e,t){return function(n,r){for(var a=n.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Kh(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Xh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fa(e){if(!(t=Xh.exec(e)))throw new Error("invalid format: "+e);var t;return new Es({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fa.prototype=Es.prototype;function Es(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Es.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gh(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Vl;function Wh(e,t){var n=ua(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(Vl=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ua(e,Math.max(0,t+s-1))[0]}function bo(e,t){var n=ua(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const xo={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vh,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bo(e*100,t),r:bo,s:Wh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ko(e){return e}var So=Array.prototype.map,No=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zh(e){var t=e.grouping===void 0||e.thousands===void 0?ko:Hh(So.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?ko:Kh(So.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=fa(d);var v=d.fill,_=d.align,h=d.sign,w=d.symbol,k=d.zero,N=d.width,I=d.comma,E=d.precision,H=d.trim,j=d.type;j==="n"?(I=!0,j="g"):xo[j]||(E===void 0&&(E=12),H=!0,j="g"),(k||v==="0"&&_==="=")&&(k=!0,v="0",_="=");var K=w==="$"?n:w==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",ie=w==="$"?r:/[%p]/.test(j)?o:"",xe=xo[j],He=/[defgprs%]/.test(j);E=E===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function Ke(Q){var re=K,pe=ie,x,_e,ce;if(j==="c")pe=xe(Q)+pe,Q="";else{Q=+Q;var qe=Q<0||1/Q<0;if(Q=isNaN(Q)?c:xe(Math.abs(Q),E),H&&(Q=Gh(Q)),qe&&+Q==0&&h!=="+"&&(qe=!1),re=(qe?h==="("?h:l:h==="-"||h==="("?"":h)+re,pe=(j==="s"?No[8+Vl/3]:"")+pe+(qe&&h==="("?")":""),He){for(x=-1,_e=Q.length;++x<_e;)if(ce=Q.charCodeAt(x),48>ce||ce>57){pe=(ce===46?a+Q.slice(x+1):Q.slice(x))+pe,Q=Q.slice(0,x);break}}}I&&!k&&(Q=t(Q,1/0));var Ie=re.length+Q.length+pe.length,Ae=Ie<N?new Array(N-Ie+1).join(v):"";switch(I&&k&&(Q=t(Ae+Q,Ae.length?N-pe.length:1/0),Ae=""),_){case"<":Q=re+Q+pe+Ae;break;case"=":Q=re+Ae+Q+pe;break;case"^":Q=Ae.slice(0,Ie=Ae.length>>1)+re+Q+pe+Ae.slice(Ie);break;default:Q=Ae+re+Q+pe;break}return s(Q)}return Ke.toString=function(){return d+""},Ke}function f(d,v){var _=u((d=fa(d),d.type="f",d)),h=Math.max(-8,Math.min(8,Math.floor(Xr(v)/3)))*3,w=Math.pow(10,-h),k=No[8+h/3];return function(N){return _(w*N)+k}}return{format:u,formatPrefix:f}}var Yi,Hl,Kl;Qh({thousands:",",grouping:[3],currency:["$",""]});function Qh(e){return Yi=Zh(e),Hl=Yi.format,Kl=Yi.formatPrefix,Yi}function Jh(e){return Math.max(0,-Xr(Math.abs(e)))}function ep(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xr(t)/3)))*3-Xr(Math.abs(e)))}function tp(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xr(t)-Xr(e))+1}function As(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Mo=Symbol("implicit");function Xl(){var e=new ro,t=[],n=[],r=Mo;function a(s){let o=e.get(s);if(o===void 0){if(r!==Mo)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new ro;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Xl(t,n).unknown(r)},As.apply(a,arguments),a}function Gl(){var e=Xl().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var v=t().length,_=a<r,h=_?a:r,w=_?r:a;s=(w-h)/Math.max(1,v-c+u*2),l&&(s=Math.floor(s)),h+=(w-h-s*(v-c))*f,o=s*(1-c),l&&(h=Math.round(h),o=Math.round(o));var k=wf(v).map(function(N){return h+s*N});return n(_?k.reverse():k)}return e.domain=function(v){return arguments.length?(t(v),d()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(v){return arguments.length?(l=!!v,d()):l},e.padding=function(v){return arguments.length?(c=Math.min(1,u=+v),d()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),d()):c},e.paddingOuter=function(v){return arguments.length?(u=+v,d()):u},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),d()):f},e.copy=function(){return Gl(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},As.apply(d(),arguments)}function Wl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Wl(t())},e}function np(){return Wl(Gl.apply(null,arguments).paddingInner(1))}function rp(e){return function(){return e}}function ip(e){return+e}var Eo=[0,1];function Rr(e){return e}function is(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rp(isNaN(t)?NaN:.5)}function ap(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function sp(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=is(a,r),s=n(o,s)):(r=is(r,a),s=n(s,o)),function(l){return s(r(l))}}function op(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=is(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(l){var c=df(e,l,1,r)-1;return s[c](a[c](l))}}function lp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cp(){var e=Eo,t=Eo,n=ks,r,a,s,o=Rr,l,c,u;function f(){var v=Math.min(e.length,t.length);return o!==Rr&&(o=ap(e[0],e[v-1])),l=v>2?op:sp,c=u=null,d}function d(v){return v==null||isNaN(v=+v)?s:(c||(c=l(e.map(r),t,n)))(r(o(v)))}return d.invert=function(v){return o(a((u||(u=l(t,e.map(r),yn)))(v)))},d.domain=function(v){return arguments.length?(e=Array.from(v,ip),f()):e.slice()},d.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},d.rangeRound=function(v){return t=Array.from(v),n=Nv,f()},d.clamp=function(v){return arguments.length?(o=v?!0:Rr,f()):o!==Rr},d.interpolate=function(v){return arguments.length?(n=v,f()):n},d.unknown=function(v){return arguments.length?(s=v,d):s},function(v,_){return r=v,a=_,f()}}function up(){return cp()(Rr,Rr)}function fp(e,t,n,r){var a=yf(e,t,n),s;switch(r=fa(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=ep(a,o))&&(r.precision=s),Kl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=tp(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Jh(a))&&(r.precision=s-(r.type==="%")*2);break}}return Hl(r)}function dp(e){var t=e.domain;return e.ticks=function(n){var r=t();return ml(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return fp(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,o=r[a],l=r[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);f-- >0;){if(u=Xa(o,l,n),u===c)return r[a]=o,r[s]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Zl(){var e=up();return e.copy=function(){return lp(e,Zl())},As.apply(e,arguments),dp(e)}function Cr(e){return function(){return e}}function vp(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Uh(t)}function hp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ql(e){this._context=e}Ql.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function pp(e){return new Ql(e)}function _p(e){return e[0]}function gp(e){return e[1]}function mp(e,t){var n=Cr(!0),r=null,a=pp,s=null,o=vp(l);e=typeof e=="function"?e:e===void 0?_p:Cr(e),t=typeof t=="function"?t:t===void 0?gp:Cr(t);function l(c){var u,f=(c=hp(c)).length,d,v=!1,_;for(r==null&&(s=a(_=o())),u=0;u<=f;++u)!(u<f&&n(d=c[u],u,c))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(d,u,c),+t(d,u,c));if(_)return s=null,_+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Cr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Cr(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Cr(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(s=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=s=null:s=a(r=c),l):r},l}function Ao(e){return e<0?-1:1}function $o(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(s*a+o*r)/(r+a);return(Ao(s)+Ao(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function To(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ba(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,a+l*t,s-l,o-l*n,s,o)}function da(e){this._context=e}da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ba(this,this._t0,To(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ba(this,To(this,n=$o(this,e,t)),n);break;default:Ba(this,this._t0,n=$o(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(da.prototype).point=function(e,t){da.prototype.point.call(this,t,e)};function yp(e){return new da(e)}function fi(e,t,n){this.k=e,this.x=t,this.y=n}fi.prototype={constructor:fi,scale:function(e){return e===1?this:new fi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new fi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};fi.prototype;var wp=Nn('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),bp=Nn('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),xp=Nn("<tspan> </tspan>"),kp=Nn('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),Sp=Nn('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),Np=Nn('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),Mp=Nn('<path stroke-width="1.5" role="button" tabindex="0"></path>'),Ep=Nn("<g><!></g>"),Ap=A("<div> </div>"),$p=A("<div> </div>"),Tp=A("<div> </div>"),Ip=A('<div class="tooltip-divider svelte-idxsrp"></div>'),Pp=A('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),Cp=A("<div> </div>"),Rp=A("<div> </div>"),qp=A("<div> </div>"),Lp=A("<div> </div>"),Fp=A("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),Op=A('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),Dp=A("<span> </span>"),Bp=Nn('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),zp=Nn('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),jp=Nn('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),Yp=A('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),Up=A('<div class="band-legend svelte-idxsrp"></div>'),Vp=A('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),Hp=A('<div class="legend svelte-idxsrp"></div>'),Kp=A('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function Xp(e,t){sr(t,!0);let n=Mt(t,"bands",19,()=>[]),r=Mt(t,"years",19,()=>[]),a=Mt(t,"maxFieldSize",3,0),s=Mt(t,"yMode",3,"relative"),o=Mt(t,"yAxisScale",3,"fitted"),l=Mt(t,"showConductorMarkers",3,!0);const c={top:24,right:48,bottom:48,left:72},u=880,f=360,d={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},v=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],_=["circle","square","triangle"],h=6,w=24,k=26,N=30,I=c.top+12,E=f-c.bottom-22,H=10,j=6,K=[0,1,2,3],ie=.08,xe=5,He=.5;let Ke=Te(null),Q=Te(Vt({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),re=null,pe=null,x=Te(null),_e=Te(0),ce=Te(0);const qe=()=>l()&&n().length===1;function Ie(y){if(y.absolute_position==null)return 0;const b=y.field_size??i(Qt)??a()??1;return b?y.absolute_position/b*100:0}function Ae(y){return s()==="relative"?Ie(y):y.absolute_position??0}function je(y){const b=y.pieces??y.pieces,R=Array.isArray(b)?b.map(P=>`${P}`.trim()).filter(Boolean):b!=null&&`${b}`.trim().length?[`${b}`.trim()]:[],Y={...y,pieces:R},F=y;return F.band_name!=null&&(Y.band_name=F.band_name),Array.isArray(F.aggregate_entries)&&F.aggregate_entries.length>0&&(Y.aggregate_entries=F.aggregate_entries.map(P=>je(P))),Y}function yt(y){return y.map(b=>je(b))}function $(y){const b=[];let R=0;if(y.length>0){const Y=y[0];Y.conductor&&(b.push({year:Y.year,conductor:Y.conductor,lane:R}),R+=1)}for(let Y=1;Y<y.length;Y+=1){const F=y[Y-1],P=y[Y];F.conductor&&P.conductor&&F.conductor!==P.conductor&&(b.push({year:P.year,conductor:P.conductor,lane:R}),R+=1)}return b}function U(){if(!i(Ke))return;const y=i(Ke).getBoundingClientRect(),b=i(Ke).parentElement;if(!b)return;const R=b.getBoundingClientRect();if(y.width===0||y.height===0)return;const Y={offsetX:y.left-R.left,scaleX:y.width/u,offsetY:y.top-R.top,scaleY:y.height/f};(Math.abs(Y.offsetX-i(Q).offsetX)>.1||Math.abs(Y.scaleX-i(Q).scaleX)>.001||Math.abs(Y.offsetY-i(Q).offsetY)>.1||Math.abs(Y.scaleY-i(Q).scaleY)>.001)&&z(Q,Y,!0)}function ae(){!re||!i(Ke)||pe!==i(Ke)&&(pe&&re.unobserve(pe),re.observe(i(Ke)),pe=i(Ke))}ta(()=>{typeof ResizeObserver<"u"&&(re=new ResizeObserver(()=>U())),ae(),U(),window.addEventListener("resize",U)}),_i(()=>{ae(),U()}),Xu(()=>{re==null||re.disconnect(),window.removeEventListener("resize",U)});function ge(y){return K[y%K.length]??0}function Xe(y,b){const R=i(nt);if(!R)return{anchor:"middle",dx:0};const Y=R(y.year)??c.left,F=48,P=c.left-F,ye=u-c.right+F,fe=Math.max(b,1)*j/2;return Y+fe>ye?{anchor:"end",dx:0}:Y-fe<P?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function ot(y){const b=y==null?void 0:y.trim();if(!b)return[""];const R=b.split(/\s+/);if(R.length<=1)return[b];const Y=R.pop(),F=R.join(" ");return F?[F,Y]:[Y]}function tt(y,b,R){const Y=y.find(Ce=>Ce.year===b.year),F=ge(b.lane);if(!Y)return c.top-8+F*(w+6);const P=i(oe)(Ae(Y)),ye=R??ot(b.conductor),he=(Math.max(ye.length,1)-1)*6,Le=y.filter(Ce=>Ce.year>=b.year-1&&Ce.year<=b.year+1).map(Ce=>({year:Ce.year,y:i(oe)(Ae(Ce))})).sort((Ce,Fe)=>Ce.year-Fe.year),ft=Le.findIndex(Ce=>Ce.year===b.year);let Ze=!0;if(ft>0&&ft<Le.length-1){const Ce=Le[ft-1],Fe=Le[ft+1],Ue=Math.abs(P-Ce.y),lt=Math.abs(P-Fe.y);(Ue<k+4||lt<k+4)&&(Ze=!1)}const Me=w+10,at=k+F*Me+he,De=P-at;if(Ze&&De>I)return De;const gt=N+F*Me+he,Pe=P+gt;if(Pe<=E)return Pe;const Ye=E-F*Me;return Ye>I?Ye:Math.max(I,Math.min(E,P))}function mt(y,b,R){return`M ${y} ${b-R} L ${y+R} ${b+R} L ${y-R} ${b+R} Z`}function Et(y){if(!y)return Number.POSITIVE_INFINITY;const b=y.trim().toLowerCase();if(b==="elite")return 0;const R=b.match(/(\d+)/);return R?parseInt(R[1],10):Number.POSITIVE_INFINITY}function Wt(y,b){const R=Et(y),Y=Et(b);return R!==Y?R-Y:y.localeCompare(b)}function an(y){if(!y||y.length===0)return null;let b=1/0,R=-1/0;for(const Y of y)Y<b&&(b=Y),Y>R&&(R=Y);return!Number.isFinite(b)||!Number.isFinite(R)?null:[b,R]}function Lt([y,b],R){y>b&&([y,b]=[b,y]);const Y=b-y,F=R?0:1,P=R?100:1/0;let ye=Y*ie;Y===0&&(ye=R?xe:He);let fe=y-ye,he=b+ye;if(R&&y<=0||!R&&y<=1?fe=y:fe=Math.max(fe,F),R&&b>=100?he=b:R&&(he=Math.min(he,P)),he===fe){const Ze=R?xe:He;fe=Math.max(fe-Ze,F),he=R?Math.min(he+Ze,P):he+Ze}return[fe,he]}let Zt=M(()=>n().map(y=>({band:y,entries:yt(y.entries)}))),xt=M(()=>i(Zt).reduce((y,b)=>(y.push(...b.entries),y),[])),kt=M(()=>(()=>{if(r().length)return r();if(!i(xt).length)return[0];const y=new Set(i(xt).map(b=>b.year));return Array.from(y).sort((b,R)=>b-R)})()),nt=M(()=>np().domain(i(kt)).range([c.left,u-c.right])),Qt=M(()=>a()||(i(xt).length?Math.max(...i(xt).map(y=>y.field_size??0)):1)),_n=M(()=>(()=>{const y=[];for(const b of i(xt)){const R=Ae(b);R!=null&&Number.isFinite(R)&&y.push(R)}return y})()),Jt=M(()=>an(i(_n))),ee=M(()=>i(Jt)?Lt(i(Jt),s()==="relative"):null),G=M(()=>(()=>{if(o()==="fitted"&&i(ee)){const[y,b]=i(ee);return[b,y]}return s()==="relative"?[100,0]:[i(Qt)+1,0]})()),oe=M(()=>Zl().domain(i(G)).range([f-c.bottom,c.top])),ue=M(()=>i(Zt).map((y,b)=>{const R=[...y.entries].sort((fe,he)=>fe.year-he.year),Y=i(kt).map(fe=>R.find(he=>he.year===fe)??null),P=mp().defined(fe=>fe!==null).x(fe=>fe?i(nt)(fe.year)??c.left:c.left).y(fe=>fe?i(oe)(Ae(fe)):i(oe)(i(G)[1])).curve(yp)(Y)??void 0,ye=qe()?$(R):[];return{band:y.band,entries:R,timeline:Y,pathData:P,conductorChanges:ye,color:v[b%v.length],shape:_[b%_.length]}})),rt=M(()=>qe()&&i(ue).length?i(ue)[0].conductorChanges.map(y=>{const b=ot(y.conductor),R=b.reduce((F,P)=>Math.max(F,P.length),0),Y=Xe(y,R);return{...y,...Y,y:tt(i(ue)[0].entries,y,b),labelLines:b}}):[]),W=M(()=>(()=>{const y=i(G)[0],b=i(G)[1],R=f-c.top-c.bottom,Y=Math.max(4,Math.min(8,Math.floor(R/50)));let F=Array.from(new Set(ml(b,y,Y).map(P=>(s()==="relative",Math.round(P))))).filter(P=>P>=b&&P<=y).sort((P,ye)=>P-ye);return s()==="absolute"&&b<=1&&y>=1&&!F.includes(1)&&(F=[1,...F.filter(P=>P!==1)].sort((P,ye)=>P-ye)),F})()),J=M(()=>new Set(i(xt).map(y=>y.year))),we=M(()=>i(kt).length>30?5:i(kt).length>18?3:1),ne=M(()=>i(kt).filter((y,b)=>b===0||b===i(kt).length-1||y===2019?!0:y%i(we)===0)),Oe=M(()=>i(ne).map(y=>{const b=i(nt)(y)??c.left,R=i(Q).offsetX+b*i(Q).scaleX;return{year:y,x:R,inactive:!i(J).has(y)}})),Ge=M(()=>i(Q).offsetY+(f-c.bottom)*i(Q).scaleY+H),$e=M(()=>Array.from(new Set(i(xt).map(y=>y.division))).filter(y=>typeof y=="string"&&y.length>0).sort(Wt));const ht=()=>i($e).length>0;function We(y,b,R,Y){const F=y.currentTarget,P=F.ownerSVGElement;if(!P)return;const ye=P.getBoundingClientRect();if(y instanceof MouseEvent)z(_e,y.clientX-ye.left),z(ce,y.clientY-ye.top);else{const fe=F.getBoundingClientRect();z(_e,fe.left+fe.width/2-ye.left),z(ce,fe.top+fe.height/2-ye.top)}z(x,{entry:b,bandName:R,lineColor:Y},!0)}function dt(){z(x,null)}function vt(y){return y.aggregate_entries}var me=Kp(),ut=ke(me),wt=p(ut);O(wt,"viewBox",`0 0 ${u} ${f}`);var St=T(p(wt));ze(St,21,()=>i(W),Ve,(y,b)=>{var R=wp(),Y=ke(R),F=T(Y),P=p(F);X((ye,fe,he)=>{O(Y,"x1",c.left),O(Y,"x2",u-c.right),O(Y,"y1",ye),O(Y,"y2",fe),O(F,"x",c.left-12),O(F,"y",he),B(P,s()==="relative"?`${i(b)}%`:`#${i(b)}`)},[()=>i(oe)(i(b)),()=>i(oe)(i(b)),()=>i(oe)(i(b))+4]),m(y,R)});var bt=T(St);ze(bt,17,()=>i(ue),Ve,(y,b)=>{var R=et(),Y=ke(R);{var F=P=>{var ye=bp();X(()=>{O(ye,"d",i(b).pathData),O(ye,"stroke",i(b).color)}),m(P,ye)};V(Y,P=>{i(b).pathData&&P(F)})}m(y,R)});var pt=T(bt);{var sn=y=>{var b=et(),R=ke(b);ze(R,17,()=>i(rt),Ve,(Y,F)=>{var P=et(),ye=ke(P);{var fe=he=>{var Le=et(),ft=ke(Le);Gu(ft,()=>`${i(F).year}-${i(F).conductor}`,Ze=>{var Me=kp(),at=p(Me),De=T(at);ze(De,21,()=>i(F).labelLines,Ve,(gt,Pe,Ye,Ce)=>{var Fe=xp();O(Fe,"dy",Ye===0?0:"1.1em");var Ue=p(Fe);X(lt=>{O(Fe,"x",lt),B(Ue,i(Pe))},[()=>i(nt)(i(F).year)]),m(gt,Fe)}),X((gt,Pe,Ye)=>{O(at,"x1",gt),O(at,"x2",Pe),O(at,"y1",c.top),O(at,"y2",f-c.bottom),O(De,"x",Ye),O(De,"y",i(F).y),O(De,"text-anchor",i(F).anchor),O(De,"dx",i(F).dx)},[()=>i(nt)(i(F).year),()=>i(nt)(i(F).year),()=>i(nt)(i(F).year)]),m(Ze,Me)}),m(he,Le)};V(ye,he=>{i(nt)(i(F).year)!==void 0&&he(fe)})}m(Y,P)}),m(y,b)};V(pt,y=>{qe()&&y(sn)})}var En=T(pt);ze(En,17,()=>i(ue),Ve,(y,b)=>{var R=et(),Y=ke(R);ze(Y,17,()=>i(b).entries,F=>F.year,(F,P)=>{var ye=et(),fe=ke(ye);{var he=Le=>{const ft=M(()=>i(nt)(i(P).year)??c.left),Ze=M(()=>i(oe)(Ae(i(P)))),Me=M(()=>(i(P).field_size??0)>0),at=M(()=>i(Me)?`${Ie(i(P)).toFixed(1)}%`:null);var De=Ep(),gt=p(De);{var Pe=Ce=>{var Fe=Sp();O(Fe,"r",h),X(()=>{O(Fe,"cx",i(ft)),O(Fe,"cy",i(Ze)),O(Fe,"fill",d[i(P).division]??"#f8fafc"),O(Fe,"stroke",i(b).color),O(Fe,"aria-label",`${i(b).band.name}: ${i(P).year} – ${i(P).division} plass ${i(P).rank} (absolutt #${i(P).absolute_position}${i(at)?` · relativ ${i(at)}`:""})${i(P).conductor?` – Dirigent: ${i(P).conductor}`:""}`)}),tn("mouseenter",Fe,Ue=>We(Ue,i(P),i(b).band.name,i(b).color)),tn("mouseleave",Fe,dt),tn("focus",Fe,Ue=>We(Ue,i(P),i(b).band.name,i(b).color)),tn("blur",Fe,dt),m(Ce,Fe)},Ye=Ce=>{var Fe=et(),Ue=ke(Fe);{var lt=At=>{var le=Np();O(le,"width",h*2),O(le,"height",h*2),X(()=>{O(le,"x",i(ft)-h),O(le,"y",i(Ze)-h),O(le,"fill",d[i(P).division]??"#f8fafc"),O(le,"stroke",i(b).color),O(le,"aria-label",`${i(b).band.name}: ${i(P).year} – ${i(P).division} plass ${i(P).rank} (absolutt #${i(P).absolute_position}${i(at)?` · relativ ${i(at)}`:""})${i(P).conductor?` – Dirigent: ${i(P).conductor}`:""}`)}),tn("mouseenter",le,Qe=>We(Qe,i(P),i(b).band.name,i(b).color)),tn("mouseleave",le,dt),tn("focus",le,Qe=>We(Qe,i(P),i(b).band.name,i(b).color)),tn("blur",le,dt),m(At,le)},en=At=>{var le=Mp();X(Qe=>{O(le,"d",Qe),O(le,"fill",d[i(P).division]??"#f8fafc"),O(le,"stroke",i(b).color),O(le,"aria-label",`${i(b).band.name}: ${i(P).year} – ${i(P).division} plass ${i(P).rank} (absolutt #${i(P).absolute_position}${i(at)?` · relativ ${i(at)}`:""})${i(P).conductor?` – Dirigent: ${i(P).conductor}`:""}`)},[()=>mt(i(ft),i(Ze),h)]),tn("mouseenter",le,Qe=>We(Qe,i(P),i(b).band.name,i(b).color)),tn("mouseleave",le,dt),tn("focus",le,Qe=>We(Qe,i(P),i(b).band.name,i(b).color)),tn("blur",le,dt),m(At,le)};V(Ue,At=>{i(b).shape==="square"?At(lt):At(en,!1)},!0)}m(Ce,Fe)};V(gt,Ce=>{i(b).shape==="circle"?Ce(Pe):Ce(Ye,!1)})}m(Le,De)};V(fe,Le=>{i(nt)(i(P).year)!==void 0&&Le(he)})}m(F,ye)}),m(y,R)}),sf(wt,y=>z(Ke,y),()=>i(Ke));var Fn=T(wt,2);{var lr=y=>{const b=M(()=>vt(i(x).entry));var R=Op(),Y=p(R),F=p(Y),P=T(Y,2);{var ye=he=>{var Le=et(),ft=ke(Le);ze(ft,17,()=>i(b),Ve,(Ze,Me,at)=>{var De=Pp(),gt=ke(De),Pe=p(gt),Ye=p(Pe),Ce=T(Pe,2),Fe=p(Ce),Ue=T(Ce,2),lt=p(Ue),en=T(Ue,2);{var At=$t=>{const jt=M(()=>Ie(i(Me)).toFixed(1));var On=Ap(),ti=p(On);X(()=>B(ti,`Relativ plassering: ${i(jt)??""}%`)),m($t,On)};V(en,$t=>{(i(Me).field_size??0)>0&&$t(At)})}var le=T(en,2),Qe=p(le),Nt=T(le,2);{var $n=$t=>{var jt=$p(),On=p(jt);X(()=>B(On,`Poeng: ${i(Me).points??""} / ${i(Me).max_points??""}`)),m($t,jt)};V(Nt,$t=>{i(Me).points!==null&&$t($n)})}var ei=T(Nt,2);{var cr=$t=>{var jt=Tp(),On=p(jt);X(ti=>B(On,`Stykker: ${ti??""}`),[()=>i(Me).pieces.join("; ")]),m($t,jt)};V(ei,$t=>{i(Me).pieces.length>0&&$t(cr)})}var Ti=T(gt,2);{var Ii=$t=>{var jt=Ip();m($t,jt)};V(Ti,$t=>{at<i(b).length-1&&$t(Ii)})}X(()=>{B(Ye,i(Me).band_name??"Ukjent korps"),B(Fe,`${i(Me).division??""} · #${i(Me).rank??""}`),B(lt,`Absolutt plassering: #${i(Me).absolute_position??""}`),B(Qe,`Deltakere: ${i(Me).division_size??""} (div) / ${i(Me).field_size??""} (totalt)`)}),m(Ze,De)}),m(he,Le)},fe=he=>{var Le=Fp(),ft=ke(Le),Ze=p(ft),Me=T(ft,2);{var at=le=>{var Qe=Cp(),Nt=p(Qe);X(()=>B(Nt,`Dirigent: ${i(x).entry.conductor??""}`)),m(le,Qe)};V(Me,le=>{i(x).entry.conductor&&le(at)})}var De=T(Me,2),gt=p(De),Pe=T(De,2);{var Ye=le=>{const Qe=M(()=>Ie(i(x).entry).toFixed(1));var Nt=Rp(),$n=p(Nt);X(()=>B($n,`Relativ plassering: ${i(Qe)??""}%`)),m(le,Nt)};V(Pe,le=>{(i(x).entry.field_size??0)>0&&le(Ye)})}var Ce=T(Pe,2),Fe=p(Ce),Ue=T(Ce,2);{var lt=le=>{var Qe=qp(),Nt=p(Qe);X(()=>B(Nt,`Poeng: ${i(x).entry.points??""} / ${i(x).entry.max_points??""}`)),m(le,Qe)};V(Ue,le=>{i(x).entry.points!==null&&le(lt)})}var en=T(Ue,2);{var At=le=>{var Qe=Lp(),Nt=p(Qe);X($n=>B(Nt,`Stykker: ${$n??""}`),[()=>i(x).entry.pieces.join("; ")]),m(le,Qe)};V(en,le=>{i(x).entry.pieces.length>0&&le(At)})}X(()=>{B(Ze,`${i(x).entry.division??""} · #${i(x).entry.rank??""}`),B(gt,`Absolutt plassering: #${i(x).entry.absolute_position??""}`),B(Fe,`Deltakere: ${i(x).entry.division_size??""} (div) / ${i(x).entry.field_size??""} (totalt)`)}),m(he,Le)};V(P,he=>{i(b)&&i(b).length?he(ye):he(fe,!1)})}X(()=>{Oi(R,`left: ${i(_e)}px; top: ${i(ce)}px`),B(F,`${i(x).entry.year??""} · ${i(x).bandName??""}`)}),m(y,R)};V(Fn,y=>{i(x)&&y(lr)})}var An=T(Fn,2);ze(An,21,()=>i(Oe),Ve,(y,b)=>{var R=Dp();let Y;var F=p(R);X(P=>{Oi(R,`left: ${i(b).x}px`),Y=cn(R,1,"svelte-idxsrp",null,Y,P),B(F,i(b).year)},[()=>({inactive:i(b).inactive})]),m(y,R)});var _t=T(ut,2);{var it=y=>{var b=Up();ze(b,21,()=>i(ue),Ve,(R,Y)=>{var F=Yp(),P=p(F),ye=p(P),fe=T(ye);{var he=Ze=>{var Me=Bp();X(()=>O(Me,"stroke",i(Y).color)),m(Ze,Me)},Le=Ze=>{var Me=et(),at=ke(Me);{var De=Pe=>{var Ye=zp();X(()=>O(Ye,"stroke",i(Y).color)),m(Pe,Ye)},gt=Pe=>{var Ye=jp();X(Ce=>{O(Ye,"d",Ce),O(Ye,"stroke",i(Y).color)},[()=>mt(21,7,6)]),m(Pe,Ye)};V(at,Pe=>{i(Y).shape==="square"?Pe(De):Pe(gt,!1)},!0)}m(Ze,Me)};V(fe,Ze=>{i(Y).shape==="circle"?Ze(he):Ze(Le,!1)})}var ft=T(P);X(()=>{O(ye,"stroke",i(Y).color),B(ft,` ${i(Y).band.name??""}`)}),m(R,F)}),m(y,b)};V(_t,y=>{i(ue).length>0&&y(it)})}var Pt=T(_t,2);{var on=y=>{var b=Hp();ze(b,21,()=>i($e),Ve,(R,Y)=>{var F=Vp(),P=p(F),ye=T(P);X(()=>{Oi(P,`background-color: ${d[i(Y)]??"#94a3b8"}`),B(ye,` ${i(Y)??""}`)}),m(R,F)}),m(y,b)};V(Pt,y=>{ht()&&y(on)})}X(()=>Oi(An,`top: ${i(Ge)}px`)),m(e,me),or()}function st(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}var Gp=A('<span class="test-piece-label svelte-urxxqj" title="Pliktstykke (fredag)">P:</span>'),Wp=A('<span class="own-choice-label svelte-urxxqj" title="Selvvalgt (lørdag)">S:</span>'),Zp=A("<a> </a>"),Qp=A("<span> </span>"),Jp=A("<span>Ukjent</span>"),e_=A('<li class="svelte-urxxqj"><!> <!></li>'),t_=A('<ul class="piece-list svelte-urxxqj"></ul>'),n_=A("<span>Ukjent</span>"),r_=A('<a class="entity-link svelte-urxxqj"> </a>'),i_=A("<span>Ukjent</span>"),a_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),s_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),o_=A("<!> <!>",1),l_=A('<div class="streaming-links svelte-urxxqj"></div>'),c_=A('<span class="streaming-missing svelte-urxxqj" aria-hidden="true">–</span>'),u_=A('<tr class="svelte-urxxqj"><td data-label="År" class="svelte-urxxqj"> </td><td data-label="Divisjon" class="division-cell svelte-urxxqj"> </td><td data-label="Stykke" class="piece-cell svelte-urxxqj"><!></td><td data-label="Plass" class="svelte-urxxqj"> </td><td data-label="Poeng" class="svelte-urxxqj"> </td><td data-label="Dirigent" class="svelte-urxxqj"><!></td><td data-label="Opptak" class="streaming-cell svelte-urxxqj"><!></td></tr>'),f_=A('<article class="band-card svelte-urxxqj"><header class="band-header svelte-urxxqj"><div><h2 class="svelte-urxxqj"> </h2> <p class="band-count svelte-urxxqj"> </p></div></header> <div class="table-wrapper svelte-urxxqj" role="region"><table class="svelte-urxxqj"><thead class="svelte-urxxqj"><tr><th scope="col" class="svelte-urxxqj">År</th><th scope="col" class="division-column svelte-urxxqj">Divisjon</th><th scope="col" class="svelte-urxxqj">Stykke</th><th scope="col" class="svelte-urxxqj">Plass</th><th scope="col" class="svelte-urxxqj">Poeng</th><th scope="col" class="svelte-urxxqj">Dirigent</th><th scope="col" class="streaming-column svelte-urxxqj">Opptak</th></tr></thead><tbody class="svelte-urxxqj"></tbody></table></div></article>'),d_=A('<section class="band-performances svelte-urxxqj"></section>');function v_(e,t){sr(t,!0);let n=Mt(t,"bands",19,()=>[]),r=Mt(t,"bandType",3,"wind"),a=Mt(t,"eliteTestPieces",3,null);const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function o(N){return[...N].sort((I,E)=>{const H=I.year-E.year;if(H!==0)return H;const j=I.rank??Number.POSITIVE_INFINITY,K=E.rank??Number.POSITIVE_INFINITY;return j!==K?j-K:(I.absolute_position??Number.POSITIVE_INFINITY)-(E.absolute_position??Number.POSITIVE_INFINITY)})}function l(N){return N==null?"–":s.format(N)}function c(N){return N!=null?`${N}`:"–"}function u(N){return!!(N!=null&&N.spotify||N!=null&&N.apple_music)}function f(N){if(!N)return null;const I=N.trim();if(!I)return null;if(!/^https?:\/\//i.test(I))return I;try{const E=new URL(I);return`music://${`${E.host}${E.pathname}${E.search}${E.hash}`}`}catch(E){return console.warn("Kunne ikke konvertere Apple Music-lenke",E),I}}function d(N,I,E){var xe,He;if(!I)return N;const H=(xe=I.recording_title)==null?void 0:xe.trim(),j=(He=I.album)==null?void 0:He.trim(),K=E==="spotify"?"Spotify":"Apple Music",ie=H&&H.length>0?H:N;return j&&j.length>0?`${ie} • ${j} (${K})`:`${ie} (${K})`}function v(N,I,E){return t.streamingResolver?t.streamingResolver(N,I,E)??null:null}function _(N){var H,j;const I=String(N),E=(j=(H=a())==null?void 0:H.test_pieces)==null?void 0:j[I];return E?{composer:E.composer,piece:E.piece}:null}function h(N){return(N||"").toLowerCase()==="elite"}let w=M(()=>n().map(N=>({...N,entries:o(N.entries)})));var k=d_();ze(k,21,()=>i(w),Ve,(N,I)=>{var E=f_(),H=p(E),j=p(H),K=p(j),ie=p(K),xe=T(K,2),He=p(xe),Ke=T(H,2),Q=p(Ke),re=T(p(Q));ze(re,21,()=>i(I).entries,Ve,(pe,x)=>{const _e=M(()=>Array.isArray(i(x).pieces)?i(x).pieces:[]),ce=M(()=>i(_e).filter(W=>W&&W.trim().length>0)),qe=M(()=>r()==="brass"&&h(i(x).division)?_(i(x).year):null),Ie=M(()=>{var W;return((W=i(x).conductor)==null?void 0:W.trim())??""}),Ae=M(()=>i(Ie).length>0),je=M(()=>i(Ae)?st(i(Ie)):""),yt=M(()=>i(ce).map(W=>{const J=W.trim(),we=J?st(J):"",ne=J?v(i(x),i(I).name,J):null;return{pieceName:J,pieceSlug:we,streaming:ne,isTestPiece:!1}})),$=M(()=>i(qe)?[{pieceName:i(qe).piece,pieceSlug:st(i(qe).piece),streaming:v(i(x),i(I).name,i(qe).piece),isTestPiece:!0}]:[]),U=M(()=>[...i($),...i(yt)]),ae=M(()=>i(U).filter(W=>u(W.streaming)));var ge=u_(),Xe=p(ge),ot=p(Xe),tt=T(Xe),mt=p(tt),Et=T(tt),Wt=p(Et);{var an=W=>{var J=t_();ze(J,21,()=>i(U),Ve,(we,ne)=>{var Oe=e_(),Ge=p(Oe);{var $e=me=>{var ut=Gp();m(me,ut)},ht=me=>{var ut=et(),wt=ke(ut);{var St=bt=>{var pt=Wp();m(bt,pt)};V(wt,bt=>{r()==="brass"&&h(i(x).division)&&bt(St)},!0)}m(me,ut)};V(Ge,me=>{i(ne).isTestPiece?me($e):me(ht,!1)})}var We=T(Ge,2);{var dt=me=>{var ut=Zp();let wt;var St=p(ut);X((bt,pt)=>{O(ut,"href",bt),wt=cn(ut,1,"entity-link svelte-urxxqj",null,wt,pt),B(St,i(ne).pieceName)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(ne).pieceSlug)}`,()=>({"test-piece-link":i(ne).isTestPiece})]),m(me,ut)},vt=me=>{var ut=et(),wt=ke(ut);{var St=pt=>{var sn=Qp(),En=p(sn);X(()=>B(En,i(ne).pieceName)),m(pt,sn)},bt=pt=>{var sn=Jp();m(pt,sn)};V(wt,pt=>{i(ne).pieceName?pt(St):pt(bt,!1)},!0)}m(me,ut)};V(We,me=>{i(ne).pieceSlug?me(dt):me(vt,!1)})}m(we,Oe)}),m(W,J)},Lt=W=>{var J=n_();m(W,J)};V(Wt,W=>{i(U).length>0?W(an):W(Lt,!1)})}var Zt=T(Et),xt=p(Zt),kt=T(Zt),nt=p(kt),Qt=T(kt),_n=p(Qt);{var Jt=W=>{var J=r_(),we=p(J);X(ne=>{O(J,"href",ne),B(we,i(Ie))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(i(je))}`]),m(W,J)},ee=W=>{var J=i_();m(W,J)};V(_n,W=>{i(Ae)?W(Jt):W(ee,!1)})}var G=T(Qt),oe=p(G);{var ue=W=>{var J=l_();ze(J,21,()=>i(ae),Ve,(we,ne)=>{const Oe=M(()=>i(ne).streaming);var Ge=o_(),$e=ke(Ge);{var ht=vt=>{var me=a_(),ut=p(me),wt=p(ut);X(St=>{O(me,"href",i(Oe).spotify),O(me,"title",St),B(wt,`Hør ${i(ne).pieceName??""} på Spotify`)},[()=>d(i(ne).pieceName,i(Oe),"spotify")]),m(vt,me)};V($e,vt=>{var me;(me=i(Oe))!=null&&me.spotify&&vt(ht)})}var We=T($e,2);{var dt=vt=>{const me=M(()=>f(i(Oe).apple_music));var ut=et(),wt=ke(ut);{var St=bt=>{var pt=s_(),sn=p(pt),En=p(sn);X(Fn=>{O(pt,"href",i(me)),O(pt,"title",Fn),B(En,`Hør ${i(ne).pieceName??""} på Apple Music`)},[()=>d(i(ne).pieceName,i(Oe),"apple")]),m(bt,pt)};V(wt,bt=>{i(me)&&bt(St)})}m(vt,ut)};V(We,vt=>{var me;(me=i(Oe))!=null&&me.apple_music&&vt(dt)})}m(we,Ge)}),m(W,J)},rt=W=>{var J=c_();m(W,J)};V(oe,W=>{i(ae).length>0?W(ue):W(rt,!1)})}X((W,J)=>{B(ot,i(x).year),B(mt,i(x).division),B(xt,W),B(nt,J)},[()=>c(i(x).rank),()=>l(i(x).points)]),m(pe,ge)}),X(()=>{B(ie,i(I).name),B(He,`${i(I).entries.length??""} fremføringer`),O(Ke,"aria-label",`Fremføringer av ${i(I).name}`)}),m(N,E)}),m(e,k),or()}var h_=A('<a class="entity-link svelte-7tq4ct"> </a>'),p_=A("<span> </span>"),__=A("<span>Ukjent</span>"),g_=A('<a class="entity-link svelte-7tq4ct"> </a>'),m_=A("<span> </span>"),y_=A("<span>Ukjent</span>"),w_=A('<li class="svelte-7tq4ct"><!></li>'),b_=A('<ul class="piece-list svelte-7tq4ct"></ul>'),x_=A("<span>Ukjent</span>"),k_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),S_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),N_=A("<!> <!>",1),M_=A('<div class="streaming-links svelte-7tq4ct"></div>'),E_=A('<span class="streaming-missing svelte-7tq4ct" aria-hidden="true">–</span>'),A_=A('<tr class="svelte-7tq4ct"><td data-label="År" class="svelte-7tq4ct"> </td><td data-label="Divisjon" class="division-cell svelte-7tq4ct"> </td><td data-label="Korps" class="svelte-7tq4ct"><!></td><td data-label="Stykke" class="piece-cell svelte-7tq4ct"><!></td><td data-label="Plass" class="svelte-7tq4ct"> </td><td data-label="Poeng" class="svelte-7tq4ct"> </td><td data-label="Opptak" class="streaming-cell svelte-7tq4ct"><!></td></tr>'),$_=A('<article class="conductor-card svelte-7tq4ct"><header class="conductor-header svelte-7tq4ct"><div><h2 class="svelte-7tq4ct"> </h2> <p class="conductor-count svelte-7tq4ct"> </p></div></header> <div class="table-wrapper svelte-7tq4ct" role="region"><table class="svelte-7tq4ct"><thead class="svelte-7tq4ct"><tr><th scope="col" class="svelte-7tq4ct">År</th><th scope="col" class="division-column svelte-7tq4ct">Divisjon</th><th scope="col" class="svelte-7tq4ct">Korps</th><th scope="col" class="svelte-7tq4ct">Stykke</th><th scope="col" class="svelte-7tq4ct">Plass</th><th scope="col" class="svelte-7tq4ct">Poeng</th><th scope="col" class="streaming-column svelte-7tq4ct">Opptak</th></tr></thead><tbody class="svelte-7tq4ct"></tbody></table></div></article>'),T_=A('<section class="conductor-performances svelte-7tq4ct"></section>');function I_(e,t){sr(t,!0);let n=Mt(t,"conductors",19,()=>[]),r=Mt(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(w){return[...w].sort((k,N)=>{const I=k.year-N.year;if(I!==0)return I;const E=k.rank??Number.POSITIVE_INFINITY,H=N.rank??Number.POSITIVE_INFINITY;if(E!==H)return E-H;const j=(k.band_name??"").toLowerCase(),K=(N.band_name??"").toLowerCase();return j!==K?j.localeCompare(K):(k.absolute_position??Number.POSITIVE_INFINITY)-(N.absolute_position??Number.POSITIVE_INFINITY)})}function o(w){return w==null?"–":a.format(w)}function l(w){return w!=null?`${w}`:"–"}function c(w){return!!(w!=null&&w.spotify||w!=null&&w.apple_music)}function u(w){if(!w)return null;const k=w.trim();if(!k)return null;if(!/^https?:\/\//i.test(k))return k;try{const N=new URL(k);return`music://${`${N.host}${N.pathname}${N.search}${N.hash}`}`}catch(N){return console.warn("Kunne ikke konvertere Apple Music-lenke",N),k}}function f(w,k,N){var K,ie;if(!k)return w;const I=(K=k.recording_title)==null?void 0:K.trim(),E=(ie=k.album)==null?void 0:ie.trim(),H=N==="spotify"?"Spotify":"Apple Music",j=I&&I.length>0?I:w;return E&&E.length>0?`${j} • ${E} (${H})`:`${j} (${H})`}function d(w,k,N){return t.streamingResolver?t.streamingResolver(w,k,N)??null:null}function v(w){const N=(w.entries??[]).flatMap(I=>(I.aggregate_entries&&Array.isArray(I.aggregate_entries)?I.aggregate_entries:[I]).map(H=>({...H,band_name:H.band_name??I.band_name??null})));return s(N)}let _=M(()=>n().map(w=>({...w,performances:v(w)})));var h=T_();ze(h,21,()=>i(_),Ve,(w,k)=>{var N=$_(),I=p(N),E=p(I),H=p(E),j=p(H),K=T(H,2),ie=p(K),xe=T(I,2),He=p(xe),Ke=T(p(He));ze(Ke,21,()=>i(k).performances,Ve,(Q,re)=>{const pe=M(()=>{var ee;return((ee=i(re).band_name)==null?void 0:ee.trim())??""}),x=M(()=>i(pe).length>0),_e=M(()=>i(x)?st(i(pe)):""),ce=M(()=>Array.isArray(i(re).pieces)?i(re).pieces:[]),qe=M(()=>i(ce).filter(ee=>ee&&ee.trim().length>0)),Ie=M(()=>i(qe).map(ee=>{const G=ee.trim(),oe=G?st(G):"",ue=i(x)&&G?d(i(re),i(pe),G):null;return{pieceName:G,pieceSlug:oe,streaming:ue}})),Ae=M(()=>i(Ie).filter(ee=>c(ee.streaming)));var je=A_(),yt=p(je),$=p(yt),U=T(yt),ae=p(U),ge=T(U),Xe=p(ge);{var ot=ee=>{var G=h_(),oe=p(G);X(ue=>{O(G,"href",ue),B(oe,i(pe))},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(i(_e))}`]),m(ee,G)},tt=ee=>{var G=et(),oe=ke(G);{var ue=W=>{var J=p_(),we=p(J);X(()=>B(we,i(pe))),m(W,J)},rt=W=>{var J=__();m(W,J)};V(oe,W=>{i(x)?W(ue):W(rt,!1)},!0)}m(ee,G)};V(Xe,ee=>{i(x)&&i(_e)?ee(ot):ee(tt,!1)})}var mt=T(ge),Et=p(mt);{var Wt=ee=>{var G=b_();ze(G,21,()=>i(Ie),Ve,(oe,ue)=>{var rt=w_(),W=p(rt);{var J=ne=>{var Oe=g_(),Ge=p(Oe);X($e=>{O(Oe,"href",$e),B(Ge,i(ue).pieceName)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(ue).pieceSlug)}`]),m(ne,Oe)},we=ne=>{var Oe=et(),Ge=ke(Oe);{var $e=We=>{var dt=m_(),vt=p(dt);X(()=>B(vt,i(ue).pieceName)),m(We,dt)},ht=We=>{var dt=y_();m(We,dt)};V(Ge,We=>{i(ue).pieceName?We($e):We(ht,!1)},!0)}m(ne,Oe)};V(W,ne=>{i(ue).pieceSlug?ne(J):ne(we,!1)})}m(oe,rt)}),m(ee,G)},an=ee=>{var G=x_();m(ee,G)};V(Et,ee=>{i(Ie).length>0?ee(Wt):ee(an,!1)})}var Lt=T(mt),Zt=p(Lt),xt=T(Lt),kt=p(xt),nt=T(xt),Qt=p(nt);{var _n=ee=>{var G=M_();ze(G,21,()=>i(Ae),Ve,(oe,ue)=>{const rt=M(()=>i(ue).streaming);var W=N_(),J=ke(W);{var we=Ge=>{var $e=k_(),ht=p($e),We=p(ht);X(dt=>{O($e,"href",i(rt).spotify),O($e,"title",dt),B(We,`Hør ${i(ue).pieceName??""} på Spotify`)},[()=>f(i(ue).pieceName,i(rt),"spotify")]),m(Ge,$e)};V(J,Ge=>{var $e;($e=i(rt))!=null&&$e.spotify&&Ge(we)})}var ne=T(J,2);{var Oe=Ge=>{const $e=M(()=>u(i(rt).apple_music));var ht=et(),We=ke(ht);{var dt=vt=>{var me=S_(),ut=p(me),wt=p(ut);X(St=>{O(me,"href",i($e)),O(me,"title",St),B(wt,`Hør ${i(ue).pieceName??""} på Apple Music`)},[()=>f(i(ue).pieceName,i(rt),"apple")]),m(vt,me)};V(We,vt=>{i($e)&&vt(dt)})}m(Ge,ht)};V(ne,Ge=>{var $e;($e=i(rt))!=null&&$e.apple_music&&Ge(Oe)})}m(oe,W)}),m(ee,G)},Jt=ee=>{var G=E_();m(ee,G)};V(Qt,ee=>{i(Ae).length>0?ee(_n):ee(Jt,!1)})}X((ee,G)=>{B($,i(re).year),B(ae,i(re).division),B(Zt,ee),B(kt,G)},[()=>l(i(re).rank),()=>o(i(re).points)]),m(Q,je)}),X(()=>{B(j,i(k).name),B(ie,`${i(k).performances.length??""} fremføringer`),O(xe,"aria-label",`Fremføringer av ${i(k).name}`)}),m(w,N)}),m(e,h),or()}function P_(e,t){const n=Number(e.target.value);z(t,Number.isNaN(n)?null:n,!0)}function C_(e,t){z(t,e.target.value||null,!0)}var R_=A('<p class="svelte-1e9ky18"> </p>'),q_=A('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),L_=A('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),F_=A("<option> </option>"),O_=A("<option selected>Ingen divisjoner</option>"),D_=A("<option> </option>"),B_=A('<span class="svelte-1e9ky18"> </span>'),z_=A('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),j_=A('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),Y_=A('<a class="entity-link svelte-1e9ky18"> </a>'),U_=A("<span>Ukjent</span>"),V_=A("<span>–</span>"),H_=A('<span class="test-piece-label svelte-1e9ky18" title="Pliktstykke (fredag)">P:</span>'),K_=A('<span class="own-choice-label svelte-1e9ky18" title="Selvvalgt (lørdag)">S:</span>'),X_=A('<div class="program-piece svelte-1e9ky18"><!> <a> </a></div>'),G_=A('<div class="program-list svelte-1e9ky18"></div>'),W_=A('<span class="streaming-missing" aria-hidden="true">–</span>'),Z_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),Q_=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),J_=A('<span class="streaming-links svelte-1e9ky18"><!> <!></span>'),eg=A('<span class="streaming-missing" aria-hidden="true">–</span>'),tg=A('<div class="streaming-piece-row"><!></div>'),ng=A('<div class="streaming-list"></div>'),rg=A('<tr class="svelte-1e9ky18"><td data-label="Plass" class="svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td><td data-label="Opptak" class="streaming-cell svelte-1e9ky18"><!></td></tr>'),ig=A('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th><th scope="col" class="streaming-column svelte-1e9ky18">Opptak</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),ag=A('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!>',1),sg=A('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2> <!></div> <!></section>');function og(e,t){sr(t,!0);let n=Mt(t,"dataset",3,null),r=Mt(t,"bandType",3,"wind"),a=Mt(t,"streamingResolver",3,void 0),s=Mt(t,"eliteTestPieces",3,null);const o=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let l=Te(null),c=Te(null),u=M(()=>n()?k(n()):new Map),f=M(()=>{var $,U;return((U=($=n())==null?void 0:$.metadata)==null?void 0:U.years)??[]}),d=M(()=>{var $,U;return((U=($=n())==null?void 0:$.metadata)==null?void 0:U.generated_at)??null}),v=M(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||i(l)==null||!i(u).has(i(l)))return[];const $=i(u).get(i(l))??new Map,U=n().metadata.divisions.filter(ge=>$.has(ge)),ae=Array.from($.keys()).filter(ge=>!U.includes(ge)).sort();return[...U,...ae]})()),_=M(()=>(()=>{if(i(l)!=null&&i(c)&&i(u).has(i(l))){const $=i(u).get(i(l)),U=(i(c)&&($==null?void 0:$.get(i(c))))??[];return E(U)}return[]})()),h=M(()=>(()=>{var $;if(i(_).length>0){const U=($=i(_)[0])==null?void 0:$.entry,ae=(U==null?void 0:U.division_size)??i(_).length;return ae&&ae>0?ae:null}return null})()),w=M(()=>(()=>{var $;if(i(_).length>0){const U=($=i(_)[0])==null?void 0:$.entry,ae=(U==null?void 0:U.field_size)??null;return ae&&ae>0?ae:null}return null})());function k($){const U=new Map;if(!($!=null&&$.bands)||!Array.isArray($.bands))return U;for(const ae of $.bands)if(!(!ae||!ae.entries||!Array.isArray(ae.entries)))for(const ge of ae.entries){if(!ge||typeof ge.year!="number"||!ge.division)continue;let Xe=U.get(ge.year);Xe||(Xe=new Map,U.set(ge.year,Xe));const ot=ge.division;let tt=Xe.get(ot);tt||(tt=[],Xe.set(ot,tt)),tt.push({band:ae.name,entry:ge})}return U}function N($){return $.length?i(l)&&$.includes(i(l))?i(l):$[$.length-1]??null:null}function I($){return $.length?i(c)&&$.includes(i(c))?i(c):$[0]??null:null}function E($){return[...$].sort((U,ae)=>{const ge=U.entry.rank??Number.POSITIVE_INFINITY,Xe=ae.entry.rank??Number.POSITIVE_INFINITY;if(ge!==Xe)return ge-Xe;const ot=U.entry.absolute_position??Number.POSITIVE_INFINITY,tt=ae.entry.absolute_position??Number.POSITIVE_INFINITY;return ot!==tt?ot-tt:U.band.localeCompare(ae.band)})}function H($){return $!=null?`${$}`:"–"}function j($,U){if($==null&&U==null)return"–";const ae=$==null?"–":o.format($);return U==null,ae}function K($){return $.map(U=>U.trim()).filter(Boolean)}function ie($,U,ae){if(typeof a()!="function")return null;try{return a()($,U,ae)??null}catch(ge){return console.error("Kunne ikke hente streaming-lenke",ge),null}}function xe($){return!!($!=null&&$.spotify||$!=null&&$.apple_music)}function He($){if(!$)return null;const U=$.trim();if(!U)return null;if(!/^https?:\/\//i.test(U))return U;try{const ae=new URL(U);return`music://${`${ae.host}${ae.pathname}${ae.search}${ae.hash}`}`}catch(ae){return console.warn("Kunne ikke konvertere Apple Music-lenke",ae),U}}function Ke($,U,ae){var mt,Et;if(!U)return $;const ge=(mt=U.recording_title)==null?void 0:mt.trim(),Xe=(Et=U.album)==null?void 0:Et.trim(),ot=ae==="spotify"?"Spotify":"Apple Music",tt=ge&&ge.length>0?ge:$;return Xe&&Xe.length>0?`${tt} • ${Xe} (${ot})`:`${tt} (${ot})`}function Q($){if(!$)return null;const U=new Date($);return Number.isNaN(U.getTime())?$:new Intl.DateTimeFormat("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(U)}function re($){var ge,Xe;const U=String($),ae=(Xe=(ge=s())==null?void 0:ge.test_pieces)==null?void 0:Xe[U];return ae?{composer:ae.composer,piece:ae.piece}:null}function pe($){return($||"").toLowerCase()==="elite"}_i(()=>{if(n()&&i(f)&&Array.isArray(i(f))&&i(f).length>0){const $=N(i(f));i(l)!==$&&z(l,$,!0)}else z(l,null),z(c,null)}),_i(()=>{if(i(l)!=null&&i(v)&&Array.isArray(i(v))&&i(v).length>0){const $=I(i(v));i(c)!==$&&z(c,$,!0)}else i(l)!=null&&z(c,null)});let x=M(()=>Q(i(d)));var _e=sg(),ce=p(_e),qe=T(p(ce),2);{var Ie=$=>{var U=R_(),ae=p(U);X(()=>B(ae,`Data oppdatert ${i(x)??""}`)),m($,U)};V(qe,$=>{i(x)&&$(Ie)})}var Ae=T(ce,2);{var je=$=>{var U=q_();m($,U)},yt=$=>{var U=et(),ae=ke(U);{var ge=ot=>{var tt=L_();m(ot,tt)},Xe=ot=>{var tt=ag(),mt=ke(tt),Et=p(mt),Wt=T(p(Et),2);Wt.__change=[P_,l],ze(Wt,21,()=>i(f)||[],Ve,(G,oe)=>{var ue=F_(),rt=p(ue),W={};X(()=>{Js(ue,i(l)===i(oe)),B(rt,i(oe)),W!==(W=i(oe))&&(ue.value=(ue.__value=i(oe))??"")}),m(G,ue)});var an=T(Et,2),Lt=T(p(an),2);Lt.__change=[C_,c];var Zt=p(Lt);{var xt=G=>{var oe=O_();oe.value=oe.__value="",m(G,oe)},kt=G=>{var oe=et(),ue=ke(oe);ze(ue,17,()=>i(v),Ve,(rt,W)=>{var J=D_(),we=p(J),ne={};X(()=>{Js(J,i(c)===i(W)),B(we,i(W)),ne!==(ne=i(W))&&(J.value=(J.__value=i(W))??"")}),m(rt,J)}),m(G,oe)};V(Zt,G=>{!i(v)||i(v).length===0?G(xt):G(kt,!1)})}var nt=T(an,2);{var Qt=G=>{var oe=z_(),ue=p(oe),rt=p(ue),W=T(ue,2);{var J=we=>{var ne=B_(),Oe=p(ne);X(()=>B(Oe,`Totalt felt: ${i(w)??""}`)),m(we,ne)};V(W,we=>{i(w)&&we(J)})}X(()=>B(rt,`${i(h)??""} korps`)),m(G,oe)};V(nt,G=>{i(h)&&G(Qt)})}var _n=T(mt,2);{var Jt=G=>{var oe=j_();m(G,oe)},ee=G=>{var oe=ig(),ue=p(oe),rt=T(p(ue));ze(rt,21,()=>i(_),Ve,(W,J)=>{let we=()=>i(J).band,ne=()=>i(J).entry;var Oe=rg(),Ge=p(Oe),$e=p(Ge),ht=T(Ge),We=p(ht),dt=p(We),vt=T(ht),me=p(vt);{var ut=_t=>{var it=Y_(),Pt=p(it);X((on,y)=>{O(it,"href",on),B(Pt,y)},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(st(ne().conductor))}`,()=>ne().conductor.trim()]),m(_t,it)},wt=_t=>{var it=U_();m(_t,it)};V(me,_t=>{ne().conductor&&ne().conductor.trim().length>0?_t(ut):_t(wt,!1)})}var St=T(vt),bt=p(St),pt=T(St),sn=p(pt);{var En=_t=>{const it=M(()=>r()==="brass"&&pe(ne().division)?re(ne().year):null),Pt=M(()=>K(ne().pieces)),on=M(()=>i(it)?[{name:i(it).piece,isTestPiece:!0},...i(Pt).map(F=>({name:F,isTestPiece:!1}))]:i(Pt).map(F=>({name:F,isTestPiece:!1})));var y=et(),b=ke(y);{var R=F=>{var P=V_();m(F,P)},Y=F=>{var P=G_();ze(P,21,()=>i(on),Ve,(ye,fe)=>{const he=M(()=>i(fe).name);var Le=X_(),ft=p(Le);{var Ze=Pe=>{var Ye=H_();m(Pe,Ye)},Me=Pe=>{var Ye=et(),Ce=ke(Ye);{var Fe=Ue=>{var lt=K_();m(Ue,lt)};V(Ce,Ue=>{r()==="brass"&&pe(ne().division)&&Ue(Fe)},!0)}m(Pe,Ye)};V(ft,Pe=>{i(fe).isTestPiece?Pe(Ze):Pe(Me,!1)})}var at=T(ft,2);let De;var gt=p(at);X((Pe,Ye)=>{O(at,"href",Pe),De=cn(at,1,"program-link svelte-1e9ky18",null,De,Ye),B(gt,i(he))},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(st(i(he)))}`,()=>({"test-piece-link":i(fe).isTestPiece})]),m(ye,Le)}),m(F,P)};V(b,F=>{i(on).length===0?F(R):F(Y,!1)})}m(_t,y)};V(sn,_t=>{_t(En)})}var Fn=T(pt),lr=p(Fn);{var An=_t=>{const it=M(()=>r()==="brass"&&pe(ne().division)?re(ne().year):null),Pt=M(()=>K(ne().pieces)),on=M(()=>i(it)?[{name:i(it).piece,isTestPiece:!0},...i(Pt).map(F=>({name:F,isTestPiece:!1}))]:i(Pt).map(F=>({name:F,isTestPiece:!1})));var y=et(),b=ke(y);{var R=F=>{var P=W_();m(F,P)},Y=F=>{var P=ng();ze(P,21,()=>i(on),Ve,(ye,fe)=>{const he=M(()=>i(fe).name),Le=M(()=>ie(ne(),we(),i(he)));var ft=tg(),Ze=p(ft);{var Me=De=>{var gt=J_(),Pe=p(gt);{var Ye=Ue=>{var lt=Z_(),en=p(lt),At=p(en);X(le=>{O(lt,"href",i(Le).spotify),O(lt,"title",le),B(At,`Hør ${i(he)??""} på Spotify`)},[()=>Ke(i(he),i(Le),"spotify")]),m(Ue,lt)};V(Pe,Ue=>{var lt;(lt=i(Le))!=null&&lt.spotify&&Ue(Ye)})}var Ce=T(Pe,2);{var Fe=Ue=>{const lt=M(()=>He(i(Le).apple_music));var en=et(),At=ke(en);{var le=Qe=>{var Nt=Q_(),$n=p(Nt),ei=p($n);X(cr=>{O(Nt,"href",i(lt)),O(Nt,"title",cr),B(ei,`Hør ${i(he)??""} på Apple Music`)},[()=>Ke(i(he),i(Le),"apple")]),m(Qe,Nt)};V(At,Qe=>{i(lt)&&Qe(le)})}m(Ue,en)};V(Ce,Ue=>{var lt;(lt=i(Le))!=null&&lt.apple_music&&Ue(Fe)})}m(De,gt)},at=De=>{var gt=eg();m(De,gt)};V(Ze,De=>{xe(i(Le))?De(Me):De(at,!1)})}m(ye,ft)}),m(F,P)};V(b,F=>{i(on).length===0?F(R):F(Y,!1)})}m(_t,y)};V(lr,_t=>{_t(An)})}X((_t,it,Pt)=>{B($e,_t),O(We,"href",it),B(dt,we()),B(bt,Pt)},[()=>H(ne().rank),()=>`?type=${r()}&view=bands&band=${encodeURIComponent(st(we()))}`,()=>j(ne().points,ne().max_points)]),m(W,Oe)}),m(G,oe)};V(_n,G=>{!i(_)||i(_).length===0?G(Jt):G(ee,!1)})}m(ot,tt)};V(ae,ot=>{!i(f)||!i(f).length?ot(ge):ot(Xe,!1)},!0)}m($,U)};V(Ae,$=>{n()?$(yt,!1):$(je)})}m(e,_e),or()}vl(["change"]);function Jl(e){return e.replace(/\s+/g," ").trim()}const lg=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function cg(e){return e.replace(lg,"").trim()}function di(e){if(!e)return[];const t=cg(e);if(!t)return[];const r=t.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/·]/g,",").split(/[;,]/).map(s=>Jl(s)).filter(s=>s.length>0),a=new Map;for(const s of r){const o=s.toLowerCase();a.has(o)||a.set(o,s)}return Array.from(a.values())}var ug=A('<a class="composer-link svelte-18hgr5c"> </a> ',1),fg=A('<p class="piece-composer svelte-18hgr5c"></p>'),dg=A('<p class="piece-composer svelte-18hgr5c"> </p>'),vg=A('<a class="entity-link svelte-18hgr5c"> </a>'),hg=A("<span>Ukjent</span>"),pg=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Spotify</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),_g=A('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Apple Music</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),gg=A('<div class="streaming-links svelte-18hgr5c"><!> <!></div>'),mg=A('<span class="streaming-missing svelte-18hgr5c" aria-hidden="true">–</span>'),yg=A('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td><td data-label="Opptak" class="streaming-cell svelte-18hgr5c"><!></td></tr>'),wg=A('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="svelte-18hgr5c">År</th><th scope="col" class="svelte-18hgr5c">Divisjon</th><th scope="col" class="svelte-18hgr5c">Korps</th><th scope="col" class="svelte-18hgr5c">Plass</th><th scope="col" class="svelte-18hgr5c">Poeng</th><th scope="col" class="svelte-18hgr5c">Dirigent</th><th scope="col" class="streaming-column svelte-18hgr5c">Opptak</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),bg=A('<section class="pieces-view svelte-18hgr5c"></section>');function xg(e,t){sr(t,!0);let n=Mt(t,"pieces",19,()=>[]),r=Mt(t,"bandType",3,"wind");const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(h){return[...h].sort((w,k)=>{const N=w.entry.year-k.entry.year;if(N!==0)return N;const I=w.entry.rank??Number.POSITIVE_INFINITY,E=k.entry.rank??Number.POSITIVE_INFINITY;return I!==E?I-E:w.band.localeCompare(k.band)})}function o(h){return h.composerNames&&h.composerNames.length>0?h.composerNames:h.composer?di(h.composer):[]}function l(h){return h==null?"–":a.format(h)}function c(h){return h!=null?`${h}`:"–"}function u(h){return!!(h!=null&&h.spotify||h!=null&&h.apple_music)}function f(h){if(!h)return null;const w=h.trim();if(!w)return null;if(!/^https?:\/\//i.test(w))return w;try{const k=new URL(w);return`music://${`${k.host}${k.pathname}${k.search}${k.hash}`}`}catch(k){return console.warn("Kunne ikke konvertere Apple Music-lenke",k),w}}function d(h,w,k){var j,K;if(!w)return h;const N=(j=w.recording_title)==null?void 0:j.trim(),I=(K=w.album)==null?void 0:K.trim(),E=k==="spotify"?"Spotify":"Apple Music",H=N&&N.length>0?N:h;return I&&I.length>0?`${H} • ${I} (${E})`:`${H} (${E})`}let v=M(()=>n().map(h=>({...h,performances:s(h.performances)})));var _=bg();ze(_,21,()=>i(v),Ve,(h,w)=>{const k=M(()=>o(i(w)));var N=wg(),I=p(N),E=p(I),H=p(E),j=p(H),K=T(H,2);{var ie=x=>{var _e=fg();ze(_e,21,()=>i(k),Ve,(ce,qe,Ie)=>{var Ae=ug(),je=ke(Ae),yt=p(je),$=T(je,1,!0);X(U=>{O(je,"href",U),B(yt,i(qe)),B($,Ie<i(k).length-1?", ":"")},[()=>`?type=${r()}&view=composers&composer=${encodeURIComponent(st(i(qe)))}`]),m(ce,Ae)}),m(x,_e)},xe=x=>{var _e=et(),ce=ke(_e);{var qe=Ie=>{var Ae=dg(),je=p(Ae);X(()=>B(je,i(w).composer)),m(Ie,Ae)};V(ce,Ie=>{i(w).composer&&Ie(qe)},!0)}m(x,_e)};V(K,x=>{i(k).length>0?x(ie):x(xe,!1)})}var He=T(K,2),Ke=p(He),Q=T(I,2),re=p(Q),pe=T(p(re));ze(pe,21,()=>i(w).performances,Ve,(x,_e)=>{const ce=M(()=>{var ee;return((ee=i(_e).entry.conductor)==null?void 0:ee.trim())??""}),qe=M(()=>i(ce).length>0),Ie=M(()=>i(qe)?st(i(ce)):""),Ae=M(()=>st(i(_e).band)),je=M(()=>i(_e).streaming??null);var yt=yg(),$=p(yt),U=p($),ae=T($),ge=p(ae),Xe=T(ae),ot=p(Xe),tt=p(ot),mt=T(Xe),Et=p(mt),Wt=T(mt),an=p(Wt),Lt=T(Wt),Zt=p(Lt);{var xt=ee=>{var G=vg(),oe=p(G);X(ue=>{O(G,"href",ue),B(oe,i(ce))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(i(Ie))}`]),m(ee,G)},kt=ee=>{var G=hg();m(ee,G)};V(Zt,ee=>{i(qe)?ee(xt):ee(kt,!1)})}var nt=T(Lt),Qt=p(nt);{var _n=ee=>{var G=gg(),oe=p(G);{var ue=J=>{var we=pg();X(ne=>{O(we,"href",i(je).spotify),O(we,"title",ne)},[()=>d(i(w).name,i(je),"spotify")]),m(J,we)};V(oe,J=>{var we;(we=i(je))!=null&&we.spotify&&J(ue)})}var rt=T(oe,2);{var W=J=>{const we=M(()=>f(i(je).apple_music));var ne=et(),Oe=ke(ne);{var Ge=$e=>{var ht=_g();X(We=>{O(ht,"href",i(we)),O(ht,"title",We)},[()=>d(i(w).name,i(je),"apple")]),m($e,ht)};V(Oe,$e=>{i(we)&&$e(Ge)})}m(J,ne)};V(rt,J=>{var we;(we=i(je))!=null&&we.apple_music&&J(W)})}m(ee,G)},Jt=ee=>{var G=mg();m(ee,G)};V(Qt,ee=>{u(i(je))?ee(_n):ee(Jt,!1)})}X((ee,G,oe)=>{B(U,i(_e).entry.year),B(ge,i(_e).entry.division),O(ot,"href",ee),B(tt,i(_e).band),B(Et,G),B(an,oe)},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(i(Ae))}`,()=>c(i(_e).entry.rank),()=>l(i(_e).entry.points)]),m(x,yt)}),X(()=>{B(j,i(w).name),B(Ke,`${i(w).performances.length??""} fremføringer`),O(Q,"aria-label",`Fremføringer av ${i(w).name}`)}),m(h,N)}),m(e,_),or()}var kg=A('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),Sg=A('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),Ng=A('<section class="composers-view svelte-1njzana"></section>');function Mg(e,t){sr(t,!0);let n=Mt(t,"composers",19,()=>[]),r=Mt(t,"bandType",3,"wind"),a=M(()=>[...n()].sort((o,l)=>o.name.localeCompare(l.name)));var s=Ng();ze(s,21,()=>i(a),Ve,(o,l)=>{var c=Sg(),u=p(c),f=p(u),d=p(f),v=p(d),_=T(d,2),h=p(_),w=T(u,2);ze(w,21,()=>i(l).pieces,Ve,(k,N)=>{var I=kg(),E=p(I),H=p(E);X(j=>{O(E,"href",j),B(H,i(N).name)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(i(N).slug)}`]),m(k,I)}),X(()=>{B(v,i(l).name),B(h,`${i(l).pieces.length??""} ${i(l).pieces.length===1?"stykke":"stykker"}`)}),m(o,c)}),m(e,s),or()}function Eg(e,t){z(t,!i(t))}function Ag(e,t){z(t,!i(t))}function $g(e,t,n,r,a,s){t(i(n)==="dark"?"light":"dark"),r(),a(),s()}function Tg(e,t,n,r,a,s){t(i(n)==="wind"?"brass":"wind"),r(),a(),s()}function Ig(e,t,n){z(t,e.target.value,!0),z(n,-1)}function Pg(e,t,n,r){i(t).length&&(e.key==="ArrowDown"?(e.preventDefault(),z(n,(i(n)+1)%i(t).length)):e.key==="ArrowUp"?(e.preventDefault(),z(n,(i(n)-1+i(t).length)%i(t).length)):e.key==="Enter"&&i(n)>=0&&(e.preventDefault(),r(i(t)[i(n)])))}var Cg=(e,t,n)=>t(i(n)),Rg=A('<button type="button"> </button>'),qg=A('<div role="option" tabindex="-1"> </div>'),Lg=A('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),Fg=A('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!>',1),Og=A('<section class="status svelte-1n46o8q">Laster data…</section>'),Dg=A('<section class="status error svelte-1n46o8q"> </section>'),Bg=A('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),zg=(e,t)=>t("absolute"),jg=(e,t)=>t("relative"),Yg=(e,t)=>t("fitted"),Ug=(e,t)=>t("full"),Vg=(e,t)=>t("absolute"),Hg=(e,t)=>t("relative"),Kg=A('<div class="mode-toggle__menu svelte-1n46o8q" id="mode-toggle-menu" role="menu"><button type="button">Absolutt</button> <button type="button">Relativ</button></div>'),Xg=A('<p class="comparison-summary svelte-1n46o8q"> </p>'),Gg=A('<section class="chart-card svelte-1n46o8q"><div class="mode-toggles-container svelte-1n46o8q"><div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Plassering:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg plasseringsvisning"><button type="button">Absolutt</button> <button type="button">Relativ</button></div></div> <div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Y-akse:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg y-akse skalering"><button type="button">Tilpasset</button> <button type="button">Full</button></div></div> <button type="button" class="mode-toggle__menu-trigger svelte-1n46o8q" aria-controls="mode-toggle-menu">Tilpass</button> <!></div> <div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),Wg=(e,t,n)=>t(i(n).slug),Zg=A('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),Qg=A('<!> <div class="selected-entities selected-entities--below svelte-1n46o8q" role="list"></div> <!>',1),Jg=A('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),e0=A('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><div class="page-header__title svelte-1n46o8q"><h1 class="svelte-1n46o8q"> </h1> <button class="menu-toggle svelte-1n46o8q" type="button" aria-controls="primary-controls"><span class="menu-toggle__icon svelte-1n46o8q" aria-hidden="true">☰</span> <span class="menu-toggle__text svelte-1n46o8q">Meny</span></button></div> <div id="primary-controls"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button class="band-type-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="band-type-toggle__text svelte-1n46o8q"> </span></button> <button class="theme-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="theme-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function t0(e,t){sr(t,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},r="mode",a="view",s="type",o=",",l="relative",c="bands",u="wind",f="nmkorps-theme",d="nmkorps-band-type",v={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat"},_=["bands","conductors","pieces","composers","data"];let h=Te(null),w=Te(Vt([])),k=Te(Vt([])),N=Te(Vt([])),I=Te(!0),E=Te(null),H=Te(""),j=Te(Vt([])),K=Te(Vt([])),ie=Te(Vt([])),xe=Te(Vt([])),He=Te(-1),Ke=!1,Q="",re=Te(l),pe=Te("fitted"),x=Te(c),_e=Te("dark"),ce=Te("wind"),qe=Te(!1),Ie=Te(!1),Ae=Te(!1),je=new Map,yt=new Map,$=Te(null);function U(g){const S=new Map;for(const q of g){if(!q||!q.slug)continue;const L=q.slug.trim();if(!L)continue;const C=S.get(L);C?C.push(q):S.set(L,[q])}return S}function ae(g){var q,L;const S=new Map;for(const C of g){if(!C)continue;const se=Number(C.year);if(!Number.isFinite(se))continue;const Z=C.division_slug??C.division,te=C.band_slug??C.band,de=C.result_piece_slug??C.result_piece;if(!Z||!te||!de)continue;const Se=st(Z),be=st(te);if(Se==="uidentifisert"||!be||be==="uidentifisert")continue;const Je=new Set,Ee=st(de);if(Ee!=="uidentifisert"&&Je.add(Ee),C.alternate_result_piece_slugs&&Array.isArray(C.alternate_result_piece_slugs))for(const Yt of C.alternate_result_piece_slugs){const Dn=Yt?st(Yt):"";Dn&&Dn!=="uidentifisert"&&Je.add(Dn)}if(C.result_piece&&C.result_piece.trim()){const Yt=st(C.result_piece);Yt!=="uidentifisert"&&Je.add(Yt)}if(!Je.size)continue;const Ct=typeof C.spotify=="string"&&C.spotify.trim().length>0?C.spotify.trim():null,Tt=typeof C.apple_music=="string"&&C.apple_music.trim().length>0?C.apple_music.trim():null;if(!Ct&&!Tt)continue;const Rt={spotify:Ct,apple_music:Tt,album:((q=C.album)==null?void 0:q.trim())??null,recording_title:((L=C.recording_title)==null?void 0:L.trim())??null};for(const Yt of Je){const Dn=`${se}|${Se}|${be}|${Yt}`;S.set(Dn,Rt)}}return S}function ge(g,S,q){if(!yt.size)return null;const L=st(g.division),C=st(S);if(L==="uidentifisert"||!C||C==="uidentifisert")return null;const se=`${g.year}|${L}|${C}`;let Z=Et(q);if(!Z.length){const te=st(q);Z=te!=="uidentifisert"?[te]:[]}for(const te of Z){const de=`${se}|${te}`,Se=yt.get(de);if(Se)return Se}return null}const Xe=/["'«»“”„‟]/g,ot=/\([^)]*\)/g;function tt(g){return g.replace(ot," ")}function mt(g){return g.replace(Xe,"").replace(/\s+/g," ").trim().toLowerCase()}function Et(g){const S=g.trim();if(!S)return[];const q=new Set,L=st(S);L!=="uidentifisert"&&q.add(L);const C=tt(S),se=st(C);se!=="uidentifisert"&&q.add(se);const Z=mt(S),te=st(Z.replace(/[-–—]/g," "));te!=="uidentifisert"&&q.add(te);const de=st(Z.replace(/[:;·]/g," "));de!=="uidentifisert"&&q.add(de);const Se=[];C.includes("-")&&Se.push(C.split(/[-–—]/)[0]),C.includes(":")&&Se.push(C.split(":")[0]);for(const be of Se){const Je=st(be);Je!=="uidentifisert"&&q.add(Je)}return Array.from(q)}function Wt(g,S){const q=Et(g);if(!q.length)return null;const L=mt(g),C=mt(tt(g));for(const se of q){const Z=S.get(se);if(!Z||Z.length===0)continue;if(Z.length===1)return Z[0].composer??null;const te=Z.find(Se=>mt(Se.title)===L);if(te)return te.composer??null;const de=Z.find(Se=>mt(tt(Se.title))===C);return de?de.composer??null:Z[0].composer??null}return null}function an(g,S){const q=Array.isArray(g.pieces)?[...g.pieces]:g.pieces!=null?[`${g.pieces}`.trim()].filter(Boolean):[],L={...g,pieces:q,conductor:g.conductor};return S&&(L.band_name=S),L}function Lt(g){var q;const S=new Map;for(const L of g)for(const C of L.entries){const se=(q=C.conductor)==null?void 0:q.trim();if(!se)continue;const Z=st(se);let te=S.get(Z);te||(te={name:se,slug:Z,years:new Map},S.set(Z,te));let de=te.years.get(C.year);de||(de={entries:[]},te.years.set(C.year,de)),de.entries.push(an(C,L.name))}return Array.from(S.values()).map(L=>({name:L.name,slug:L.slug,entries:Array.from(L.years.entries()).map(([C,se])=>{const Z=[...se.entries].sort((de,Se)=>{const be=de.absolute_position??Number.POSITIVE_INFINITY,Je=Se.absolute_position??Number.POSITIVE_INFINITY;return be!==Je?be-Je:(de.rank??Number.POSITIVE_INFINITY)-(Se.rank??Number.POSITIVE_INFINITY)});return{...Z[0],year:C,conductor:L.name,aggregate_entries:Z}}).sort((C,se)=>C.year-se.year)})).sort((L,C)=>L.name.localeCompare(C.name))}function Zt(g,S,q){if(!(q!=null&&q.test_pieces))return;const L=new Map;for(const C of S)for(const se of C.entries)L.has(se.year)||L.set(se.year,[]),L.get(se.year).push({band:C.name,entry:se});for(const[C,se]of Object.entries(q.test_pieces)){const Z=Number(C);if(!L.has(Z))continue;const te=se.piece,de=se.composer,Se=st(te),Je=L.get(Z).filter(({entry:Ct})=>Ct.division.toLowerCase()==="elite");if(Je.length===0)continue;let Ee=g.get(Se);if(Ee)!Ee.composer&&de&&(Ee.composer=de,Ee.composerNames=di(de));else{const Ct=de?di(de):[];Ee={name:te,slug:Se,composer:de??null,composerNames:Ct,performances:[]},g.set(Se,Ee)}for(const{band:Ct,entry:Tt}of Je){const Rt=ge(Tt,Ct,te);Ee.performances.push({band:Ct,entry:Tt,streaming:Rt})}}}function xt(g,S,q,L){var se;const C=new Map;for(const Z of g)for(const te of Z.entries){const de=Array.isArray(te.pieces)?te.pieces:te.pieces!=null?[`${te.pieces}`]:[];for(const Se of de){const be=Se.trim();if(!be)continue;const Je=st(be);let Ee=C.get(Je);const Ct=Wt(be,S),Tt=Ct?di(Ct):[],Rt=Tt.length>0?Tt.join(", "):null;Ee?(!Ee.composer||!((se=Ee.composerNames)!=null&&se.length))&&Rt&&(Ee.composer=Rt,Ee.composerNames=Tt):(Ee={name:be,slug:Je,composer:Rt,composerNames:Tt,performances:[]},C.set(Je,Ee));const Yt=ge(te,Z.name,be);Ee.performances.push({band:Z.name,entry:te,streaming:Yt})}}return L==="brass"&&Zt(C,g,q),Array.from(C.values()).map(Z=>({...Z,performances:Z.performances.map(({band:te,entry:de,streaming:Se})=>({band:te,entry:{...de,pieces:[...de.pieces]},streaming:Se??null}))})).sort((Z,te)=>Z.name.localeCompare(te.name))}function kt(g){const S=new Map;for(const L of g){const C=L.composerNames&&L.composerNames.length>0?L.composerNames:di(L.composer??null);if(C.length)for(const se of C){const Z=Jl(se);if(!Z)continue;const te=st(Z);if(te==="uidentifisert")continue;let de=S.get(te);de||(de={name:Z,slug:te,normalized:Z.toLowerCase(),pieces:new Map},S.set(te,de)),de.pieces.has(L.slug)||de.pieces.set(L.slug,{name:L.name,slug:L.slug})}}const q=Array.from(S.values()).map(L=>({name:L.name,slug:L.slug,normalized:L.normalized,pieces:Array.from(L.pieces.values()).sort((C,se)=>C.name.localeCompare(se.name))})).sort((L,C)=>L.name.localeCompare(C.name));return new Map(q.map(L=>[L.slug,L])),q}function nt(g){return g==="data"?"data":n[g]}function Qt(){if(typeof window>"u")return l;const S=new URLSearchParams(window.location.search).get(r);return(S?S.toLowerCase():null)==="absolute"?"absolute":"relative"}function _n(){var S;if(typeof window>"u")return"dark";try{const q=window.localStorage.getItem(f);if(q==="light"||q==="dark")return q}catch(q){console.error("Kunne ikke lese lagret tema",q)}return((S=window.matchMedia)==null?void 0:S.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function Jt(g){typeof document>"u"||(g==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function ee(){var q;if(typeof window>"u")return u;const S=(q=new URLSearchParams(window.location.search).get(s))==null?void 0:q.toLowerCase();return S==="brass"||S==="brassband"?"brass":S==="wind"||S==="janitsjar"?"wind":u}function G(){var q;if(typeof window>"u")return u;const S=(q=new URLSearchParams(window.location.search).get(s))==null?void 0:q.toLowerCase();if(S==="brass"||S==="brassband")return"brass";if(S==="wind"||S==="janitsjar")return"wind";try{const L=window.localStorage.getItem(d);if(L==="wind"||L==="brass")return L}catch(L){console.error("Kunne ikke lese lagret korptype",L)}return u}function oe(g){typeof document>"u"||(document.documentElement.dataset.bandType=g)}function ue(g){if(z(_e,g,!0),Jt(g),typeof window<"u")try{window.localStorage.setItem(f,g)}catch(S){console.error("Kunne ikke lagre tema",S)}}function rt(g,S=!0){if(i(ce)!==g){if(z(ce,g,!0),oe(g),typeof window<"u")try{window.localStorage.setItem(d,g)}catch(q){console.error("Kunne ikke lagre korptype",q)}if(z(j,[],!0),z(K,[],!0),z(ie,[],!0),z(xe,[],!0),z(H,""),z(He,-1),S&&typeof window<"u"){const q=new URLSearchParams;q.set(s,g);const L=`${window.location.pathname}?${q.toString()}${window.location.hash}`;window.history.replaceState({},"",L)}z(I,!0),z(E,null),z(h,null),z(w,[],!0),z(k,[],!0),z(N,[],!0),yt=new Map,En(g)}}function W(){z(qe,!1)}function J(){z(Ie,!1)}function we(){z(Ae,!1)}function ne(){var q;if(typeof window>"u")return c;const S=(q=new URLSearchParams(window.location.search).get(a))==null?void 0:q.toLowerCase();return S?S==="conductors"||S==="dirigent"||S==="conductor"?"conductors":S==="pieces"||S==="piece"||S==="stykke"||S==="stykker"?"pieces":S==="composers"||S==="komponist"||S==="composer"?"composers":S==="data"||S==="resultat"||S==="results"?"data":"bands":c}function Oe(g){if(typeof window>"u")return[];const q=new URLSearchParams(window.location.search).get(nt(g));return q?q.split(o).map(L=>decodeURIComponent(L.trim())).filter(Boolean):[]}function Ge(g,S){if(!g.length||!S.length)return[];const q=new Map(g.map(L=>[L.slug,L]));return S.map(L=>q.get(L)??q.get(L.toLowerCase())).filter(L=>!!L)}function $e(g,S){return g.length!==S.length?!1:g.every((q,L)=>q.slug===S[L].slug)}function ht(){if(typeof window>"u")return;const g=new URLSearchParams(window.location.search);g.set(s,i(ce));const S=i(j).map(te=>encodeURIComponent(te.slug)).join(o);S.length?g.set(nt("bands"),S):g.delete(nt("bands"));const q=i(K).map(te=>encodeURIComponent(te.slug)).join(o);q.length?g.set(nt("conductors"),q):g.delete(nt("conductors"));const L=i(ie).map(te=>encodeURIComponent(te.slug)).join(o);L.length?g.set(nt("pieces"),L):g.delete(nt("pieces"));const C=i(xe).map(te=>encodeURIComponent(te.slug)).join(o);C.length?g.set(nt("composers"),C):g.delete(nt("composers")),g.set(r,i(re)),g.set(a,i(x));const se=g.toString(),Z=`${window.location.pathname}${se?`?${se}`:""}${window.location.hash}`;window.history.replaceState({},"",Z)}function We({updateHistory:g=!1}={}){const S=Qt(),q=ne(),L=ee();let C=!1;if(L!==i(ce))return rt(L,!1),C=!0,C;if(S!==i(re)&&(z(re,S,!0),C=!0),q!==i(x)&&(z(x,q,!0),C=!0),!i(h))return g&&ht(),C;const se=Ge(i(h).bands,Oe("bands"));$e(i(j),se)||(z(j,se,!0),C=!0),i(w).length||z(w,Lt(i(h).bands),!0);const Z=Ge(i(w),Oe("conductors"));$e(i(K),Z)||(z(K,Z,!0),C=!0),i(k).length||(z(k,xt(i(h).bands,je,i($),i(ce)),!0),z(N,kt(i(k)),!0));const te=Ge(i(k),Oe("pieces"));$e(i(ie),te)||(z(ie,te,!0),C=!0),i(N).length||z(N,kt(i(k)),!0);const de=Ge(i(N),Oe("composers"));return $e(i(xe),de)||(z(xe,de,!0),C=!0),g&&ht(),C}function dt(){const g=i(j).map(C=>C.slug).join(o),S=i(K).map(C=>C.slug).join(o),q=i(ie).map(C=>C.slug).join(o),L=i(xe).map(C=>C.slug).join(o);return`${i(ce)}|${i(x)}|${i(re)}|${g}|${S}|${q}|${L}`}function vt(){if(!Ke)return;const g=dt();g!==Q&&(ht(),Q=g)}function me(g){if(i(x)==="bands"){if(i(j).some(S=>S.slug===g.slug))return;z(j,[...i(j),g],!0)}else if(i(x)==="conductors"){if(i(K).some(S=>S.slug===g.slug))return;z(K,[...i(K),g],!0)}else if(i(x)==="pieces"){const S=g;if(i(ie).some(q=>q.slug===S.slug))return;z(ie,[...i(ie),S],!0)}else if(i(x)==="composers"){const S=g;if(i(xe).some(q=>q.slug===S.slug))return;z(xe,[...i(xe),S],!0)}z(H,""),z(He,-1),vt()}function ut(g){i(x)==="bands"?z(j,i(j).filter(S=>S.slug!==g),!0):i(x)==="conductors"?z(K,i(K).filter(S=>S.slug!==g),!0):i(x)==="pieces"?z(ie,i(ie).filter(S=>S.slug!==g),!0):i(x)==="composers"&&z(xe,i(xe).filter(S=>S.slug!==g),!0),z(He,-1),vt()}function wt(){if(i(Fn).length===0)return;const g=i(_t).find(S=>S.name.toLowerCase()===i(lr));g?me(g):i(Pt).length>0&&me(i(Pt)[0])}function St(g){if(g===i(x)){W(),J();return}z(x,g,!0),z(H,""),z(He,-1),W(),J(),vt()}function bt(g){if(i(re)===g){J();return}z(re,g,!0),J(),vt()}function pt(g){i(pe)!==g&&z(pe,g,!0)}async function sn(){try{const g=await fetch("data/elite_test_pieces.json",{cache:"no-cache"});if(!g.ok)throw new Error("Failed to load elite_test_pieces.json");z($,await g.json(),!0)}catch(g){console.error("Could not load Elite test pieces:",g),z($,null)}}async function En(g){try{const S=g==="wind"?"data/band_positions.json":"data/brass_positions.json",q=g==="wind"?"data/piece_metadata.json":"data/brass_piece_metadata.json",L="data/piece_streaming_links.json",[C,se,Z]=await Promise.all([fetch(S),fetch(q),fetch(L)]);if(g==="brass"&&i($)===null&&await sn(),!C.ok)throw new Error(`Kunne ikke laste data (status ${C.status})`);let te=[];if(se.ok)try{const be=await se.json();te=(Array.isArray(be.pieces)?be.pieces:[]).filter(Ee=>!!(Ee!=null&&Ee.title&&(Ee!=null&&Ee.slug))).map(Ee=>({title:Ee.title.trim(),slug:Ee.slug.trim(),composer:Ee.composer??null}))}catch(be){console.warn("Kunne ikke tolke stykke-metadata",be)}else console.warn(`Kunne ikke laste stykke-metadata (status ${se.status})`);je=U(te);let de=[];if(Z.ok)try{const be=await Z.json(),Je=be==null?void 0:be[g];Array.isArray(Je)&&(de=Je.filter(Ee=>!!Ee))}catch(be){console.warn("Kunne ikke tolke opptakslenker",be)}else Z.status!==404&&console.warn(`Kunne ikke laste opptakslenker (status ${Z.status})`);yt=ae(de);const Se=await C.json();z(h,Se,!0),z(w,Lt(Se.bands),!0),z(k,xt(Se.bands,je,i($),g),!0),z(N,kt(i(k)),!0),We({updateHistory:!1}),Q=dt(),ht(),Ke=!0}catch(S){z(E,S instanceof Error?S.message:"Ukjent feil ved lasting av data.",!0)}finally{z(I,!1)}}ta(async()=>{const g=_n();z(_e,g,!0),Jt(g);const S=G();z(ce,S,!0),oe(S),await En(S)}),ta(()=>{const g=()=>{i(h)&&(We({updateHistory:!1}),Q=dt())};return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)}),_i(()=>{document.title=i(ce)==="wind"?"NM Janitsjar - Resultatoversikt":"NM Brass - Resultatoversikt"});let Fn=M(()=>i(H).trim()),lr=M(()=>i(Fn).toLowerCase()),An=M(()=>i(x)==="bands"||i(x)==="conductors"||i(x)==="pieces"||i(x)==="composers"),_t=M(()=>{var g;return i(An)?i(x)==="bands"?((g=i(h))==null?void 0:g.bands)??[]:i(x)==="conductors"?i(w):i(x)==="pieces"?i(k):i(N):[]}),it=M(()=>i(x)==="bands"?i(j):i(x)==="conductors"?i(K):i(x)==="pieces"?i(ie):i(x)==="composers"?i(xe):[]),Pt=M(()=>i(An)&&i(_t)&&i(lr).length>=2?i(_t).filter(g=>g.name.toLowerCase().includes(i(lr))&&!i(it).some(S=>S.slug===g.slug)).slice(0,10):[]),on=M(()=>i(h)?i(h).metadata.years:[]),y=M(()=>i(h)?i(h).metadata.max_field_size:0),b=M(()=>{var g;return i(An)?i(x)==="bands"?((g=i(h))==null?void 0:g.bands.length)??0:i(x)==="conductors"?i(w).length:i(x)==="pieces"?i(k).length:i(N).length:0}),R=M(()=>i(x)==="bands"?"korps":i(x)==="conductors"?"dirigenter":i(x)==="pieces"?"stykker":"komponister"),Y=M(()=>i(h)?`Dekker ${i(b)} ${i(R)} · ${i(on).length} år (${i(h).metadata.min_year}–${i(h).metadata.max_year})`:""),F=M(()=>i(x)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":i(x)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":i(x)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":i(x)==="composers"?"Begynn å skrive et komponistnavn (minst 2 bokstaver)…":""),P=M(()=>i(x)==="bands"?"Søk etter korps":i(x)==="conductors"?"Søk etter dirigent":i(x)==="pieces"?"Søk etter musikkstykke":"Søk etter komponist"),ye=M(()=>i(x)==="bands"?"Korpsforslag":i(x)==="conductors"?"Dirigentforslag":i(x)==="pieces"?"Stykke-forslag":"Komponistforslag"),fe=M(()=>i(x)==="bands"?"Valgte korps":i(x)==="conductors"?"Valgte dirigenter":i(x)==="pieces"?"Valgte stykker":"Valgte komponister"),he=M(()=>i(x)==="bands"?"Ingen korps valgt ennå":i(x)==="conductors"?"Ingen dirigenter valgt ennå":i(x)==="pieces"?"Ingen stykker valgt ennå":"Ingen komponister valgt ennå"),Le=M(()=>i(x)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":i(x)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":i(x)==="pieces"?"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer.":"Finn en komponist i søkefeltet for å se hvilke stykker vi har registrert av dem."),ft=M(()=>i(x)==="bands"?i(ce)==="wind"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":"Søk etter et brassband for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":i(x)==="conductors"?"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.":i(x)==="pieces"?"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.":i(x)==="composers"?"Søk etter en komponist for å se hvilke NM-stykker de står bak.":"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen."),Ze=M(()=>i(_e)==="dark"?"Bytt til lyst tema":"Bytt til mørkt tema"),Me=M(()=>i(_e)==="dark"?"Mørk":"Lys"),at=M(()=>i(_e)==="dark"?"🌙":"☀️"),De=M(()=>i(ce)==="wind"?"Bytt til brassband":"Bytt til janitsjarkorps"),gt=M(()=>i(ce)==="wind"?"Janitsjar":"Brass"),Pe=M(()=>i(ce)==="wind"?"🎷":"🎺"),Ye=M(()=>i(qe)?"Lukk meny":"Åpne meny"),Ce=M(()=>i(Ie)?"Lukk tilpassingsmeny":"Åpne tilpassingsmeny"),Fe=M(()=>i(it).length===1?i(it)[0].name:i(it).length>1?`${i(it).length} ${i(R)} valgt`:""),Ue=M(()=>i(it).length>1?i(it).map(g=>g.name).join(" · "):""),lt=M(()=>i(x)==="pieces"?i(it):[]),en=M(()=>i(x)==="composers"?i(it):[]),At=M(()=>i(x)==="bands"||i(x)==="conductors"?i(it):[]);var le=e0(),Qe=p(le),Nt=p(Qe),$n=p(Nt),ei=p($n),cr=T($n,2);cr.__click=[Eg,qe];var Ti=T(Nt,2);let Ii;var $t=p(Ti);ze($t,21,()=>_,Ve,(g,S)=>{var q=Rg();q.__click=[Cg,St,S];let L;var C=p(q);X(se=>{O(q,"aria-pressed",i(x)===i(S)),L=cn(q,1,"svelte-1n46o8q",null,L,se),B(C,v[i(S)])},[()=>({selected:i(x)===i(S)})]),m(g,q)});var jt=T($t,2);jt.__click=[Tg,rt,ce,we,W,J];var On=p(jt),ti=p(On),ec=T(On,2),tc=p(ec),Ea=T(jt,2);Ea.__click=[$g,ue,_e,W,J,we];var $s=p(Ea),nc=p($s),rc=T($s,2),ic=p(rc),Ts=T(Qe,2),ac=p(Ts),Is=T(Ts,2);{var sc=g=>{var S=Fg(),q=ke(S),L=M(()=>no(wt)),C=p(q),se=p(C),Z=T(C,2);Z.__input=[Ig,H,He],Z.__keydown=[Pg,Pt,He,me];var te=T(q,2);{var de=Se=>{var be=Lg();ze(be,21,()=>i(Pt),Ve,(Je,Ee,Ct)=>{var Tt=qg(),Rt=M(()=>no(()=>me(i(Ee))));Tt.__mousedown=function(...Dn){var Pi;(Pi=i(Rt))==null||Pi.apply(this,Dn)};var Yt=p(Tt);X(()=>{cn(Tt,1,`suggestion ${Ct===i(He)?"active":""}`,"svelte-1n46o8q"),O(Tt,"aria-selected",Ct===i(He)),B(Yt,i(Ee).name)}),m(Je,Tt)}),X(()=>O(be,"aria-label",i(ye))),m(Se,be)};V(te,Se=>{i(Pt).length>0&&Se(de)})}X(()=>{B(se,i(P)),O(Z,"placeholder",i(F))}),tn("submit",q,function(...Se){var be;(be=i(L))==null||be.apply(this,Se)}),af(Z,()=>i(H),Se=>z(H,Se)),m(g,S)};V(Is,g=>{i(An)&&g(sc)})}var oc=T(Is,2);{var lc=g=>{var S=Og();m(g,S)},cc=g=>{var S=et(),q=ke(S);{var L=se=>{var Z=Dg(),te=p(Z);X(()=>B(te,i(E))),m(se,Z)},C=se=>{var Z=et(),te=ke(Z);{var de=be=>{var Je=Bg();m(be,Je)},Se=be=>{var Je=et(),Ee=ke(Je);{var Ct=Rt=>{var Yt=et(),Dn=ke(Yt);{var Pi=$r=>{var ni=Qg(),ri=ke(ni);{var Aa=Ft=>{xg(Ft,{get pieces(){return i(lt)},get bandType(){return i(ce)}})},$a=Ft=>{var Bn=et(),ai=ke(Bn);{var Tr=zn=>{Mg(zn,{get composers(){return i(en)},get bandType(){return i(ce)}})},Xn=zn=>{var Ci=Gg(),si=p(Ci),Ps=p(si),hc=T(p(Ps),2),Ri=p(hc);Ri.__click=[zg,bt];let Cs;var Ta=T(Ri,2);Ta.__click=[jg,bt];let Rs;var qs=T(Ps,2),pc=T(p(qs),2),qi=p(pc);qi.__click=[Yg,pt];let Ls;var Ia=T(qi,2);Ia.__click=[Ug,pt];let Fs;var Li=T(qs,2);Li.__click=[Ag,Ie];var _c=T(Li,2);{var gc=gn=>{var ur=Kg(),Gn=p(ur);Gn.__click=[Vg,bt];let Fi;var Pa=T(Gn,2);Pa.__click=[Hg,bt];let zs;X((kc,Sc)=>{O(Gn,"aria-pressed",i(re)==="absolute"),Fi=cn(Gn,1,"svelte-1n46o8q",null,Fi,kc),O(Pa,"aria-pressed",i(re)==="relative"),zs=cn(Pa,1,"svelte-1n46o8q",null,zs,Sc)},[()=>({selected:i(re)==="absolute"}),()=>({selected:i(re)==="relative"})]),m(gn,ur)};V(_c,gn=>{i(Ie)&&gn(gc)})}var Os=T(si,2),Ds=p(Os),mc=p(Ds),Bs=T(Ds,2),yc=p(Bs),wc=T(Bs,2);{var bc=gn=>{var ur=Xg(),Gn=p(ur);X(()=>B(Gn,i(Ue))),m(gn,ur)};V(wc,gn=>{i(Ue)&&gn(bc)})}var xc=T(Os,2);{let gn=M(()=>i(x)==="bands");Xp(xc,{get years(){return i(on)},get maxFieldSize(){return i(y)},get bands(){return i(At)},get yMode(){return i(re)},get yAxisScale(){return i(pe)},get showConductorMarkers(){return i(gn)}})}X((gn,ur,Gn,Fi)=>{O(Ri,"aria-pressed",i(re)==="absolute"),Cs=cn(Ri,1,"svelte-1n46o8q",null,Cs,gn),O(Ta,"aria-pressed",i(re)==="relative"),Rs=cn(Ta,1,"svelte-1n46o8q",null,Rs,ur),O(qi,"aria-pressed",i(pe)==="fitted"),Ls=cn(qi,1,"svelte-1n46o8q",null,Ls,Gn),O(Ia,"aria-pressed",i(pe)==="full"),Fs=cn(Ia,1,"svelte-1n46o8q",null,Fs,Fi),O(Li,"aria-label",i(Ce)),O(Li,"aria-expanded",i(Ie)),B(mc,i(Fe)),B(yc,i(Y))},[()=>({selected:i(re)==="absolute"}),()=>({selected:i(re)==="relative"}),()=>({selected:i(pe)==="fitted"}),()=>({selected:i(pe)==="full"})]),m(zn,Ci)};V(ai,zn=>{i(x)==="composers"?zn(Tr):zn(Xn,!1)},!0)}m(Ft,Bn)};V(ri,Ft=>{i(x)==="pieces"?Ft(Aa):Ft($a,!1)})}var ii=T(ri,2);ze(ii,21,()=>i(it),Ve,(Ft,Bn,ai)=>{var Tr=Zg(),Xn=p(Tr);Xn.textContent=ai+1;var zn=T(Xn,2),Ci=p(zn),si=T(zn,2);si.__click=[Wg,ut,Bn],X(()=>{B(Ci,i(Bn).name),O(si,"aria-label",`Fjern ${i(Bn).name}`)}),m(Ft,Tr)});var fc=T(ii,2);{var dc=Ft=>{v_(Ft,{get bands(){return i(At)},get bandType(){return i(ce)},streamingResolver:ge,get eliteTestPieces(){return i($)}})},vc=Ft=>{var Bn=et(),ai=ke(Bn);{var Tr=Xn=>{I_(Xn,{get conductors(){return i(At)},get bandType(){return i(ce)},streamingResolver:ge})};V(ai,Xn=>{i(x)==="conductors"&&Xn(Tr)},!0)}m(Ft,Bn)};V(fc,Ft=>{i(x)==="bands"?Ft(dc):Ft(vc,!1)})}X(()=>O(ii,"aria-label",i(fe))),m($r,ni)},uc=$r=>{var ni=Jg(),ri=p(ni),Aa=p(ri),$a=T(ri,2),ii=p($a);X(()=>{B(Aa,i(he)),B(ii,i(Le))}),m($r,ni)};V(Dn,$r=>{i(it).length>0?$r(Pi):$r(uc,!1)})}m(Rt,Yt)},Tt=Rt=>{og(Rt,{get dataset(){return i(h)},get bandType(){return i(ce)},streamingResolver:ge,get eliteTestPieces(){return i($)}})};V(Ee,Rt=>{i(An)?Rt(Ct):Rt(Tt,!1)},!0)}m(be,Je)};V(te,be=>{i(h)?be(Se,!1):be(de)},!0)}m(se,Z)};V(q,se=>{i(E)?se(L):se(C,!1)},!0)}m(g,S)};V(oc,g=>{i(I)?g(lc):g(cc,!1)})}X(g=>{B(ei,i(ce)==="wind"?"NM Janitsjar":"NM Brass"),O(cr,"aria-label",i(Ye)),O(cr,"aria-expanded",i(qe)),Ii=cn(Ti,1,"header-controls svelte-1n46o8q",null,Ii,g),O(jt,"aria-label",i(De)),B(ti,i(Pe)),B(tc,i(gt)),O(Ea,"aria-label",i(Ze)),B(nc,i(at)),B(ic,i(Me)),B(ac,i(ft))},[()=>({"header-controls--mobile-open":i(qe)})]),m(e,le),or()}vl(["click","input","keydown","mousedown"]);Vu(t0,{target:document.getElementById("app")});
