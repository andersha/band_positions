var cu=Object.defineProperty;var Cs=t=>{throw TypeError(t)};var fu=(t,e,n)=>e in t?cu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _r=(t,e,n)=>fu(t,typeof e!="symbol"?e+"":e,n),ba=(t,e,n)=>e.has(t)||Cs("Cannot "+n);var T=(t,e,n)=>(ba(t,e,"read from private field"),n?n.call(t):e.get(t)),kt=(t,e,n)=>e.has(t)?Cs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),et=(t,e,n,r)=>(ba(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),fe=(t,e,n)=>(ba(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const du="5";var wo;typeof window<"u"&&((wo=window.__svelte??(window.__svelte={})).v??(wo.v=new Set)).add(du);const ia=1,aa=2,bo=4,hu=8,vu=16,pu=1,_u=4,gu=8,mu=16,xo=1,yu=2,ae=Symbol(),wu="http://www.w3.org/1999/xhtml",ko=!1;var Ga=Array.isArray,bu=Array.prototype.indexOf,Wa=Array.from,$a=Object.defineProperty,wr=Object.getOwnPropertyDescriptor,xu=Object.getOwnPropertyDescriptors,ku=Object.prototype,Eu=Array.prototype,Eo=Object.getPrototypeOf,Is=Object.isExtensible;function So(t){for(var e=0;e<t.length;e++)t[e]()}function Su(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const Ce=2,Za=4,Qa=8,Pr=16,Sn=32,lr=64,Ja=128,Be=256,zi=512,ue=1024,Ye=2048,zn=4096,Qe=8192,ur=16384,ts=32768,sa=65536,Rs=1<<17,Mu=1<<18,Lr=1<<19,Nu=1<<20,Ta=1<<21,es=1<<22,tr=1<<23,Zr=Symbol("$state"),Au=Symbol("legacy props"),$u=Symbol(""),ns=new class extends Error{constructor(){super(...arguments);_r(this,"name","StaleReactionError");_r(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Mo(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Tu(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Cu(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Iu(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ru(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Pu(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Lu(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Fu(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ou(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Du(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function qu(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function zu(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Bu=!1;function No(t){return t===this.v}function Uu(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Yu(t,e){return t!==e}function Ao(t){return!Uu(t,this.v)}let Vu=!1,be=null;function Nr(t){be=t}function Fr(t,e=!1,n){be={p:be,c:null,e:null,s:t,x:null,l:null}}function Or(t){var e=be,n=e.e;if(n!==null){e.e=null;for(var r of n)Yo(r)}return be=e.p,{}}function $o(){return!0}let Fn=[],Bi=[];function To(){var t=Fn;Fn=[],So(t)}function Hu(){var t=Bi;Bi=[],So(t)}function ju(){return Fn.length>0||Bi.length>0}function Dr(t){if(Fn.length===0&&!Qr){var e=Fn;queueMicrotask(()=>{e===Fn&&To()})}Fn.push(t)}function Xu(){Fn.length>0&&To(),Bi.length>0&&Hu()}const Ku=new WeakMap;function Co(t){var e=pt;if(e===null)return ut.f|=tr,t;if(e.f&ts)Ar(t,e);else{if(!(e.f&Ja))throw!e.parent&&t instanceof Error&&Io(t),t;e.b.error(t)}}function Ar(t,e){for(;e!==null;){if(e.f&Ja)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&Io(t),t}function Io(t){const e=Ku.get(t);e&&($a(t,"message",{value:e.message}),$a(t,"stack",{value:e.stack}))}const xa=new Set;let $t=null,Ii=null,Ca=new Set,ir=[],oa=null,Ia=!1,Qr=!1;var si,Er,Cn,oi,li,Gn,Sr,Wn,In,Mr,ui,ci,Je,Ro,Ri,Ra;const ea=class ea{constructor(){kt(this,Je);_r(this,"current",new Map);kt(this,si,new Map);kt(this,Er,new Set);kt(this,Cn,0);kt(this,oi,null);kt(this,li,!1);kt(this,Gn,[]);kt(this,Sr,[]);kt(this,Wn,[]);kt(this,In,[]);kt(this,Mr,[]);kt(this,ui,[]);kt(this,ci,[]);_r(this,"skipped_effects",new Set)}process(e){var i;ir=[],Ii=null;for(const s of e)fe(this,Je,Ro).call(this,s);if(T(this,Gn).length===0&&T(this,Cn)===0){fe(this,Je,Ra).call(this);var n=T(this,Wn),r=T(this,In);et(this,Wn,[]),et(this,In,[]),et(this,Mr,[]),Ii=$t,$t=null,Ps(n),Ps(r),$t===null?$t=this:xa.delete(this),(i=T(this,oi))==null||i.resolve()}else fe(this,Je,Ri).call(this,T(this,Wn)),fe(this,Je,Ri).call(this,T(this,In)),fe(this,Je,Ri).call(this,T(this,Mr));for(const s of T(this,Gn))xr(s);for(const s of T(this,Sr))xr(s);et(this,Gn,[]),et(this,Sr,[])}capture(e,n){T(this,si).has(e)||T(this,si).set(e,n),this.current.set(e,e.v)}activate(){$t=this}deactivate(){$t=null,Ii=null;for(const e of Ca)if(Ca.delete(e),e(),$t!==null)break}neuter(){et(this,li,!0)}flush(){ir.length>0?Po():fe(this,Je,Ra).call(this),$t===this&&(T(this,Cn)===0&&xa.delete(this),this.deactivate())}increment(){et(this,Cn,T(this,Cn)+1)}decrement(){if(et(this,Cn,T(this,Cn)-1),T(this,Cn)===0){for(const e of T(this,ui))we(e,Ye),$r(e);for(const e of T(this,ci))we(e,zn),$r(e);et(this,Wn,[]),et(this,In,[]),this.flush()}else this.deactivate()}add_callback(e){T(this,Er).add(e)}settled(){return(T(this,oi)??et(this,oi,Su())).promise}static ensure(){if($t===null){const e=$t=new ea;xa.add($t),Qr||ea.enqueue(()=>{$t===e&&e.flush()})}return $t}static enqueue(e){Dr(e)}};si=new WeakMap,Er=new WeakMap,Cn=new WeakMap,oi=new WeakMap,li=new WeakMap,Gn=new WeakMap,Sr=new WeakMap,Wn=new WeakMap,In=new WeakMap,Mr=new WeakMap,ui=new WeakMap,ci=new WeakMap,Je=new WeakSet,Ro=function(e){var f;e.f^=ue;for(var n=e.first;n!==null;){var r=n.f,i=(r&(Sn|lr))!==0,s=i&&(r&ue)!==0,o=s||(r&Qe)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(i)n.f^=ue;else if(r&Za)T(this,In).push(n);else if(!(r&ue))if(r&es){var l=(f=n.b)!=null&&f.is_pending()?T(this,Sr):T(this,Gn);l.push(n)}else fa(n)&&(n.f&Pr&&T(this,Mr).push(n),xr(n));var u=n.first;if(u!==null){n=u;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},Ri=function(e){for(const n of e)(n.f&Ye?T(this,ui):T(this,ci)).push(n),we(n,ue);e.length=0},Ra=function(){if(!T(this,li))for(const e of T(this,Er))e();T(this,Er).clear()};let Dn=ea;function Gu(t){var e=Qr;Qr=!0;try{for(var n;;){if(Xu(),ir.length===0&&!ju()&&($t==null||$t.flush(),ir.length===0))return oa=null,n;Po()}}finally{Qr=e}}function Po(){var t=br;Ia=!0;try{var e=0;for(Os(!0);ir.length>0;){var n=Dn.ensure();if(e++>1e3){var r,i;Wu()}n.process(ir),qn.clear()}}finally{Ia=!1,Os(t),oa=null}}function Wu(){try{Pu()}catch(t){Ar(t,oa)}}let xn=null;function Ps(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if(!(r.f&(ur|Qe))&&fa(r)&&(xn=[],xr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?jo(r):r.fn=null),(xn==null?void 0:xn.length)>0)){qn.clear();for(const i of xn)xr(i);xn=[]}}xn=null}}function $r(t){for(var e=oa=t;e.parent!==null;){e=e.parent;var n=e.f;if(Ia&&e===pt&&n&Pr)return;if(n&(lr|Sn)){if(!(n&ue))return;e.f^=ue}}ir.push(e)}function Zu(t){let e=0,n=ar(0),r;return()=>{pc()&&(a(n),as(()=>(e===0&&(r=zr(()=>t(()=>Jr(n)))),e+=1,()=>{Dr(()=>{e-=1,e===0&&(r==null||r(),r=void 0,Jr(n))})})))}}var Qu=sa|Lr|Ja;function Ju(t,e,n){new tc(t,e,n)}var Ke,Oe,Ka,un,Zn,cn,De,_e,fn,Rn,Qn,Pn,Jn,Ln,na,ra,ve,ec,nc,Pi,Li,Pa;class tc{constructor(e,n,r){kt(this,ve);_r(this,"parent");kt(this,Ke,!1);kt(this,Oe);kt(this,Ka,null);kt(this,un);kt(this,Zn);kt(this,cn);kt(this,De,null);kt(this,_e,null);kt(this,fn,null);kt(this,Rn,null);kt(this,Qn,0);kt(this,Pn,0);kt(this,Jn,!1);kt(this,Ln,null);kt(this,na,()=>{T(this,Ln)&&Tr(T(this,Ln),T(this,Qn))});kt(this,ra,Zu(()=>(et(this,Ln,ar(T(this,Qn))),()=>{et(this,Ln,null)})));et(this,Oe,e),et(this,un,n),et(this,Zn,r),this.parent=pt.b,et(this,Ke,!!T(this,un).pending),et(this,cn,ca(()=>{pt.b=this;{try{et(this,De,qe(()=>r(T(this,Oe))))}catch(i){this.error(i)}T(this,Pn)>0?fe(this,ve,Li).call(this):et(this,Ke,!1)}},Qu))}is_pending(){return T(this,Ke)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!T(this,un).pending}update_pending_count(e){fe(this,ve,Pa).call(this,e),et(this,Qn,T(this,Qn)+e),Ca.add(T(this,na))}get_effect_pending(){return T(this,ra).call(this),a(T(this,Ln))}error(e){var n=T(this,un).onerror;let r=T(this,un).failed;if(T(this,Jn)||!n&&!r)throw e;T(this,De)&&(Ue(T(this,De)),et(this,De,null)),T(this,_e)&&(Ue(T(this,_e)),et(this,_e,null)),T(this,fn)&&(Ue(T(this,fn)),et(this,fn,null));var i=!1,s=!1;const o=()=>{if(i){zu();return}i=!0,s&&qu(),Dn.ensure(),et(this,Qn,0),T(this,fn)!==null&&er(T(this,fn),()=>{et(this,fn,null)}),et(this,Ke,this.has_pending_snippet()),et(this,De,fe(this,ve,Pi).call(this,()=>(et(this,Jn,!1),qe(()=>T(this,Zn).call(this,T(this,Oe)))))),T(this,Pn)>0?fe(this,ve,Li).call(this):et(this,Ke,!1)};var l=ut;try{me(null),s=!0,n==null||n(e,o),s=!1}catch(u){Ar(u,T(this,cn)&&T(this,cn).parent)}finally{me(l)}r&&Dr(()=>{et(this,fn,fe(this,ve,Pi).call(this,()=>{et(this,Jn,!0);try{return qe(()=>{r(T(this,Oe),()=>e,()=>o)})}catch(u){return Ar(u,T(this,cn).parent),null}finally{et(this,Jn,!1)}}))})}}Ke=new WeakMap,Oe=new WeakMap,Ka=new WeakMap,un=new WeakMap,Zn=new WeakMap,cn=new WeakMap,De=new WeakMap,_e=new WeakMap,fn=new WeakMap,Rn=new WeakMap,Qn=new WeakMap,Pn=new WeakMap,Jn=new WeakMap,Ln=new WeakMap,na=new WeakMap,ra=new WeakMap,ve=new WeakSet,ec=function(){try{et(this,De,qe(()=>T(this,Zn).call(this,T(this,Oe))))}catch(e){this.error(e)}et(this,Ke,!1)},nc=function(){const e=T(this,un).pending;e&&(et(this,_e,qe(()=>e(T(this,Oe)))),Dn.enqueue(()=>{et(this,De,fe(this,ve,Pi).call(this,()=>(Dn.ensure(),qe(()=>T(this,Zn).call(this,T(this,Oe)))))),T(this,Pn)>0?fe(this,ve,Li).call(this):(er(T(this,_e),()=>{et(this,_e,null)}),et(this,Ke,!1))}))},Pi=function(e){var n=pt,r=ut,i=be;hn(T(this,cn)),me(T(this,cn)),Nr(T(this,cn).ctx);try{return e()}catch(s){return Co(s),null}finally{hn(n),me(r),Nr(i)}},Li=function(){const e=T(this,un).pending;T(this,De)!==null&&(et(this,Rn,document.createDocumentFragment()),rc(T(this,De),T(this,Rn))),T(this,_e)===null&&et(this,_e,qe(()=>e(T(this,Oe))))},Pa=function(e){var n;if(!this.has_pending_snippet()){this.parent&&fe(n=this.parent,ve,Pa).call(n,e);return}et(this,Pn,T(this,Pn)+e),T(this,Pn)===0&&(et(this,Ke,!1),T(this,_e)&&er(T(this,_e),()=>{et(this,_e,null)}),T(this,Rn)&&(T(this,Oe).before(T(this,Rn)),et(this,Rn,null)))};function rc(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:fi(n);e.append(n),n=i}}function ic(t,e,n){const r=la;if(e.length===0){n(t.map(r));return}var i=$t,s=pt,o=ac();Promise.all(e.map(l=>sc(l))).then(l=>{i==null||i.activate(),o();try{n([...t.map(r),...l])}catch(u){s.f&ur||Ar(u,s)}i==null||i.deactivate(),Lo()}).catch(l=>{Ar(l,s)})}function ac(){var t=pt,e=ut,n=be,r=$t;return function(){hn(t),me(e),Nr(n),r==null||r.activate()}}function Lo(){hn(null),me(null),Nr(null)}function la(t){var e=Ce|Ye,n=ut!==null&&ut.f&Ce?ut:null;return pt===null||n!==null&&n.f&Be?e|=Be:pt.f|=Lr,{ctx:be,deps:null,effects:null,equals:No,f:e,fn:t,reactions:null,rv:0,v:ae,wv:0,parent:n??pt,ac:null}}function sc(t,e){let n=pt;n===null&&Tu();var r=n.b,i=void 0,s=ar(ae),o=null,l=!ut;return yc(()=>{try{var u=t();o&&Promise.resolve(u).catch(()=>{})}catch(v){u=Promise.reject(v)}var c=()=>u;i=(o==null?void 0:o.then(c,c))??Promise.resolve(u),o=i;var f=$t,d=r.is_pending();l&&(r.update_pending_count(1),d||f.increment());const h=(v,p=void 0)=>{o=null,d||f.activate(),p?p!==ns&&(s.f|=tr,Tr(s,p)):(s.f&tr&&(s.f^=tr),Tr(s,v)),l&&(r.update_pending_count(-1),d||f.decrement()),Lo()};if(i.then(h,v=>h(null,v||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(u=>{function c(f){function d(){f===i?u(s):c(i)}f.then(d,d)}c(i)})}function L(t){const e=la(t);return Go(e),e}function Fo(t){const e=la(t);return e.equals=Ao,e}function Oo(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)Ue(e[n])}}function oc(t){for(var e=t.parent;e!==null;){if(!(e.f&Ce))return e;e=e.parent}return null}function rs(t){var e,n=pt;hn(oc(t));try{Oo(t),e=Jo(t)}finally{hn(n)}return e}function Do(t){var e=rs(t);if(t.equals(e)||(t.v=e,t.wv=Zo()),!cr){var n=(On||t.f&Be)&&t.deps!==null?zn:ue;we(t,n)}}const qn=new Map;function ar(t,e){var n={f:0,v:t,reactions:null,equals:No,rv:0,wv:0};return n}function yt(t,e){const n=ar(t);return Go(n),n}function lc(t,e=!1,n=!0){const r=ar(t);return e||(r.equals=Ao),r}function R(t,e,n=!1){ut!==null&&(!We||ut.f&Rs)&&$o()&&ut.f&(Ce|Pr|es|Rs)&&!(he!=null&&he.includes(t))&&Du();let r=n?ge(e):e;return Tr(t,r)}function Tr(t,e){if(!t.equals(e)){var n=t.v;cr?qn.set(t,e):qn.set(t,n),t.v=e;var r=Dn.ensure();r.capture(t,n),t.f&Ce&&(t.f&Ye&&rs(t),we(t,t.f&Be?zn:ue)),t.wv=Zo(),qo(t,Ye),pt!==null&&pt.f&ue&&!(pt.f&(Sn|lr))&&(Fe===null?xc([t]):Fe.push(t))}return e}function Jr(t){R(t,t.v+1)}function qo(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],o=s.f,l=(o&Ye)===0;l&&we(s,e),o&Ce?qo(s,zn):l&&(o&Pr&&xn!==null&&xn.push(s),$r(s))}}function ge(t){if(typeof t!="object"||t===null||Zr in t)return t;const e=Eo(t);if(e!==ku&&e!==Eu)return t;var n=new Map,r=Ga(t),i=yt(0),s=nr,o=l=>{if(nr===s)return l();var u=ut,c=nr;me(null),qs(s);var f=l();return me(u),qs(c),f};return r&&n.set("length",yt(t.length)),new Proxy(t,{defineProperty(l,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Fu();var f=n.get(u);return f===void 0?f=o(()=>{var d=yt(c.value);return n.set(u,d),d}):R(f,c.value,!0),!0},deleteProperty(l,u){var c=n.get(u);if(c===void 0){if(u in l){const f=o(()=>yt(ae));n.set(u,f),Jr(i)}}else R(c,ae),Jr(i);return!0},get(l,u,c){var v;if(u===Zr)return t;var f=n.get(u),d=u in l;if(f===void 0&&(!d||(v=wr(l,u))!=null&&v.writable)&&(f=o(()=>{var p=ge(d?l[u]:ae),b=yt(p);return b}),n.set(u,f)),f!==void 0){var h=a(f);return h===ae?void 0:h}return Reflect.get(l,u,c)},getOwnPropertyDescriptor(l,u){var c=Reflect.getOwnPropertyDescriptor(l,u);if(c&&"value"in c){var f=n.get(u);f&&(c.value=a(f))}else if(c===void 0){var d=n.get(u),h=d==null?void 0:d.v;if(d!==void 0&&h!==ae)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return c},has(l,u){var h;if(u===Zr)return!0;var c=n.get(u),f=c!==void 0&&c.v!==ae||Reflect.has(l,u);if(c!==void 0||pt!==null&&(!f||(h=wr(l,u))!=null&&h.writable)){c===void 0&&(c=o(()=>{var v=f?ge(l[u]):ae,p=yt(v);return p}),n.set(u,c));var d=a(c);if(d===ae)return!1}return f},set(l,u,c,f){var F;var d=n.get(u),h=u in l;if(r&&u==="length")for(var v=c;v<d.v;v+=1){var p=n.get(v+"");p!==void 0?R(p,ae):v in l&&(p=o(()=>yt(ae)),n.set(v+"",p))}if(d===void 0)(!h||(F=wr(l,u))!=null&&F.writable)&&(d=o(()=>yt(void 0)),R(d,ge(c)),n.set(u,d));else{h=d.v!==ae;var b=o(()=>ge(c));R(d,b)}var M=Reflect.getOwnPropertyDescriptor(l,u);if(M!=null&&M.set&&M.set.call(f,c),!h){if(r&&typeof u=="string"){var B=n.get("length"),V=Number(u);Number.isInteger(V)&&V>=B.v&&R(B,V+1)}Jr(i)}return!0},ownKeys(l){a(i);var u=Reflect.ownKeys(l).filter(d=>{var h=n.get(d);return h===void 0||h.v!==ae});for(var[c,f]of n)f.v!==ae&&!(c in l)&&u.push(c);return u},setPrototypeOf(){Ou()}})}var Ls,zo,Bo,Uo;function uc(){if(Ls===void 0){Ls=window,zo=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Bo=wr(e,"firstChild").get,Uo=wr(e,"nextSibling").get,Is(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Is(n)&&(n.__t=void 0)}}function qr(t=""){return document.createTextNode(t)}function kn(t){return Bo.call(t)}function fi(t){return Uo.call(t)}function w(t,e){return kn(t)}function Et(t,e=!1){{var n=kn(t);return n instanceof Comment&&n.data===""?fi(n):n}}function I(t,e=1,n=!1){let r=t;for(;e--;)r=fi(r);return r}function cc(t){t.textContent=""}function is(){return!1}let Fs=!1;function fc(){Fs||(Fs=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function ua(t){var e=ut,n=pt;me(null),hn(null);try{return t()}finally{me(e),hn(n)}}function dc(t,e,n,r=n){t.addEventListener(e,()=>ua(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),fc()}function hc(t){pt===null&&ut===null&&Ru(),ut!==null&&ut.f&Be&&pt===null&&Iu(),cr&&Cu()}function vc(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Mn(t,e,n,r=!0){var i=pt;i!==null&&i.f&Qe&&(t|=Qe);var s={ctx:be,deps:null,nodes_start:null,nodes_end:null,f:t|Ye,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{xr(s),s.f|=ts}catch(u){throw Ue(s),u}else e!==null&&$r(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&!(o.f&Lr)&&(o=o.first),o!==null&&(o.parent=i,i!==null&&vc(o,i),ut!==null&&ut.f&Ce&&!(t&lr))){var l=ut;(l.effects??(l.effects=[])).push(o)}}return s}function pc(){return ut!==null&&!We}function _c(t){const e=Mn(Qa,null,!1);return we(e,ue),e.teardown=t,e}function ti(t){hc();var e=pt.f,n=!ut&&(e&Sn)!==0&&(e&ts)===0;if(n){var r=be;(r.e??(r.e=[])).push(t)}else return Yo(t)}function Yo(t){return Mn(Za|Nu,t,!1)}function gc(t){Dn.ensure();const e=Mn(lr|Lr,t,!0);return(n={})=>new Promise(r=>{n.outro?er(e,()=>{Ue(e),r(void 0)}):(Ue(e),r(void 0))})}function mc(t){return Mn(Za,t,!1)}function yc(t){return Mn(es|Lr,t,!0)}function as(t,e=0){return Mn(Qa|e,t,!0)}function X(t,e=[],n=[]){ic(e,n,r=>{Mn(Qa,()=>t(...r.map(a)),!0)})}function ca(t,e=0){var n=Mn(Pr|e,t,!0);return n}function qe(t,e=!0){return Mn(Sn|Lr,t,!0,e)}function Vo(t){var e=t.teardown;if(e!==null){const n=cr,r=ut;Ds(!0),me(null);try{e.call(null)}finally{Ds(n),me(r)}}}function Ho(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&ua(()=>{i.abort(ns)});var r=n.next;n.f&lr?n.parent=null:Ue(n,e),n=r}}function wc(t){for(var e=t.first;e!==null;){var n=e.next;e.f&Sn||Ue(e),e=n}}function Ue(t,e=!0){var n=!1;(e||t.f&Mu)&&t.nodes_start!==null&&t.nodes_end!==null&&(bc(t.nodes_start,t.nodes_end),n=!0),Ho(t,e&&!n),Ui(t,0),we(t,ur);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Vo(t);var i=t.parent;i!==null&&i.first!==null&&jo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function bc(t,e){for(;t!==null;){var n=t===e?null:fi(t);t.remove(),t=n}}function jo(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function er(t,e){var n=[];ss(t,n,!0),Xo(n,()=>{Ue(t),e&&e()})}function Xo(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function ss(t,e,n){if(!(t.f&Qe)){if(t.f^=Qe,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&sa)!==0||(r.f&Sn)!==0;ss(r,e,s?n:!1),r=i}}}function os(t){Ko(t,!0)}function Ko(t,e){if(t.f&Qe){t.f^=Qe,t.f&ue||(we(t,Ye),$r(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&sa)!==0||(n.f&Sn)!==0;Ko(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let br=!1;function Os(t){br=t}let cr=!1;function Ds(t){cr=t}let ut=null,We=!1;function me(t){ut=t}let pt=null;function hn(t){pt=t}let he=null;function Go(t){ut!==null&&(he===null?he=[t]:he.push(t))}let de=null,Te=0,Fe=null;function xc(t){Fe=t}let Wo=1,ei=0,nr=ei;function qs(t){nr=t}let On=!1;function Zo(){return++Wo}function fa(t){var d;var e=t.f;if(e&Ye)return!0;if(e&zn){var n=t.deps,r=(e&Be)!==0;if(n!==null){var i,s,o=(e&zi)!==0,l=r&&pt!==null&&!On,u=n.length;if((o||l)&&(pt===null||!(pt.f&ur))){var c=t,f=c.parent;for(i=0;i<u;i++)s=n[i],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(c)))&&(s.reactions??(s.reactions=[])).push(c);o&&(c.f^=zi),l&&f!==null&&!(f.f&Be)&&(c.f^=Be)}for(i=0;i<u;i++)if(s=n[i],fa(s)&&Do(s),s.wv>t.wv)return!0}(!r||pt!==null&&!On)&&we(t,ue)}return!1}function Qo(t,e,n=!0){var r=t.reactions;if(r!==null&&!(he!=null&&he.includes(t)))for(var i=0;i<r.length;i++){var s=r[i];s.f&Ce?Qo(s,e,!1):e===s&&(n?we(s,Ye):s.f&ue&&we(s,zn),$r(s))}}function Jo(t){var b;var e=de,n=Te,r=Fe,i=ut,s=On,o=he,l=be,u=We,c=nr,f=t.f;de=null,Te=0,Fe=null,On=(f&Be)!==0&&(We||!br||ut===null),ut=f&(Sn|lr)?null:t,he=null,Nr(t.ctx),We=!1,nr=++ei,t.ac!==null&&(ua(()=>{t.ac.abort(ns)}),t.ac=null);try{t.f|=Ta;var d=t.fn,h=d(),v=t.deps;if(de!==null){var p;if(Ui(t,Te),v!==null&&Te>0)for(v.length=Te+de.length,p=0;p<de.length;p++)v[Te+p]=de[p];else t.deps=v=de;if(!On||f&Ce&&t.reactions!==null)for(p=Te;p<v.length;p++)((b=v[p]).reactions??(b.reactions=[])).push(t)}else v!==null&&Te<v.length&&(Ui(t,Te),v.length=Te);if($o()&&Fe!==null&&!We&&v!==null&&!(t.f&(Ce|zn|Ye)))for(p=0;p<Fe.length;p++)Qo(Fe[p],t);return i!==null&&i!==t&&(ei++,Fe!==null&&(r===null?r=Fe:r.push(...Fe))),t.f&tr&&(t.f^=tr),h}catch(M){return Co(M)}finally{t.f^=Ta,de=e,Te=n,Fe=r,ut=i,On=s,he=o,Nr(l),We=u,nr=c}}function kc(t,e){let n=e.reactions;if(n!==null){var r=bu.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&e.f&Ce&&(de===null||!de.includes(e))&&(we(e,zn),e.f&(Be|zi)||(e.f^=zi),Oo(e),Ui(e,0))}function Ui(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)kc(t,n[r])}function xr(t){var e=t.f;if(!(e&ur)){we(t,ue);var n=pt,r=br;pt=t,br=!0;try{e&Pr?wc(t):Ho(t),Vo(t);var i=Jo(t);t.teardown=typeof i=="function"?i:null,t.wv=Wo;var s;ko&&Vu&&t.f&Ye&&t.deps}finally{br=r,pt=n}}}async function Ec(){await Promise.resolve(),Gu()}function a(t){var e=t.f,n=(e&Ce)!==0;if(ut!==null&&!We){var r=pt!==null&&(pt.f&ur)!==0;if(!r&&!(he!=null&&he.includes(t))){var i=ut.deps;if(ut.f&Ta)t.rv<ei&&(t.rv=ei,de===null&&i!==null&&i[Te]===t?Te++:de===null?de=[t]:(!On||!de.includes(t))&&de.push(t));else{(ut.deps??(ut.deps=[])).push(t);var s=t.reactions;s===null?t.reactions=[ut]:s.includes(ut)||s.push(ut)}}}else if(n&&t.deps===null&&t.effects===null){var o=t,l=o.parent;l!==null&&!(l.f&Be)&&(o.f^=Be)}if(cr){if(qn.has(t))return qn.get(t);if(n){o=t;var u=o.v;return(!(o.f&ue)&&o.reactions!==null||tl(o))&&(u=rs(o)),qn.set(o,u),u}}else n&&(o=t,fa(o)&&Do(o));if(t.f&tr)throw t.v;return t.v}function tl(t){if(t.v===ae)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(qn.has(e)||e.f&Ce&&tl(e))return!0;return!1}function zr(t){var e=We;try{return We=!0,t()}finally{We=e}}const Sc=-7169;function we(t,e){t.f=t.f&Sc|e}const el=new Set,La=new Set;function Mc(t,e,n,r={}){function i(s){if(r.capture||Xr.call(e,s),!s.cancelBubble)return ua(()=>n==null?void 0:n.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Dr(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function $e(t,e,n,r,i){var s={capture:r,passive:i},o=Mc(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&_c(()=>{e.removeEventListener(t,o,s)})}function nl(t){for(var e=0;e<t.length;e++)el.add(t[e]);for(var n of La)n(t)}let zs=null;function Xr(t){var V;var e=this,n=e.ownerDocument,r=t.type,i=((V=t.composedPath)==null?void 0:V.call(t))||[],s=i[0]||t.target;zs=t;var o=0,l=zs===t&&t.__root;if(l){var u=i.indexOf(l);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var c=i.indexOf(e);if(c===-1)return;u<=c&&(o=u)}if(s=i[o]||t.target,s!==e){$a(t,"currentTarget",{configurable:!0,get(){return s||n}});var f=ut,d=pt;me(null),hn(null);try{for(var h,v=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var b=s["__"+r];if(b!=null&&(!s.disabled||t.target===s))if(Ga(b)){var[M,...B]=b;M.apply(s,[t,...B])}else b.call(s,t)}catch(F){h?v.push(F):h=F}if(t.cancelBubble||p===e||p===null)break;s=p}if(h){for(let F of v)queueMicrotask(()=>{throw F});throw h}}finally{t.__root=e,delete t.currentTarget,me(f),hn(d)}}}function rl(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function ni(t,e){var n=pt;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function z(t,e){var n=(e&xo)!==0,r=(e&yu)!==0,i,s=!t.startsWith("<!>");return()=>{i===void 0&&(i=rl(s?t:"<!>"+t),n||(i=kn(i)));var o=r||zo?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=kn(o),u=o.lastChild;ni(l,u)}else ni(o,o);return o}}function Nc(t,e,n="svg"){var r=!t.startsWith("<!>"),i=(e&xo)!==0,s=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var l=rl(s),u=kn(l);if(i)for(o=document.createDocumentFragment();kn(u);)o.appendChild(kn(u));else o=kn(u)}var c=o.cloneNode(!0);if(i){var f=kn(c),d=c.lastChild;ni(f,d)}else ni(c,c);return c}}function en(t,e){return Nc(t,e,"svg")}function ne(){var t=document.createDocumentFragment(),e=document.createComment(""),n=qr();return t.append(e,n),ni(e,n),t}function E(t,e){t!==null&&t.before(e)}const Ac=["touchstart","touchmove"];function $c(t){return Ac.includes(t)}function Y(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function Tc(t,e){return Cc(t,e)}const gr=new Map;function Cc(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){uc();var l=new Set,u=d=>{for(var h=0;h<d.length;h++){var v=d[h];if(!l.has(v)){l.add(v);var p=$c(v);e.addEventListener(v,Xr,{passive:p});var b=gr.get(v);b===void 0?(document.addEventListener(v,Xr,{passive:p}),gr.set(v,1)):gr.set(v,b+1)}}};u(Wa(el)),La.add(u);var c=void 0,f=gc(()=>{var d=n??e.appendChild(qr());return Ju(d,{pending:()=>{}},h=>{if(s){Fr({});var v=be;v.c=s}i&&(r.$$events=i),c=t(h,r)||{},s&&Or()}),()=>{var p;for(var h of l){e.removeEventListener(h,Xr);var v=gr.get(h);--v===0?(document.removeEventListener(h,Xr),gr.delete(h)):gr.set(h,v)}La.delete(u),d!==n&&((p=d.parentNode)==null||p.removeChild(d))}});return Ic.set(c,f),c}let Ic=new WeakMap;function Yi(t){be===null&&Mo(),ti(()=>{const e=zr(t);if(typeof e=="function")return e})}function Rc(t){be===null&&Mo(),Yi(()=>()=>zr(t))}function Q(t,e,n=!1){var r=t,i=null,s=null,o=ae,l=n?sa:0,u=!1;const c=(v,p=!0)=>{u=!0,h(p,v)};var f=null;function d(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var v=o?i:s,p=o?s:i;v&&os(v),p&&er(p,()=>{o?s=null:i=null})}const h=(v,p)=>{if(o!==(o=v)){var b=is(),M=r;if(b&&(f=document.createDocumentFragment(),f.append(M=qr())),o?i??(i=p&&qe(()=>p(M))):s??(s=p&&qe(()=>p(M))),b){var B=$t,V=o?i:s,F=o?s:i;V&&B.skipped_effects.delete(V),F&&B.skipped_effects.add(F),B.add_callback(d)}else d()}};ca(()=>{u=!1,e(c),u||h(null,null)},l)}function Pc(t,e,n){var r=t,i=ae,s,o,l=null,u=Yu;function c(){s&&er(s),l!==null&&(l.lastChild.remove(),r.before(l),l=null),s=o}ca(()=>{if(u(i,i=e())){var f=r,d=is();d&&(l=document.createDocumentFragment(),l.append(f=qr())),o=qe(()=>n(f)),d?$t.add_callback(c):c()}})}function Qt(t,e){return e}function Lc(t,e,n){for(var r=t.items,i=[],s=e.length,o=0;o<s;o++)ss(e[o].e,i,!0);var l=s>0&&i.length===0&&n!==null;if(l){var u=n.parentNode;cc(u),u.append(n),r.clear(),ln(t,e[0].prev,e[s-1].next)}Xo(i,()=>{for(var c=0;c<s;c++){var f=e[c];l||(r.delete(f.k),ln(t,f.prev,f.next)),Ue(f.e,!l)}})}function Gt(t,e,n,r,i,s=null){var o=t,l={flags:e,items:new Map,first:null},u=(e&bo)!==0;if(u){var c=t;o=c.appendChild(qr())}var f=null,d=!1,h=new Map,v=Fo(()=>{var B=n();return Ga(B)?B:B==null?[]:Wa(B)}),p,b;function M(){Fc(b,p,l,h,o,i,e,r,n),s!==null&&(p.length===0?f?os(f):f=qe(()=>s(o)):f!==null&&er(f,()=>{f=null}))}ca(()=>{b??(b=pt),p=a(v);var B=p.length;if(!(d&&B===0)){d=B===0;var V,F,nt,U;if(is()){var H=new Set,G=$t;for(F=0;F<B;F+=1){nt=p[F],U=r(nt,F);var ct=l.items.get(U)??h.get(U);ct?e&(ia|aa)&&il(ct,nt,F,e):(V=al(null,l,null,null,nt,U,F,i,e,n,!0),h.set(U,V)),H.add(U)}for(const[Ot,dt]of l.items)H.has(Ot)||G.skipped_effects.add(dt.e);G.add_callback(M)}else M();a(v)}})}function Fc(t,e,n,r,i,s,o,l,u){var A,tt,_t,Ct;var c=(o&hu)!==0,f=(o&(ia|aa))!==0,d=e.length,h=n.items,v=n.first,p=v,b,M=null,B,V=[],F=[],nt,U,H,G;if(c)for(G=0;G<d;G+=1)nt=e[G],U=l(nt,G),H=h.get(U),H!==void 0&&((A=H.a)==null||A.measure(),(B??(B=new Set)).add(H));for(G=0;G<d;G+=1){if(nt=e[G],U=l(nt,G),H=h.get(U),H===void 0){var ct=r.get(U);if(ct!==void 0){r.delete(U),h.set(U,ct);var Ot=M?M.next:p;ln(n,M,ct),ln(n,ct,Ot),ka(ct,Ot,i),M=ct}else{var dt=p?p.e.nodes_start:i;M=al(dt,n,M,M===null?n.first:M.next,nt,U,G,s,o,u)}h.set(U,M),V=[],F=[],p=M.next;continue}if(f&&il(H,nt,G,o),H.e.f&Qe&&(os(H.e),c&&((tt=H.a)==null||tt.unfix(),(B??(B=new Set)).delete(H))),H!==p){if(b!==void 0&&b.has(H)){if(V.length<F.length){var Z=F[0],it;M=Z.prev;var S=V[0],ot=V[V.length-1];for(it=0;it<V.length;it+=1)ka(V[it],Z,i);for(it=0;it<F.length;it+=1)b.delete(F[it]);ln(n,S.prev,ot.next),ln(n,M,S),ln(n,ot,Z),p=Z,M=ot,G-=1,V=[],F=[]}else b.delete(H),ka(H,p,i),ln(n,H.prev,H.next),ln(n,H,M===null?n.first:M.next),ln(n,M,H),M=H;continue}for(V=[],F=[];p!==null&&p.k!==U;)p.e.f&Qe||(b??(b=new Set)).add(p),F.push(p),p=p.next;if(p===null)continue;H=p}V.push(H),M=H,p=H.next}if(p!==null||b!==void 0){for(var at=b===void 0?[]:Wa(b);p!==null;)p.e.f&Qe||at.push(p),p=p.next;var St=at.length;if(St>0){var Dt=o&bo&&d===0?i:null;if(c){for(G=0;G<St;G+=1)(_t=at[G].a)==null||_t.measure();for(G=0;G<St;G+=1)(Ct=at[G].a)==null||Ct.fix()}Lc(n,at,Dt)}}c&&Dr(()=>{var Mt;if(B!==void 0)for(H of B)(Mt=H.a)==null||Mt.apply()}),t.first=n.first&&n.first.e,t.last=M&&M.e;for(var k of r.values())Ue(k.e);r.clear()}function il(t,e,n,r){r&ia&&Tr(t.v,e),r&aa?Tr(t.i,n):t.i=n}function al(t,e,n,r,i,s,o,l,u,c,f){var d=(u&ia)!==0,h=(u&vu)===0,v=d?h?lc(i,!1,!1):ar(i):i,p=u&aa?ar(o):o,b={i:p,v,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var M=document.createDocumentFragment();M.append(t=qr())}return b.e=qe(()=>l(t,v,p,c),Bu),b.e.prev=n&&n.e,b.e.next=r&&r.e,n===null?f||(e.first=b):(n.next=b,n.e.next=b.e),r!==null&&(r.prev=b,r.e.prev=b.e),b}finally{}}function ka(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var o=fi(s);i.before(s),s=o}}function ln(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}const Bs=[...` 	
\r\f \v\uFEFF`];function Oc(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+s;(o===0||Bs.includes(r[o-1]))&&(l===r.length||Bs.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Dc(t,e){return t==null?null:String(t)}function Tn(t,e,n,r,i,s){var o=t.__className;if(o!==n||o===void 0){var l=Oc(n,r,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(s&&i!==s)for(var u in s){var c=!!s[u];(i==null||c!==!!i[u])&&t.classList.toggle(u,c)}return s}function Mi(t,e,n,r){var i=t.__style;if(i!==e){var s=Dc(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const qc=Symbol("is custom element"),zc=Symbol("is html");function Us(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function O(t,e,n,r){var i=Bc(t);i[e]!==(i[e]=n)&&(e==="loading"&&(t[$u]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Uc(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Bc(t){return t.__attributes??(t.__attributes={[qc]:t.nodeName.includes("-"),[zc]:t.namespaceURI===wu})}var Ys=new Map;function Uc(t){var e=t.getAttribute("is")||t.nodeName,n=Ys.get(e);if(n)return n;Ys.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=xu(i);for(var o in r)r[o].set&&n.push(o);i=Eo(i)}return n}function Yc(t,e,n=e){var r=new WeakSet;dc(t,"input",async i=>{var s=i?t.defaultValue:t.value;if(s=Ea(t)?Sa(s):s,n(s),$t!==null&&r.add($t),await Ec(),s!==(s=e())){var o=t.selectionStart,l=t.selectionEnd;t.value=s??"",l!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(l,t.value.length))}}),zr(e)==null&&t.value&&(n(Ea(t)?Sa(t.value):t.value),$t!==null&&r.add($t)),as(()=>{var i=e();if(t===document.activeElement){var s=Ii??$t;if(r.has(s))return}Ea(t)&&i===Sa(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Ea(t){var e=t.type;return e==="number"||e==="range"}function Sa(t){return t===""?null:+t}function Vs(t,e){return t===e||(t==null?void 0:t[Zr])===e}function Vc(t={},e,n,r){return mc(()=>{var i,s;return as(()=>{i=s,s=[],zr(()=>{t!==n(...s)&&(e(t,...s),i&&Vs(n(...i),t)&&e(null,...i))})}),()=>{Dr(()=>{s&&Vs(n(...s),t)&&e(null,...s)})}}),t}function Hs(t){return function(...e){var n=e[0];return n.preventDefault(),t==null?void 0:t.apply(this,e)}}let Ni=!1;function Hc(t){var e=Ni;try{return Ni=!1,[t(),Ni]}finally{Ni=e}}function ze(t,e,n,r){var V;var i=(n&gu)!==0,s=(n&mu)!==0,o=r,l=!0,u=()=>(l&&(l=!1,o=s?zr(r):r),o),c;if(i){var f=Zr in t||Au in t;c=((V=wr(t,e))==null?void 0:V.set)??(f&&e in t?F=>t[e]=F:void 0)}var d,h=!1;i?[d,h]=Hc(()=>t[e]):d=t[e],d===void 0&&r!==void 0&&(d=u(),c&&(Lu(),c(d)));var v;if(v=()=>{var F=t[e];return F===void 0?u():(l=!0,F)},!(n&_u))return v;if(c){var p=t.$$legacy;return function(F,nt){return arguments.length>0?((!nt||p||h)&&c(nt?v():F),F):v()}}var b=!1,M=(n&pu?la:Fo)(()=>(b=!1,v()));i&&a(M);var B=pt;return function(F,nt){if(arguments.length>0){const U=nt?a(M):i?ge(F):F;return R(M,U),b=!0,o!==void 0&&(o=U),F}return cr&&b||B.f&ur?M.v:a(M)}}function Fi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jc(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sl(t){let e,n,r;t.length!==2?(e=Fi,n=(l,u)=>Fi(t(l),u),r=(l,u)=>t(l)-u):(e=t===Fi||t===jc?t:Xc,n=t,r=t);function i(l,u,c=0,f=l.length){if(c<f){if(e(u,u)!==0)return f;do{const d=c+f>>>1;n(l[d],u)<0?c=d+1:f=d}while(c<f)}return c}function s(l,u,c=0,f=l.length){if(c<f){if(e(u,u)!==0)return f;do{const d=c+f>>>1;n(l[d],u)<=0?c=d+1:f=d}while(c<f)}return c}function o(l,u,c=0,f=l.length){const d=i(l,u,c,f-1);return d>c&&r(l[d-1],u)>-r(l[d],u)?d-1:d}return{left:i,center:o,right:s}}function Xc(){return 0}function Kc(t){return t===null?NaN:+t}const Gc=sl(Fi),Wc=Gc.right;sl(Kc).center;class js extends Map{constructor(e,n=Jc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Xs(this,e))}has(e){return super.has(Xs(this,e))}set(e,n){return super.set(Zc(this,e),n)}delete(e){return super.delete(Qc(this,e))}}function Xs({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Zc({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Qc({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Jc(t){return t!==null&&typeof t=="object"?t.valueOf():t}const tf=Math.sqrt(50),ef=Math.sqrt(10),nf=Math.sqrt(2);function Vi(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=tf?10:s>=ef?5:s>=nf?2:1;let l,u,c;return i<0?(c=Math.pow(10,-i)/o,l=Math.round(t*c),u=Math.round(e*c),l/c<t&&++l,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*o,l=Math.round(t/c),u=Math.round(e/c),l*c<t&&++l,u*c>e&&--u),u<l&&.5<=n&&n<2?Vi(t,e,n*2):[l,u,c]}function ol(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?Vi(e,t,n):Vi(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(o<0)for(let c=0;c<l;++c)u[c]=(s-c)/-o;else for(let c=0;c<l;++c)u[c]=(s-c)*o;else if(o<0)for(let c=0;c<l;++c)u[c]=(i+c)/-o;else for(let c=0;c<l;++c)u[c]=(i+c)*o;return u}function Fa(t,e,n){return e=+e,t=+t,n=+n,Vi(t,e,n)[2]}function rf(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Fa(e,t,n):Fa(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function af(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var sf={value:()=>{}};function ll(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Oi(n)}function Oi(t){this._=t}function of(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Oi.prototype=ll.prototype={constructor:Oi,on:function(t,e){var n=this._,r=of(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=lf(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Ks(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ks(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Oi(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function lf(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ks(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=sf,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Oa="http://www.w3.org/1999/xhtml";const Gs={svg:"http://www.w3.org/2000/svg",xhtml:Oa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function da(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Gs.hasOwnProperty(e)?{space:Gs[e],local:t}:t}function uf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Oa&&e.documentElement.namespaceURI===Oa?e.createElement(t):e.createElementNS(n,t)}}function cf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ul(t){var e=da(t);return(e.local?cf:uf)(e)}function ff(){}function ls(t){return t==null?ff:function(){return this.querySelector(t)}}function df(t){typeof t!="function"&&(t=ls(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,c,f=0;f<o;++f)(u=s[f])&&(c=t.call(u,u.__data__,f,s))&&("__data__"in u&&(c.__data__=u.__data__),l[f]=c);return new tn(r,this._parents)}function hf(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function vf(){return[]}function cl(t){return t==null?vf:function(){return this.querySelectorAll(t)}}function pf(t){return function(){return hf(t.apply(this,arguments))}}function _f(t){typeof t=="function"?t=pf(t):t=cl(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&(r.push(t.call(u,u.__data__,c,o)),i.push(u));return new tn(r,i)}function fl(t){return function(){return this.matches(t)}}function dl(t){return function(e){return e.matches(t)}}var gf=Array.prototype.find;function mf(t){return function(){return gf.call(this.children,t)}}function yf(){return this.firstElementChild}function wf(t){return this.select(t==null?yf:mf(typeof t=="function"?t:dl(t)))}var bf=Array.prototype.filter;function xf(){return Array.from(this.children)}function kf(t){return function(){return bf.call(this.children,t)}}function Ef(t){return this.selectAll(t==null?xf:kf(typeof t=="function"?t:dl(t)))}function Sf(t){typeof t!="function"&&(t=fl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,c=0;c<o;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new tn(r,this._parents)}function hl(t){return new Array(t.length)}function Mf(){return new tn(this._enter||this._groups.map(hl),this._parents)}function Hi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Hi.prototype={constructor:Hi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Nf(t){return function(){return t}}function Af(t,e,n,r,i,s){for(var o=0,l,u=e.length,c=s.length;o<c;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new Hi(t,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function $f(t,e,n,r,i,s,o){var l,u,c=new Map,f=e.length,d=s.length,h=new Array(f),v;for(l=0;l<f;++l)(u=e[l])&&(h[l]=v=o.call(u,u.__data__,l,e)+"",c.has(v)?i[l]=u:c.set(v,u));for(l=0;l<d;++l)v=o.call(t,s[l],l,s)+"",(u=c.get(v))?(r[l]=u,u.__data__=s[l],c.delete(v)):n[l]=new Hi(t,s[l]);for(l=0;l<f;++l)(u=e[l])&&c.get(h[l])===u&&(i[l]=u)}function Tf(t){return t.__data__}function Cf(t,e){if(!arguments.length)return Array.from(this,Tf);var n=e?$f:Af,r=this._parents,i=this._groups;typeof t!="function"&&(t=Nf(t));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var f=r[c],d=i[c],h=d.length,v=If(t.call(f,f&&f.__data__,c,r)),p=v.length,b=l[c]=new Array(p),M=o[c]=new Array(p),B=u[c]=new Array(h);n(f,d,b,M,B,v,e);for(var V=0,F=0,nt,U;V<p;++V)if(nt=b[V]){for(V>=F&&(F=V+1);!(U=M[F])&&++F<p;);nt._next=U||null}}return o=new tn(o,r),o._enter=l,o._exit=u,o}function If(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Rf(){return new tn(this._exit||this._groups.map(hl),this._parents)}function Pf(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Lf(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var c=n[u],f=r[u],d=c.length,h=l[u]=new Array(d),v,p=0;p<d;++p)(v=c[p]||f[p])&&(h[p]=v);for(;u<i;++u)l[u]=n[u];return new tn(l,this._parents)}function Ff(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Of(t){t||(t=Df);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=i[s]=new Array(l),c,f=0;f<l;++f)(c=o[f])&&(u[f]=c);u.sort(e)}return new tn(i,this._parents).order()}function Df(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function qf(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function zf(){return Array.from(this)}function Bf(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Uf(){let t=0;for(const e of this)++t;return t}function Yf(){return!this.node()}function Vf(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function Hf(t){return function(){this.removeAttribute(t)}}function jf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xf(t,e){return function(){this.setAttribute(t,e)}}function Kf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Wf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Zf(t,e){var n=da(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?jf:Hf:typeof e=="function"?n.local?Wf:Gf:n.local?Kf:Xf)(n,e))}function vl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Qf(t){return function(){this.style.removeProperty(t)}}function Jf(t,e,n){return function(){this.style.setProperty(t,e,n)}}function td(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ed(t,e,n){return arguments.length>1?this.each((e==null?Qf:typeof e=="function"?td:Jf)(t,e,n??"")):Cr(this.node(),t)}function Cr(t,e){return t.style.getPropertyValue(e)||vl(t).getComputedStyle(t,null).getPropertyValue(e)}function nd(t){return function(){delete this[t]}}function rd(t,e){return function(){this[t]=e}}function id(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ad(t,e){return arguments.length>1?this.each((e==null?nd:typeof e=="function"?id:rd)(t,e)):this.node()[t]}function pl(t){return t.trim().split(/^|\s+/)}function us(t){return t.classList||new _l(t)}function _l(t){this._node=t,this._names=pl(t.getAttribute("class")||"")}_l.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function gl(t,e){for(var n=us(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ml(t,e){for(var n=us(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function sd(t){return function(){gl(this,t)}}function od(t){return function(){ml(this,t)}}function ld(t,e){return function(){(e.apply(this,arguments)?gl:ml)(this,t)}}function ud(t,e){var n=pl(t+"");if(arguments.length<2){for(var r=us(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ld:e?sd:od)(n,e))}function cd(){this.textContent=""}function fd(t){return function(){this.textContent=t}}function dd(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function hd(t){return arguments.length?this.each(t==null?cd:(typeof t=="function"?dd:fd)(t)):this.node().textContent}function vd(){this.innerHTML=""}function pd(t){return function(){this.innerHTML=t}}function _d(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function gd(t){return arguments.length?this.each(t==null?vd:(typeof t=="function"?_d:pd)(t)):this.node().innerHTML}function md(){this.nextSibling&&this.parentNode.appendChild(this)}function yd(){return this.each(md)}function wd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bd(){return this.each(wd)}function xd(t){var e=typeof t=="function"?t:ul(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function kd(){return null}function Ed(t,e){var n=typeof t=="function"?t:ul(t),r=e==null?kd:typeof e=="function"?e:ls(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Sd(){var t=this.parentNode;t&&t.removeChild(this)}function Md(){return this.each(Sd)}function Nd(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ad(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $d(t){return this.select(t?Ad:Nd)}function Td(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Cd(t){return function(e){t.call(this,e,this.__data__)}}function Id(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Rd(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Pd(t,e,n){return function(){var r=this.__on,i,s=Cd(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ld(t,e,n){var r=Id(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,f;u<c;++u)for(i=0,f=l[u];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(l=e?Pd:Rd,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function yl(t,e,n){var r=vl(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Fd(t,e){return function(){return yl(this,t,e)}}function Od(t,e){return function(){return yl(this,t,e.apply(this,arguments))}}function Dd(t,e){return this.each((typeof e=="function"?Od:Fd)(t,e))}function*qd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var zd=[null];function tn(t,e){this._groups=t,this._parents=e}function di(){return new tn([[document.documentElement]],zd)}function Bd(){return this}tn.prototype=di.prototype={constructor:tn,select:df,selectAll:_f,selectChild:wf,selectChildren:Ef,filter:Sf,data:Cf,enter:Mf,exit:Rf,join:Pf,merge:Lf,selection:Bd,order:Ff,sort:Of,call:qf,nodes:zf,node:Bf,size:Uf,empty:Yf,each:Vf,attr:Zf,style:ed,property:ad,classed:ud,text:hd,html:gd,raise:yd,lower:bd,append:xd,insert:Ed,remove:Md,clone:$d,datum:Td,on:Ld,dispatch:Dd,[Symbol.iterator]:qd};function cs(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wl(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hi(){}var ri=.7,ji=1/ri,kr="\\s*([+-]?\\d+)\\s*",ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ud=/^#([0-9a-f]{3,8})$/,Yd=new RegExp(`^rgb\\(${kr},${kr},${kr}\\)$`),Vd=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),Hd=new RegExp(`^rgba\\(${kr},${kr},${kr},${ii}\\)$`),jd=new RegExp(`^rgba\\(${dn},${dn},${dn},${ii}\\)$`),Xd=new RegExp(`^hsl\\(${ii},${dn},${dn}\\)$`),Kd=new RegExp(`^hsla\\(${ii},${dn},${dn},${ii}\\)$`),Ws={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cs(hi,sr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Zs,formatHex:Zs,formatHex8:Gd,formatHsl:Wd,formatRgb:Qs,toString:Qs});function Zs(){return this.rgb().formatHex()}function Gd(){return this.rgb().formatHex8()}function Wd(){return bl(this).formatHsl()}function Qs(){return this.rgb().formatRgb()}function sr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ud.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Js(e):n===3?new ye(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ai(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ai(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yd.exec(t))?new ye(e[1],e[2],e[3],1):(e=Vd.exec(t))?new ye(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hd.exec(t))?Ai(e[1],e[2],e[3],e[4]):(e=jd.exec(t))?Ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xd.exec(t))?no(e[1],e[2]/100,e[3]/100,1):(e=Kd.exec(t))?no(e[1],e[2]/100,e[3]/100,e[4]):Ws.hasOwnProperty(t)?Js(Ws[t]):t==="transparent"?new ye(NaN,NaN,NaN,0):null}function Js(t){return new ye(t>>16&255,t>>8&255,t&255,1)}function Ai(t,e,n,r){return r<=0&&(t=e=n=NaN),new ye(t,e,n,r)}function Zd(t){return t instanceof hi||(t=sr(t)),t?(t=t.rgb(),new ye(t.r,t.g,t.b,t.opacity)):new ye}function Da(t,e,n,r){return arguments.length===1?Zd(t):new ye(t,e,n,r??1)}function ye(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cs(ye,Da,wl(hi,{brighter(t){return t=t==null?ji:Math.pow(ji,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ri:Math.pow(ri,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ye(rr(this.r),rr(this.g),rr(this.b),Xi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:to,formatHex:to,formatHex8:Qd,formatRgb:eo,toString:eo}));function to(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}`}function Qd(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}${Kn((isNaN(this.opacity)?1:this.opacity)*255)}`}function eo(){const t=Xi(this.opacity);return`${t===1?"rgb(":"rgba("}${rr(this.r)}, ${rr(this.g)}, ${rr(this.b)}${t===1?")":`, ${t})`}`}function Xi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kn(t){return t=rr(t),(t<16?"0":"")+t.toString(16)}function no(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ze(t,e,n,r)}function bl(t){if(t instanceof Ze)return new Ze(t.h,t.s,t.l,t.opacity);if(t instanceof hi||(t=sr(t)),!t)return new Ze;if(t instanceof Ze)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Ze(o,l,u,t.opacity)}function Jd(t,e,n,r){return arguments.length===1?bl(t):new Ze(t,e,n,r??1)}function Ze(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cs(Ze,Jd,wl(hi,{brighter(t){return t=t==null?ji:Math.pow(ji,t),new Ze(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ri:Math.pow(ri,t),new Ze(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ye(Ma(t>=240?t-240:t+120,i,r),Ma(t,i,r),Ma(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ze(ro(this.h),$i(this.s),$i(this.l),Xi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xi(this.opacity);return`${t===1?"hsl(":"hsla("}${ro(this.h)}, ${$i(this.s)*100}%, ${$i(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ro(t){return t=(t||0)%360,t<0?t+360:t}function $i(t){return Math.max(0,Math.min(1,t||0))}function Ma(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fs=t=>()=>t;function th(t,e){return function(n){return t+n*e}}function eh(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nh(t){return(t=+t)==1?xl:function(e,n){return n-e?eh(e,n,t):fs(isNaN(e)?n:e)}}function xl(t,e){var n=e-t;return n?th(t,n):fs(isNaN(t)?e:t)}const Ki=function t(e){var n=nh(e);function r(i,s){var o=n((i=Da(i)).r,(s=Da(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),c=xl(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=u(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function rh(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function ih(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ah(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=ds(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function sh(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ge(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function oh(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ds(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var qa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Na=new RegExp(qa.source,"g");function lh(t){return function(){return t}}function uh(t){return function(e){return t(e)+""}}function kl(t,e){var n=qa.lastIndex=Na.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=qa.exec(t))&&(i=Na.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Ge(r,i)})),n=Na.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?uh(u[0].x):lh(e):(e=u.length,function(c){for(var f=0,d;f<e;++f)l[(d=u[f]).i]=d.x(c);return l.join("")})}function ds(t,e){var n=typeof e,r;return e==null||n==="boolean"?fs(e):(n==="number"?Ge:n==="string"?(r=sr(e))?(e=r,Ki):kl:e instanceof sr?Ki:e instanceof Date?sh:ih(e)?rh:Array.isArray(e)?ah:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?oh:Ge)(t,e)}function ch(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var io=180/Math.PI,za={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function El(t,e,n,r,i,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*io,skewX:Math.atan(u)*io,scaleX:o,scaleY:l}}var Ti;function fh(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?za:El(e.a,e.b,e.c,e.d,e.e,e.f)}function dh(t){return t==null||(Ti||(Ti=document.createElementNS("http://www.w3.org/2000/svg","g")),Ti.setAttribute("transform",t),!(t=Ti.transform.baseVal.consolidate()))?za:(t=t.matrix,El(t.a,t.b,t.c,t.d,t.e,t.f))}function Sl(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,f,d,h,v,p){if(c!==d||f!==h){var b=v.push("translate(",null,e,null,n);p.push({i:b-4,x:Ge(c,d)},{i:b-2,x:Ge(f,h)})}else(d||h)&&v.push("translate("+d+e+h+n)}function o(c,f,d,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ge(c,f)})):f&&d.push(i(d)+"rotate("+f+r)}function l(c,f,d,h){c!==f?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ge(c,f)}):f&&d.push(i(d)+"skewX("+f+r)}function u(c,f,d,h,v,p){if(c!==d||f!==h){var b=v.push(i(v)+"scale(",null,",",null,")");p.push({i:b-4,x:Ge(c,d)},{i:b-2,x:Ge(f,h)})}else(d!==1||h!==1)&&v.push(i(v)+"scale("+d+","+h+")")}return function(c,f){var d=[],h=[];return c=t(c),f=t(f),s(c.translateX,c.translateY,f.translateX,f.translateY,d,h),o(c.rotate,f.rotate,d,h),l(c.skewX,f.skewX,d,h),u(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,h),c=f=null,function(v){for(var p=-1,b=h.length,M;++p<b;)d[(M=h[p]).i]=M.x(v);return d.join("")}}}var hh=Sl(fh,"px, ","px)","deg)"),vh=Sl(dh,", ",")",")"),Ir=0,Kr=0,jr=0,Ml=1e3,Gi,Gr,Wi=0,or=0,ha=0,ai=typeof performance=="object"&&performance.now?performance:Date,Nl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hs(){return or||(Nl(ph),or=ai.now()+ha)}function ph(){or=0}function Zi(){this._call=this._time=this._next=null}Zi.prototype=Al.prototype={constructor:Zi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?hs():+n)+(e==null?0:+e),!this._next&&Gr!==this&&(Gr?Gr._next=this:Gi=this,Gr=this),this._call=t,this._time=n,Ba()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ba())}};function Al(t,e,n){var r=new Zi;return r.restart(t,e,n),r}function _h(){hs(),++Ir;for(var t=Gi,e;t;)(e=or-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ir}function ao(){or=(Wi=ai.now())+ha,Ir=Kr=0;try{_h()}finally{Ir=0,mh(),or=0}}function gh(){var t=ai.now(),e=t-Wi;e>Ml&&(ha-=e,Wi=t)}function mh(){for(var t,e=Gi,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gi=n);Gr=t,Ba(r)}function Ba(t){if(!Ir){Kr&&(Kr=clearTimeout(Kr));var e=t-or;e>24?(t<1/0&&(Kr=setTimeout(ao,t-ai.now()-ha)),jr&&(jr=clearInterval(jr))):(jr||(Wi=ai.now(),jr=setInterval(gh,Ml)),Ir=1,Nl(ao))}}function so(t,e,n){var r=new Zi;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var yh=ll("start","end","cancel","interrupt"),wh=[],$l=0,oo=1,Ua=2,Di=3,lo=4,Ya=5,qi=6;function va(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;bh(t,n,{name:e,index:r,group:i,on:yh,tween:wh,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:$l})}function vs(t,e){var n=nn(t,e);if(n.state>$l)throw new Error("too late; already scheduled");return n}function vn(t,e){var n=nn(t,e);if(n.state>Di)throw new Error("too late; already running");return n}function nn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bh(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Al(s,0,n.time);function s(c){n.state=oo,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var f,d,h,v;if(n.state!==oo)return u();for(f in r)if(v=r[f],v.name===n.name){if(v.state===Di)return so(o);v.state===lo?(v.state=qi,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[f]):+f<e&&(v.state=qi,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[f])}if(so(function(){n.state===Di&&(n.state=lo,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Ua,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ua){for(n.state=Di,i=new Array(h=n.tween.length),f=0,d=-1;f<h;++f)(v=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=v);i.length=d+1}}function l(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Ya,1),d=-1,h=i.length;++d<h;)i[d].call(t,f);n.state===Ya&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=qi,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function xh(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Ua&&r.state<Ya,r.state=qi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function kh(t){return this.each(function(){xh(this,t)})}function Eh(t,e){var n,r;return function(){var i=vn(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Sh(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=vn(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=l;break}u===c&&i.push(l)}s.tween=i}}function Mh(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=nn(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Eh:Sh)(n,t,e))}function ps(t,e,n){var r=t._id;return t.each(function(){var i=vn(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return nn(i,r).value[e]}}function Tl(t,e){var n;return(typeof e=="number"?Ge:e instanceof sr?Ki:(n=sr(e))?(e=n,Ki):kl)(t,e)}function Nh(t){return function(){this.removeAttribute(t)}}function Ah(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $h(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function Th(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function Ch(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function Ih(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function Rh(t,e){var n=da(t),r=n==="transform"?vh:Tl;return this.attrTween(t,typeof e=="function"?(n.local?Ih:Ch)(n,r,ps(this,"attr."+t,e)):e==null?(n.local?Ah:Nh)(n):(n.local?Th:$h)(n,r,e))}function Ph(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Lh(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Fh(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Lh(t,s)),n}return i._value=e,i}function Oh(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Ph(t,s)),n}return i._value=e,i}function Dh(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=da(t);return this.tween(n,(r.local?Fh:Oh)(r,e))}function qh(t,e){return function(){vs(this,t).delay=+e.apply(this,arguments)}}function zh(t,e){return e=+e,function(){vs(this,t).delay=e}}function Bh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?qh:zh)(e,t)):nn(this.node(),e).delay}function Uh(t,e){return function(){vn(this,t).duration=+e.apply(this,arguments)}}function Yh(t,e){return e=+e,function(){vn(this,t).duration=e}}function Vh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Uh:Yh)(e,t)):nn(this.node(),e).duration}function Hh(t,e){if(typeof e!="function")throw new Error;return function(){vn(this,t).ease=e}}function jh(t){var e=this._id;return arguments.length?this.each(Hh(e,t)):nn(this.node(),e).ease}function Xh(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;vn(this,t).ease=n}}function Kh(t){if(typeof t!="function")throw new Error;return this.each(Xh(this._id,t))}function Gh(t){typeof t!="function"&&(t=fl(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,c=0;c<o;++c)(u=s[c])&&t.call(u,u.__data__,c,s)&&l.push(u);return new En(r,this._parents,this._name,this._id)}function Wh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],c=n[l],f=u.length,d=o[l]=new Array(f),h,v=0;v<f;++v)(h=u[v]||c[v])&&(d[v]=h);for(;l<r;++l)o[l]=e[l];return new En(o,this._parents,this._name,this._id)}function Zh(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Qh(t,e,n){var r,i,s=Zh(e)?vs:vn;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function Jh(t,e){var n=this._id;return arguments.length<2?nn(this.node(),n).on.on(t):this.each(Qh(n,t,e))}function tv(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ev(){return this.on("end.remove",tv(this._id))}function nv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ls(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,c=s[o]=new Array(u),f,d,h=0;h<u;++h)(f=l[h])&&(d=t.call(f,f.__data__,h,l))&&("__data__"in f&&(d.__data__=f.__data__),c[h]=d,va(c[h],e,n,h,c,nn(f,n)));return new En(s,this._parents,e,n)}function rv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=cl(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],c=u.length,f,d=0;d<c;++d)if(f=u[d]){for(var h=t.call(f,f.__data__,d,u),v,p=nn(f,n),b=0,M=h.length;b<M;++b)(v=h[b])&&va(v,e,n,b,h,p);s.push(h),o.push(f)}return new En(s,o,e,n)}var iv=di.prototype.constructor;function av(){return new iv(this._groups,this._parents)}function sv(t,e){var n,r,i;return function(){var s=Cr(this,t),o=(this.style.removeProperty(t),Cr(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Cl(t){return function(){this.style.removeProperty(t)}}function ov(t,e,n){var r,i=n+"",s;return function(){var o=Cr(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function lv(t,e,n){var r,i,s;return function(){var o=Cr(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Cr(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function uv(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var u=vn(this,t),c=u.on,f=u.value[s]==null?l||(l=Cl(e)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(o,i=f),u.on=r}}function cv(t,e,n){var r=(t+="")=="transform"?hh:Tl;return e==null?this.styleTween(t,sv(t,r)).on("end.style."+t,Cl(t)):typeof e=="function"?this.styleTween(t,lv(t,r,ps(this,"style."+t,e))).each(uv(this._id,t)):this.styleTween(t,ov(t,r,e),n).on("end.style."+t,null)}function fv(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function dv(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&fv(t,o,n)),r}return s._value=e,s}function hv(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,dv(t,e,n??""))}function vv(t){return function(){this.textContent=t}}function pv(t){return function(){var e=t(this);this.textContent=e??""}}function _v(t){return this.tween("text",typeof t=="function"?pv(ps(this,"text",t)):vv(t==null?"":t+""))}function gv(t){return function(e){this.textContent=t.call(this,e)}}function mv(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&gv(i)),e}return r._value=t,r}function yv(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,mv(t))}function wv(){for(var t=this._name,e=this._id,n=Il(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,c=0;c<l;++c)if(u=o[c]){var f=nn(u,e);va(u,t,n,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new En(r,this._parents,t,n)}function bv(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var c=vn(this,r),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),c.on=e}),i===0&&s()})}var xv=0;function En(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Il(){return++xv}var bn=di.prototype;En.prototype={constructor:En,select:nv,selectAll:rv,selectChild:bn.selectChild,selectChildren:bn.selectChildren,filter:Gh,merge:Wh,selection:av,transition:wv,call:bn.call,nodes:bn.nodes,node:bn.node,size:bn.size,empty:bn.empty,each:bn.each,on:Jh,attr:Rh,attrTween:Dh,style:cv,styleTween:hv,text:_v,textTween:yv,remove:ev,tween:Mh,delay:Bh,duration:Vh,ease:jh,easeVarying:Kh,end:bv,[Symbol.iterator]:bn[Symbol.iterator]};function kv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ev={time:null,delay:0,duration:250,ease:kv};function Sv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Mv(t){var e,n;t instanceof En?(e=t._id,t=t._name):(e=Il(),(n=Ev).time=hs(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,c=0;c<l;++c)(u=o[c])&&va(u,t,e,c,o,n||Sv(u,e));return new En(r,this._parents,t,e)}di.prototype.interrupt=kh;di.prototype.transition=Mv;const Va=Math.PI,Ha=2*Va,Xn=1e-6,Nv=Ha-Xn;function Rl(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Av(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Rl;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $v{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Rl:Av(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=r-e,c=i-n,f=o-e,d=l-n,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Xn)if(!(Math.abs(d*u-c*f)>Xn)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,p=i-l,b=u*u+c*c,M=v*v+p*p,B=Math.sqrt(b),V=Math.sqrt(h),F=s*Math.tan((Va-Math.acos((b+h-M)/(2*B*V)))/2),nt=F/V,U=F/B;Math.abs(nt-1)>Xn&&this._append`L${e+nt*f},${n+nt*d}`,this._append`A${s},${s},0,0,${+(d*v>f*p)},${this._x1=e+U*u},${this._y1=n+U*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),c=e+l,f=n+u,d=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Xn||Math.abs(this._y1-f)>Xn)&&this._append`L${c},${f}`,r&&(h<0&&(h=h%Ha+Ha),h>Nv?this._append`A${r},${r},0,1,${d},${e-l},${n-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=f}`:h>Xn&&this._append`A${r},${r},0,${+(h>=Va)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Tv(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rr(t){return t=Qi(Math.abs(t)),t?t[1]:NaN}function Cv(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Iv(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Rv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ji(t){if(!(e=Rv.exec(t)))throw new Error("invalid format: "+t);var e;return new _s({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ji.prototype=_s.prototype;function _s(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pv(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Pl;function Lv(t,e){var n=Qi(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Pl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Qi(t,Math.max(0,e+s-1))[0]}function uo(t,e){var n=Qi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const co={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Tv,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uo(t*100,e),r:uo,s:Lv,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fo(t){return t}var ho=Array.prototype.map,vo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fv(t){var e=t.grouping===void 0||t.thousands===void 0?fo:Cv(ho.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?fo:Iv(ho.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Ji(d);var h=d.fill,v=d.align,p=d.sign,b=d.symbol,M=d.zero,B=d.width,V=d.comma,F=d.precision,nt=d.trim,U=d.type;U==="n"?(V=!0,U="g"):co[U]||(F===void 0&&(F=12),nt=!0,U="g"),(M||h==="0"&&v==="=")&&(M=!0,h="0",v="=");var H=b==="$"?n:b==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",G=b==="$"?r:/[%p]/.test(U)?o:"",ct=co[U],Ot=/[defgprs%]/.test(U);F=F===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function dt(Z){var it=H,S=G,ot,at,St;if(U==="c")S=ct(Z)+S,Z="";else{Z=+Z;var Dt=Z<0||1/Z<0;if(Z=isNaN(Z)?u:ct(Math.abs(Z),F),nt&&(Z=Pv(Z)),Dt&&+Z==0&&p!=="+"&&(Dt=!1),it=(Dt?p==="("?p:l:p==="-"||p==="("?"":p)+it,S=(U==="s"?vo[8+Pl/3]:"")+S+(Dt&&p==="("?")":""),Ot){for(ot=-1,at=Z.length;++ot<at;)if(St=Z.charCodeAt(ot),48>St||St>57){S=(St===46?i+Z.slice(ot+1):Z.slice(ot))+S,Z=Z.slice(0,ot);break}}}V&&!M&&(Z=e(Z,1/0));var k=it.length+Z.length+S.length,A=k<B?new Array(B-k+1).join(h):"";switch(V&&M&&(Z=e(A+Z,A.length?B-S.length:1/0),A=""),v){case"<":Z=it+Z+S+A;break;case"=":Z=it+A+Z+S;break;case"^":Z=A.slice(0,k=A.length>>1)+it+Z+S+A.slice(k);break;default:Z=A+it+Z+S;break}return s(Z)}return dt.toString=function(){return d+""},dt}function f(d,h){var v=c((d=Ji(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Rr(h)/3)))*3,b=Math.pow(10,-p),M=vo[8+p/3];return function(B){return v(b*B)+M}}return{format:c,formatPrefix:f}}var Ci,Ll,Fl;Ov({thousands:",",grouping:[3],currency:["$",""]});function Ov(t){return Ci=Fv(t),Ll=Ci.format,Fl=Ci.formatPrefix,Ci}function Dv(t){return Math.max(0,-Rr(Math.abs(t)))}function qv(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rr(e)/3)))*3-Rr(Math.abs(t)))}function zv(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rr(e)-Rr(t))+1}function gs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const po=Symbol("implicit");function Ol(){var t=new js,e=[],n=[],r=po;function i(s){let o=t.get(s);if(o===void 0){if(r!==po)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new js;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Ol(e,n).unknown(r)},gs.apply(i,arguments),i}function Dl(){var t=Ol().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,u=0,c=0,f=.5;delete t.unknown;function d(){var h=e().length,v=i<r,p=v?i:r,b=v?r:i;s=(b-p)/Math.max(1,h-u+c*2),l&&(s=Math.floor(s)),p+=(b-p-s*(h-u))*f,o=s*(1-u),l&&(p=Math.round(p),o=Math.round(o));var M=af(h).map(function(B){return p+s*B});return n(v?M.reverse():M)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,d()):l},t.padding=function(h){return arguments.length?(u=Math.min(1,c=+h),d()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),d()):u},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},t.copy=function(){return Dl(e(),[r,i]).round(l).paddingInner(u).paddingOuter(c).align(f)},gs.apply(d(),arguments)}function ql(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ql(e())},t}function Bv(){return ql(Dl.apply(null,arguments).paddingInner(1))}function Uv(t){return function(){return t}}function Yv(t){return+t}var _o=[0,1];function yr(t){return t}function ja(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Uv(isNaN(e)?NaN:.5)}function Vv(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Hv(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=ja(i,r),s=n(o,s)):(r=ja(r,i),s=n(s,o)),function(l){return s(r(l))}}function jv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=ja(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var u=Wc(t,l,1,r)-1;return s[u](i[u](l))}}function Xv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kv(){var t=_o,e=_o,n=ds,r,i,s,o=yr,l,u,c;function f(){var h=Math.min(t.length,e.length);return o!==yr&&(o=Vv(t[0],t[h-1])),l=h>2?jv:Hv,u=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(u||(u=l(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((c||(c=l(e,t.map(r),Ge)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Yv),f()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=ch,f()},d.clamp=function(h){return arguments.length?(o=h?!0:yr,f()):o!==yr},d.interpolate=function(h){return arguments.length?(n=h,f()):n},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,v){return r=h,i=v,f()}}function Gv(){return Kv()(yr,yr)}function Wv(t,e,n,r){var i=rf(t,e,n),s;switch(r=Ji(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=qv(i,o))&&(r.precision=s),Fl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=zv(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Dv(i))&&(r.precision=s-(r.type==="%")*2);break}}return Ll(r)}function Zv(t){var e=t.domain;return t.ticks=function(n){var r=e();return ol(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Wv(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],u,c,f=10;for(l<o&&(c=o,o=l,l=c,c=i,i=s,s=c);f-- >0;){if(c=Fa(o,l,n),c===u)return r[i]=o,r[s]=l,e(r);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;u=c}return t},t}function zl(){var t=Gv();return t.copy=function(){return Xv(t,zl())},gs.apply(t,arguments),Zv(t)}function mr(t){return function(){return t}}function Qv(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $v(e)}function Jv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Bl(t){this._context=t}Bl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function tp(t){return new Bl(t)}function ep(t){return t[0]}function np(t){return t[1]}function rp(t,e){var n=mr(!0),r=null,i=tp,s=null,o=Qv(l);t=typeof t=="function"?t:t===void 0?ep:mr(t),e=typeof e=="function"?e:e===void 0?np:mr(e);function l(u){var c,f=(u=Jv(u)).length,d,h=!1,v;for(r==null&&(s=i(v=o())),c=0;c<=f;++c)!(c<f&&n(d=u[c],c,u))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,c,u),+e(d,c,u));if(v)return s=null,v+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:mr(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:mr(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:mr(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}function go(t){return t<0?-1:1}function mo(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(go(s)+go(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function yo(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Aa(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function ta(t){this._context=t}ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Aa(this,this._t0,yo(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Aa(this,yo(this,n=mo(this,t,e)),n);break;default:Aa(this,this._t0,n=mo(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(ta.prototype).point=function(t,e){ta.prototype.point.call(this,e,t)};function ip(t){return new ta(t)}function Wr(t,e,n){this.k=t,this.x=e,this.y=n}Wr.prototype={constructor:Wr,scale:function(t){return t===1?this:new Wr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Wr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Wr.prototype;var ap=en('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),sp=en('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),op=en("<tspan> </tspan>"),lp=en('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),up=en('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),cp=en('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),fp=en('<path stroke-width="1.5" role="button" tabindex="0"></path>'),dp=en("<g><!></g>"),hp=z("<div> </div>"),vp=z("<div> </div>"),pp=z("<div> </div>"),_p=z('<div class="tooltip-divider svelte-idxsrp"></div>'),gp=z('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),mp=z("<div> </div>"),yp=z("<div> </div>"),wp=z("<div> </div>"),bp=z("<div> </div>"),xp=z("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),kp=z('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),Ep=z("<span> </span>"),Sp=en('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),Mp=en('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),Np=en('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),Ap=z('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),$p=z('<div class="band-legend svelte-idxsrp"></div>'),Tp=z('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),Cp=z('<div class="legend svelte-idxsrp"></div>'),Ip=z('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function Rp(t,e){Fr(e,!0);let n=ze(e,"bands",19,()=>[]),r=ze(e,"years",19,()=>[]),i=ze(e,"maxFieldSize",3,0),s=ze(e,"yMode",3,"relative"),o=ze(e,"showConductorMarkers",3,!0);const l={top:24,right:48,bottom:48,left:72},u=880,c=360,f={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},d=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],h=["circle","square","triangle"],v=6,p=24,b=26,M=30,B=l.top+12,V=c-l.bottom-22,F=10,nt=6,U=[0,1,2,3];let H=yt(null),G=yt(ge({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),ct=null,Ot=null,dt=yt(null),Z=yt(0),it=yt(0);const S=()=>o()&&n().length===1;function ot(m){if(m.absolute_position==null)return 0;const g=m.field_size??a(He)??i()??1;return g?m.absolute_position/g*100:0}function at(m){return s()==="relative"?ot(m):m.absolute_position??0}function St(m){const g=m.pieces??m.pieces,P=Array.isArray(g)?g.map(C=>`${C}`.trim()).filter(Boolean):g!=null&&`${g}`.trim().length?[`${g}`.trim()]:[],D={...m,pieces:P},q=m;return q.band_name!=null&&(D.band_name=q.band_name),Array.isArray(q.aggregate_entries)&&q.aggregate_entries.length>0&&(D.aggregate_entries=q.aggregate_entries.map(C=>St(C))),D}function Dt(m){return m.map(g=>St(g))}function k(m){const g=[];let P=0;if(m.length>0){const D=m[0];D.conductor&&(g.push({year:D.year,conductor:D.conductor,lane:P}),P+=1)}for(let D=1;D<m.length;D+=1){const q=m[D-1],C=m[D];q.conductor&&C.conductor&&q.conductor!==C.conductor&&(g.push({year:C.year,conductor:C.conductor,lane:P}),P+=1)}return g}function A(){if(!a(H))return;const m=a(H).getBoundingClientRect(),g=a(H).parentElement;if(!g)return;const P=g.getBoundingClientRect();if(m.width===0||m.height===0)return;const D={offsetX:m.left-P.left,scaleX:m.width/u,offsetY:m.top-P.top,scaleY:m.height/c};(Math.abs(D.offsetX-a(G).offsetX)>.1||Math.abs(D.scaleX-a(G).scaleX)>.001||Math.abs(D.offsetY-a(G).offsetY)>.1||Math.abs(D.scaleY-a(G).scaleY)>.001)&&R(G,D,!0)}function tt(){!ct||!a(H)||Ot!==a(H)&&(Ot&&ct.unobserve(Ot),ct.observe(a(H)),Ot=a(H))}Yi(()=>{typeof ResizeObserver<"u"&&(ct=new ResizeObserver(()=>A())),tt(),A(),window.addEventListener("resize",A)}),ti(()=>{tt(),A()}),Rc(()=>{ct==null||ct.disconnect(),window.removeEventListener("resize",A)});function _t(m){return U[m%U.length]??0}function Ct(m,g){const P=a(se);if(!P)return{anchor:"middle",dx:0};const D=P(m.year)??l.left,q=48,C=l.left-q,wt=u-l.right+q,gt=Math.max(g,1)*nt/2;return D+gt>wt?{anchor:"end",dx:0}:D-gt<C?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function Mt(m){const g=m==null?void 0:m.trim();if(!g)return[""];const P=g.split(/\s+/);if(P.length<=1)return[g];const D=P.pop(),q=P.join(" ");return q?[q,D]:[D]}function Wt(m,g,P){const D=m.find(ft=>ft.year===g.year),q=_t(g.lane);if(!D)return l.top-8+q*(p+6);const C=a(jt)(at(D)),wt=P??Mt(g.conductor),xt=(Math.max(wt.length,1)-1)*6,Yt=m.filter(ft=>ft.year>=g.year-1&&ft.year<=g.year+1).map(ft=>({year:ft.year,y:a(jt)(at(ft))})).sort((ft,bt)=>ft.year-bt.year),At=Yt.findIndex(ft=>ft.year===g.year);let zt=!0;if(At>0&&At<Yt.length-1){const ft=Yt[At-1],bt=Yt[At+1],te=Math.abs(C-ft.y),Ne=Math.abs(C-bt.y);(te<b+4||Ne<b+4)&&(zt=!1)}const vt=p+10,Tt=b+q*vt+xt,Vt=C-Tt;if(zt&&Vt>B)return Vt;const ie=M+q*vt+xt,Pt=C+ie;if(Pt<=V)return Pt;const Ht=V-q*vt;return Ht>B?Ht:Math.max(B,Math.min(V,C))}function xe(m,g,P){return`M ${m} ${g-P} L ${m+P} ${g+P} L ${m-P} ${g+P} Z`}function ce(m){if(!m)return Number.POSITIVE_INFINITY;const g=m.trim().toLowerCase();if(g==="elite")return 0;const P=g.match(/(\d+)/);return P?parseInt(P[1],10):Number.POSITIVE_INFINITY}function Ie(m,g){const P=ce(m),D=ce(g);return P!==D?P-D:m.localeCompare(g)}let Ve=L(()=>n().map(m=>({band:m,entries:Dt(m.entries)}))),ke=L(()=>a(Ve).reduce((m,g)=>(m.push(...g.entries),m),[])),Ee=L(()=>(()=>{if(r().length)return r();if(!a(ke).length)return[0];const m=new Set(a(ke).map(g=>g.year));return Array.from(m).sort((g,P)=>g-P)})()),se=L(()=>Bv().domain(a(Ee)).range([l.left,u-l.right])),He=L(()=>i()||(a(ke).length?Math.max(...a(ke).map(m=>m.field_size??0)):1)),rn=L(()=>s()==="relative"?[100,0]:[a(He)+1,0]),jt=L(()=>zl().domain(a(rn)).range([c-l.bottom,l.top])),Se=L(()=>a(Ve).map((m,g)=>{const P=[...m.entries].sort((gt,xt)=>gt.year-xt.year),D=a(Ee).map(gt=>P.find(xt=>xt.year===gt)??null),C=rp().defined(gt=>gt!==null).x(gt=>gt?a(se)(gt.year)??l.left:l.left).y(gt=>gt?a(jt)(at(gt)):a(jt)(a(rn)[1])).curve(ip)(D)??void 0,wt=S()?k(P):[];return{band:m.band,entries:P,timeline:D,pathData:C,conductorChanges:wt,color:d[g%d.length],shape:h[g%h.length]}})),Bn=L(()=>S()&&a(Se).length?a(Se)[0].conductorChanges.map(m=>{const g=Mt(m.conductor),P=g.reduce((q,C)=>Math.max(q,C.length),0),D=Ct(m,P);return{...m,...D,y:Wt(a(Se)[0].entries,m,g),labelLines:g}}):[]),Nn=L(()=>(()=>{if(s()==="relative")return Array.from({length:11},(m,g)=>g*10);{const m=Array.from(new Set(ol(1,a(He),6).map(g=>Math.round(g)))).filter(g=>g>=1).sort((g,P)=>g-P);return m.includes(1)?m:[1,...m]}})()),It=L(()=>new Set(a(ke).map(m=>m.year))),Rt=L(()=>a(Ee).length>30?5:a(Ee).length>18?3:1),ht=L(()=>a(Ee).filter((m,g)=>g===0||g===a(Ee).length-1||m===2019?!0:m%a(Rt)===0)),qt=L(()=>a(ht).map(m=>{const g=a(se)(m)??l.left,P=a(G).offsetX+g*a(G).scaleX;return{year:m,x:P,inactive:!a(It).has(m)}})),Bt=L(()=>a(G).offsetY+(c-l.bottom)*a(G).scaleY+F),Xt=L(()=>Array.from(new Set(a(ke).map(m=>m.division))).filter(m=>typeof m=="string"&&m.length>0).sort(Ie));const Jt=()=>a(Xt).length>0;function Nt(m,g,P,D){const q=m.currentTarget,C=q.ownerSVGElement;if(!C)return;const wt=C.getBoundingClientRect();if(m instanceof MouseEvent)R(Z,m.clientX-wt.left),R(it,m.clientY-wt.top);else{const gt=q.getBoundingClientRect();R(Z,gt.left+gt.width/2-wt.left),R(it,gt.top+gt.height/2-wt.top)}R(dt,{entry:g,bandName:P,lineColor:D},!0)}function Zt(){R(dt,null)}function Ut(m){return m.aggregate_entries}var Me=Ip(),an=Et(Me),Re=w(an);O(Re,"viewBox",`0 0 ${u} ${c}`);var Un=I(w(Re));Gt(Un,21,()=>a(Nn),Qt,(m,g)=>{var P=ap(),D=Et(P),q=I(D),C=w(q);X((wt,gt,xt)=>{O(D,"x1",l.left),O(D,"x2",u-l.right),O(D,"y1",wt),O(D,"y2",gt),O(q,"x",l.left-12),O(q,"y",xt),Y(C,s()==="relative"?`${a(g)}%`:`#${a(g)}`)},[()=>a(jt)(a(g)),()=>a(jt)(a(g)),()=>a(jt)(a(g))+4]),E(m,P)});var pn=I(Un);Gt(pn,17,()=>a(Se),Qt,(m,g)=>{var P=ne(),D=Et(P);{var q=C=>{var wt=sp();X(()=>{O(wt,"d",a(g).pathData),O(wt,"stroke",a(g).color)}),E(C,wt)};Q(D,C=>{a(g).pathData&&C(q)})}E(m,P)});var _n=I(pn);{var An=m=>{var g=ne(),P=Et(g);Gt(P,17,()=>a(Bn),Qt,(D,q)=>{var C=ne(),wt=Et(C);{var gt=xt=>{var Yt=ne(),At=Et(Yt);Pc(At,()=>`${a(q).year}-${a(q).conductor}`,zt=>{var vt=lp(),Tt=w(vt),Vt=I(Tt);Gt(Vt,21,()=>a(q).labelLines,Qt,(ie,Pt,Ht,ft)=>{var bt=op();O(bt,"dy",Ht===0?0:"1.1em");var te=w(bt);X(Ne=>{O(bt,"x",Ne),Y(te,a(Pt))},[()=>a(se)(a(q).year)]),E(ie,bt)}),X((ie,Pt,Ht)=>{O(Tt,"x1",ie),O(Tt,"x2",Pt),O(Tt,"y1",l.top),O(Tt,"y2",c-l.bottom),O(Vt,"x",Ht),O(Vt,"y",a(q).y),O(Vt,"text-anchor",a(q).anchor),O(Vt,"dx",a(q).dx)},[()=>a(se)(a(q).year),()=>a(se)(a(q).year),()=>a(se)(a(q).year)]),E(zt,vt)}),E(xt,Yt)};Q(wt,xt=>{a(se)(a(q).year)!==void 0&&xt(gt)})}E(D,C)}),E(m,g)};Q(_n,m=>{S()&&m(An)})}var Br=I(_n);Gt(Br,17,()=>a(Se),Qt,(m,g)=>{var P=ne(),D=Et(P);Gt(D,17,()=>a(g).entries,q=>q.year,(q,C)=>{var wt=ne(),gt=Et(wt);{var xt=Yt=>{const At=L(()=>a(se)(a(C).year)??l.left),zt=L(()=>a(jt)(at(a(C)))),vt=L(()=>(a(C).field_size??0)>0),Tt=L(()=>a(vt)?`${ot(a(C)).toFixed(1)}%`:null);var Vt=dp(),ie=w(Vt);{var Pt=ft=>{var bt=up();O(bt,"r",v),X(()=>{O(bt,"cx",a(At)),O(bt,"cy",a(zt)),O(bt,"fill",f[a(C).division]??"#f8fafc"),O(bt,"stroke",a(g).color),O(bt,"aria-label",`${a(g).band.name}: ${a(C).year} – ${a(C).division} plass ${a(C).rank} (absolutt #${a(C).absolute_position}${a(Tt)?` · relativ ${a(Tt)}`:""})${a(C).conductor?` – Dirigent: ${a(C).conductor}`:""}`)}),$e("mouseenter",bt,te=>Nt(te,a(C),a(g).band.name,a(g).color)),$e("mouseleave",bt,Zt),$e("focus",bt,te=>Nt(te,a(C),a(g).band.name,a(g).color)),$e("blur",bt,Zt),E(ft,bt)},Ht=ft=>{var bt=ne(),te=Et(bt);{var Ne=pe=>{var W=cp();O(W,"width",v*2),O(W,"height",v*2),X(()=>{O(W,"x",a(At)-v),O(W,"y",a(zt)-v),O(W,"fill",f[a(C).division]??"#f8fafc"),O(W,"stroke",a(g).color),O(W,"aria-label",`${a(g).band.name}: ${a(C).year} – ${a(C).division} plass ${a(C).rank} (absolutt #${a(C).absolute_position}${a(Tt)?` · relativ ${a(Tt)}`:""})${a(C).conductor?` – Dirigent: ${a(C).conductor}`:""}`)}),$e("mouseenter",W,lt=>Nt(lt,a(C),a(g).band.name,a(g).color)),$e("mouseleave",W,Zt),$e("focus",W,lt=>Nt(lt,a(C),a(g).band.name,a(g).color)),$e("blur",W,Zt),E(pe,W)},sn=pe=>{var W=fp();X(lt=>{O(W,"d",lt),O(W,"fill",f[a(C).division]??"#f8fafc"),O(W,"stroke",a(g).color),O(W,"aria-label",`${a(g).band.name}: ${a(C).year} – ${a(C).division} plass ${a(C).rank} (absolutt #${a(C).absolute_position}${a(Tt)?` · relativ ${a(Tt)}`:""})${a(C).conductor?` – Dirigent: ${a(C).conductor}`:""}`)},[()=>xe(a(At),a(zt),v)]),$e("mouseenter",W,lt=>Nt(lt,a(C),a(g).band.name,a(g).color)),$e("mouseleave",W,Zt),$e("focus",W,lt=>Nt(lt,a(C),a(g).band.name,a(g).color)),$e("blur",W,Zt),E(pe,W)};Q(te,pe=>{a(g).shape==="square"?pe(Ne):pe(sn,!1)},!0)}E(ft,bt)};Q(ie,ft=>{a(g).shape==="circle"?ft(Pt):ft(Ht,!1)})}E(Yt,Vt)};Q(gt,Yt=>{a(se)(a(C).year)!==void 0&&Yt(xt)})}E(q,wt)}),E(m,P)}),Vc(Re,m=>R(H,m),()=>a(H));var Yn=I(Re,2);{var Ur=m=>{const g=L(()=>Ut(a(dt).entry));var P=kp(),D=w(P),q=w(D),C=I(D,2);{var wt=xt=>{var Yt=ne(),At=Et(Yt);Gt(At,17,()=>a(g),Qt,(zt,vt,Tt)=>{var Vt=gp(),ie=Et(Vt),Pt=w(ie),Ht=w(Pt),ft=I(Pt,2),bt=w(ft),te=I(ft,2),Ne=w(te),sn=I(te,2);{var pe=le=>{const Ae=L(()=>ot(a(vt)).toFixed(1));var mn=hp(),dr=w(mn);X(()=>Y(dr,`Relativ plassering: ${a(Ae)??""}%`)),E(le,mn)};Q(sn,le=>{(a(vt).field_size??0)>0&&le(pe)})}var W=I(sn,2),lt=w(W),oe=I(W,2);{var Hn=le=>{var Ae=vp(),mn=w(Ae);X(()=>Y(mn,`Poeng: ${a(vt).points??""} / ${a(vt).max_points??""}`)),E(le,Ae)};Q(oe,le=>{a(vt).points!==null&&le(Hn)})}var vi=I(oe,2);{var pi=le=>{var Ae=pp(),mn=w(Ae);X(dr=>Y(mn,`Stykker: ${dr??""}`),[()=>a(vt).pieces.join("; ")]),E(le,Ae)};Q(vi,le=>{a(vt).pieces.length>0&&le(pi)})}var _i=I(ie,2);{var gi=le=>{var Ae=_p();E(le,Ae)};Q(_i,le=>{Tt<a(g).length-1&&le(gi)})}X(()=>{Y(Ht,a(vt).band_name??"Ukjent korps"),Y(bt,`${a(vt).division??""} · #${a(vt).rank??""}`),Y(Ne,`Absolutt plassering: #${a(vt).absolute_position??""}`),Y(lt,`Deltakere: ${a(vt).division_size??""} (div) / ${a(vt).field_size??""} (totalt)`)}),E(zt,Vt)}),E(xt,Yt)},gt=xt=>{var Yt=xp(),At=Et(Yt),zt=w(At),vt=I(At,2);{var Tt=W=>{var lt=mp(),oe=w(lt);X(()=>Y(oe,`Dirigent: ${a(dt).entry.conductor??""}`)),E(W,lt)};Q(vt,W=>{a(dt).entry.conductor&&W(Tt)})}var Vt=I(vt,2),ie=w(Vt),Pt=I(Vt,2);{var Ht=W=>{const lt=L(()=>ot(a(dt).entry).toFixed(1));var oe=yp(),Hn=w(oe);X(()=>Y(Hn,`Relativ plassering: ${a(lt)??""}%`)),E(W,oe)};Q(Pt,W=>{(a(dt).entry.field_size??0)>0&&W(Ht)})}var ft=I(Pt,2),bt=w(ft),te=I(ft,2);{var Ne=W=>{var lt=wp(),oe=w(lt);X(()=>Y(oe,`Poeng: ${a(dt).entry.points??""} / ${a(dt).entry.max_points??""}`)),E(W,lt)};Q(te,W=>{a(dt).entry.points!==null&&W(Ne)})}var sn=I(te,2);{var pe=W=>{var lt=bp(),oe=w(lt);X(Hn=>Y(oe,`Stykker: ${Hn??""}`),[()=>a(dt).entry.pieces.join("; ")]),E(W,lt)};Q(sn,W=>{a(dt).entry.pieces.length>0&&W(pe)})}X(()=>{Y(zt,`${a(dt).entry.division??""} · #${a(dt).entry.rank??""}`),Y(ie,`Absolutt plassering: #${a(dt).entry.absolute_position??""}`),Y(bt,`Deltakere: ${a(dt).entry.division_size??""} (div) / ${a(dt).entry.field_size??""} (totalt)`)}),E(xt,Yt)};Q(C,xt=>{a(g)&&a(g).length?xt(wt):xt(gt,!1)})}X(()=>{Mi(P,`left: ${a(Z)}px; top: ${a(it)}px`),Y(q,`${a(dt).entry.year??""} · ${a(dt).bandName??""}`)}),E(m,P)};Q(Yn,m=>{a(dt)&&m(Ur)})}var gn=I(Yn,2);Gt(gn,21,()=>a(qt),Qt,(m,g)=>{var P=Ep();let D;var q=w(P);X(C=>{Mi(P,`left: ${a(g).x}px`),D=Tn(P,1,"svelte-idxsrp",null,D,C),Y(q,a(g).year)},[()=>({inactive:a(g).inactive})]),E(m,P)});var Vn=I(an,2);{var fr=m=>{var g=$p();Gt(g,21,()=>a(Se),Qt,(P,D)=>{var q=Ap(),C=w(q),wt=w(C),gt=I(wt);{var xt=zt=>{var vt=Sp();X(()=>O(vt,"stroke",a(D).color)),E(zt,vt)},Yt=zt=>{var vt=ne(),Tt=Et(vt);{var Vt=Pt=>{var Ht=Mp();X(()=>O(Ht,"stroke",a(D).color)),E(Pt,Ht)},ie=Pt=>{var Ht=Np();X(ft=>{O(Ht,"d",ft),O(Ht,"stroke",a(D).color)},[()=>xe(21,7,6)]),E(Pt,Ht)};Q(Tt,Pt=>{a(D).shape==="square"?Pt(Vt):Pt(ie,!1)},!0)}E(zt,vt)};Q(gt,zt=>{a(D).shape==="circle"?zt(xt):zt(Yt,!1)})}var At=I(C);X(()=>{O(wt,"stroke",a(D).color),Y(At,` ${a(D).band.name??""}`)}),E(P,q)}),E(m,g)};Q(Vn,m=>{a(Se).length>0&&m(fr)})}var re=I(Vn,2);{var ee=m=>{var g=Cp();Gt(g,21,()=>a(Xt),Qt,(P,D)=>{var q=Tp(),C=w(q),wt=I(C);X(()=>{Mi(C,`background-color: ${f[a(D)]??"#94a3b8"}`),Y(wt,` ${a(D)??""}`)}),E(P,q)}),E(m,g)};Q(re,m=>{Jt()&&m(ee)})}X(()=>Mi(gn,`top: ${a(Bt)}px`)),E(t,Me),Or()}function Kt(t){return t.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}function Pp(t,e){const n=Number(t.target.value);R(e,Number.isNaN(n)?null:n,!0)}function Lp(t,e){R(e,t.target.value||null,!0)}var Fp=z('<p class="svelte-1e9ky18"> </p>'),Op=z('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),Dp=z('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),qp=z("<option> </option>"),zp=z("<option selected>Ingen divisjoner</option>"),Bp=z("<option> </option>"),Up=z('<span class="svelte-1e9ky18"> </span>'),Yp=z('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),Vp=z('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),Hp=z('<a class="entity-link svelte-1e9ky18"> </a>'),jp=z("<span>Ukjent</span>"),Xp=z("<span>–</span>"),Kp=z('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-1e9ky18"><span class="sr-only svelte-1e9ky18">Hør på Spotify</span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),Gp=z('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-1e9ky18"><span class="sr-only svelte-1e9ky18">Hør på Apple Music</span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),Wp=z('<span class="streaming-links svelte-1e9ky18"><!> <!></span>'),Zp=z('<span class="program-piece svelte-1e9ky18"><a class="program-link svelte-1e9ky18"> </a> <!></span> ',1),Qp=z('<tr class="svelte-1e9ky18"><td data-label="Plass" class="svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td></tr>'),Jp=z('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),t_=z('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!>',1),e_=z('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2> <!></div> <!></section>');function n_(t,e){Fr(e,!0);let n=ze(e,"dataset",3,null),r=ze(e,"bandType",3,"wind"),i=ze(e,"streamingResolver",3,void 0);const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let o=yt(null),l=yt(null),u=L(()=>n()?b(n()):new Map),c=L(()=>{var k,A;return((A=(k=n())==null?void 0:k.metadata)==null?void 0:A.years)??[]}),f=L(()=>{var k,A;return((A=(k=n())==null?void 0:k.metadata)==null?void 0:A.generated_at)??null}),d=L(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||a(o)==null||!a(u).has(a(o)))return[];const k=a(u).get(a(o))??new Map,A=n().metadata.divisions.filter(_t=>k.has(_t)),tt=Array.from(k.keys()).filter(_t=>!A.includes(_t)).sort();return[...A,...tt]})()),h=L(()=>(()=>{if(a(o)!=null&&a(l)&&a(u).has(a(o))){const k=a(u).get(a(o)),A=(a(l)&&(k==null?void 0:k.get(a(l))))??[];return V(A)}return[]})()),v=L(()=>(()=>{var k;if(a(h).length>0){const A=(k=a(h)[0])==null?void 0:k.entry,tt=(A==null?void 0:A.division_size)??a(h).length;return tt&&tt>0?tt:null}return null})()),p=L(()=>(()=>{var k;if(a(h).length>0){const A=(k=a(h)[0])==null?void 0:k.entry,tt=(A==null?void 0:A.field_size)??null;return tt&&tt>0?tt:null}return null})());function b(k){const A=new Map;if(!(k!=null&&k.bands)||!Array.isArray(k.bands))return A;for(const tt of k.bands)if(!(!tt||!tt.entries||!Array.isArray(tt.entries)))for(const _t of tt.entries){if(!_t||typeof _t.year!="number"||!_t.division)continue;let Ct=A.get(_t.year);Ct||(Ct=new Map,A.set(_t.year,Ct));const Mt=_t.division;let Wt=Ct.get(Mt);Wt||(Wt=[],Ct.set(Mt,Wt)),Wt.push({band:tt.name,entry:_t})}return A}function M(k){return k.length?a(o)&&k.includes(a(o))?a(o):k[k.length-1]??null:null}function B(k){return k.length?a(l)&&k.includes(a(l))?a(l):k[0]??null:null}function V(k){return[...k].sort((A,tt)=>{const _t=A.entry.rank??Number.POSITIVE_INFINITY,Ct=tt.entry.rank??Number.POSITIVE_INFINITY;if(_t!==Ct)return _t-Ct;const Mt=A.entry.absolute_position??Number.POSITIVE_INFINITY,Wt=tt.entry.absolute_position??Number.POSITIVE_INFINITY;return Mt!==Wt?Mt-Wt:A.band.localeCompare(tt.band)})}function F(k){return k!=null?`${k}`:"–"}function nt(k,A){if(k==null&&A==null)return"–";const tt=k==null?"–":s.format(k);return A==null,tt}function U(k){return k.map(A=>A.trim()).filter(Boolean)}function H(k,A,tt){if(typeof i()!="function")return null;try{return i()(k,A,tt)??null}catch(_t){return console.error("Kunne ikke hente streaming-lenke",_t),null}}function G(k){return!!(k!=null&&k.spotify||k!=null&&k.apple_music)}function ct(k,A,tt){var xe,ce;if(!A)return k;const _t=(xe=A.recording_title)==null?void 0:xe.trim(),Ct=(ce=A.album)==null?void 0:ce.trim(),Mt=tt==="spotify"?"Spotify":"Apple Music",Wt=_t&&_t.length>0?_t:k;return Ct&&Ct.length>0?`${Wt} • ${Ct} (${Mt})`:`${Wt} (${Mt})`}function Ot(k){if(!k)return null;const A=new Date(k);return Number.isNaN(A.getTime())?k:new Intl.DateTimeFormat("nb-NO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(A)}ti(()=>{if(n()&&a(c)&&Array.isArray(a(c))&&a(c).length>0){const k=M(a(c));a(o)!==k&&R(o,k,!0)}else R(o,null),R(l,null)}),ti(()=>{if(a(o)!=null&&a(d)&&Array.isArray(a(d))&&a(d).length>0){const k=B(a(d));a(l)!==k&&R(l,k,!0)}else a(o)!=null&&R(l,null)});let dt=L(()=>Ot(a(f)));var Z=e_(),it=w(Z),S=I(w(it),2);{var ot=k=>{var A=Fp(),tt=w(A);X(()=>Y(tt,`Data oppdatert ${a(dt)??""}`)),E(k,A)};Q(S,k=>{a(dt)&&k(ot)})}var at=I(it,2);{var St=k=>{var A=Op();E(k,A)},Dt=k=>{var A=ne(),tt=Et(A);{var _t=Mt=>{var Wt=Dp();E(Mt,Wt)},Ct=Mt=>{var Wt=t_(),xe=Et(Wt),ce=w(xe),Ie=I(w(ce),2);Ie.__change=[Pp,o],Gt(Ie,21,()=>a(c)||[],Qt,(It,Rt)=>{var ht=qp(),qt=w(ht),Bt={};X(()=>{Us(ht,a(o)===a(Rt)),Y(qt,a(Rt)),Bt!==(Bt=a(Rt))&&(ht.value=(ht.__value=a(Rt))??"")}),E(It,ht)});var Ve=I(ce,2),ke=I(w(Ve),2);ke.__change=[Lp,l];var Ee=w(ke);{var se=It=>{var Rt=zp();Rt.value=Rt.__value="",E(It,Rt)},He=It=>{var Rt=ne(),ht=Et(Rt);Gt(ht,17,()=>a(d),Qt,(qt,Bt)=>{var Xt=Bp(),Jt=w(Xt),Nt={};X(()=>{Us(Xt,a(l)===a(Bt)),Y(Jt,a(Bt)),Nt!==(Nt=a(Bt))&&(Xt.value=(Xt.__value=a(Bt))??"")}),E(qt,Xt)}),E(It,Rt)};Q(Ee,It=>{!a(d)||a(d).length===0?It(se):It(He,!1)})}var rn=I(Ve,2);{var jt=It=>{var Rt=Yp(),ht=w(Rt),qt=w(ht),Bt=I(ht,2);{var Xt=Jt=>{var Nt=Up(),Zt=w(Nt);X(()=>Y(Zt,`Totalt felt: ${a(p)??""}`)),E(Jt,Nt)};Q(Bt,Jt=>{a(p)&&Jt(Xt)})}X(()=>Y(qt,`${a(v)??""} korps`)),E(It,Rt)};Q(rn,It=>{a(v)&&It(jt)})}var Se=I(xe,2);{var Bn=It=>{var Rt=Vp();E(It,Rt)},Nn=It=>{var Rt=Jp(),ht=w(Rt),qt=I(w(ht));Gt(qt,21,()=>a(h),Qt,(Bt,Xt)=>{let Jt=()=>a(Xt).band,Nt=()=>a(Xt).entry;var Zt=Qp(),Ut=w(Zt),Me=w(Ut),an=I(Ut),Re=w(an),Un=w(Re),pn=I(an),_n=w(pn);{var An=re=>{var ee=Hp(),m=w(ee);X((g,P)=>{O(ee,"href",g),Y(m,P)},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(Kt(Nt().conductor))}`,()=>Nt().conductor.trim()]),E(re,ee)},Br=re=>{var ee=jp();E(re,ee)};Q(_n,re=>{Nt().conductor&&Nt().conductor.trim().length>0?re(An):re(Br,!1)})}var Yn=I(pn),Ur=w(Yn),gn=I(Yn),Vn=w(gn);{var fr=re=>{const ee=L(()=>U(Nt().pieces));var m=ne(),g=Et(m);{var P=q=>{var C=Xp();E(q,C)},D=q=>{var C=ne(),wt=Et(C);Gt(wt,17,()=>a(ee),Qt,(gt,xt,Yt)=>{const At=L(()=>H(Nt(),Jt(),a(xt)));var zt=Zp(),vt=Et(zt),Tt=w(vt),Vt=w(Tt),ie=I(Tt,2);{var Pt=ft=>{var bt=Wp(),te=w(bt);{var Ne=W=>{var lt=Kp();X(oe=>{O(lt,"href",a(At).spotify),O(lt,"title",oe)},[()=>ct(a(xt),a(At),"spotify")]),E(W,lt)};Q(te,W=>{var lt;(lt=a(At))!=null&&lt.spotify&&W(Ne)})}var sn=I(te,2);{var pe=W=>{var lt=Gp();X(oe=>{O(lt,"href",a(At).apple_music),O(lt,"title",oe)},[()=>ct(a(xt),a(At),"apple")]),E(W,lt)};Q(sn,W=>{var lt;(lt=a(At))!=null&&lt.apple_music&&W(pe)})}E(ft,bt)};Q(ie,ft=>{G(a(At))&&ft(Pt)})}var Ht=I(vt,1,!0);X(ft=>{O(Tt,"href",ft),Y(Vt,a(xt)),Y(Ht,Yt<a(ee).length-1?", ":"")},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(Kt(a(xt)))}`]),E(gt,zt)}),E(q,C)};Q(g,q=>{a(ee).length===0?q(P):q(D,!1)})}E(re,m)};Q(Vn,re=>{re(fr)})}X((re,ee,m)=>{Y(Me,re),O(Re,"href",ee),Y(Un,Jt()),Y(Ur,m)},[()=>F(Nt().rank),()=>`?type=${r()}&view=bands&band=${encodeURIComponent(Kt(Jt()))}`,()=>nt(Nt().points,Nt().max_points)]),E(Bt,Zt)}),E(It,Rt)};Q(Se,It=>{!a(h)||a(h).length===0?It(Bn):It(Nn,!1)})}E(Mt,Wt)};Q(tt,Mt=>{!a(c)||!a(c).length?Mt(_t):Mt(Ct,!1)},!0)}E(k,A)};Q(at,k=>{n()?k(Dt,!1):k(St)})}E(t,Z),Or()}nl(["change"]);function Ul(t){return t.replace(/\s+/g," ").trim()}const r_=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function i_(t){return t.replace(r_,"").trim()}function Xa(t){if(!t)return[];const e=i_(t);if(!e)return[];const r=e.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/·]/g,",").split(/[;,]/).map(s=>Ul(s)).filter(s=>s.length>0),i=new Map;for(const s of r){const o=s.toLowerCase();i.has(o)||i.set(o,s)}return Array.from(i.values())}var a_=z('<a class="composer-link svelte-18hgr5c"> </a> ',1),s_=z('<p class="piece-composer svelte-18hgr5c"></p>'),o_=z('<p class="piece-composer svelte-18hgr5c"> </p>'),l_=z('<a class="entity-link svelte-18hgr5c"> </a>'),u_=z("<span>Ukjent</span>"),c_=z('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Spotify</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),f_=z('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Apple Music</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),d_=z('<div class="streaming-links svelte-18hgr5c"><!> <!></div>'),h_=z('<span class="streaming-missing svelte-18hgr5c" aria-hidden="true">–</span>'),v_=z('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td><td data-label="Opptak" class="streaming-cell svelte-18hgr5c"><!></td></tr>'),p_=z('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="svelte-18hgr5c">År</th><th scope="col" class="svelte-18hgr5c">Divisjon</th><th scope="col" class="svelte-18hgr5c">Korps</th><th scope="col" class="svelte-18hgr5c">Plass</th><th scope="col" class="svelte-18hgr5c">Poeng</th><th scope="col" class="svelte-18hgr5c">Dirigent</th><th scope="col" class="streaming-column svelte-18hgr5c">Opptak</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),__=z('<section class="pieces-view svelte-18hgr5c"></section>');function g_(t,e){Fr(e,!0);let n=ze(e,"pieces",19,()=>[]),r=ze(e,"bandType",3,"wind");const i=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function s(v){return[...v].sort((p,b)=>{const M=p.entry.year-b.entry.year;if(M!==0)return M;const B=p.entry.rank??Number.POSITIVE_INFINITY,V=b.entry.rank??Number.POSITIVE_INFINITY;return B!==V?B-V:p.band.localeCompare(b.band)})}function o(v){return v.composerNames&&v.composerNames.length>0?v.composerNames:v.composer?Xa(v.composer):[]}function l(v){return v==null?"–":i.format(v)}function u(v){return v!=null?`${v}`:"–"}function c(v){return!!(v!=null&&v.spotify||v!=null&&v.apple_music)}function f(v,p,b){var nt,U;if(!p)return v;const M=(nt=p.recording_title)==null?void 0:nt.trim(),B=(U=p.album)==null?void 0:U.trim(),V=b==="spotify"?"Spotify":"Apple Music",F=M&&M.length>0?M:v;return B&&B.length>0?`${F} • ${B} (${V})`:`${F} (${V})`}let d=L(()=>n().map(v=>({...v,performances:s(v.performances)})));var h=__();Gt(h,21,()=>a(d),Qt,(v,p)=>{const b=L(()=>o(a(p)));var M=p_(),B=w(M),V=w(B),F=w(V),nt=w(F),U=I(F,2);{var H=S=>{var ot=s_();Gt(ot,21,()=>a(b),Qt,(at,St,Dt)=>{var k=a_(),A=Et(k),tt=w(A),_t=I(A,1,!0);X(Ct=>{O(A,"href",Ct),Y(tt,a(St)),Y(_t,Dt<a(b).length-1?", ":"")},[()=>`?type=${r()}&view=composers&composer=${encodeURIComponent(Kt(a(St)))}`]),E(at,k)}),E(S,ot)},G=S=>{var ot=ne(),at=Et(ot);{var St=Dt=>{var k=o_(),A=w(k);X(()=>Y(A,a(p).composer)),E(Dt,k)};Q(at,Dt=>{a(p).composer&&Dt(St)},!0)}E(S,ot)};Q(U,S=>{a(b).length>0?S(H):S(G,!1)})}var ct=I(U,2),Ot=w(ct),dt=I(B,2),Z=w(dt),it=I(w(Z));Gt(it,21,()=>a(p).performances,Qt,(S,ot)=>{const at=L(()=>{var ht;return((ht=a(ot).entry.conductor)==null?void 0:ht.trim())??""}),St=L(()=>a(at).length>0),Dt=L(()=>a(St)?Kt(a(at)):""),k=L(()=>Kt(a(ot).band)),A=L(()=>a(ot).streaming??null);var tt=v_(),_t=w(tt),Ct=w(_t),Mt=I(_t),Wt=w(Mt),xe=I(Mt),ce=w(xe),Ie=w(ce),Ve=I(xe),ke=w(Ve),Ee=I(Ve),se=w(Ee),He=I(Ee),rn=w(He);{var jt=ht=>{var qt=l_(),Bt=w(qt);X(Xt=>{O(qt,"href",Xt),Y(Bt,a(at))},[()=>`?type=${r()}&view=conductors&conductor=${encodeURIComponent(a(Dt))}`]),E(ht,qt)},Se=ht=>{var qt=u_();E(ht,qt)};Q(rn,ht=>{a(St)?ht(jt):ht(Se,!1)})}var Bn=I(He),Nn=w(Bn);{var It=ht=>{var qt=d_(),Bt=w(qt);{var Xt=Zt=>{var Ut=c_();X(Me=>{O(Ut,"href",a(A).spotify),O(Ut,"title",Me)},[()=>f(a(p).name,a(A),"spotify")]),E(Zt,Ut)};Q(Bt,Zt=>{var Ut;(Ut=a(A))!=null&&Ut.spotify&&Zt(Xt)})}var Jt=I(Bt,2);{var Nt=Zt=>{var Ut=f_();X(Me=>{O(Ut,"href",a(A).apple_music),O(Ut,"title",Me)},[()=>f(a(p).name,a(A),"apple")]),E(Zt,Ut)};Q(Jt,Zt=>{var Ut;(Ut=a(A))!=null&&Ut.apple_music&&Zt(Nt)})}E(ht,qt)},Rt=ht=>{var qt=h_();E(ht,qt)};Q(Nn,ht=>{c(a(A))?ht(It):ht(Rt,!1)})}X((ht,qt,Bt)=>{Y(Ct,a(ot).entry.year),Y(Wt,a(ot).entry.division),O(ce,"href",ht),Y(Ie,a(ot).band),Y(ke,qt),Y(se,Bt)},[()=>`?type=${r()}&view=bands&band=${encodeURIComponent(a(k))}`,()=>u(a(ot).entry.rank),()=>l(a(ot).entry.points)]),E(S,tt)}),X(()=>{Y(nt,a(p).name),Y(Ot,`${a(p).performances.length??""} fremføringer`),O(dt,"aria-label",`Fremføringer av ${a(p).name}`)}),E(v,M)}),E(t,h),Or()}var m_=z('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),y_=z('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),w_=z('<section class="composers-view svelte-1njzana"></section>');function b_(t,e){Fr(e,!0);let n=ze(e,"composers",19,()=>[]),r=ze(e,"bandType",3,"wind"),i=L(()=>[...n()].sort((o,l)=>o.name.localeCompare(l.name)));var s=w_();Gt(s,21,()=>a(i),Qt,(o,l)=>{var u=y_(),c=w(u),f=w(c),d=w(f),h=w(d),v=I(d,2),p=w(v),b=I(c,2);Gt(b,21,()=>a(l).pieces,Qt,(M,B)=>{var V=m_(),F=w(V),nt=w(F);X(U=>{O(F,"href",U),Y(nt,a(B).name)},[()=>`?type=${r()}&view=pieces&piece=${encodeURIComponent(a(B).slug)}`]),E(M,V)}),X(()=>{Y(h,a(l).name),Y(p,`${a(l).pieces.length??""} ${a(l).pieces.length===1?"stykke":"stykker"}`)}),E(o,u)}),E(t,s),Or()}function x_(t,e){R(e,!a(e))}function k_(t,e){R(e,!a(e))}function E_(t,e,n,r,i,s){e(a(n)==="dark"?"light":"dark"),r(),i(),s()}function S_(t,e,n,r,i,s){e(a(n)==="wind"?"brass":"wind"),r(),i(),s()}function M_(t,e,n){R(e,t.target.value,!0),R(n,-1)}function N_(t,e,n,r){a(e).length&&(t.key==="ArrowDown"?(t.preventDefault(),R(n,(a(n)+1)%a(e).length)):t.key==="ArrowUp"?(t.preventDefault(),R(n,(a(n)-1+a(e).length)%a(e).length)):t.key==="Enter"&&a(n)>=0&&(t.preventDefault(),r(a(e)[a(n)])))}var A_=(t,e,n)=>e(a(n)),$_=z('<button type="button"> </button>'),T_=z('<div role="option" tabindex="-1"> </div>'),C_=z('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),I_=z('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!>',1),R_=z('<section class="status svelte-1n46o8q">Laster data…</section>'),P_=z('<section class="status error svelte-1n46o8q"> </section>'),L_=z('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),F_=(t,e)=>e("absolute"),O_=(t,e)=>e("relative"),D_=(t,e)=>e("absolute"),q_=(t,e)=>e("relative"),z_=z('<div class="mode-toggle__menu svelte-1n46o8q" id="mode-toggle-menu" role="menu"><button type="button">Absolutt</button> <button type="button">Relativ</button></div>'),B_=z('<p class="comparison-summary svelte-1n46o8q"> </p>'),U_=z('<section class="chart-card svelte-1n46o8q"><div class="mode-toggle svelte-1n46o8q"><span class="mode-toggle__label svelte-1n46o8q">Plassering:</span> <div class="mode-toggle__buttons svelte-1n46o8q" role="group" aria-label="Velg plasseringsvisning"><button type="button">Absolutt</button> <button type="button">Relativ</button></div> <button type="button" class="mode-toggle__menu-trigger svelte-1n46o8q" aria-controls="mode-toggle-menu">Tilpass</button> <!></div> <div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),Y_=(t,e,n)=>e(a(n).slug),V_=z('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),H_=z('<!> <div class="selected-entities selected-entities--below svelte-1n46o8q" role="list"></div>',1),j_=z('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),X_=z('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><div class="page-header__title svelte-1n46o8q"><h1 class="svelte-1n46o8q"> </h1> <button class="menu-toggle svelte-1n46o8q" type="button" aria-controls="primary-controls"><span class="menu-toggle__icon svelte-1n46o8q" aria-hidden="true">☰</span> <span class="menu-toggle__text svelte-1n46o8q">Meny</span></button></div> <div id="primary-controls"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button class="band-type-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="band-type-toggle__text svelte-1n46o8q"> </span></button> <button class="theme-toggle svelte-1n46o8q" type="button"><span aria-hidden="true"> </span> <span class="theme-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function K_(t,e){Fr(e,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},r="mode",i="view",s="type",o=",",l="relative",u="bands",c="wind",f="nmkorps-theme",d="nmkorps-band-type",h={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat"},v=["bands","conductors","pieces","composers","data"];let p=yt(null),b=yt(ge([])),M=yt(ge([])),B=yt(ge([])),V=yt(!0),F=yt(null),nt=yt(""),U=yt(ge([])),H=yt(ge([])),G=yt(ge([])),ct=yt(ge([])),Ot=yt(-1),dt=!1,Z="",it=yt(l),S=yt(u),ot=yt("dark"),at=yt("wind"),St=yt(!1),Dt=yt(!1),k=yt(!1),A=new Map,tt=new Map;function _t(_){const y=new Map;for(const N of _){if(!N||!N.slug)continue;const $=N.slug.trim();if(!$)continue;const x=y.get($);x?x.push(N):y.set($,[N])}return y}function Ct(_){var N,$;const y=new Map;for(const x of _){if(!x)continue;const K=Number(x.year);if(!Number.isFinite(K))continue;const j=x.division_slug??x.division,J=x.band_slug??x.band,st=x.result_piece_slug??x.result_piece;if(!j||!J||!st)continue;const mt=Kt(j),rt=Kt(J);if(mt==="uidentifisert"||!rt||rt==="uidentifisert")continue;const Lt=new Set,Ft=Kt(st);if(Ft!=="uidentifisert"&&Lt.add(Ft),x.alternate_result_piece_slugs&&Array.isArray(x.alternate_result_piece_slugs))for(const Le of x.alternate_result_piece_slugs){const yn=Le?Kt(Le):"";yn&&yn!=="uidentifisert"&&Lt.add(yn)}if(x.result_piece&&x.result_piece.trim()){const Le=Kt(x.result_piece);Le!=="uidentifisert"&&Lt.add(Le)}if(!Lt.size)continue;const je=typeof x.spotify=="string"&&x.spotify.trim().length>0?x.spotify.trim():null,Pe=typeof x.apple_music=="string"&&x.apple_music.trim().length>0?x.apple_music.trim():null;if(!je&&!Pe)continue;const on={spotify:je,apple_music:Pe,album:((N=x.album)==null?void 0:N.trim())??null,recording_title:(($=x.recording_title)==null?void 0:$.trim())??null};for(const Le of Lt){const yn=`${K}|${mt}|${rt}|${Le}`;y.set(yn,on)}}return y}function Mt(_,y,N){if(!tt.size)return null;const $=Kt(_.division),x=Kt(y);if($==="uidentifisert"||!x||x==="uidentifisert")return null;const K=`${_.year}|${$}|${x}`;let j=Ve(N);if(!j.length){const J=Kt(N);j=J!=="uidentifisert"?[J]:[]}for(const J of j){const st=`${K}|${J}`,mt=tt.get(st);if(mt)return mt}return null}const Wt=/["'«»“”„‟]/g,xe=/\([^)]*\)/g;function ce(_){return _.replace(xe," ")}function Ie(_){return _.replace(Wt,"").replace(/\s+/g," ").trim().toLowerCase()}function Ve(_){const y=_.trim();if(!y)return[];const N=new Set,$=Kt(y);$!=="uidentifisert"&&N.add($);const x=ce(y),K=Kt(x);K!=="uidentifisert"&&N.add(K);const j=Ie(y),J=Kt(j.replace(/[-–—]/g," "));J!=="uidentifisert"&&N.add(J);const st=Kt(j.replace(/[:;·]/g," "));st!=="uidentifisert"&&N.add(st);const mt=[];x.includes("-")&&mt.push(x.split(/[-–—]/)[0]),x.includes(":")&&mt.push(x.split(":")[0]);for(const rt of mt){const Lt=Kt(rt);Lt!=="uidentifisert"&&N.add(Lt)}return Array.from(N)}function ke(_,y){const N=Ve(_);if(!N.length)return null;const $=Ie(_),x=Ie(ce(_));for(const K of N){const j=y.get(K);if(!j||j.length===0)continue;if(j.length===1)return j[0].composer??null;const J=j.find(mt=>Ie(mt.title)===$);if(J)return J.composer??null;const st=j.find(mt=>Ie(ce(mt.title))===x);return st?st.composer??null:j[0].composer??null}return null}function Ee(_,y){const N=Array.isArray(_.pieces)?[..._.pieces]:_.pieces!=null?[`${_.pieces}`.trim()].filter(Boolean):[],$={..._,pieces:N,conductor:_.conductor};return y&&($.band_name=y),$}function se(_){var N;const y=new Map;for(const $ of _)for(const x of $.entries){const K=(N=x.conductor)==null?void 0:N.trim();if(!K)continue;const j=Kt(K);let J=y.get(j);J||(J={name:K,slug:j,years:new Map},y.set(j,J));let st=J.years.get(x.year);st||(st={entries:[]},J.years.set(x.year,st)),st.entries.push(Ee(x,$.name))}return Array.from(y.values()).map($=>({name:$.name,slug:$.slug,entries:Array.from($.years.entries()).map(([x,K])=>{const j=[...K.entries].sort((st,mt)=>{const rt=st.absolute_position??Number.POSITIVE_INFINITY,Lt=mt.absolute_position??Number.POSITIVE_INFINITY;return rt!==Lt?rt-Lt:(st.rank??Number.POSITIVE_INFINITY)-(mt.rank??Number.POSITIVE_INFINITY)});return{...j[0],year:x,conductor:$.name,aggregate_entries:j}}).sort((x,K)=>x.year-K.year)})).sort(($,x)=>$.name.localeCompare(x.name))}function He(_,y){var $;const N=new Map;for(const x of _)for(const K of x.entries){const j=Array.isArray(K.pieces)?K.pieces:K.pieces!=null?[`${K.pieces}`]:[];for(const J of j){const st=J.trim();if(!st)continue;const mt=Kt(st);let rt=N.get(mt);const Lt=ke(st,y),Ft=Lt?Xa(Lt):[],je=Ft.length>0?Ft.join(", "):null;rt?(!rt.composer||!(($=rt.composerNames)!=null&&$.length))&&je&&(rt.composer=je,rt.composerNames=Ft):(rt={name:st,slug:mt,composer:je,composerNames:Ft,performances:[]},N.set(mt,rt));const Pe=Mt(K,x.name,st);rt.performances.push({band:x.name,entry:K,streaming:Pe})}}return Array.from(N.values()).map(x=>({...x,performances:x.performances.map(({band:K,entry:j,streaming:J})=>({band:K,entry:{...j,pieces:[...j.pieces]},streaming:J??null}))})).sort((x,K)=>x.name.localeCompare(K.name))}function rn(_){const y=new Map;for(const $ of _){const x=$.composerNames&&$.composerNames.length>0?$.composerNames:Xa($.composer??null);if(x.length)for(const K of x){const j=Ul(K);if(!j)continue;const J=Kt(j);if(J==="uidentifisert")continue;let st=y.get(J);st||(st={name:j,slug:J,normalized:j.toLowerCase(),pieces:new Map},y.set(J,st)),st.pieces.has($.slug)||st.pieces.set($.slug,{name:$.name,slug:$.slug})}}const N=Array.from(y.values()).map($=>({name:$.name,slug:$.slug,normalized:$.normalized,pieces:Array.from($.pieces.values()).sort((x,K)=>x.name.localeCompare(K.name))})).sort(($,x)=>$.name.localeCompare(x.name));return new Map(N.map($=>[$.slug,$])),N}function jt(_){return _==="data"?"data":n[_]}function Se(){if(typeof window>"u")return l;const y=new URLSearchParams(window.location.search).get(r);return(y?y.toLowerCase():null)==="absolute"?"absolute":"relative"}function Bn(){var y;if(typeof window>"u")return"dark";try{const N=window.localStorage.getItem(f);if(N==="light"||N==="dark")return N}catch(N){console.error("Kunne ikke lese lagret tema",N)}return((y=window.matchMedia)==null?void 0:y.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function Nn(_){typeof document>"u"||(_==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function It(){var N;if(typeof window>"u")return c;const y=(N=new URLSearchParams(window.location.search).get(s))==null?void 0:N.toLowerCase();return y==="brass"||y==="brassband"?"brass":y==="wind"||y==="janitsjar"?"wind":c}function Rt(){var N;if(typeof window>"u")return c;const y=(N=new URLSearchParams(window.location.search).get(s))==null?void 0:N.toLowerCase();if(y==="brass"||y==="brassband")return"brass";if(y==="wind"||y==="janitsjar")return"wind";try{const $=window.localStorage.getItem(d);if($==="wind"||$==="brass")return $}catch($){console.error("Kunne ikke lese lagret korptype",$)}return c}function ht(_){typeof document>"u"||(document.documentElement.dataset.bandType=_)}function qt(_){if(R(ot,_,!0),Nn(_),typeof window<"u")try{window.localStorage.setItem(f,_)}catch(y){console.error("Kunne ikke lagre tema",y)}}function Bt(_,y=!0){if(a(at)!==_){if(R(at,_,!0),ht(_),typeof window<"u")try{window.localStorage.setItem(d,_)}catch(N){console.error("Kunne ikke lagre korptype",N)}if(R(U,[],!0),R(H,[],!0),R(G,[],!0),R(ct,[],!0),R(nt,""),R(Ot,-1),y&&typeof window<"u"){const N=new URLSearchParams;N.set(s,_);const $=`${window.location.pathname}?${N.toString()}${window.location.hash}`;window.history.replaceState({},"",$)}R(V,!0),R(F,null),R(p,null),R(b,[],!0),R(M,[],!0),R(B,[],!0),tt=new Map,Vn(_)}}function Xt(){R(St,!1)}function Jt(){R(Dt,!1)}function Nt(){R(k,!1)}function Zt(){var N;if(typeof window>"u")return u;const y=(N=new URLSearchParams(window.location.search).get(i))==null?void 0:N.toLowerCase();return y?y==="conductors"||y==="dirigent"||y==="conductor"?"conductors":y==="pieces"||y==="piece"||y==="stykke"||y==="stykker"?"pieces":y==="composers"||y==="komponist"||y==="composer"?"composers":y==="data"||y==="resultat"||y==="results"?"data":"bands":u}function Ut(_){if(typeof window>"u")return[];const N=new URLSearchParams(window.location.search).get(jt(_));return N?N.split(o).map($=>decodeURIComponent($.trim())).filter(Boolean):[]}function Me(_,y){if(!_.length||!y.length)return[];const N=new Map(_.map($=>[$.slug,$]));return y.map($=>N.get($)??N.get($.toLowerCase())).filter($=>!!$)}function an(_,y){return _.length!==y.length?!1:_.every((N,$)=>N.slug===y[$].slug)}function Re(){if(typeof window>"u")return;const _=new URLSearchParams(window.location.search);_.set(s,a(at));const y=a(U).map(J=>encodeURIComponent(J.slug)).join(o);y.length?_.set(jt("bands"),y):_.delete(jt("bands"));const N=a(H).map(J=>encodeURIComponent(J.slug)).join(o);N.length?_.set(jt("conductors"),N):_.delete(jt("conductors"));const $=a(G).map(J=>encodeURIComponent(J.slug)).join(o);$.length?_.set(jt("pieces"),$):_.delete(jt("pieces"));const x=a(ct).map(J=>encodeURIComponent(J.slug)).join(o);x.length?_.set(jt("composers"),x):_.delete(jt("composers")),_.set(r,a(it)),_.set(i,a(S));const K=_.toString(),j=`${window.location.pathname}${K?`?${K}`:""}${window.location.hash}`;window.history.replaceState({},"",j)}function Un({updateHistory:_=!1}={}){const y=Se(),N=Zt(),$=It();let x=!1;if($!==a(at))return Bt($,!1),x=!0,x;if(y!==a(it)&&(R(it,y,!0),x=!0),N!==a(S)&&(R(S,N,!0),x=!0),!a(p))return _&&Re(),x;const K=Me(a(p).bands,Ut("bands"));an(a(U),K)||(R(U,K,!0),x=!0),a(b).length||R(b,se(a(p).bands),!0);const j=Me(a(b),Ut("conductors"));an(a(H),j)||(R(H,j,!0),x=!0),a(M).length||(R(M,He(a(p).bands,A),!0),R(B,rn(a(M)),!0));const J=Me(a(M),Ut("pieces"));an(a(G),J)||(R(G,J,!0),x=!0),a(B).length||R(B,rn(a(M)),!0);const st=Me(a(B),Ut("composers"));return an(a(ct),st)||(R(ct,st,!0),x=!0),_&&Re(),x}function pn(){const _=a(U).map(x=>x.slug).join(o),y=a(H).map(x=>x.slug).join(o),N=a(G).map(x=>x.slug).join(o),$=a(ct).map(x=>x.slug).join(o);return`${a(at)}|${a(S)}|${a(it)}|${_}|${y}|${N}|${$}`}function _n(){if(!dt)return;const _=pn();_!==Z&&(Re(),Z=_)}function An(_){if(a(S)==="bands"){if(a(U).some(y=>y.slug===_.slug))return;R(U,[...a(U),_],!0)}else if(a(S)==="conductors"){if(a(H).some(y=>y.slug===_.slug))return;R(H,[...a(H),_],!0)}else if(a(S)==="pieces"){const y=_;if(a(G).some(N=>N.slug===y.slug))return;R(G,[...a(G),y],!0)}else if(a(S)==="composers"){const y=_;if(a(ct).some(N=>N.slug===y.slug))return;R(ct,[...a(ct),y],!0)}R(nt,""),R(Ot,-1),_n()}function Br(_){a(S)==="bands"?R(U,a(U).filter(y=>y.slug!==_),!0):a(S)==="conductors"?R(H,a(H).filter(y=>y.slug!==_),!0):a(S)==="pieces"?R(G,a(G).filter(y=>y.slug!==_),!0):a(S)==="composers"&&R(ct,a(ct).filter(y=>y.slug!==_),!0),R(Ot,-1),_n()}function Yn(){if(a(fr).length===0)return;const _=a(m).find(y=>y.name.toLowerCase()===a(re));_?An(_):a(P).length>0&&An(a(P)[0])}function Ur(_){if(_===a(S)){Xt(),Jt();return}R(S,_,!0),R(nt,""),R(Ot,-1),Xt(),Jt(),_n()}function gn(_){if(a(it)===_){Jt();return}R(it,_,!0),Jt(),_n()}async function Vn(_){try{const y=_==="wind"?"data/band_positions.json":"data/brass_positions.json",N=_==="wind"?"data/piece_metadata.json":"data/brass_piece_metadata.json",$="data/piece_streaming_links.json",[x,K,j]=await Promise.all([fetch(y),fetch(N),fetch($)]);if(!x.ok)throw new Error(`Kunne ikke laste data (status ${x.status})`);let J=[];if(K.ok)try{const rt=await K.json();J=(Array.isArray(rt.pieces)?rt.pieces:[]).filter(Ft=>!!(Ft!=null&&Ft.title&&(Ft!=null&&Ft.slug))).map(Ft=>({title:Ft.title.trim(),slug:Ft.slug.trim(),composer:Ft.composer??null}))}catch(rt){console.warn("Kunne ikke tolke stykke-metadata",rt)}else console.warn(`Kunne ikke laste stykke-metadata (status ${K.status})`);A=_t(J);let st=[];if(j.ok)try{const rt=await j.json(),Lt=rt==null?void 0:rt[_];Array.isArray(Lt)&&(st=Lt.filter(Ft=>!!Ft))}catch(rt){console.warn("Kunne ikke tolke opptakslenker",rt)}else j.status!==404&&console.warn(`Kunne ikke laste opptakslenker (status ${j.status})`);tt=Ct(st);const mt=await x.json();R(p,mt,!0),R(b,se(mt.bands),!0),R(M,He(mt.bands,A),!0),R(B,rn(a(M)),!0),Un({updateHistory:!1}),Z=pn(),Re(),dt=!0}catch(y){R(F,y instanceof Error?y.message:"Ukjent feil ved lasting av data.",!0)}finally{R(V,!1)}}Yi(async()=>{const _=Bn();R(ot,_,!0),Nn(_);const y=Rt();R(at,y,!0),ht(y),await Vn(y)}),Yi(()=>{const _=()=>{a(p)&&(Un({updateHistory:!1}),Z=pn())};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)}),ti(()=>{document.title=a(at)==="wind"?"NM Janitsjar - Resultatoversikt":"NM Brass - Resultatoversikt"});let fr=L(()=>a(nt).trim()),re=L(()=>a(fr).toLowerCase()),ee=L(()=>a(S)==="bands"||a(S)==="conductors"||a(S)==="pieces"||a(S)==="composers"),m=L(()=>{var _;return a(ee)?a(S)==="bands"?((_=a(p))==null?void 0:_.bands)??[]:a(S)==="conductors"?a(b):a(S)==="pieces"?a(M):a(B):[]}),g=L(()=>a(S)==="bands"?a(U):a(S)==="conductors"?a(H):a(S)==="pieces"?a(G):a(S)==="composers"?a(ct):[]),P=L(()=>a(ee)&&a(m)&&a(re).length>=2?a(m).filter(_=>_.name.toLowerCase().includes(a(re))&&!a(g).some(y=>y.slug===_.slug)).slice(0,10):[]),D=L(()=>a(p)?a(p).metadata.years:[]),q=L(()=>a(p)?a(p).metadata.max_field_size:0),C=L(()=>{var _;return a(ee)?a(S)==="bands"?((_=a(p))==null?void 0:_.bands.length)??0:a(S)==="conductors"?a(b).length:a(S)==="pieces"?a(M).length:a(B).length:0}),wt=L(()=>a(S)==="bands"?"korps":a(S)==="conductors"?"dirigenter":a(S)==="pieces"?"stykker":"komponister"),gt=L(()=>a(p)?`Dekker ${a(C)} ${a(wt)} · ${a(D).length} år (${a(p).metadata.min_year}–${a(p).metadata.max_year})`:""),xt=L(()=>a(S)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":a(S)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":a(S)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":a(S)==="composers"?"Begynn å skrive et komponistnavn (minst 2 bokstaver)…":""),Yt=L(()=>a(S)==="bands"?"Søk etter korps":a(S)==="conductors"?"Søk etter dirigent":a(S)==="pieces"?"Søk etter musikkstykke":"Søk etter komponist"),At=L(()=>a(S)==="bands"?"Korpsforslag":a(S)==="conductors"?"Dirigentforslag":a(S)==="pieces"?"Stykke-forslag":"Komponistforslag"),zt=L(()=>a(S)==="bands"?"Valgte korps":a(S)==="conductors"?"Valgte dirigenter":a(S)==="pieces"?"Valgte stykker":"Valgte komponister"),vt=L(()=>a(S)==="bands"?"Ingen korps valgt ennå":a(S)==="conductors"?"Ingen dirigenter valgt ennå":a(S)==="pieces"?"Ingen stykker valgt ennå":"Ingen komponister valgt ennå"),Tt=L(()=>a(S)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":a(S)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":a(S)==="pieces"?"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer.":"Finn en komponist i søkefeltet for å se hvilke stykker vi har registrert av dem."),Vt=L(()=>a(S)==="bands"?a(at)==="wind"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":"Søk etter et brassband for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":a(S)==="conductors"?"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.":a(S)==="pieces"?"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.":a(S)==="composers"?"Søk etter en komponist for å se hvilke NM-stykker de står bak.":"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen."),ie=L(()=>a(ot)==="dark"?"Bytt til lyst tema":"Bytt til mørkt tema"),Pt=L(()=>a(ot)==="dark"?"Mørk":"Lys"),Ht=L(()=>a(ot)==="dark"?"🌙":"☀️"),ft=L(()=>a(at)==="wind"?"Bytt til brassband":"Bytt til janitsjarkorps"),bt=L(()=>a(at)==="wind"?"Janitsjar":"Brass"),te=L(()=>a(at)==="wind"?"🎷":"🎺"),Ne=L(()=>a(St)?"Lukk meny":"Åpne meny"),sn=L(()=>a(Dt)?"Lukk tilpassingsmeny":"Åpne tilpassingsmeny"),pe=L(()=>a(g).length===1?a(g)[0].name:a(g).length>1?`${a(g).length} ${a(wt)} valgt`:""),W=L(()=>a(g).length>1?a(g).map(_=>_.name).join(" · "):""),lt=L(()=>a(S)==="pieces"?a(g):[]),oe=L(()=>a(S)==="composers"?a(g):[]),Hn=L(()=>a(S)==="bands"||a(S)==="conductors"?a(g):[]);var vi=X_(),pi=w(vi),_i=w(pi),gi=w(_i),le=w(gi),Ae=I(gi,2);Ae.__click=[x_,St];var mn=I(_i,2);let dr;var ms=w(mn);Gt(ms,21,()=>v,Qt,(_,y)=>{var N=$_();N.__click=[A_,Ur,y];let $;var x=w(N);X(K=>{O(N,"aria-pressed",a(S)===a(y)),$=Tn(N,1,"svelte-1n46o8q",null,$,K),Y(x,h[a(y)])},[()=>({selected:a(S)===a(y)})]),E(_,N)});var mi=I(ms,2);mi.__click=[S_,Bt,at,Nt,Xt,Jt];var ys=w(mi),Yl=w(ys),Vl=I(ys,2),Hl=w(Vl),pa=I(mi,2);pa.__click=[E_,qt,ot,Xt,Jt,Nt];var ws=w(pa),jl=w(ws),Xl=I(ws,2),Kl=w(Xl),bs=I(pi,2),Gl=w(bs),xs=I(bs,2);{var Wl=_=>{var y=I_(),N=Et(y),$=L(()=>Hs(Yn)),x=w(N),K=w(x),j=I(x,2);j.__input=[M_,nt,Ot],j.__keydown=[N_,P,Ot,An];var J=I(N,2);{var st=mt=>{var rt=C_();Gt(rt,21,()=>a(P),Qt,(Lt,Ft,je)=>{var Pe=T_(),on=L(()=>Hs(()=>An(a(Ft))));Pe.__mousedown=function(...yn){var yi;(yi=a(on))==null||yi.apply(this,yn)};var Le=w(Pe);X(()=>{Tn(Pe,1,`suggestion ${je===a(Ot)?"active":""}`,"svelte-1n46o8q"),O(Pe,"aria-selected",je===a(Ot)),Y(Le,a(Ft).name)}),E(Lt,Pe)}),X(()=>O(rt,"aria-label",a(At))),E(mt,rt)};Q(J,mt=>{a(P).length>0&&mt(st)})}X(()=>{Y(K,a(Yt)),O(j,"placeholder",a(xt))}),$e("submit",N,function(...mt){var rt;(rt=a($))==null||rt.apply(this,mt)}),Yc(j,()=>a(nt),mt=>R(nt,mt)),E(_,y)};Q(xs,_=>{a(ee)&&_(Wl)})}var Zl=I(xs,2);{var Ql=_=>{var y=R_();E(_,y)},Jl=_=>{var y=ne(),N=Et(y);{var $=K=>{var j=P_(),J=w(j);X(()=>Y(J,a(F))),E(K,j)},x=K=>{var j=ne(),J=Et(j);{var st=rt=>{var Lt=L_();E(rt,Lt)},mt=rt=>{var Lt=ne(),Ft=Et(Lt);{var je=on=>{var Le=ne(),yn=Et(Le);{var yi=hr=>{var Yr=H_(),Vr=Et(Yr);{var _a=$n=>{g_($n,{get pieces(){return a(lt)},get bandType(){return a(at)}})},ga=$n=>{var vr=ne(),ma=Et(vr);{var bi=wn=>{b_(wn,{get composers(){return a(oe)},get bandType(){return a(at)}})},xi=wn=>{var ki=U_(),Hr=w(ki),ks=I(w(Hr),2),Ei=w(ks);Ei.__click=[F_,gn];let Es;var ya=I(Ei,2);ya.__click=[O_,gn];let Ss;var Si=I(ks,2);Si.__click=[k_,Dt];var eu=I(Si,2);{var nu=Xe=>{var jn=z_(),pr=w(jn);pr.__click=[D_,gn];let $s;var wa=I(pr,2);wa.__click=[q_,gn];let Ts;X((lu,uu)=>{O(pr,"aria-pressed",a(it)==="absolute"),$s=Tn(pr,1,"svelte-1n46o8q",null,$s,lu),O(wa,"aria-pressed",a(it)==="relative"),Ts=Tn(wa,1,"svelte-1n46o8q",null,Ts,uu)},[()=>({selected:a(it)==="absolute"}),()=>({selected:a(it)==="relative"})]),E(Xe,jn)};Q(eu,Xe=>{a(Dt)&&Xe(nu)})}var Ms=I(Hr,2),Ns=w(Ms),ru=w(Ns),As=I(Ns,2),iu=w(As),au=I(As,2);{var su=Xe=>{var jn=B_(),pr=w(jn);X(()=>Y(pr,a(W))),E(Xe,jn)};Q(au,Xe=>{a(W)&&Xe(su)})}var ou=I(Ms,2);{let Xe=L(()=>a(S)==="bands");Rp(ou,{get years(){return a(D)},get maxFieldSize(){return a(q)},get bands(){return a(Hn)},get yMode(){return a(it)},get showConductorMarkers(){return a(Xe)}})}X((Xe,jn)=>{O(Ei,"aria-pressed",a(it)==="absolute"),Es=Tn(Ei,1,"svelte-1n46o8q",null,Es,Xe),O(ya,"aria-pressed",a(it)==="relative"),Ss=Tn(ya,1,"svelte-1n46o8q",null,Ss,jn),O(Si,"aria-label",a(sn)),O(Si,"aria-expanded",a(Dt)),Y(ru,a(pe)),Y(iu,a(gt))},[()=>({selected:a(it)==="absolute"}),()=>({selected:a(it)==="relative"})]),E(wn,ki)};Q(ma,wn=>{a(S)==="composers"?wn(bi):wn(xi,!1)},!0)}E($n,vr)};Q(Vr,$n=>{a(S)==="pieces"?$n(_a):$n(ga,!1)})}var wi=I(Vr,2);Gt(wi,21,()=>a(g),Qt,($n,vr,ma)=>{var bi=V_(),xi=w(bi);xi.textContent=ma+1;var wn=I(xi,2),ki=w(wn),Hr=I(wn,2);Hr.__click=[Y_,Br,vr],X(()=>{Y(ki,a(vr).name),O(Hr,"aria-label",`Fjern ${a(vr).name}`)}),E($n,bi)}),X(()=>O(wi,"aria-label",a(zt))),E(hr,Yr)},tu=hr=>{var Yr=j_(),Vr=w(Yr),_a=w(Vr),ga=I(Vr,2),wi=w(ga);X(()=>{Y(_a,a(vt)),Y(wi,a(Tt))}),E(hr,Yr)};Q(yn,hr=>{a(g).length>0?hr(yi):hr(tu,!1)})}E(on,Le)},Pe=on=>{n_(on,{get dataset(){return a(p)},get bandType(){return a(at)},streamingResolver:Mt})};Q(Ft,on=>{a(ee)?on(je):on(Pe,!1)},!0)}E(rt,Lt)};Q(J,rt=>{a(p)?rt(mt,!1):rt(st)},!0)}E(K,j)};Q(N,K=>{a(F)?K($):K(x,!1)},!0)}E(_,y)};Q(Zl,_=>{a(V)?_(Ql):_(Jl,!1)})}X(_=>{Y(le,a(at)==="wind"?"NM Janitsjar":"NM Brass"),O(Ae,"aria-label",a(Ne)),O(Ae,"aria-expanded",a(St)),dr=Tn(mn,1,"header-controls svelte-1n46o8q",null,dr,_),O(mi,"aria-label",a(ft)),Y(Yl,a(te)),Y(Hl,a(bt)),O(pa,"aria-label",a(ie)),Y(jl,a(Ht)),Y(Kl,a(Pt)),Y(Gl,a(Vt))},[()=>({"header-controls--mobile-open":a(St)})]),E(t,vi),Or()}nl(["click","input","keydown","mousedown"]);Tc(K_,{target:document.getElementById("app")});
