var sl=Object.defineProperty;var al=(e,t,n)=>t in e?sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ut=(e,t,n)=>al(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function te(){}function pi(e){return e()}function Fn(){return Object.create(null)}function de(e){e.forEach(pi)}function mi(e){return typeof e=="function"}function Pt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ul(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode&&e.parentNode.removeChild(e)}function oe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function ee(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function T(e){return document.createTextNode(e)}function B(){return T(" ")}function re(){return T("")}function J(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function gi(e){return function(t){return t.preventDefault(),e.call(this,t)}}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function fl(e){return Array.from(e.childNodes)}function V(e,t){t=""+t,e.data!==t&&(e.data=t)}function Pe(e,t){e.value=t??""}function Ce(e,t,n){e.classList.toggle(t,!!n)}let ot;function lt(e){ot=e}function bn(){if(!ot)throw new Error("Function called outside component initialization");return ot}function en(e){bn().$$.on_mount.push(e)}function cl(e){bn().$$.after_update.push(e)}function hl(e){bn().$$.on_destroy.push(e)}const Ue=[],tn=[];let He=[];const Pn=[],dl=Promise.resolve();let nn=!1;function _l(){nn||(nn=!0,dl.then(yi))}function rn(e){He.push(e)}const Vt=new Set;let Be=0;function yi(){if(Be!==0)return;const e=ot;do{try{for(;Be<Ue.length;){const t=Ue[Be];Be++,lt(t),pl(t.$$)}}catch(t){throw Ue.length=0,Be=0,t}for(lt(null),Ue.length=0,Be=0;tn.length;)tn.pop()();for(let t=0;t<He.length;t+=1){const n=He[t];Vt.has(n)||(Vt.add(n),n())}He.length=0}while(Ue.length);for(;Pn.length;)Pn.pop()();nn=!1,Vt.clear(),lt(e)}function pl(e){if(e.fragment!==null){e.update(),de(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(rn)}}function ml(e){const t=[],n=[];He.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),He=t}const bt=new Set;let Le;function vi(){Le={r:0,c:[],p:Le}}function bi(){Le.r||de(Le.c),Le=Le.p}function Te(e,t){e&&e.i&&(bt.delete(e),e.i(t))}function je(e,t,n,r){if(e&&e.o){if(bt.has(e))return;bt.add(e),Le.c.push(()=>{bt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function G(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function gl(e,t){e.d(1),t.delete(e.key)}function yl(e,t,n,r,i,o,l,s,a,u,f,c){let d=e.length,p=o.length,g=d;const S={};for(;g--;)S[e[g].key]=g;const L=[],q=new Map,Y=new Map,z=[];for(g=p;g--;){const $=c(i,o,g),O=n($);let k=l.get(O);k?z.push(()=>k.p($,t)):(k=u(O,$),k.c()),q.set(O,L[g]=k),O in S&&Y.set(O,Math.abs(g-S[O]))}const N=new Set,I=new Set;function P($){Te($,1),$.m(s,f),l.set($.key,$),f=$.first,p--}for(;d&&p;){const $=L[p-1],O=e[d-1],k=$.key,w=O.key;$===O?(f=$.first,d--,p--):q.has(w)?!l.has(k)||N.has(k)?P($):I.has(w)?d--:Y.get(k)>Y.get(w)?(I.add(k),P($)):(N.add(w),d--):(a(O,l),d--)}for(;d--;){const $=e[d];q.has($.key)||a($,l)}for(;p;)P(L[p-1]);return de(z),L}function wi(e){e&&e.c()}function wn(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),rn(()=>{const o=e.$$.on_mount.map(pi).filter(mi);e.$$.on_destroy?e.$$.on_destroy.push(...o):de(o),e.$$.on_mount=[]}),i.forEach(rn)}function kn(e,t){const n=e.$$;n.fragment!==null&&(ml(n.after_update),de(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function vl(e,t){e.$$.dirty[0]===-1&&(Ue.push(e),_l(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Nn(e,t,n,r,i,o,l=null,s=[-1]){const a=ot;lt(e);const u=e.$$={fragment:null,ctx:[],props:o,update:te,not_equal:i,bound:Fn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Fn(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(c,d,...p)=>{const g=p.length?p[0]:d;return u.ctx&&i(u.ctx[c],u.ctx[c]=g)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](g),f&&vl(e,c)),d}):[],u.update(),f=!0,de(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const c=fl(t.target);u.fragment&&u.fragment.l(c),c.forEach(A)}else u.fragment&&u.fragment.c();t.intro&&Te(e.$$.fragment),wn(e,t.target,t.anchor),yi()}lt(a)}class Mn{constructor(){Ut(this,"$$");Ut(this,"$$set")}$destroy(){kn(this,1),this.$destroy=te}$on(t,n){if(!mi(n))return te;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!ul(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const bl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bl);function wt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wl(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ki(e){let t,n,r;e.length!==2?(t=wt,n=(s,a)=>wt(e(s),a),r=(s,a)=>e(s)-a):(t=e===wt||e===wl?e:kl,n=e,r=e);function i(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const c=u+f>>>1;n(s[c],a)<0?u=c+1:f=c}while(u<f)}return u}function o(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const c=u+f>>>1;n(s[c],a)<=0?u=c+1:f=c}while(u<f)}return u}function l(s,a,u=0,f=s.length){const c=i(s,a,u,f-1);return c>u&&r(s[c-1],a)>-r(s[c],a)?c-1:c}return{left:i,center:l,right:o}}function kl(){return 0}function Nl(e){return e===null?NaN:+e}const Ml=ki(wt),El=Ml.right;ki(Nl).center;class xn extends Map{constructor(t,n=Il){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Dn(this,t))}has(t){return super.has(Dn(this,t))}set(t,n){return super.set(Sl(this,t),n)}delete(t){return super.delete(Al(this,t))}}function Dn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Sl({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Al({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Il(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Cl=Math.sqrt(50),Tl=Math.sqrt(10),$l=Math.sqrt(2);function Et(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=Cl?10:o>=Tl?5:o>=$l?2:1;let s,a,u;return i<0?(u=Math.pow(10,-i)/l,s=Math.round(e*u),a=Math.round(t*u),s/u<e&&++s,a/u>t&&--a,u=-u):(u=Math.pow(10,i)*l,s=Math.round(e/u),a=Math.round(t/u),s*u<e&&++s,a*u>t&&--a),a<s&&.5<=n&&n<2?Et(e,t,n*2):[s,a,u]}function Ni(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Et(t,e,n):Et(e,t,n);if(!(o>=i))return[];const s=o-i+1,a=new Array(s);if(r)if(l<0)for(let u=0;u<s;++u)a[u]=(o-u)/-l;else for(let u=0;u<s;++u)a[u]=(o-u)*l;else if(l<0)for(let u=0;u<s;++u)a[u]=(i+u)/-l;else for(let u=0;u<s;++u)a[u]=(i+u)*l;return a}function ln(e,t,n){return t=+t,e=+e,n=+n,Et(e,t,n)[2]}function Rl(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ln(t,e,n):ln(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ll(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}var zl={value:()=>{}};function Mi(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new kt(n)}function kt(e){this._=e}function Fl(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}kt.prototype=Mi.prototype={constructor:kt,on:function(e,t){var n=this._,r=Fl(e+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(e=r[o]).type)&&(i=Pl(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(i=(e=r[o]).type)n[i]=On(n[i],e.name,t);else if(t==null)for(i in n)n[i]=On(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new kt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Pl(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function On(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=zl,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var on="http://www.w3.org/1999/xhtml";const qn={svg:"http://www.w3.org/2000/svg",xhtml:on,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),qn.hasOwnProperty(t)?{space:qn[t],local:e}:e}function xl(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===on&&t.documentElement.namespaceURI===on?t.createElement(e):t.createElementNS(n,e)}}function Dl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ei(e){var t=xt(e);return(t.local?Dl:xl)(t)}function Ol(){}function En(e){return e==null?Ol:function(){return this.querySelector(e)}}function ql(e){typeof e!="function"&&(e=En(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=new Array(l),a,u,f=0;f<l;++f)(a=o[f])&&(u=e.call(a,a.__data__,f,o))&&("__data__"in a&&(u.__data__=a.__data__),s[f]=u);return new ge(r,this._parents)}function Bl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Yl(){return[]}function Si(e){return e==null?Yl:function(){return this.querySelectorAll(e)}}function Ul(e){return function(){return Bl(e.apply(this,arguments))}}function Vl(e){typeof e=="function"?e=Ul(e):e=Si(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var l=t[o],s=l.length,a,u=0;u<s;++u)(a=l[u])&&(r.push(e.call(a,a.__data__,u,l)),i.push(a));return new ge(r,i)}function Ai(e){return function(){return this.matches(e)}}function Ii(e){return function(t){return t.matches(e)}}var Xl=Array.prototype.find;function Hl(e){return function(){return Xl.call(this.children,e)}}function Kl(){return this.firstElementChild}function jl(e){return this.select(e==null?Kl:Hl(typeof e=="function"?e:Ii(e)))}var Gl=Array.prototype.filter;function Wl(){return Array.from(this.children)}function Zl(e){return function(){return Gl.call(this.children,e)}}function Ql(e){return this.selectAll(e==null?Wl:Zl(typeof e=="function"?e:Ii(e)))}function Jl(e){typeof e!="function"&&(e=Ai(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=[],a,u=0;u<l;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&s.push(a);return new ge(r,this._parents)}function Ci(e){return new Array(e.length)}function eo(){return new ge(this._enter||this._groups.map(Ci),this._parents)}function St(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}St.prototype={constructor:St,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function to(e){return function(){return e}}function no(e,t,n,r,i,o){for(var l=0,s,a=t.length,u=o.length;l<u;++l)(s=t[l])?(s.__data__=o[l],r[l]=s):n[l]=new St(e,o[l]);for(;l<a;++l)(s=t[l])&&(i[l]=s)}function ro(e,t,n,r,i,o,l){var s,a,u=new Map,f=t.length,c=o.length,d=new Array(f),p;for(s=0;s<f;++s)(a=t[s])&&(d[s]=p=l.call(a,a.__data__,s,t)+"",u.has(p)?i[s]=a:u.set(p,a));for(s=0;s<c;++s)p=l.call(e,o[s],s,o)+"",(a=u.get(p))?(r[s]=a,a.__data__=o[s],u.delete(p)):n[s]=new St(e,o[s]);for(s=0;s<f;++s)(a=t[s])&&u.get(d[s])===a&&(i[s]=a)}function io(e){return e.__data__}function lo(e,t){if(!arguments.length)return Array.from(this,io);var n=t?ro:no,r=this._parents,i=this._groups;typeof e!="function"&&(e=to(e));for(var o=i.length,l=new Array(o),s=new Array(o),a=new Array(o),u=0;u<o;++u){var f=r[u],c=i[u],d=c.length,p=oo(e.call(f,f&&f.__data__,u,r)),g=p.length,S=s[u]=new Array(g),L=l[u]=new Array(g),q=a[u]=new Array(d);n(f,c,S,L,q,p,t);for(var Y=0,z=0,N,I;Y<g;++Y)if(N=S[Y]){for(Y>=z&&(z=Y+1);!(I=L[z])&&++z<g;);N._next=I||null}}return l=new ge(l,r),l._enter=s,l._exit=a,l}function oo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function so(){return new ge(this._exit||this._groups.map(Ci),this._parents)}function ao(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function uo(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,l=Math.min(i,o),s=new Array(i),a=0;a<l;++a)for(var u=n[a],f=r[a],c=u.length,d=s[a]=new Array(c),p,g=0;g<c;++g)(p=u[g]||f[g])&&(d[g]=p);for(;a<i;++a)s[a]=n[a];return new ge(s,this._parents)}function fo(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function co(e){e||(e=ho);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],s=l.length,a=i[o]=new Array(s),u,f=0;f<s;++f)(u=l[f])&&(a[f]=u);a.sort(t)}return new ge(i,this._parents).order()}function ho(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _o(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function po(){return Array.from(this)}function mo(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function go(){let e=0;for(const t of this)++e;return e}function yo(){return!this.node()}function vo(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,l=i.length,s;o<l;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function bo(e){return function(){this.removeAttribute(e)}}function wo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ko(e,t){return function(){this.setAttribute(e,t)}}function No(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Mo(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Eo(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function So(e,t){var n=xt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?wo:bo:typeof t=="function"?n.local?Eo:Mo:n.local?No:ko)(n,t))}function Ti(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ao(e){return function(){this.style.removeProperty(e)}}function Io(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Co(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function To(e,t,n){return arguments.length>1?this.each((t==null?Ao:typeof t=="function"?Co:Io)(e,t,n??"")):Ge(this.node(),e)}function Ge(e,t){return e.style.getPropertyValue(t)||Ti(e).getComputedStyle(e,null).getPropertyValue(t)}function $o(e){return function(){delete this[e]}}function Ro(e,t){return function(){this[e]=t}}function Lo(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function zo(e,t){return arguments.length>1?this.each((t==null?$o:typeof t=="function"?Lo:Ro)(e,t)):this.node()[e]}function $i(e){return e.trim().split(/^|\s+/)}function Sn(e){return e.classList||new Ri(e)}function Ri(e){this._node=e,this._names=$i(e.getAttribute("class")||"")}Ri.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Li(e,t){for(var n=Sn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function zi(e,t){for(var n=Sn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Fo(e){return function(){Li(this,e)}}function Po(e){return function(){zi(this,e)}}function xo(e,t){return function(){(t.apply(this,arguments)?Li:zi)(this,e)}}function Do(e,t){var n=$i(e+"");if(arguments.length<2){for(var r=Sn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?xo:t?Fo:Po)(n,t))}function Oo(){this.textContent=""}function qo(e){return function(){this.textContent=e}}function Bo(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Yo(e){return arguments.length?this.each(e==null?Oo:(typeof e=="function"?Bo:qo)(e)):this.node().textContent}function Uo(){this.innerHTML=""}function Vo(e){return function(){this.innerHTML=e}}function Xo(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ho(e){return arguments.length?this.each(e==null?Uo:(typeof e=="function"?Xo:Vo)(e)):this.node().innerHTML}function Ko(){this.nextSibling&&this.parentNode.appendChild(this)}function jo(){return this.each(Ko)}function Go(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wo(){return this.each(Go)}function Zo(e){var t=typeof e=="function"?e:Ei(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Qo(){return null}function Jo(e,t){var n=typeof e=="function"?e:Ei(e),r=t==null?Qo:typeof t=="function"?t:En(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function es(){var e=this.parentNode;e&&e.removeChild(this)}function ts(){return this.each(es)}function ns(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rs(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function is(e){return this.select(e?rs:ns)}function ls(e){return arguments.length?this.property("__data__",e):this.node().__data__}function os(e){return function(t){e.call(this,t,this.__data__)}}function ss(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function as(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function us(e,t,n){return function(){var r=this.__on,i,o=os(t);if(r){for(var l=0,s=r.length;l<s;++l)if((i=r[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function fs(e,t,n){var r=ss(e+""),i,o=r.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,u=s.length,f;a<u;++a)for(i=0,f=s[a];i<o;++i)if((l=r[i]).type===f.type&&l.name===f.name)return f.value}return}for(s=t?us:as,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function Fi(e,t,n){var r=Ti(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function cs(e,t){return function(){return Fi(this,e,t)}}function hs(e,t){return function(){return Fi(this,e,t.apply(this,arguments))}}function ds(e,t){return this.each((typeof t=="function"?hs:cs)(e,t))}function*_s(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var ps=[null];function ge(e,t){this._groups=e,this._parents=t}function ft(){return new ge([[document.documentElement]],ps)}function ms(){return this}ge.prototype=ft.prototype={constructor:ge,select:ql,selectAll:Vl,selectChild:jl,selectChildren:Ql,filter:Jl,data:lo,enter:eo,exit:so,join:ao,merge:uo,selection:ms,order:fo,sort:co,call:_o,nodes:po,node:mo,size:go,empty:yo,each:vo,attr:So,style:To,property:zo,classed:Do,text:Yo,html:Ho,raise:jo,lower:Wo,append:Zo,insert:Jo,remove:ts,clone:is,datum:ls,on:fs,dispatch:ds,[Symbol.iterator]:_s};function An(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ct(){}var st=.7,At=1/st,Ke="\\s*([+-]?\\d+)\\s*",at="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gs=/^#([0-9a-f]{3,8})$/,ys=new RegExp(`^rgb\\(${Ke},${Ke},${Ke}\\)$`),vs=new RegExp(`^rgb\\(${ve},${ve},${ve}\\)$`),bs=new RegExp(`^rgba\\(${Ke},${Ke},${Ke},${at}\\)$`),ws=new RegExp(`^rgba\\(${ve},${ve},${ve},${at}\\)$`),ks=new RegExp(`^hsl\\(${at},${ve},${ve}\\)$`),Ns=new RegExp(`^hsla\\(${at},${ve},${ve},${at}\\)$`),Bn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};An(ct,xe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yn,formatHex:Yn,formatHex8:Ms,formatHsl:Es,formatRgb:Un,toString:Un});function Yn(){return this.rgb().formatHex()}function Ms(){return this.rgb().formatHex8()}function Es(){return xi(this).formatHsl()}function Un(){return this.rgb().formatRgb()}function xe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gs.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Vn(t):n===3?new se(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ys.exec(e))?new se(t[1],t[2],t[3],1):(t=vs.exec(e))?new se(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bs.exec(e))?mt(t[1],t[2],t[3],t[4]):(t=ws.exec(e))?mt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ks.exec(e))?Kn(t[1],t[2]/100,t[3]/100,1):(t=Ns.exec(e))?Kn(t[1],t[2]/100,t[3]/100,t[4]):Bn.hasOwnProperty(e)?Vn(Bn[e]):e==="transparent"?new se(NaN,NaN,NaN,0):null}function Vn(e){return new se(e>>16&255,e>>8&255,e&255,1)}function mt(e,t,n,r){return r<=0&&(e=t=n=NaN),new se(e,t,n,r)}function Ss(e){return e instanceof ct||(e=xe(e)),e?(e=e.rgb(),new se(e.r,e.g,e.b,e.opacity)):new se}function sn(e,t,n,r){return arguments.length===1?Ss(e):new se(e,t,n,r??1)}function se(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}An(se,sn,Pi(ct,{brighter(e){return e=e==null?At:Math.pow(At,e),new se(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?st:Math.pow(st,e),new se(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new se(Fe(this.r),Fe(this.g),Fe(this.b),It(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xn,formatHex:Xn,formatHex8:As,formatRgb:Hn,toString:Hn}));function Xn(){return`#${ze(this.r)}${ze(this.g)}${ze(this.b)}`}function As(){return`#${ze(this.r)}${ze(this.g)}${ze(this.b)}${ze((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hn(){const e=It(this.opacity);return`${e===1?"rgb(":"rgba("}${Fe(this.r)}, ${Fe(this.g)}, ${Fe(this.b)}${e===1?")":`, ${e})`}`}function It(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ze(e){return e=Fe(e),(e<16?"0":"")+e.toString(16)}function Kn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new me(e,t,n,r)}function xi(e){if(e instanceof me)return new me(e.h,e.s,e.l,e.opacity);if(e instanceof ct||(e=xe(e)),!e)return new me;if(e instanceof me)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,s=o-i,a=(o+i)/2;return s?(t===o?l=(n-r)/s+(n<r)*6:n===o?l=(r-t)/s+2:l=(t-n)/s+4,s/=a<.5?o+i:2-o-i,l*=60):s=a>0&&a<1?0:l,new me(l,s,a,e.opacity)}function Is(e,t,n,r){return arguments.length===1?xi(e):new me(e,t,n,r??1)}function me(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}An(me,Is,Pi(ct,{brighter(e){return e=e==null?At:Math.pow(At,e),new me(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?st:Math.pow(st,e),new me(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new se(Xt(e>=240?e-240:e+120,i,r),Xt(e,i,r),Xt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new me(jn(this.h),gt(this.s),gt(this.l),It(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=It(this.opacity);return`${e===1?"hsl(":"hsla("}${jn(this.h)}, ${gt(this.s)*100}%, ${gt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jn(e){return e=(e||0)%360,e<0?e+360:e}function gt(e){return Math.max(0,Math.min(1,e||0))}function Xt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const In=e=>()=>e;function Cs(e,t){return function(n){return e+n*t}}function Ts(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function $s(e){return(e=+e)==1?Di:function(t,n){return n-t?Ts(t,n,e):In(isNaN(t)?n:t)}}function Di(e,t){var n=t-e;return n?Cs(e,n):In(isNaN(e)?t:e)}const Ct=function e(t){var n=$s(t);function r(i,o){var l=n((i=sn(i)).r,(o=sn(o)).r),s=n(i.g,o.g),a=n(i.b,o.b),u=Di(i.opacity,o.opacity);return function(f){return i.r=l(f),i.g=s(f),i.b=a(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function Rs(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Ls(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zs(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Cn(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(s){for(l=0;l<r;++l)o[l]=i[l](s);return o}}function Fs(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function pe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ps(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Cn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var an=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ht=new RegExp(an.source,"g");function xs(e){return function(){return e}}function Ds(e){return function(t){return e(t)+""}}function Oi(e,t){var n=an.lastIndex=Ht.lastIndex=0,r,i,o,l=-1,s=[],a=[];for(e=e+"",t=t+"";(r=an.exec(e))&&(i=Ht.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[l]?s[l]+=o:s[++l]=o),(r=r[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,a.push({i:l,x:pe(r,i)})),n=Ht.lastIndex;return n<t.length&&(o=t.slice(n),s[l]?s[l]+=o:s[++l]=o),s.length<2?a[0]?Ds(a[0].x):xs(t):(t=a.length,function(u){for(var f=0,c;f<t;++f)s[(c=a[f]).i]=c.x(u);return s.join("")})}function Cn(e,t){var n=typeof t,r;return t==null||n==="boolean"?In(t):(n==="number"?pe:n==="string"?(r=xe(t))?(t=r,Ct):Oi:t instanceof xe?Ct:t instanceof Date?Fs:Ls(t)?Rs:Array.isArray(t)?zs:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ps:pe)(e,t)}function Os(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Gn=180/Math.PI,un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qi(e,t,n,r,i,o){var l,s,a;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,a/=s),e*r<t*n&&(e=-e,t=-t,a=-a,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Gn,skewX:Math.atan(a)*Gn,scaleX:l,scaleY:s}}var yt;function qs(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?un:qi(t.a,t.b,t.c,t.d,t.e,t.f)}function Bs(e){return e==null||(yt||(yt=document.createElementNS("http://www.w3.org/2000/svg","g")),yt.setAttribute("transform",e),!(e=yt.transform.baseVal.consolidate()))?un:(e=e.matrix,qi(e.a,e.b,e.c,e.d,e.e,e.f))}function Bi(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,c,d,p,g){if(u!==c||f!==d){var S=p.push("translate(",null,t,null,n);g.push({i:S-4,x:pe(u,c)},{i:S-2,x:pe(f,d)})}else(c||d)&&p.push("translate("+c+t+d+n)}function l(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(i(c)+"rotate(",null,r)-2,x:pe(u,f)})):f&&c.push(i(c)+"rotate("+f+r)}function s(u,f,c,d){u!==f?d.push({i:c.push(i(c)+"skewX(",null,r)-2,x:pe(u,f)}):f&&c.push(i(c)+"skewX("+f+r)}function a(u,f,c,d,p,g){if(u!==c||f!==d){var S=p.push(i(p)+"scale(",null,",",null,")");g.push({i:S-4,x:pe(u,c)},{i:S-2,x:pe(f,d)})}else(c!==1||d!==1)&&p.push(i(p)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,c,d),l(u.rotate,f.rotate,c,d),s(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(p){for(var g=-1,S=d.length,L;++g<S;)c[(L=d[g]).i]=L.x(p);return c.join("")}}}var Ys=Bi(qs,"px, ","px)","deg)"),Us=Bi(Bs,", ",")",")"),We=0,nt=0,et=0,Yi=1e3,Tt,rt,$t=0,De=0,Dt=0,ut=typeof performance=="object"&&performance.now?performance:Date,Ui=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Tn(){return De||(Ui(Vs),De=ut.now()+Dt)}function Vs(){De=0}function Rt(){this._call=this._time=this._next=null}Rt.prototype=Vi.prototype={constructor:Rt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Tn():+n)+(t==null?0:+t),!this._next&&rt!==this&&(rt?rt._next=this:Tt=this,rt=this),this._call=e,this._time=n,fn()},stop:function(){this._call&&(this._call=null,this._time=1/0,fn())}};function Vi(e,t,n){var r=new Rt;return r.restart(e,t,n),r}function Xs(){Tn(),++We;for(var e=Tt,t;e;)(t=De-e._time)>=0&&e._call.call(void 0,t),e=e._next;--We}function Wn(){De=($t=ut.now())+Dt,We=nt=0;try{Xs()}finally{We=0,Ks(),De=0}}function Hs(){var e=ut.now(),t=e-$t;t>Yi&&(Dt-=t,$t=e)}function Ks(){for(var e,t=Tt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Tt=n);rt=e,fn(r)}function fn(e){if(!We){nt&&(nt=clearTimeout(nt));var t=e-De;t>24?(e<1/0&&(nt=setTimeout(Wn,e-ut.now()-Dt)),et&&(et=clearInterval(et))):(et||($t=ut.now(),et=setInterval(Hs,Yi)),We=1,Ui(Wn))}}function Zn(e,t,n){var r=new Rt;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var js=Mi("start","end","cancel","interrupt"),Gs=[],Xi=0,Qn=1,cn=2,Nt=3,Jn=4,hn=5,Mt=6;function Ot(e,t,n,r,i,o){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;Ws(e,n,{name:t,index:r,group:i,on:js,tween:Gs,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Xi})}function $n(e,t){var n=ye(e,t);if(n.state>Xi)throw new Error("too late; already scheduled");return n}function be(e,t){var n=ye(e,t);if(n.state>Nt)throw new Error("too late; already running");return n}function ye(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ws(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Vi(o,0,n.time);function o(u){n.state=Qn,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,d,p;if(n.state!==Qn)return a();for(f in r)if(p=r[f],p.name===n.name){if(p.state===Nt)return Zn(l);p.state===Jn?(p.state=Mt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[f]):+f<t&&(p.state=Mt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[f])}if(Zn(function(){n.state===Nt&&(n.state=Jn,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=cn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===cn){for(n.state=Nt,i=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(p=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function s(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=hn,1),c=-1,d=i.length;++c<d;)i[c].call(e,f);n.state===hn&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Mt,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Zs(e,t){var n=e.__transition,r,i,o=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){o=!1;continue}i=r.state>cn&&r.state<hn,r.state=Mt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}o&&delete e.__transition}}function Qs(e){return this.each(function(){Zs(this,e)})}function Js(e,t){var n,r;return function(){var i=be(this,e),o=i.tween;if(o!==n){r=n=o;for(var l=0,s=r.length;l<s;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function ea(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=be(this,e),l=o.tween;if(l!==r){i=(r=l).slice();for(var s={name:t,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===t){i[a]=s;break}a===u&&i.push(s)}o.tween=i}}function ta(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ye(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===e)return l.value;return null}return this.each((t==null?Js:ea)(n,e,t))}function Rn(e,t,n){var r=e._id;return e.each(function(){var i=be(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ye(i,r).value[t]}}function Hi(e,t){var n;return(typeof t=="number"?pe:t instanceof xe?Ct:(n=xe(t))?(t=n,Ct):Oi)(e,t)}function na(e){return function(){this.removeAttribute(e)}}function ra(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ia(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttribute(e);return l===i?null:l===r?o:o=t(r=l,n)}}function la(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===r?o:o=t(r=l,n)}}function oa(e,t,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttribute(e):(l=this.getAttribute(e),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s)))}}function sa(e,t,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s)))}}function aa(e,t){var n=xt(e),r=n==="transform"?Us:Hi;return this.attrTween(e,typeof t=="function"?(n.local?sa:oa)(n,r,Rn(this,"attr."+e,t)):t==null?(n.local?ra:na)(n):(n.local?la:ia)(n,r,t))}function ua(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function fa(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ca(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&fa(e,o)),n}return i._value=t,i}function ha(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ua(e,o)),n}return i._value=t,i}function da(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=xt(e);return this.tween(n,(r.local?ca:ha)(r,t))}function _a(e,t){return function(){$n(this,e).delay=+t.apply(this,arguments)}}function pa(e,t){return t=+t,function(){$n(this,e).delay=t}}function ma(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_a:pa)(t,e)):ye(this.node(),t).delay}function ga(e,t){return function(){be(this,e).duration=+t.apply(this,arguments)}}function ya(e,t){return t=+t,function(){be(this,e).duration=t}}function va(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ga:ya)(t,e)):ye(this.node(),t).duration}function ba(e,t){if(typeof t!="function")throw new Error;return function(){be(this,e).ease=t}}function wa(e){var t=this._id;return arguments.length?this.each(ba(t,e)):ye(this.node(),t).ease}function ka(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;be(this,e).ease=n}}function Na(e){if(typeof e!="function")throw new Error;return this.each(ka(this._id,e))}function Ma(e){typeof e!="function"&&(e=Ai(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=[],a,u=0;u<l;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&s.push(a);return new Me(r,this._parents,this._name,this._id)}function Ea(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),l=new Array(r),s=0;s<o;++s)for(var a=t[s],u=n[s],f=a.length,c=l[s]=new Array(f),d,p=0;p<f;++p)(d=a[p]||u[p])&&(c[p]=d);for(;s<r;++s)l[s]=t[s];return new Me(l,this._parents,this._name,this._id)}function Sa(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Aa(e,t,n){var r,i,o=Sa(t)?$n:be;return function(){var l=o(this,e),s=l.on;s!==r&&(i=(r=s).copy()).on(t,n),l.on=i}}function Ia(e,t){var n=this._id;return arguments.length<2?ye(this.node(),n).on.on(e):this.each(Aa(n,e,t))}function Ca(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ta(){return this.on("end.remove",Ca(this._id))}function $a(e){var t=this._name,n=this._id;typeof e!="function"&&(e=En(e));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var s=r[l],a=s.length,u=o[l]=new Array(a),f,c,d=0;d<a;++d)(f=s[d])&&(c=e.call(f,f.__data__,d,s))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Ot(u[d],t,n,d,u,ye(f,n)));return new Me(o,this._parents,t,n)}function Ra(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Si(e));for(var r=this._groups,i=r.length,o=[],l=[],s=0;s<i;++s)for(var a=r[s],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=e.call(f,f.__data__,c,a),p,g=ye(f,n),S=0,L=d.length;S<L;++S)(p=d[S])&&Ot(p,t,n,S,d,g);o.push(d),l.push(f)}return new Me(o,l,t,n)}var La=ft.prototype.constructor;function za(){return new La(this._groups,this._parents)}function Fa(e,t){var n,r,i;return function(){var o=Ge(this,e),l=(this.style.removeProperty(e),Ge(this,e));return o===l?null:o===n&&l===r?i:i=t(n=o,r=l)}}function Ki(e){return function(){this.style.removeProperty(e)}}function Pa(e,t,n){var r,i=n+"",o;return function(){var l=Ge(this,e);return l===i?null:l===r?o:o=t(r=l,n)}}function xa(e,t,n){var r,i,o;return function(){var l=Ge(this,e),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(e),Ge(this,e))),l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s))}}function Da(e,t){var n,r,i,o="style."+t,l="end."+o,s;return function(){var a=be(this,e),u=a.on,f=a.value[o]==null?s||(s=Ki(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(l,i=f),a.on=r}}function Oa(e,t,n){var r=(e+="")=="transform"?Ys:Hi;return t==null?this.styleTween(e,Fa(e,r)).on("end.style."+e,Ki(e)):typeof t=="function"?this.styleTween(e,xa(e,r,Rn(this,"style."+e,t))).each(Da(this._id,e)):this.styleTween(e,Pa(e,r,t),n).on("end.style."+e,null)}function qa(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ba(e,t,n){var r,i;function o(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&qa(e,l,n)),r}return o._value=t,o}function Ya(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Ba(e,t,n??""))}function Ua(e){return function(){this.textContent=e}}function Va(e){return function(){var t=e(this);this.textContent=t??""}}function Xa(e){return this.tween("text",typeof e=="function"?Va(Rn(this,"text",e)):Ua(e==null?"":e+""))}function Ha(e){return function(t){this.textContent=e.call(this,t)}}function Ka(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ha(i)),t}return r._value=e,r}function ja(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ka(e))}function Ga(){for(var e=this._name,t=this._id,n=ji(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,u=0;u<s;++u)if(a=l[u]){var f=ye(a,t);Ot(a,e,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Me(r,this._parents,e,n)}function Wa(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var s={value:l},a={value:function(){--i===0&&o()}};n.each(function(){var u=be(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(a)),u.on=t}),i===0&&o()})}var Za=0;function Me(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ji(){return++Za}var ke=ft.prototype;Me.prototype={constructor:Me,select:$a,selectAll:Ra,selectChild:ke.selectChild,selectChildren:ke.selectChildren,filter:Ma,merge:Ea,selection:za,transition:Ga,call:ke.call,nodes:ke.nodes,node:ke.node,size:ke.size,empty:ke.empty,each:ke.each,on:Ia,attr:aa,attrTween:da,style:Oa,styleTween:Ya,text:Xa,textTween:ja,remove:Ta,tween:ta,delay:ma,duration:va,ease:wa,easeVarying:Na,end:Wa,[Symbol.iterator]:ke[Symbol.iterator]};function Qa(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ja={time:null,delay:0,duration:250,ease:Qa};function eu(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function tu(e){var t,n;e instanceof Me?(t=e._id,e=e._name):(t=ji(),(n=Ja).time=Tn(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,u=0;u<s;++u)(a=l[u])&&Ot(a,e,t,u,l,n||eu(a,t));return new Me(r,this._parents,e,t)}ft.prototype.interrupt=Qs;ft.prototype.transition=tu;const dn=Math.PI,_n=2*dn,Re=1e-6,nu=_n-Re;function Gi(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ru(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Gi;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class iu{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Gi:ru(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,s=this._y1,a=r-t,u=i-n,f=l-t,c=s-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Re)if(!(Math.abs(c*a-u*f)>Re)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-l,g=i-s,S=a*a+u*u,L=p*p+g*g,q=Math.sqrt(S),Y=Math.sqrt(d),z=o*Math.tan((dn-Math.acos((S+d-L)/(2*q*Y)))/2),N=z/Y,I=z/q;Math.abs(N-1)>Re&&this._append`L${t+N*f},${n+N*c}`,this._append`A${o},${o},0,0,${+(c*p>f*g)},${this._x1=t+I*a},${this._y1=n+I*u}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),a=r*Math.sin(i),u=t+s,f=n+a,c=1^l,d=l?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Re||Math.abs(this._y1-f)>Re)&&this._append`L${u},${f}`,r&&(d<0&&(d=d%_n+_n),d>nu?this._append`A${r},${r},0,1,${c},${t-s},${n-a}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:d>Re&&this._append`A${r},${r},0,${+(d>=dn)},${c},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lu(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ze(e){return e=Lt(Math.abs(e)),e?e[1]:NaN}function ou(e,t){return function(n,r){for(var i=n.length,o=[],l=0,s=e[0],a=0;i>0&&s>0&&(a+s+1>r&&(s=Math.max(1,r-a)),o.push(n.substring(i-=s,i+s)),!((a+=s+1)>r));)s=e[l=(l+1)%e.length];return o.reverse().join(t)}}function su(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var au=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zt(e){if(!(t=au.exec(e)))throw new Error("invalid format: "+e);var t;return new Ln({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zt.prototype=Ln.prototype;function Ln(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ln.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uu(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Wi;function fu(e,t){var n=Lt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Wi=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Lt(e,Math.max(0,t+o-1))[0]}function er(e,t){var n=Lt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const tr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lu,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>er(e*100,t),r:er,s:fu,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nr(e){return e}var rr=Array.prototype.map,ir=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cu(e){var t=e.grouping===void 0||e.thousands===void 0?nr:ou(rr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?nr:su(rr.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function u(c){c=zt(c);var d=c.fill,p=c.align,g=c.sign,S=c.symbol,L=c.zero,q=c.width,Y=c.comma,z=c.precision,N=c.trim,I=c.type;I==="n"?(Y=!0,I="g"):tr[I]||(z===void 0&&(z=12),N=!0,I="g"),(L||d==="0"&&p==="=")&&(L=!0,d="0",p="=");var P=S==="$"?n:S==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",$=S==="$"?r:/[%p]/.test(I)?l:"",O=tr[I],k=/[defgprs%]/.test(I);z=z===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function w(b){var R=P,x=$,v,m,D;if(I==="c")x=O(b)+x,b="";else{b=+b;var y=b<0||1/b<0;if(b=isNaN(b)?a:O(Math.abs(b),z),N&&(b=uu(b)),y&&+b==0&&g!=="+"&&(y=!1),R=(y?g==="("?g:s:g==="-"||g==="("?"":g)+R,x=(I==="s"?ir[8+Wi/3]:"")+x+(y&&g==="("?")":""),k){for(v=-1,m=b.length;++v<m;)if(D=b.charCodeAt(v),48>D||D>57){x=(D===46?i+b.slice(v+1):b.slice(v))+x,b=b.slice(0,v);break}}}Y&&!L&&(b=t(b,1/0));var H=R.length+b.length+x.length,X=H<q?new Array(q-H+1).join(d):"";switch(Y&&L&&(b=t(X+b,X.length?q-x.length:1/0),X=""),p){case"<":b=R+b+x+X;break;case"=":b=R+X+b+x;break;case"^":b=X.slice(0,H=X.length>>1)+R+b+x+X.slice(H);break;default:b=X+R+b+x;break}return o(b)}return w.toString=function(){return c+""},w}function f(c,d){var p=u((c=zt(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(Ze(d)/3)))*3,S=Math.pow(10,-g),L=ir[8+g/3];return function(q){return p(S*q)+L}}return{format:u,formatPrefix:f}}var vt,Zi,Qi;hu({thousands:",",grouping:[3],currency:["$",""]});function hu(e){return vt=cu(e),Zi=vt.format,Qi=vt.formatPrefix,vt}function du(e){return Math.max(0,-Ze(Math.abs(e)))}function _u(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ze(t)/3)))*3-Ze(Math.abs(e)))}function pu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ze(t)-Ze(e))+1}function zn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const lr=Symbol("implicit");function Ji(){var e=new xn,t=[],n=[],r=lr;function i(o){let l=e.get(o);if(l===void 0){if(r!==lr)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new xn;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ji(t,n).unknown(r)},zn.apply(i,arguments),i}function el(){var e=Ji().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,s=!1,a=0,u=0,f=.5;delete e.unknown;function c(){var d=t().length,p=i<r,g=p?i:r,S=p?r:i;o=(S-g)/Math.max(1,d-a+u*2),s&&(o=Math.floor(o)),g+=(S-g-o*(d-a))*f,l=o*(1-a),s&&(g=Math.round(g),l=Math.round(l));var L=Ll(d).map(function(q){return g+o*q});return n(p?L.reverse():L)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,c()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,c()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,c()):s},e.padding=function(d){return arguments.length?(a=Math.min(1,u=+d),c()):a},e.paddingInner=function(d){return arguments.length?(a=Math.min(1,d),c()):a},e.paddingOuter=function(d){return arguments.length?(u=+d,c()):u},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},e.copy=function(){return el(t(),[r,i]).round(s).paddingInner(a).paddingOuter(u).align(f)},zn.apply(c(),arguments)}function tl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return tl(t())},e}function or(){return tl(el.apply(null,arguments).paddingInner(1))}function mu(e){return function(){return e}}function gu(e){return+e}var sr=[0,1];function Ve(e){return e}function pn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:mu(isNaN(t)?NaN:.5)}function yu(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function vu(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=pn(i,r),o=n(l,o)):(r=pn(r,i),o=n(o,l)),function(s){return o(r(s))}}function bu(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=pn(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(s){var a=El(e,s,1,r)-1;return o[a](i[a](s))}}function wu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ku(){var e=sr,t=sr,n=Cn,r,i,o,l=Ve,s,a,u;function f(){var d=Math.min(e.length,t.length);return l!==Ve&&(l=yu(e[0],e[d-1])),s=d>2?bu:vu,a=u=null,c}function c(d){return d==null||isNaN(d=+d)?o:(a||(a=s(e.map(r),t,n)))(r(l(d)))}return c.invert=function(d){return l(i((u||(u=s(t,e.map(r),pe)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,gu),f()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),n=Os,f()},c.clamp=function(d){return arguments.length?(l=d?!0:Ve,f()):l!==Ve},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(o=d,c):o},function(d,p){return r=d,i=p,f()}}function Nu(){return ku()(Ve,Ve)}function Mu(e,t,n,r){var i=Rl(e,t,n),o;switch(r=zt(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=_u(i,l))&&(r.precision=o),Qi(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=pu(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=du(i))&&(r.precision=o-(r.type==="%")*2);break}}return Zi(r)}function Eu(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ni(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Mu(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],s=r[o],a,u,f=10;for(s<l&&(u=l,l=s,s=u,u=i,i=o,o=u);f-- >0;){if(u=ln(l,s,n),u===a)return r[i]=l,r[o]=s,t(r);if(u>0)l=Math.floor(l/u)*u,s=Math.ceil(s/u)*u;else if(u<0)l=Math.ceil(l*u)/u,s=Math.floor(s*u)/u;else break;a=u}return e},e}function mn(){var e=Nu();return e.copy=function(){return wu(e,mn())},zn.apply(e,arguments),Eu(e)}function Ye(e){return function(){return e}}function Su(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new iu(t)}function Au(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nl(e){this._context=e}nl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Iu(e){return new nl(e)}function Cu(e){return e[0]}function Tu(e){return e[1]}function $u(e,t){var n=Ye(!0),r=null,i=Iu,o=null,l=Su(s);e=typeof e=="function"?e:e===void 0?Cu:Ye(e),t=typeof t=="function"?t:t===void 0?Tu:Ye(t);function s(a){var u,f=(a=Au(a)).length,c,d=!1,p;for(r==null&&(o=i(p=l())),u=0;u<=f;++u)!(u<f&&n(c=a[u],u,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(c,u,a),+t(c,u,a));if(p)return o=null,p+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Ye(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:Ye(+a),s):t},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:Ye(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function ar(e){return e<0?-1:1}function ur(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),s=(o*i+l*r)/(r+i);return(ar(o)+ar(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(s))||0}function fr(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Kt(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,l-s*n,o,l)}function Ft(e){this._context=e}Ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kt(this,this._t0,fr(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kt(this,fr(this,n=ur(this,e,t)),n);break;default:Kt(this,this._t0,n=ur(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(Ft.prototype).point=function(e,t){Ft.prototype.point.call(this,t,e)};function Ru(e){return new Ft(e)}function it(e,t,n){this.k=e,this.x=t,this.y=n}it.prototype={constructor:it,scale:function(e){return e===1?this:new it(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new it(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};it.prototype;function cr(e,t,n){const r=e.slice();return r[51]=t[n],r}function hr(e,t,n){const r=e.slice();return r[54]=t[n],r}function dr(e,t,n){const r=e.slice();return r[57]=t[n],r}function jt(e){const t=e.slice(),n=t[16](t[6].entry).toFixed(1);return t[64]=n,t}function _r(e,t,n){const r=e.slice();return r[61]=t[n],r[63]=n,r}function Gt(e){const t=e.slice(),n=t[16](t[61]).toFixed(1);return t[64]=n,t}function Wt(e){const t=e.slice(),n=Wu(t[6].entry);return t[60]=n,t}function pr(e,t,n){const r=e.slice();return r[65]=t[n],r}function mr(e,t,n){const r=e.slice();return r[68]=t[n],r}function Zt(e){const t=e.slice(),n=t[1](t[68].year)??t[13].left;t[71]=n;const r=t[2](t[17](t[68]));t[72]=r;const i=(t[68].field_size??0)>0;t[73]=i;const o=t[73]?`${t[16](t[68]).toFixed(1)}%`:null;return t[74]=o,t}function gr(e,t,n){const r=e.slice();return r[75]=t[n],r}function yr(e,t,n){const r=e.slice();return r[65]=t[n],r}function vr(e,t,n){const r=e.slice();return r[80]=t[n],r}function br(e){let t,n,r,i,o=e[0]==="relative"?`${e[80]}%`:`#${e[80]}`,l,s;return{c(){t=ee("line"),i=ee("text"),l=T(o),h(t,"x1",e[13].left),h(t,"x2",Xe-e[13].right),h(t,"y1",n=e[2](e[80])),h(t,"y2",r=e[2](e[80])),h(t,"stroke","rgba(148, 163, 184, 0.25)"),h(t,"stroke-width","1"),h(i,"x",e[13].left-12),h(i,"y",s=e[2](e[80])+4),h(i,"text-anchor","end"),h(i,"font-size","12"),h(i,"fill","var(--color-text-secondary)")},m(a,u){C(a,t,u),C(a,i,u),_(i,l)},p(a,u){u[0]&20&&n!==(n=a[2](a[80]))&&h(t,"y1",n),u[0]&20&&r!==(r=a[2](a[80]))&&h(t,"y2",r),u[0]&17&&o!==(o=a[0]==="relative"?`${a[80]}%`:`#${a[80]}`)&&V(l,o),u[0]&20&&s!==(s=a[2](a[80])+4)&&h(i,"y",s)},d(a){a&&(A(t),A(i))}}}function wr(e){let t,n,r;return{c(){t=ee("path"),h(t,"d",n=e[65].pathData),h(t,"fill","none"),h(t,"stroke",r=e[65].color),h(t,"stroke-width","3"),h(t,"stroke-opacity","0.85")},m(i,o){C(i,t,o)},p(i,o){o[0]&8&&n!==(n=i[65].pathData)&&h(t,"d",n),o[0]&8&&r!==(r=i[65].color)&&h(t,"stroke",r)},d(i){i&&A(t)}}}function kr(e){let t,n=e[65].pathData&&wr(e);return{c(){n&&n.c(),t=re()},m(r,i){n&&n.m(r,i),C(r,t,i)},p(r,i){r[65].pathData?n?n.p(r,i):(n=wr(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&A(t),n&&n.d(r)}}}function Lu(e){let t,n=G(e[9]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Er(gr(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=re()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);C(i,t,o)},p(i,o){if(o[0]&8706){n=G(i[9]);let l;for(l=0;l<n.length;l+=1){const s=gr(i,n,l);r[l]?r[l].p(s,o):(r[l]=Er(s),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&A(t),oe(r,i)}}}function Nr(e){let t=`${e[75].year}-${e[75].conductor}`,n,r=Mr(e);return{c(){r.c(),n=re()},m(i,o){r.m(i,o),C(i,n,o)},p(i,o){o[0]&512&&Pt(t,t=`${i[75].year}-${i[75].conductor}`)?(r.d(1),r=Mr(i),r.c(),r.m(n.parentNode,n)):r.p(i,o)},d(i){i&&A(n),r.d(i)}}}function Mr(e){let t,n,r,i,o,l=e[75].conductor+"",s,a,u,f,c;return{c(){t=ee("g"),n=ee("line"),o=ee("text"),s=T(l),h(n,"x1",r=e[1](e[75].year)),h(n,"x2",i=e[1](e[75].year)),h(n,"y1",e[13].top),h(n,"y2",Ie-e[13].bottom),h(n,"stroke","var(--color-conductor-line)"),h(n,"stroke-dasharray","4 8"),h(n,"stroke-width","1.5"),h(o,"x",a=e[1](e[75].year)),h(o,"y",u=e[75].y),h(o,"text-anchor",f=e[75].anchor),h(o,"dx",c=e[75].dx),h(o,"font-size","11"),h(o,"fill","var(--color-text-secondary)"),h(o,"class","svelte-y6x3yn"),h(t,"class","conductor-change svelte-y6x3yn"),h(t,"aria-hidden","true")},m(d,p){C(d,t,p),_(t,n),_(t,o),_(o,s)},p(d,p){p[0]&514&&r!==(r=d[1](d[75].year))&&h(n,"x1",r),p[0]&514&&i!==(i=d[1](d[75].year))&&h(n,"x2",i),p[0]&512&&l!==(l=d[75].conductor+"")&&V(s,l),p[0]&514&&a!==(a=d[1](d[75].year))&&h(o,"x",a),p[0]&512&&u!==(u=d[75].y)&&h(o,"y",u),p[0]&512&&f!==(f=d[75].anchor)&&h(o,"text-anchor",f),p[0]&512&&c!==(c=d[75].dx)&&h(o,"dx",c)},d(d){d&&A(t)}}}function Er(e){let t=e[1](e[75].year)!==void 0,n,r=t&&Nr(e);return{c(){r&&r.c(),n=re()},m(i,o){r&&r.m(i,o),C(i,n,o)},p(i,o){o[0]&514&&(t=i[1](i[75].year)!==void 0),t?r?r.p(i,o):(r=Nr(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){i&&A(n),r&&r.d(i)}}}function Sr(e){let t;function n(o,l){return o[65].shape==="circle"?Pu:o[65].shape==="square"?Fu:zu}let r=n(e),i=r(e);return{c(){t=ee("g"),i.c()},m(o,l){C(o,t,l),i.m(t,null)},p(o,l){r===(r=n(o))&&i?i.p(o,l):(i.d(1),i=r(o),i&&(i.c(),i.m(t,null)))},d(o){o&&A(t),i.d()}}}function zu(e){let t,n,r,i,o,l,s;function a(...f){return e[38](e[68],e[65],...f)}function u(...f){return e[39](e[68],e[65],...f)}return{c(){t=ee("path"),h(t,"d",n=yn(e[71],e[72],Ne)),h(t,"fill",r=e[14][e[68].division]??"#f8fafc"),h(t,"stroke",i=e[65].color),h(t,"stroke-width","1.5"),h(t,"role","button"),h(t,"tabindex","0"),h(t,"aria-label",o=`${e[65].band.name}: ${e[68].year}  ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?`  relativ ${e[74]}`:""})${e[68].conductor?`  Dirigent: ${e[68].conductor}`:""}`)},m(f,c){C(f,t,c),l||(s=[J(t,"mouseenter",a),J(t,"mouseleave",e[20]),J(t,"focus",u),J(t,"blur",e[20])],l=!0)},p(f,c){e=f,c[0]&14&&n!==(n=yn(e[71],e[72],Ne))&&h(t,"d",n),c[0]&8&&r!==(r=e[14][e[68].division]??"#f8fafc")&&h(t,"fill",r),c[0]&8&&i!==(i=e[65].color)&&h(t,"stroke",i),c[0]&8&&o!==(o=`${e[65].band.name}: ${e[68].year}  ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?`  relativ ${e[74]}`:""})${e[68].conductor?`  Dirigent: ${e[68].conductor}`:""}`)&&h(t,"aria-label",o)},d(f){f&&A(t),l=!1,de(s)}}}function Fu(e){let t,n,r,i,o,l,s,a;function u(...c){return e[36](e[68],e[65],...c)}function f(...c){return e[37](e[68],e[65],...c)}return{c(){t=ee("rect"),h(t,"x",n=e[71]-Ne),h(t,"y",r=e[72]-Ne),h(t,"width",Ne*2),h(t,"height",Ne*2),h(t,"rx","2"),h(t,"fill",i=e[14][e[68].division]??"#f8fafc"),h(t,"stroke",o=e[65].color),h(t,"stroke-width","1.5"),h(t,"role","button"),h(t,"tabindex","0"),h(t,"aria-label",l=`${e[65].band.name}: ${e[68].year}  ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?`  relativ ${e[74]}`:""})${e[68].conductor?`  Dirigent: ${e[68].conductor}`:""}`)},m(c,d){C(c,t,d),s||(a=[J(t,"mouseenter",u),J(t,"mouseleave",e[20]),J(t,"focus",f),J(t,"blur",e[20])],s=!0)},p(c,d){e=c,d[0]&10&&n!==(n=e[71]-Ne)&&h(t,"x",n),d[0]&12&&r!==(r=e[72]-Ne)&&h(t,"y",r),d[0]&8&&i!==(i=e[14][e[68].division]??"#f8fafc")&&h(t,"fill",i),d[0]&8&&o!==(o=e[65].color)&&h(t,"stroke",o),d[0]&8&&l!==(l=`${e[65].band.name}: ${e[68].year}  ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?`  relativ ${e[74]}`:""})${e[68].conductor?`  Dirigent: ${e[68].conductor}`:""}`)&&h(t,"aria-label",l)},d(c){c&&A(t),s=!1,de(a)}}}function Pu(e){let t,n,r,i,o,l,s,a;function u(...c){return e[34](e[68],e[65],...c)}function f(...c){return e[35](e[68],e[65],...c)}return{c(){t=ee("circle"),h(t,"cx",n=e[71]),h(t,"cy",r=e[72]),h(t,"r",Ne),h(t,"fill",i=e[14][e[68].division]??"#f8fafc"),h(t,"stroke",o=e[65].color),h(t,"stroke-width","1.5"),h(t,"role","button"),h(t,"tabindex","0"),h(t,"aria-label",l=`${e[65].band.name}: ${e[68].year}  ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?`  relativ ${e[74]}`:""})${e[68].conductor?`  Dirigent: ${e[68].conductor}`:""}`)},m(c,d){C(c,t,d),s||(a=[J(t,"mouseenter",u),J(t,"mouseleave",e[20]),J(t,"focus",f),J(t,"blur",e[20])],s=!0)},p(c,d){e=c,d[0]&10&&n!==(n=e[71])&&h(t,"cx",n),d[0]&12&&r!==(r=e[72])&&h(t,"cy",r),d[0]&8&&i!==(i=e[14][e[68].division]??"#f8fafc")&&h(t,"fill",i),d[0]&8&&o!==(o=e[65].color)&&h(t,"stroke",o),d[0]&8&&l!==(l=`${e[65].band.name}: ${e[68].year}  ${e[68].division} plass ${e[68].rank} (absolutt #${e[68].absolute_position}${e[74]?`  relativ ${e[74]}`:""})${e[68].conductor?`  Dirigent: ${e[68].conductor}`:""}`)&&h(t,"aria-label",l)},d(c){c&&A(t),s=!1,de(a)}}}function Ar(e,t){let n,r=t[1](t[68].year)!==void 0,i,o=r&&Sr(Zt(t));return{key:e,first:null,c(){n=re(),o&&o.c(),i=re(),this.first=n},m(l,s){C(l,n,s),o&&o.m(l,s),C(l,i,s)},p(l,s){t=l,s[0]&10&&(r=t[1](t[68].year)!==void 0),r?o?o.p(Zt(t),s):(o=Sr(Zt(t)),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},d(l){l&&(A(n),A(i)),o&&o.d(l)}}}function Ir(e){let t=[],n=new Map,r,i=G(e[65].entries);const o=l=>l[68].year;for(let l=0;l<i.length;l+=1){let s=mr(e,i,l),a=o(s);n.set(a,t[l]=Ar(a,s))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();r=re()},m(l,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(l,s);C(l,r,s)},p(l,s){s[0]&1794062&&(i=G(l[65].entries),t=yl(t,s,o,1,l,i,n,r.parentNode,gl,Ar,r,mr))},d(l){l&&A(r);for(let s=0;s<t.length;s+=1)t[s].d(l)}}}function Cr(e){let t,n,r=e[6].entry.year+"",i,o,l=e[6].bandName+"",s,a,u;function f(p,g){return p[60]&&p[60].length?Du:xu}let c=f(e),d=c(e);return{c(){t=E("div"),n=E("strong"),i=T(r),o=T("  "),s=T(l),a=B(),d.c(),h(t,"class","tooltip svelte-y6x3yn"),h(t,"style",u=`left: ${e[7]}px; top: ${e[8]}px`)},m(p,g){C(p,t,g),_(t,n),_(n,i),_(n,o),_(n,s),_(t,a),d.m(t,null)},p(p,g){g[0]&64&&r!==(r=p[6].entry.year+"")&&V(i,r),g[0]&64&&l!==(l=p[6].bandName+"")&&V(s,l),c===(c=f(p))&&d?d.p(p,g):(d.d(1),d=c(p),d&&(d.c(),d.m(t,null))),g[0]&384&&u!==(u=`left: ${p[7]}px; top: ${p[8]}px`)&&h(t,"style",u)},d(p){p&&A(t),d.d()}}}function xu(e){let t,n=e[6].entry.division+"",r,i,o=e[6].entry.rank+"",l,s,a,u,f,c=e[6].entry.absolute_position+"",d,p,g,S,L,q=e[6].entry.division_size+"",Y,z,N=e[6].entry.field_size+"",I,P,$,O,k,w=e[6].entry.conductor&&Tr(e),b=(e[6].entry.field_size??0)>0&&$r(jt(e)),R=e[6].entry.points!==null&&Rr(e),x=e[6].entry.pieces.length>0&&Lr(e);return{c(){t=E("div"),r=T(n),i=T("  #"),l=T(o),s=B(),w&&w.c(),a=B(),u=E("div"),f=T("Absolutt plassering: #"),d=T(c),p=B(),b&&b.c(),g=B(),S=E("div"),L=T("Deltakere: "),Y=T(q),z=T(" (div) / "),I=T(N),P=T(" (totalt)"),$=B(),R&&R.c(),O=B(),x&&x.c(),k=re()},m(v,m){C(v,t,m),_(t,r),_(t,i),_(t,l),C(v,s,m),w&&w.m(v,m),C(v,a,m),C(v,u,m),_(u,f),_(u,d),C(v,p,m),b&&b.m(v,m),C(v,g,m),C(v,S,m),_(S,L),_(S,Y),_(S,z),_(S,I),_(S,P),C(v,$,m),R&&R.m(v,m),C(v,O,m),x&&x.m(v,m),C(v,k,m)},p(v,m){m[0]&64&&n!==(n=v[6].entry.division+"")&&V(r,n),m[0]&64&&o!==(o=v[6].entry.rank+"")&&V(l,o),v[6].entry.conductor?w?w.p(v,m):(w=Tr(v),w.c(),w.m(a.parentNode,a)):w&&(w.d(1),w=null),m[0]&64&&c!==(c=v[6].entry.absolute_position+"")&&V(d,c),(v[6].entry.field_size??0)>0?b?b.p(jt(v),m):(b=$r(jt(v)),b.c(),b.m(g.parentNode,g)):b&&(b.d(1),b=null),m[0]&64&&q!==(q=v[6].entry.division_size+"")&&V(Y,q),m[0]&64&&N!==(N=v[6].entry.field_size+"")&&V(I,N),v[6].entry.points!==null?R?R.p(v,m):(R=Rr(v),R.c(),R.m(O.parentNode,O)):R&&(R.d(1),R=null),v[6].entry.pieces.length>0?x?x.p(v,m):(x=Lr(v),x.c(),x.m(k.parentNode,k)):x&&(x.d(1),x=null)},d(v){v&&(A(t),A(s),A(a),A(u),A(p),A(g),A(S),A($),A(O),A(k)),w&&w.d(v),b&&b.d(v),R&&R.d(v),x&&x.d(v)}}}function Du(e){let t,n=G(e[60]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Dr(_r(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=re()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);C(i,t,o)},p(i,o){if(o[0]&65600){n=G(i[60]);let l;for(l=0;l<n.length;l+=1){const s=_r(i,n,l);r[l]?r[l].p(s,o):(r[l]=Dr(s),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&A(t),oe(r,i)}}}function Tr(e){let t,n,r=e[6].entry.conductor+"",i;return{c(){t=E("div"),n=T("Dirigent: "),i=T(r)},m(o,l){C(o,t,l),_(t,n),_(t,i)},p(o,l){l[0]&64&&r!==(r=o[6].entry.conductor+"")&&V(i,r)},d(o){o&&A(t)}}}function $r(e){let t,n,r=e[64]+"",i,o;return{c(){t=E("div"),n=T("Relativ plassering: "),i=T(r),o=T("%")},m(l,s){C(l,t,s),_(t,n),_(t,i),_(t,o)},p(l,s){s[0]&64&&r!==(r=l[64]+"")&&V(i,r)},d(l){l&&A(t)}}}function Rr(e){let t,n,r=e[6].entry.points+"",i,o,l=e[6].entry.max_points+"",s;return{c(){t=E("div"),n=T("Poeng: "),i=T(r),o=T(" / "),s=T(l)},m(a,u){C(a,t,u),_(t,n),_(t,i),_(t,o),_(t,s)},p(a,u){u[0]&64&&r!==(r=a[6].entry.points+"")&&V(i,r),u[0]&64&&l!==(l=a[6].entry.max_points+"")&&V(s,l)},d(a){a&&A(t)}}}function Lr(e){let t,n,r=e[6].entry.pieces.join("; ")+"",i;return{c(){t=E("div"),n=T("Stykker: "),i=T(r)},m(o,l){C(o,t,l),_(t,n),_(t,i)},p(o,l){l[0]&64&&r!==(r=o[6].entry.pieces.join("; ")+"")&&V(i,r)},d(o){o&&A(t)}}}function zr(e){let t,n,r=e[64]+"",i,o;return{c(){t=E("div"),n=T("Relativ plassering: "),i=T(r),o=T("%")},m(l,s){C(l,t,s),_(t,n),_(t,i),_(t,o)},p(l,s){s[0]&64&&r!==(r=l[64]+"")&&V(i,r)},d(l){l&&A(t)}}}function Fr(e){let t,n,r=e[61].points+"",i,o,l=e[61].max_points+"",s;return{c(){t=E("div"),n=T("Poeng: "),i=T(r),o=T(" / "),s=T(l)},m(a,u){C(a,t,u),_(t,n),_(t,i),_(t,o),_(t,s)},p(a,u){u[0]&64&&r!==(r=a[61].points+"")&&V(i,r),u[0]&64&&l!==(l=a[61].max_points+"")&&V(s,l)},d(a){a&&A(t)}}}function Pr(e){let t,n,r=e[61].pieces.join("; ")+"",i;return{c(){t=E("div"),n=T("Stykker: "),i=T(r)},m(o,l){C(o,t,l),_(t,n),_(t,i)},p(o,l){l[0]&64&&r!==(r=o[61].pieces.join("; ")+"")&&V(i,r)},d(o){o&&A(t)}}}function xr(e){let t;return{c(){t=E("div"),h(t,"class","tooltip-divider svelte-y6x3yn")},m(n,r){C(n,t,r)},d(n){n&&A(t)}}}function Dr(e){let t,n,r=(e[61].band_name??"Ukjent korps")+"",i,o,l,s=e[61].division+"",a,u,f=e[61].rank+"",c,d,p,g,S=e[61].absolute_position+"",L,q,Y,z,N,I=e[61].division_size+"",P,$,O=e[61].field_size+"",k,w,b,R,x,v,m=(e[61].field_size??0)>0&&zr(Gt(e)),D=e[61].points!==null&&Fr(e),y=e[61].pieces.length>0&&Pr(e),H=e[63]<e[60].length-1&&xr();return{c(){t=E("div"),n=E("div"),i=T(r),o=B(),l=E("div"),a=T(s),u=T("  #"),c=T(f),d=B(),p=E("div"),g=T("Absolutt plassering: #"),L=T(S),q=B(),m&&m.c(),Y=B(),z=E("div"),N=T("Deltakere: "),P=T(I),$=T(" (div) / "),k=T(O),w=T(" (totalt)"),b=B(),D&&D.c(),R=B(),y&&y.c(),x=B(),H&&H.c(),v=re(),h(n,"class","tooltip-band__title svelte-y6x3yn"),h(t,"class","tooltip-band svelte-y6x3yn")},m(X,Q){C(X,t,Q),_(t,n),_(n,i),_(t,o),_(t,l),_(l,a),_(l,u),_(l,c),_(t,d),_(t,p),_(p,g),_(p,L),_(t,q),m&&m.m(t,null),_(t,Y),_(t,z),_(z,N),_(z,P),_(z,$),_(z,k),_(z,w),_(t,b),D&&D.m(t,null),_(t,R),y&&y.m(t,null),C(X,x,Q),H&&H.m(X,Q),C(X,v,Q)},p(X,Q){Q[0]&64&&r!==(r=(X[61].band_name??"Ukjent korps")+"")&&V(i,r),Q[0]&64&&s!==(s=X[61].division+"")&&V(a,s),Q[0]&64&&f!==(f=X[61].rank+"")&&V(c,f),Q[0]&64&&S!==(S=X[61].absolute_position+"")&&V(L,S),(X[61].field_size??0)>0?m?m.p(Gt(X),Q):(m=zr(Gt(X)),m.c(),m.m(t,Y)):m&&(m.d(1),m=null),Q[0]&64&&I!==(I=X[61].division_size+"")&&V(P,I),Q[0]&64&&O!==(O=X[61].field_size+"")&&V(k,O),X[61].points!==null?D?D.p(X,Q):(D=Fr(X),D.c(),D.m(t,R)):D&&(D.d(1),D=null),X[61].pieces.length>0?y?y.p(X,Q):(y=Pr(X),y.c(),y.m(t,null)):y&&(y.d(1),y=null),X[63]<X[60].length-1?H||(H=xr(),H.c(),H.m(v.parentNode,v)):H&&(H.d(1),H=null)},d(X){X&&(A(t),A(x),A(v)),m&&m.d(),D&&D.d(),y&&y.d(),H&&H.d(X)}}}function Or(e){let t,n=e[57].year+"",r,i,o;return{c(){t=E("span"),r=T(n),i=B(),h(t,"style",o=`left: ${e[57].x}px`),h(t,"class","svelte-y6x3yn"),Ce(t,"inactive",e[57].inactive)},m(l,s){C(l,t,s),_(t,r),_(t,i)},p(l,s){s[0]&1024&&n!==(n=l[57].year+"")&&V(r,n),s[0]&1024&&o!==(o=`left: ${l[57].x}px`)&&h(t,"style",o),s[0]&1024&&Ce(t,"inactive",l[57].inactive)},d(l){l&&A(t)}}}function qr(e){let t,n=G(e[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Br(hr(e,n,i));return{c(){t=E("div");for(let i=0;i<r.length;i+=1)r[i].c();h(t,"class","band-legend svelte-y6x3yn")},m(i,o){C(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&8){n=G(i[3]);let l;for(l=0;l<n.length;l+=1){const s=hr(i,n,l);r[l]?r[l].p(s,o):(r[l]=Br(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&A(t),oe(r,i)}}}function Ou(e){let t,n;return{c(){t=ee("path"),h(t,"d",yn(21,7,6)),h(t,"fill","var(--color-input-bg, #0f172a)"),h(t,"stroke",n=e[54].color),h(t,"stroke-width","2")},m(r,i){C(r,t,i)},p(r,i){i[0]&8&&n!==(n=r[54].color)&&h(t,"stroke",n)},d(r){r&&A(t)}}}function qu(e){let t,n;return{c(){t=ee("rect"),h(t,"x","16"),h(t,"y","2"),h(t,"width","10"),h(t,"height","10"),h(t,"rx","2"),h(t,"fill","var(--color-input-bg, #0f172a)"),h(t,"stroke",n=e[54].color),h(t,"stroke-width","2")},m(r,i){C(r,t,i)},p(r,i){i[0]&8&&n!==(n=r[54].color)&&h(t,"stroke",n)},d(r){r&&A(t)}}}function Bu(e){let t,n;return{c(){t=ee("circle"),h(t,"cx","21"),h(t,"cy","7"),h(t,"r","5"),h(t,"fill","var(--color-input-bg, #0f172a)"),h(t,"stroke",n=e[54].color),h(t,"stroke-width","2")},m(r,i){C(r,t,i)},p(r,i){i[0]&8&&n!==(n=r[54].color)&&h(t,"stroke",n)},d(r){r&&A(t)}}}function Br(e){let t,n,r,i,o,l=e[54].band.name+"",s,a;function u(d,p){return d[54].shape==="circle"?Bu:d[54].shape==="square"?qu:Ou}let f=u(e),c=f(e);return{c(){t=E("span"),n=ee("svg"),r=ee("line"),c.c(),o=B(),s=T(l),a=B(),h(r,"x1","2"),h(r,"y1","7"),h(r,"x2","40"),h(r,"y2","7"),h(r,"stroke",i=e[54].color),h(r,"stroke-width","2.5"),h(r,"stroke-linecap","round"),h(n,"width","42"),h(n,"height","14"),h(n,"aria-hidden","true"),h(n,"class","svelte-y6x3yn"),h(t,"class","svelte-y6x3yn")},m(d,p){C(d,t,p),_(t,n),_(n,r),c.m(n,null),_(t,o),_(t,s),_(t,a)},p(d,p){p[0]&8&&i!==(i=d[54].color)&&h(r,"stroke",i),f===(f=u(d))&&c?c.p(d,p):(c.d(1),c=f(d),c&&(c.c(),c.m(n,null))),p[0]&8&&l!==(l=d[54].band.name+"")&&V(s,l)},d(d){d&&A(t),c.d()}}}function Yu(e){let t,n=G(e[12]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Yr(cr(e,n,i));return{c(){t=E("div");for(let i=0;i<r.length;i+=1)r[i].c();h(t,"class","legend svelte-y6x3yn")},m(i,o){C(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&20480){n=G(i[12]);let l;for(l=0;l<n.length;l+=1){const s=cr(i,n,l);r[l]?r[l].p(s,o):(r[l]=Yr(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&A(t),oe(r,i)}}}function Yr(e){let t,n,r,i,o=e[51]+"",l,s;return{c(){t=E("span"),n=E("i"),i=B(),l=T(o),s=B(),h(n,"style",r=`background-color: ${e[14][e[51]]??"#94a3b8"}`),h(n,"class","svelte-y6x3yn"),h(t,"class","svelte-y6x3yn")},m(a,u){C(a,t,u),_(t,n),_(t,i),_(t,l),_(t,s)},p(a,u){u[0]&4096&&r!==(r=`background-color: ${a[14][a[51]]??"#94a3b8"}`)&&h(n,"style",r),u[0]&4096&&o!==(o=a[51]+"")&&V(l,o)},d(a){a&&A(t)}}}function Uu(e){let t,n,r,i,o,l,s,a,u=e[15](),f,c,d,p,g,S,L,q=e[18](),Y,z=G(e[4]),N=[];for(let m=0;m<z.length;m+=1)N[m]=br(vr(e,z,m));let I=G(e[3]),P=[];for(let m=0;m<I.length;m+=1)P[m]=kr(yr(e,I,m));let $=u&&Lu(e),O=G(e[3]),k=[];for(let m=0;m<O.length;m+=1)k[m]=Ir(pr(e,O,m));let w=e[6]&&Cr(Wt(e)),b=G(e[10]),R=[];for(let m=0;m<b.length;m+=1)R[m]=Or(dr(e,b,m));let x=e[3].length>0&&qr(e),v=q&&Yu(e);return{c(){t=E("div"),n=ee("svg"),r=ee("defs"),i=ee("linearGradient"),o=ee("stop"),l=ee("stop"),s=ee("g");for(let m=0;m<N.length;m+=1)N[m].c();for(let m=0;m<P.length;m+=1)P[m].c();a=re(),$&&$.c(),f=re();for(let m=0;m<k.length;m+=1)k[m].c();c=B(),w&&w.c(),d=B(),p=E("div");for(let m=0;m<R.length;m+=1)R[m].c();S=B(),x&&x.c(),L=B(),v&&v.c(),Y=re(),h(o,"offset","0%"),h(o,"stop-color","#38bdf8"),h(o,"stop-opacity","0.9"),h(l,"offset","100%"),h(l,"stop-color","#2563eb"),h(l,"stop-opacity","0.35"),h(i,"id","trajectory"),h(i,"x1","0%"),h(i,"y1","0%"),h(i,"x2","0%"),h(i,"y2","100%"),h(s,"class","grid"),h(n,"viewBox",`0 0 ${Xe} ${Ie}`),h(n,"role","img"),h(n,"aria-label","Band placement over tid"),h(p,"class","year-labels svelte-y6x3yn"),h(p,"style",g=`top: ${e[11]}px`),h(t,"class","chart-canvas svelte-y6x3yn")},m(m,D){C(m,t,D),_(t,n),_(n,r),_(r,i),_(i,o),_(i,l),_(n,s);for(let y=0;y<N.length;y+=1)N[y]&&N[y].m(s,null);for(let y=0;y<P.length;y+=1)P[y]&&P[y].m(n,null);_(n,a),$&&$.m(n,null),_(n,f);for(let y=0;y<k.length;y+=1)k[y]&&k[y].m(n,null);e[40](n),_(t,c),w&&w.m(t,null),_(t,d),_(t,p);for(let y=0;y<R.length;y+=1)R[y]&&R[y].m(p,null);C(m,S,D),x&&x.m(m,D),C(m,L,D),v&&v.m(m,D),C(m,Y,D)},p(m,D){if(D[0]&8213){z=G(m[4]);let y;for(y=0;y<z.length;y+=1){const H=vr(m,z,y);N[y]?N[y].p(H,D):(N[y]=br(H),N[y].c(),N[y].m(s,null))}for(;y<N.length;y+=1)N[y].d(1);N.length=z.length}if(D[0]&8){I=G(m[3]);let y;for(y=0;y<I.length;y+=1){const H=yr(m,I,y);P[y]?P[y].p(H,D):(P[y]=kr(H),P[y].c(),P[y].m(n,a))}for(;y<P.length;y+=1)P[y].d(1);P.length=I.length}if(u&&$.p(m,D),D[0]&1794062){O=G(m[3]);let y;for(y=0;y<O.length;y+=1){const H=pr(m,O,y);k[y]?k[y].p(H,D):(k[y]=Ir(H),k[y].c(),k[y].m(n,null))}for(;y<k.length;y+=1)k[y].d(1);k.length=O.length}if(m[6]?w?w.p(Wt(m),D):(w=Cr(Wt(m)),w.c(),w.m(t,d)):w&&(w.d(1),w=null),D[0]&1024){b=G(m[10]);let y;for(y=0;y<b.length;y+=1){const H=dr(m,b,y);R[y]?R[y].p(H,D):(R[y]=Or(H),R[y].c(),R[y].m(p,null))}for(;y<R.length;y+=1)R[y].d(1);R.length=b.length}D[0]&2048&&g!==(g=`top: ${m[11]}px`)&&h(p,"style",g),m[3].length>0?x?x.p(m,D):(x=qr(m),x.c(),x.m(L.parentNode,L)):x&&(x.d(1),x=null),q&&v.p(m,D)},i:te,o:te,d(m){m&&(A(t),A(S),A(L),A(Y)),oe(N,m),oe(P,m),$&&$.d(),oe(k,m),e[40](null),w&&w.d(),oe(R,m),x&&x.d(m),v&&v.d(m)}}}const Xe=880,Ie=360,Ne=6,gn=3,Qt=18,Jt=18,Vu=22,Xu=10,Hu=6;function Ku(e){return e.map(t=>{const n=t.pieces??t.pieces,r=Array.isArray(n)?n.map(i=>`${i}`.trim()).filter(Boolean):n!=null&&`${n}`.trim().length?[`${n}`.trim()]:[];return{...t,pieces:r}})}function ju(e){const t=[];let n=0;if(e.length>0){const r=e[0];if(r.conductor){const i=n%gn;t.push({year:r.year,conductor:r.conductor,lane:i}),n+=1}}for(let r=1;r<e.length;r+=1){const i=e[r-1],o=e[r];if(i.conductor&&o.conductor&&i.conductor!==o.conductor){const l=n%gn;t.push({year:o.year,conductor:o.conductor,lane:l}),n+=1}}return t}function yn(e,t,n){return`M ${e} ${t-n} L ${e+n} ${t+n} L ${e-n} ${t+n} Z`}function Ur(e){if(!e)return Number.POSITIVE_INFINITY;const t=e.trim().toLowerCase();if(t==="elite")return 0;const n=t.match(/(\d+)/);return n?parseInt(n[1],10):Number.POSITIVE_INFINITY}function Gu(e,t){const n=Ur(e),r=Ur(t);return n!==r?n-r:e.localeCompare(t)}function Wu(e){return e.aggregate_entries}function Zu(e,t,n){let{bands:r=[]}=t,{years:i=[]}=t,{maxFieldSize:o=0}=t,{yMode:l="relative"}=t,{showConductorMarkers:s=!0}=t;const a={top:24,right:48,bottom:48,left:72},u={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},f=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],c=["circle","square","triangle"],d=a.top+6,p=Ie-a.bottom-12;let g=null,S={offsetX:0,scaleX:1,offsetY:0,scaleY:1},L=null,q=null,Y=null,z=0,N=0;const I=()=>s&&r.length===1;function P(M){if(M.absolute_position==null)return 0;const U=M.field_size??D??o??1;return U?M.absolute_position/U*100:0}function $(M){return l==="relative"?P(M):M.absolute_position??0}function O(){if(!g)return;const M=g.getBoundingClientRect(),U=g.parentElement;if(!U)return;const j=U.getBoundingClientRect();M.width===0||M.height===0||n(25,S={offsetX:M.left-j.left,scaleX:M.width/Xe,offsetY:M.top-j.top,scaleY:M.height/Ie})}function k(){!L||!g||q!==g&&(q&&L.unobserve(q),L.observe(g),q=g)}en(()=>{typeof ResizeObserver<"u"&&(L=new ResizeObserver(()=>O())),k(),O(),window.addEventListener("resize",O)}),cl(()=>{k(),O()}),hl(()=>{L==null||L.disconnect(),window.removeEventListener("resize",O)});function w(M){var le;const U=m;if(!U)return{anchor:"middle",dx:0};const j=U(M.year)??a.left,ue=(((le=M.conductor)==null?void 0:le.length)??0)*Hu/2,fe=Xe-a.right;return j+ue>fe?{anchor:"end",dx:-8}:j-ue<a.left?{anchor:"start",dx:8}:{anchor:"middle",dx:0}}function b(M,U){const j=M.find(Z=>Z.year===U.year);if(!j)return a.top-8+U.lane*Qt;const he=H($(j)),ue=M.filter(Z=>Z.year>=U.year-1&&Z.year<=U.year+1).map(Z=>({year:Z.year,y:H($(Z))})).sort((Z,ie)=>Z.year-ie.year),fe=ue.findIndex(Z=>Z.year===U.year);let le=!0;if(fe>0&&fe<ue.length-1){const Z=ue[fe-1],ie=ue[fe+1],qe=Math.abs(he-Z.y),Ae=Math.abs(he-ie.y);(qe<Jt+4||Ae<Jt+4)&&(le=!1)}const ne=Jt+U.lane*(Qt/2),Se=he-ne;if(le&&Se>d)return Se;const F=U.lane/gn,W=Vu+U.lane*(Qt/2)+F*24;return Math.min(he+W,p)}let R=[],x=[],v=[],m=or().domain([0]).range([a.left,Xe-a.right]),D=1,y=[D+1,0],H=mn().domain(y).range([Ie-a.bottom,a.top]),X=[],Q=[],K=[],we=new Set,ae=1,_e=v,Ee=[],ht=Ie,Qe=[];const dt=()=>Qe.length>0;function ce(M,U,j,he){const ue=M.currentTarget,fe=ue.ownerSVGElement;if(!fe)return;const le=fe.getBoundingClientRect();if(M instanceof MouseEvent)n(7,z=M.clientX-le.left),n(8,N=M.clientY-le.top);else{const ne=ue.getBoundingClientRect();n(7,z=ne.left+ne.width/2-le.left),n(8,N=ne.top+ne.height/2-le.top)}n(6,Y={entry:U,bandName:j,lineColor:he})}function _t(){n(6,Y=null)}const Je=(M,U,j)=>ce(j,M,U.band.name,U.color),Oe=(M,U,j)=>ce(j,M,U.band.name,U.color),$e=(M,U,j)=>ce(j,M,U.band.name,U.color),pt=(M,U,j)=>ce(j,M,U.band.name,U.color),qt=(M,U,j)=>ce(j,M,U.band.name,U.color),Bt=(M,U,j)=>ce(j,M,U.band.name,U.color);function Yt(M){tn[M?"unshift":"push"](()=>{g=M,n(5,g)})}return e.$$set=M=>{"bands"in M&&n(21,r=M.bands),"years"in M&&n(22,i=M.years),"maxFieldSize"in M&&n(23,o=M.maxFieldSize),"yMode"in M&&n(0,l=M.yMode),"showConductorMarkers"in M&&n(24,s=M.showConductorMarkers)},e.$$.update=()=>{e.$$.dirty[0]&2097152&&n(26,R=r.map(M=>({band:M,entries:Ku(M.entries)}))),e.$$.dirty[0]&67108864&&n(27,x=R.flatMap(M=>M.entries)),e.$$.dirty[0]&138412032&&n(28,v=i.length?i:x.length?Array.from(new Set(x.map(M=>M.year))).sort((M,U)=>M-U):[0]),e.$$.dirty[0]&268435456&&n(1,m=or().domain(v).range([a.left,Xe-a.right])),e.$$.dirty[0]&142606336&&n(29,D=o||(x.length?Math.max(...x.map(M=>M.field_size)):1)),e.$$.dirty[0]&536870913&&n(30,y=l==="relative"?[100,0]:[D+1,0]),e.$$.dirty[0]&1073741824&&n(2,H=mn().domain(y).range([Ie-a.bottom,a.top])),e.$$.dirty[0]&335544326&&n(3,X=R.map((M,U)=>{const j=[...M.entries].sort((ne,Se)=>ne.year-Se.year),he=v.map(ne=>j.find(Se=>Se.year===ne)??null),fe=$u().defined(ne=>ne!==null).x(ne=>m(ne.year)??a.left).y(ne=>H($(ne))).curve(Ru)(he)??void 0,le=I()?ju(j):[];return{band:M.band,entries:j,timeline:he,pathData:fe,conductorChanges:le,color:f[U%f.length],shape:c[U%c.length]}})),e.$$.dirty[0]&8&&n(9,Q=I()&&X.length?X[0].conductorChanges.map(M=>({...M,...w(M),y:b(X[0].entries,M)})):[]),e.$$.dirty[0]&536870929&&(l==="relative"?n(4,K=Array.from({length:11},(M,U)=>U*10)):(n(4,K=Array.from(new Set(Ni(1,D,6).map(M=>Math.round(M)))).filter(M=>M>=1).sort((M,U)=>M-U)),K.includes(1)||n(4,K=[1,...K]))),e.$$.dirty[0]&134217728&&n(31,we=new Set(x.map(M=>M.year))),e.$$.dirty[0]&268435456&&n(32,ae=v.length>30?5:v.length>18?3:1),e.$$.dirty[0]&268435456|e.$$.dirty[1]&2&&n(33,_e=v.filter((M,U)=>U===0||U===v.length-1||M===2019?!0:M%ae===0)),e.$$.dirty[0]&33554434|e.$$.dirty[1]&5&&n(10,Ee=_e.map(M=>{const U=m(M)??a.left,j=S.offsetX+U*S.scaleX;return{year:M,x:j,inactive:!we.has(M)}})),e.$$.dirty[0]&33554432&&n(11,ht=S.offsetY+(Ie-a.bottom)*S.scaleY+Xu),e.$$.dirty[0]&134217728&&n(12,Qe=Array.from(new Set(x.map(M=>M.division))).filter(M=>typeof M=="string"&&M.length>0).sort(Gu))},[l,m,H,X,K,g,Y,z,N,Q,Ee,ht,Qe,a,u,I,P,$,dt,ce,_t,r,i,o,s,S,R,x,v,D,y,we,ae,_e,Je,Oe,$e,pt,qt,Bt,Yt]}class Qu extends Mn{constructor(t){super(),Nn(this,t,Zu,Uu,Pt,{bands:21,years:22,maxFieldSize:23,yMode:0,showConductorMarkers:24},null,[-1,-1,-1])}}function Vr(e,t,n){const r=e.slice();return r[17]=t[n].band,r[18]=t[n].entry,r}function Xr(e,t,n){const r=e.slice();return r[21]=t[n],r}function Hr(e,t,n){const r=e.slice();return r[24]=t[n],r}function Kr(e){let t,n,r;return{c(){t=E("p"),n=T("Data oppdatert "),r=T(e[8]),h(t,"class","svelte-145s5le")},m(i,o){C(i,t,o),_(t,n),_(t,r)},p(i,o){o&256&&V(r,i[8])},d(i){i&&A(t)}}}function Ju(e){let t,n,r,i,o,l,s,a,u,f,c,d,p,g,S,L=G(e[1]),q=[];for(let k=0;k<L.length;k+=1)q[k]=jr(Hr(e,L,k));function Y(k,w){return k[3].length===0?rf:nf}let z=Y(e),N=z(e),I=e[6]&&Wr(e);function P(k,w){return k[5].length===0?of:lf}let $=P(e),O=$(e);return{c(){t=E("div"),n=E("label"),r=E("span"),r.textContent="r",i=B(),o=E("select");for(let k=0;k<q.length;k+=1)q[k].c();l=B(),s=E("label"),a=E("span"),a.textContent="Divisjon",u=B(),f=E("select"),N.c(),c=B(),I&&I.c(),d=B(),O.c(),p=re(),h(r,"class","svelte-145s5le"),h(o,"class","svelte-145s5le"),h(n,"class","control svelte-145s5le"),h(a,"class","svelte-145s5le"),h(f,"class","svelte-145s5le"),h(s,"class","control svelte-145s5le"),h(t,"class","data-controls svelte-145s5le")},m(k,w){C(k,t,w),_(t,n),_(n,r),_(n,i),_(n,o);for(let b=0;b<q.length;b+=1)q[b]&&q[b].m(o,null);_(t,l),_(t,s),_(s,a),_(s,u),_(s,f),N.m(f,null),_(t,c),I&&I.m(t,null),C(k,d,w),O.m(k,w),C(k,p,w),g||(S=[J(o,"change",e[10]),J(f,"change",e[11])],g=!0)},p(k,w){if(w&6){L=G(k[1]);let b;for(b=0;b<L.length;b+=1){const R=Hr(k,L,b);q[b]?q[b].p(R,w):(q[b]=jr(R),q[b].c(),q[b].m(o,null))}for(;b<q.length;b+=1)q[b].d(1);q.length=L.length}z===(z=Y(k))&&N?N.p(k,w):(N.d(1),N=z(k),N&&(N.c(),N.m(f,null))),k[6]?I?I.p(k,w):(I=Wr(k),I.c(),I.m(t,null)):I&&(I.d(1),I=null),$===($=P(k))&&O?O.p(k,w):(O.d(1),O=$(k),O&&(O.c(),O.m(p.parentNode,p)))},d(k){k&&(A(t),A(d),A(p)),oe(q,k),N.d(),I&&I.d(),O.d(k),g=!1,de(S)}}}function ef(e){let t;return{c(){t=E("p"),t.textContent="Ingen rsdata tilgjengelig.",h(t,"class","data-status svelte-145s5le")},m(n,r){C(n,t,r)},p:te,d(n){n&&A(t)}}}function tf(e){let t;return{c(){t=E("p"),t.textContent="Kunne ikke finne datasettet.",h(t,"class","data-status svelte-145s5le")},m(n,r){C(n,t,r)},p:te,d(n){n&&A(t)}}}function jr(e){let t,n=e[24]+"",r,i,o;return{c(){t=E("option"),r=T(n),t.__value=i=e[24],Pe(t,t.__value),t.selected=o=e[2]===e[24]},m(l,s){C(l,t,s),_(t,r)},p(l,s){s&2&&n!==(n=l[24]+"")&&V(r,n),s&2&&i!==(i=l[24])&&(t.__value=i,Pe(t,t.__value)),s&6&&o!==(o=l[2]===l[24])&&(t.selected=o)},d(l){l&&A(t)}}}function nf(e){let t,n=G(e[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Gr(Xr(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=re()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);C(i,t,o)},p(i,o){if(o&24){n=G(i[3]);let l;for(l=0;l<n.length;l+=1){const s=Xr(i,n,l);r[l]?r[l].p(s,o):(r[l]=Gr(s),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){i&&A(t),oe(r,i)}}}function rf(e){let t;return{c(){t=E("option"),t.textContent="Ingen divisjoner",t.__value="",Pe(t,t.__value),t.selected=!0},m(n,r){C(n,t,r)},p:te,d(n){n&&A(t)}}}function Gr(e){let t,n=e[21]+"",r,i,o;return{c(){t=E("option"),r=T(n),t.__value=i=e[21],Pe(t,t.__value),t.selected=o=e[4]===e[21]},m(l,s){C(l,t,s),_(t,r)},p(l,s){s&8&&n!==(n=l[21]+"")&&V(r,n),s&8&&i!==(i=l[21])&&(t.__value=i,Pe(t,t.__value)),s&24&&o!==(o=l[4]===l[21])&&(t.selected=o)},d(l){l&&A(t)}}}function Wr(e){let t,n,r,i,o,l=e[7]&&Zr(e);return{c(){t=E("div"),n=E("span"),r=T(e[6]),i=T(" korps"),o=B(),l&&l.c(),h(n,"class","svelte-145s5le"),h(t,"class","control control--summary svelte-145s5le"),h(t,"aria-live","polite")},m(s,a){C(s,t,a),_(t,n),_(n,r),_(n,i),_(t,o),l&&l.m(t,null)},p(s,a){a&64&&V(r,s[6]),s[7]?l?l.p(s,a):(l=Zr(s),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(s){s&&A(t),l&&l.d()}}}function Zr(e){let t,n,r;return{c(){t=E("span"),n=T("Totalt felt: "),r=T(e[7]),h(t,"class","svelte-145s5le")},m(i,o){C(i,t,o),_(t,n),_(t,r)},p(i,o){o&128&&V(r,i[7])},d(i){i&&A(t)}}}function lf(e){let t,n,r,i,o,l=G(e[5]),s=[];for(let a=0;a<l.length;a+=1)s[a]=Qr(Vr(e,l,a));return{c(){t=E("div"),n=E("table"),r=E("thead"),r.innerHTML='<tr><th scope="col" class="svelte-145s5le">Plass</th> <th scope="col" class="svelte-145s5le">Korps</th> <th scope="col" class="svelte-145s5le">Dirigent</th> <th scope="col" class="svelte-145s5le">Poeng</th> <th scope="col" class="svelte-145s5le">Program</th></tr>',i=B(),o=E("tbody");for(let a=0;a<s.length;a+=1)s[a].c();h(r,"class","svelte-145s5le"),h(o,"class","svelte-145s5le"),h(n,"class","svelte-145s5le"),h(t,"class","table-wrapper svelte-145s5le"),h(t,"role","region"),h(t,"aria-live","polite")},m(a,u){C(a,t,u),_(t,n),_(n,r),_(n,i),_(n,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,null)},p(a,u){if(u&544){l=G(a[5]);let f;for(f=0;f<l.length;f+=1){const c=Vr(a,l,f);s[f]?s[f].p(c,u):(s[f]=Qr(c),s[f].c(),s[f].m(o,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=l.length}},d(a){a&&A(t),oe(s,a)}}}function of(e){let t;return{c(){t=E("p"),t.textContent="Ingen resultater for valgt kombinasjon.",h(t,"class","data-status svelte-145s5le")},m(n,r){C(n,t,r)},p:te,d(n){n&&A(t)}}}function Qr(e){let t,n,r=Jr(e[18].rank)+"",i,o,l,s=e[17]+"",a,u,f,c=(e[18].conductor??"Ukjent")+"",d,p,g,S=e[9](e[18].points,e[18].max_points)+"",L,q,Y,z=ei(e[18].pieces)+"",N,I;return{c(){t=E("tr"),n=E("td"),i=T(r),o=B(),l=E("td"),a=T(s),u=B(),f=E("td"),d=T(c),p=B(),g=E("td"),L=T(S),q=B(),Y=E("td"),N=T(z),I=B(),h(n,"data-label","Plass"),h(n,"class","svelte-145s5le"),h(l,"data-label","Korps"),h(l,"class","svelte-145s5le"),h(f,"data-label","Dirigent"),h(f,"class","svelte-145s5le"),h(g,"data-label","Poeng"),h(g,"class","svelte-145s5le"),h(Y,"data-label","Program"),h(Y,"class","svelte-145s5le"),h(t,"class","svelte-145s5le")},m(P,$){C(P,t,$),_(t,n),_(n,i),_(t,o),_(t,l),_(l,a),_(t,u),_(t,f),_(f,d),_(t,p),_(t,g),_(g,L),_(t,q),_(t,Y),_(Y,N),_(t,I)},p(P,$){$&32&&r!==(r=Jr(P[18].rank)+"")&&V(i,r),$&32&&s!==(s=P[17]+"")&&V(a,s),$&32&&c!==(c=(P[18].conductor??"Ukjent")+"")&&V(d,c),$&32&&S!==(S=P[9](P[18].points,P[18].max_points)+"")&&V(L,S),$&32&&z!==(z=ei(P[18].pieces)+"")&&V(N,z)},d(P){P&&A(t)}}}function sf(e){let t,n,r,i,o,l=e[8]&&Kr(e);function s(f,c){return f[0]?f[1].length?Ju:ef:tf}let a=s(e),u=a(e);return{c(){t=E("section"),n=E("div"),r=E("h2"),r.textContent="Resultater per divisjon",i=B(),l&&l.c(),o=B(),u.c(),h(r,"class","svelte-145s5le"),h(n,"class","data-lead svelte-145s5le"),h(t,"class","data-view svelte-145s5le")},m(f,c){C(f,t,c),_(t,n),_(n,r),_(n,i),l&&l.m(n,null),_(t,o),u.m(t,null)},p(f,[c]){f[8]?l?l.p(f,c):(l=Kr(f),l.c(),l.m(n,null)):l&&(l.d(1),l=null),a===(a=s(f))&&u?u.p(f,c):(u.d(1),u=a(f),u&&(u.c(),u.m(t,null)))},i:te,o:te,d(f){f&&A(t),l&&l.d(),u.d()}}}function af(e){const t=new Map;for(const n of e.bands)for(const r of n.entries){let i=t.get(r.year);i||(i=new Map,t.set(r.year,i));const o=r.division;let l=i.get(o);l||(l=[],i.set(o,l)),l.push({band:n.name,entry:r})}return t}function uf(e){return[...e].sort((t,n)=>{const r=t.entry.rank??Number.POSITIVE_INFINITY,i=n.entry.rank??Number.POSITIVE_INFINITY;if(r!==i)return r-i;const o=t.entry.absolute_position??Number.POSITIVE_INFINITY,l=n.entry.absolute_position??Number.POSITIVE_INFINITY;return o!==l?o-l:t.band.localeCompare(n.band)})}function Jr(e){return e!=null?`${e}`:""}function ei(e){return e.length?e.join("  "):""}function ff(e){if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat("nb-NO",{dateStyle:"medium",timeStyle:"short"}).format(t)}function cf(e,t,n){let r,{dataset:i=null}=t;const o=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let l=[],s=null,a=[],u=null,f=[],c=null,d=null,p=null,g=new Map;function S(N){return N.length?s&&N.includes(s)?s:N[N.length-1]??null:null}function L(N){return N.length?u&&N.includes(u)?u:N[0]??null:null}function q(N,I){if(N==null&&I==null)return"";const P=N==null?"":o.format(N);return I==null,P}function Y(N){const I=Number(N.target.value);n(2,s=Number.isNaN(I)?null:I)}function z(N){n(4,u=N.target.value||null)}return e.$$set=N=>{"dataset"in N&&n(0,i=N.dataset)},e.$$.update=()=>{var N,I;if(e.$$.dirty&3&&(i?(n(13,g=af(i)),n(1,l=i.metadata.years),n(12,p=i.metadata.generated_at??null),n(2,s=S(l))):(n(13,g=new Map),n(1,l=[]),n(12,p=null),n(2,s=null))),e.$$.dirty&8205)if(i&&s!=null){const P=g.get(s)??new Map,$=i.metadata.divisions.filter(k=>P.has(k)),O=Array.from(P.keys()).filter(k=>!$.includes(k)).sort();n(3,a=[...$,...O]),n(4,u=L(a))}else n(3,a=[]),n(4,u=null);if(e.$$.dirty&8244)if(s!=null&&u&&g.has(s)){const P=((N=g.get(s))==null?void 0:N.get(u))??[];n(5,f=uf(P));const $=(I=f[0])==null?void 0:I.entry,O=($==null?void 0:$.division_size)??f.length;n(6,c=O&&O>0?O:null);const k=($==null?void 0:$.field_size)??null;n(7,d=k&&k>0?k:null)}else n(5,f=[]),n(6,c=null),n(7,d=null);e.$$.dirty&4096&&n(8,r=ff(p))},[i,l,s,a,u,f,c,d,r,q,Y,z,p,g]}class hf extends Mn{constructor(t){super(),Nn(this,t,cf,sf,Pt,{dataset:0})}}function ti(e,t,n){const r=e.slice();return r[60]=t[n],r[62]=n,r}function ni(e,t,n){const r=e.slice();return r[60]=t[n],r[62]=n,r}function ri(e,t,n){const r=e.slice();return r[64]=t[n],r}function ii(e){let t,n=e[25][e[64]]+"",r,i,o,l,s;function a(){return e[44](e[64])}return{c(){t=E("button"),r=T(n),i=B(),h(t,"type","button"),h(t,"aria-pressed",o=e[2]===e[64]),h(t,"class","svelte-hydqz6"),Ce(t,"selected",e[2]===e[64])},m(u,f){C(u,t,f),_(t,r),_(t,i),l||(s=J(t,"click",a),l=!0)},p(u,f){e=u,f[0]&4&&o!==(o=e[2]===e[64])&&h(t,"aria-pressed",o),f[0]&67108868&&Ce(t,"selected",e[2]===e[64])},d(u){u&&A(t),l=!1,s()}}}function li(e){let t,n,r,i,o,l,s,a,u,f,c=e[3].length>0&&oi(e),d=e[24].length>0&&ai(e);return{c(){t=E("form"),n=E("label"),r=T(e[21]),i=B(),o=E("input"),l=B(),c&&c.c(),s=B(),d&&d.c(),a=re(),h(n,"class","sr-only svelte-hydqz6"),h(n,"for","entity-search"),h(o,"id","entity-search"),h(o,"type","search"),h(o,"placeholder",e[22]),h(o,"autocomplete","off"),h(t,"class","search svelte-hydqz6")},m(p,g){C(p,t,g),_(t,n),_(n,r),_(t,i),_(t,o),Pe(o,e[1]),C(p,l,g),c&&c.m(p,g),C(p,s,g),d&&d.m(p,g),C(p,a,g),u||(f=[J(o,"input",e[45]),J(o,"input",e[31]),J(o,"keydown",e[32]),J(t,"submit",gi(e[30]))],u=!0)},p(p,g){g[0]&2097152&&V(r,p[21]),g[0]&4194304&&h(o,"placeholder",p[22]),g[0]&2&&o.value!==p[1]&&Pe(o,p[1]),p[3].length>0?c?c.p(p,g):(c=oi(p),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null),p[24].length>0?d?d.p(p,g):(d=ai(p),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},d(p){p&&(A(t),A(l),A(s),A(a)),c&&c.d(p),d&&d.d(p),u=!1,de(f)}}}function oi(e){let t,n=G(e[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=si(ni(e,n,i));return{c(){t=E("div");for(let i=0;i<r.length;i+=1)r[i].c();h(t,"class","selected-entities svelte-hydqz6"),h(t,"role","list"),h(t,"aria-label",e[19])},m(i,o){C(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&536870920){n=G(i[3]);let l;for(l=0;l<n.length;l+=1){const s=ni(i,n,l);r[l]?r[l].p(s,o):(r[l]=si(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}o[0]&524288&&h(t,"aria-label",i[19])},d(i){i&&A(t),oe(r,i)}}}function si(e){let t,n,r,i,o=e[60].name+"",l,s,a,u,f,c,d,p;function g(){return e[46](e[60])}return{c(){t=E("span"),n=E("span"),n.textContent=`${e[62]+1}`,r=B(),i=E("span"),l=T(o),s=B(),a=E("button"),u=T(""),c=B(),h(n,"class","selected-entity__index svelte-hydqz6"),h(i,"class","selected-entity__name svelte-hydqz6"),h(a,"type","button"),h(a,"aria-label",f=`Fjern ${e[60].name}`),h(a,"class","svelte-hydqz6"),h(t,"class","selected-entity svelte-hydqz6"),h(t,"role","listitem")},m(S,L){C(S,t,L),_(t,n),_(t,r),_(t,i),_(i,l),_(t,s),_(t,a),_(a,u),_(t,c),d||(p=J(a,"click",g),d=!0)},p(S,L){e=S,L[0]&8&&o!==(o=e[60].name+"")&&V(l,o),L[0]&8&&f!==(f=`Fjern ${e[60].name}`)&&h(a,"aria-label",f)},d(S){S&&A(t),d=!1,p()}}}function ai(e){let t,n=G(e[24]),r=[];for(let i=0;i<n.length;i+=1)r[i]=ui(ti(e,n,i));return{c(){t=E("div");for(let i=0;i<r.length;i+=1)r[i].c();h(t,"class","suggestions svelte-hydqz6"),h(t,"role","listbox"),h(t,"aria-label",e[20])},m(i,o){C(i,t,o);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(t,null)},p(i,o){if(o[0]&285212928){n=G(i[24]);let l;for(l=0;l<n.length;l+=1){const s=ti(i,n,l);r[l]?r[l].p(s,o):(r[l]=ui(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}o[0]&1048576&&h(t,"aria-label",i[20])},d(i){i&&A(t),oe(r,i)}}}function ui(e){let t,n=e[60].name+"",r,i,o,l,s,a;function u(){return e[47](e[60])}return{c(){t=E("div"),r=T(n),i=B(),h(t,"class",o="suggestion "+(e[62]===e[8]?"active":"")+" svelte-hydqz6"),h(t,"role","option"),h(t,"tabindex","-1"),h(t,"aria-selected",l=e[62]===e[8])},m(f,c){C(f,t,c),_(t,r),_(t,i),s||(a=J(t,"mousedown",gi(u)),s=!0)},p(f,c){e=f,c[0]&16777216&&n!==(n=e[60].name+"")&&V(r,n),c[0]&256&&o!==(o="suggestion "+(e[62]===e[8]?"active":"")+" svelte-hydqz6")&&h(t,"class",o),c[0]&256&&l!==(l=e[62]===e[8])&&h(t,"aria-selected",l)},d(f){f&&A(t),s=!1,a()}}}function df(e){let t,n;return t=new hf({props:{dataset:e[0]}}),{c(){wi(t.$$.fragment)},m(r,i){wn(t,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.dataset=r[0]),t.$set(o)},i(r){n||(Te(t.$$.fragment,r),n=!0)},o(r){je(t.$$.fragment,r),n=!1},d(r){kn(t,r)}}}function _f(e){let t,n,r,i;const o=[vf,yf],l=[];function s(a,u){return a[3].length>0?0:1}return t=s(e),n=l[t]=o[t](e),{c(){n.c(),r=re()},m(a,u){l[t].m(a,u),C(a,r,u),i=!0},p(a,u){let f=t;t=s(a),t===f?l[t].p(a,u):(vi(),je(l[f],1,1,()=>{l[f]=null}),bi(),n=l[t],n?n.p(a,u):(n=l[t]=o[t](a),n.c()),Te(n,1),n.m(r.parentNode,r))},i(a){i||(Te(n),i=!0)},o(a){je(n),i=!1},d(a){a&&A(r),l[t].d(a)}}}function pf(e){let t;return{c(){t=E("section"),t.textContent="Ingen data tilgjengelig.",h(t,"class","status svelte-hydqz6")},m(n,r){C(n,t,r)},p:te,i:te,o:te,d(n){n&&A(t)}}}function mf(e){let t,n;return{c(){t=E("section"),n=T(e[7]),h(t,"class","status error svelte-hydqz6")},m(r,i){C(r,t,i),_(t,n)},p(r,i){i[0]&128&&V(n,r[7])},i:te,o:te,d(r){r&&A(t)}}}function gf(e){let t;return{c(){t=E("section"),t.textContent="Laster data",h(t,"class","status svelte-hydqz6")},m(n,r){C(n,t,r)},p:te,i:te,o:te,d(n){n&&A(t)}}}function yf(e){let t,n,r,i,o,l;return{c(){t=E("section"),n=E("h2"),r=T(e[18]),i=B(),o=E("p"),l=T(e[17]),h(t,"class","empty-state svelte-hydqz6")},m(s,a){C(s,t,a),_(t,n),_(n,r),_(t,i),_(t,o),_(o,l)},p(s,a){a[0]&262144&&V(r,s[18]),a[0]&131072&&V(l,s[17])},i:te,o:te,d(s){s&&A(t)}}}function vf(e){let t,n,r,i,o,l,s,a,u,f,c,d,p,g,S,L,q,Y,z,N,I,P,$,O,k,w=e[11]&&fi(e);return P=new Qu({props:{years:e[4],maxFieldSize:e[23],bands:e[3],yMode:e[9],showConductorMarkers:e[2]==="bands"}}),{c(){t=E("section"),n=E("div"),r=E("span"),r.textContent="Plassering:",i=B(),o=E("div"),l=E("button"),s=T("Absolutt"),u=B(),f=E("button"),c=T("Relativ"),p=B(),g=E("div"),S=E("h2"),L=T(e[12]),q=B(),Y=E("p"),z=T(e[10]),N=B(),w&&w.c(),I=B(),wi(P.$$.fragment),h(r,"class","mode-toggle__label svelte-hydqz6"),h(l,"type","button"),h(l,"aria-pressed",a=e[9]==="absolute"),h(l,"class","svelte-hydqz6"),Ce(l,"selected",e[9]==="absolute"),h(f,"type","button"),h(f,"aria-pressed",d=e[9]==="relative"),h(f,"class","svelte-hydqz6"),Ce(f,"selected",e[9]==="relative"),h(o,"class","mode-toggle__buttons svelte-hydqz6"),h(o,"role","group"),h(o,"aria-label","Velg plasseringsvisning"),h(n,"class","mode-toggle svelte-hydqz6"),h(S,"class","svelte-hydqz6"),h(Y,"class","svelte-hydqz6"),h(g,"class","chart-header svelte-hydqz6"),h(t,"class","chart-card svelte-hydqz6")},m(b,R){C(b,t,R),_(t,n),_(n,r),_(n,i),_(n,o),_(o,l),_(l,s),_(o,u),_(o,f),_(f,c),_(t,p),_(t,g),_(g,S),_(S,L),_(g,q),_(g,Y),_(Y,z),_(g,N),w&&w.m(g,null),_(t,I),wn(P,t,null),$=!0,O||(k=[J(l,"click",e[48]),J(f,"click",e[49])],O=!0)},p(b,R){(!$||R[0]&512&&a!==(a=b[9]==="absolute"))&&h(l,"aria-pressed",a),(!$||R[0]&512)&&Ce(l,"selected",b[9]==="absolute"),(!$||R[0]&512&&d!==(d=b[9]==="relative"))&&h(f,"aria-pressed",d),(!$||R[0]&512)&&Ce(f,"selected",b[9]==="relative"),(!$||R[0]&4096)&&V(L,b[12]),(!$||R[0]&1024)&&V(z,b[10]),b[11]?w?w.p(b,R):(w=fi(b),w.c(),w.m(g,null)):w&&(w.d(1),w=null);const x={};R[0]&16&&(x.years=b[4]),R[0]&8388608&&(x.maxFieldSize=b[23]),R[0]&8&&(x.bands=b[3]),R[0]&512&&(x.yMode=b[9]),R[0]&4&&(x.showConductorMarkers=b[2]==="bands"),P.$set(x)},i(b){$||(Te(P.$$.fragment,b),$=!0)},o(b){je(P.$$.fragment,b),$=!1},d(b){b&&A(t),w&&w.d(),kn(P),O=!1,de(k)}}}function fi(e){let t,n;return{c(){t=E("p"),n=T(e[11]),h(t,"class","comparison-summary svelte-hydqz6")},m(r,i){C(r,t,i),_(t,n)},p(r,i){i[0]&2048&&V(n,r[11])},d(r){r&&A(t)}}}function bf(e){let t,n,r,i,o,l,s,a,u,f,c,d,p,g,S,L,q,Y,z,N,I,P,$,O=G(e[26]),k=[];for(let v=0;v<O.length;v+=1)k[v]=ii(ri(e,O,v));let w=e[5]&&li(e);const b=[gf,mf,pf,_f,df],R=[];function x(v,m){return v[6]?0:v[7]?1:v[0]?v[5]?3:4:2}return z=x(e),N=R[z]=b[z](e),{c(){t=E("main"),n=E("header"),r=E("h1"),r.textContent="NM Janitsjar: Plassering over tid",i=B(),o=E("div"),l=E("div");for(let v=0;v<k.length;v+=1)k[v].c();s=B(),a=E("button"),u=E("span"),f=T(e[13]),c=B(),d=E("span"),p=T(e[14]),g=B(),S=E("p"),L=T(e[16]),q=B(),w&&w.c(),Y=B(),N.c(),h(r,"class","svelte-hydqz6"),h(l,"class","view-toggle svelte-hydqz6"),h(l,"role","group"),h(l,"aria-label","Bytt mellom korps- og dirigentvisning"),h(u,"aria-hidden","true"),h(d,"class","theme-toggle__text svelte-hydqz6"),h(a,"class","theme-toggle svelte-hydqz6"),h(a,"type","button"),h(a,"aria-label",e[15]),h(o,"class","header-controls svelte-hydqz6"),h(n,"class","page-header svelte-hydqz6"),h(S,"class","lead svelte-hydqz6"),h(t,"class","svelte-hydqz6")},m(v,m){C(v,t,m),_(t,n),_(n,r),_(n,i),_(n,o),_(o,l);for(let D=0;D<k.length;D+=1)k[D]&&k[D].m(l,null);_(o,s),_(o,a),_(a,u),_(u,f),_(a,c),_(a,d),_(d,p),_(t,g),_(t,S),_(S,L),_(t,q),w&&w.m(t,null),_(t,Y),R[z].m(t,null),I=!0,P||($=J(a,"click",e[27]),P=!0)},p(v,m){if(m[0]&100663300|m[1]&4){O=G(v[26]);let y;for(y=0;y<O.length;y+=1){const H=ri(v,O,y);k[y]?k[y].p(H,m):(k[y]=ii(H),k[y].c(),k[y].m(l,null))}for(;y<k.length;y+=1)k[y].d(1);k.length=O.length}(!I||m[0]&8192)&&V(f,v[13]),(!I||m[0]&16384)&&V(p,v[14]),(!I||m[0]&32768)&&h(a,"aria-label",v[15]),(!I||m[0]&65536)&&V(L,v[16]),v[5]?w?w.p(v,m):(w=li(v),w.c(),w.m(t,Y)):w&&(w.d(1),w=null);let D=z;z=x(v),z===D?R[z].p(v,m):(vi(),je(R[D],1,1,()=>{R[D]=null}),bi(),N=R[z],N?N.p(v,m):(N=R[z]=b[z](v),N.c()),Te(N,1),N.m(t,null))},i(v){I||(Te(N),I=!0)},o(v){je(N),I=!1},d(v){v&&A(t),oe(k,v),w&&w.d(),R[z].d(),P=!1,$()}}}const rl="mode",il="view",tt=",",ll="relative",vn="bands",ol="nmjanitsjar-theme";function wf(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}function kf(e,t){const n=Array.isArray(e.pieces)?[...e.pieces]:e.pieces!=null?[`${e.pieces}`.trim()].filter(Boolean):[],r={...e,pieces:n,conductor:e.conductor};return t&&(r.band_name=t),r}function ci(e){var n;const t=new Map;for(const r of e)for(const i of r.entries){const o=(n=i.conductor)==null?void 0:n.trim();if(!o)continue;const l=wf(o);let s=t.get(l);s||(s={name:o,slug:l,years:new Map},t.set(l,s));let a=s.years.get(i.year);a||(a={entries:[]},s.years.set(i.year,a)),a.entries.push(kf(i,r.name))}return Array.from(t.values()).map(r=>({name:r.name,slug:r.slug,entries:Array.from(r.years.entries()).map(([i,o])=>{const l=[...o.entries].sort((a,u)=>{const f=a.absolute_position??Number.POSITIVE_INFINITY,c=u.absolute_position??Number.POSITIVE_INFINITY;return f!==c?f-c:(a.rank??Number.POSITIVE_INFINITY)-(u.rank??Number.POSITIVE_INFINITY)});return{...l[0],year:i,conductor:r.name,aggregate_entries:l}}).sort((i,o)=>i.year-o.year)})).sort((r,i)=>r.name.localeCompare(i.name))}function Nf(){if(typeof window>"u")return ll;const t=new URLSearchParams(window.location.search).get(rl);return(t?t.toLowerCase():null)==="absolute"?"absolute":"relative"}function Mf(){var t;if(typeof window>"u")return"dark";try{const n=window.localStorage.getItem(ol);if(n==="light"||n==="dark")return n}catch(n){console.error("Kunne ikke lese lagret tema",n)}return((t=window.matchMedia)==null?void 0:t.call(window,"(prefers-color-scheme: light)").matches)?"light":"dark"}function hi(e){typeof document>"u"||(e==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light")}function Ef(){var n;if(typeof window>"u")return vn;const t=(n=new URLSearchParams(window.location.search).get(il))==null?void 0:n.toLowerCase();return t?t==="conductors"||t==="dirigent"||t==="conductor"?"conductors":t==="data"?"data":"bands":vn}function di(e,t){if(!e.length||!t.length)return[];const n=new Map(e.map(r=>[r.slug,r]));return t.map(r=>n.get(r)??n.get(r.toLowerCase())).filter(r=>!!r)}function _i(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.slug===t[r].slug)}function Sf(e,t,n){let r,i,o,l,s,a,u,f,c,d,p,g,S,L,q,Y,z,N,I,P;const $={bands:"band",conductors:"conductor"},O={bands:"Korps",conductors:"Dirigent",data:"Data"},k=["bands","conductors","data"];let w=null,b=[],R=!0,x=null,v="",m=[],D=[],y=-1,H=!1,X="",Q=ll,K=vn,we=[],ae=[],_e="dark";function Ee(F){return $[F]}function ht(F){if(n(39,_e=F),hi(F),typeof window<"u")try{window.localStorage.setItem(ol,F)}catch(W){console.error("Kunne ikke lagre tema",W)}}function Qe(){ht(_e==="dark"?"light":"dark")}function dt(F){if(typeof window>"u")return[];const Z=new URLSearchParams(window.location.search).get(Ee(F));return Z?Z.split(tt).map(ie=>decodeURIComponent(ie.trim())).filter(Boolean):[]}function ce(){if(typeof window>"u")return;const F=new URLSearchParams(window.location.search),W=m.map(Ae=>encodeURIComponent(Ae.slug)).join(tt);W.length?F.set(Ee("bands"),W):F.delete(Ee("bands"));const Z=D.map(Ae=>encodeURIComponent(Ae.slug)).join(tt);Z.length?F.set(Ee("conductors"),Z):F.delete(Ee("conductors")),F.set(rl,Q),F.set(il,K);const ie=F.toString(),qe=`${window.location.pathname}${ie?`?${ie}`:""}${window.location.hash}`;window.history.replaceState({},"",qe)}function _t({updateHistory:F=!1}={}){const W=Nf(),Z=Ef();let ie=!1;if(W!==Q&&(n(9,Q=W),ie=!0),Z!==K&&(n(2,K=Z),ie=!0),!w)return F&&ce(),ie;const qe=di(w.bands,dt("bands"));_i(m,qe)||(n(36,m=qe),ie=!0),b.length||n(35,b=ci(w.bands));const Ae=di(b,dt("conductors"));return _i(D,Ae)||(n(37,D=Ae),ie=!0),F&&ce(),ie}function Je(){const F=m.map(Z=>Z.slug).join(tt),W=D.map(Z=>Z.slug).join(tt);return`${K}|${Q}|${F}|${W}`}function Oe(){if(!H)return;const F=Je();F!==X&&(ce(),X=F)}function $e(F){if(K==="bands"){if(m.some(W=>W.slug===F.slug))return;n(36,m=[...m,F])}else{if(D.some(W=>W.slug===F.slug))return;n(37,D=[...D,F])}n(1,v=""),n(8,y=-1),Oe()}function pt(F){K==="bands"?n(36,m=m.filter(W=>W.slug!==F)):n(37,D=D.filter(W=>W.slug!==F)),n(8,y=-1),Oe()}function qt(){if(r.length===0)return;const F=we.find(W=>W.name.toLowerCase()===i);F?$e(F):l.length>0&&$e(l[0])}function Bt(F){n(1,v=F.target.value),n(8,y=-1)}function Yt(F){l.length&&(F.key==="ArrowDown"?(F.preventDefault(),n(8,y=(y+1)%l.length)):F.key==="ArrowUp"?(F.preventDefault(),n(8,y=(y-1+l.length)%l.length)):F.key==="Enter"&&y>=0&&(F.preventDefault(),$e(l[y])))}function M(F){F!==K&&(n(2,K=F),n(1,v=""),n(8,y=-1),Oe())}function U(F){Q!==F&&(n(9,Q=F),Oe())}en(async()=>{try{const F=Mf();n(39,_e=F),hi(F);const W=await fetch("data/band_positions.json");if(!W.ok)throw new Error(`Kunne ikke laste data (status ${W.status})`);n(0,w=await W.json()),n(35,b=ci(w.bands)),_t({updateHistory:!1}),X=Je(),ce(),H=!0}catch(F){n(7,x=F instanceof Error?F.message:"Ukjent feil ved lasting av data.")}finally{n(6,R=!1)}}),en(()=>{const F=()=>{w&&(_t({updateHistory:!1}),X=Je())};return window.addEventListener("popstate",F),()=>window.removeEventListener("popstate",F)});let j="";const he=F=>M(F);function ue(){v=this.value,n(1,v)}const fe=F=>pt(F.slug),le=F=>$e(F),ne=()=>U("absolute"),Se=()=>U("relative");return e.$$.update=()=>{e.$$.dirty[0]&2&&n(43,r=v.trim()),e.$$.dirty[1]&4096&&n(42,i=r.toLowerCase()),e.$$.dirty[0]&4&&n(5,o=K==="bands"||K==="conductors"),e.$$.dirty[0]&37|e.$$.dirty[1]&16&&n(38,we=o?K==="bands"?(w==null?void 0:w.bands)??[]:b:[]),e.$$.dirty[0]&4|e.$$.dirty[1]&96&&n(3,ae=K==="bands"?m:K==="conductors"?D:[]),e.$$.dirty[0]&40|e.$$.dirty[1]&2176&&n(24,l=o&&we&&i.length>=2?we.filter(F=>F.name.toLowerCase().includes(i)&&!ae.some(W=>W.slug===F.slug)).slice(0,10):[]),e.$$.dirty[0]&1&&n(4,s=w?w.metadata.years:[]),e.$$.dirty[0]&1&&n(23,a=w?w.metadata.max_field_size:0),e.$$.dirty[0]&37|e.$$.dirty[1]&16&&n(41,u=o?K==="bands"?(w==null?void 0:w.bands.length)??0:b.length:0),e.$$.dirty[0]&4&&n(40,f=K==="bands"?"korps":K==="conductors"?"dirigenter":"korps"),e.$$.dirty[0]&17|e.$$.dirty[1]&1536&&n(10,j=w?`Dekker ${u} ${f}  ${s.length} r (${w.metadata.min_year}${w.metadata.max_year})`:""),e.$$.dirty[0]&4&&n(22,c=K==="bands"?"Begynn  skrive et korpsnavn (minst 2 bokstaver)":K==="conductors"?"Begynn  skrive et dirigentnavn (minst 2 bokstaver)":""),e.$$.dirty[0]&4&&n(21,d=K==="bands"?"Sk etter korps":"Sk etter dirigent"),e.$$.dirty[0]&4&&n(20,p=K==="bands"?"Korpsforslag":"Dirigentforslag"),e.$$.dirty[0]&4&&n(19,g=K==="bands"?"Valgte korps":"Valgte dirigenter"),e.$$.dirty[0]&4&&n(18,S=K==="bands"?"Ingen korps valgt enn":"Ingen dirigenter valgt enn"),e.$$.dirty[0]&4&&n(17,L=K==="bands"?"Finn et navn i skefeltet for  tegne kurven for samlet plassering.":"Finn en dirigent i skefeltet for  tegne kurven for samlet plassering."),e.$$.dirty[0]&4&&n(16,q=K==="bands"?"Sk etter et janitsjarkorps for  se hvordan den samlede plasseringen utvikler seg r for r, p tvers av alle divisjoner.":K==="conductors"?"Sk etter en dirigent for  se hvordan deres beste plassering utvikler seg r for r, basert p korpsene de dirigerte.":"Velg et r og en divisjon for  vise resultatlisten i den valgte finalen."),e.$$.dirty[1]&256&&n(15,Y=_e==="dark"?"Bytt til lyst tema":"Bytt til mrkt tema"),e.$$.dirty[1]&256&&n(14,z=_e==="dark"?"Mrk":"Lys"),e.$$.dirty[1]&256&&n(13,N=_e==="dark"?"":""),e.$$.dirty[0]&8|e.$$.dirty[1]&512&&n(12,I=ae.length===1?ae[0].name:ae.length>1?`${ae.length} ${f} valgt`:""),e.$$.dirty[0]&8&&n(11,P=ae.length>1?ae.map(F=>F.name).join("  "):"")},[w,v,K,ae,s,o,R,x,y,Q,j,P,I,N,z,Y,q,L,S,g,p,d,c,a,l,O,k,Qe,$e,pt,qt,Bt,Yt,M,U,b,m,D,we,_e,f,u,i,r,he,ue,fe,le,ne,Se]}class Af extends Mn{constructor(t){super(),Nn(this,t,Sf,bf,Pt,{},null,[-1,-1,-1])}}new Af({target:document.getElementById("app")});
