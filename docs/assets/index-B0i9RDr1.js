(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Fl="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Fl);const Xi=1,Gi=2,no=4,Ol=8,jl=16,ql=1,zl=4,Bl=8,Yl=16,ro=1,Ul=2,Tt=Symbol(),Vl="http://www.w3.org/1999/xhtml",io=!1;var fi=Array.isArray,Hl=Array.prototype.indexOf,Fs=Array.from,ys=Object.defineProperty,$r=Object.getOwnPropertyDescriptor,Kl=Object.getOwnPropertyDescriptors,Xl=Object.prototype,Gl=Array.prototype,so=Object.getPrototypeOf,la=Object.isExtensible;const Wl=()=>{};function Zl(e){for(var t=0;t<e.length;t++)e[t]()}function ao(){var e,t,n=new Promise((i,s)=>{e=i,t=s});return{promise:n,resolve:e,reject:t}}const Jt=2,Os=4,js=8,mr=16,jn=32,yr=64,qs=128,pn=256,Ri=512,Yt=1024,on=2048,Qn=4096,En=8192,br=16384,zs=32768,Wi=65536,ca=1<<17,Jl=1<<18,qr=1<<19,Ql=1<<20,bs=1<<21,Zi=1<<22,lr=1<<23,cr=Symbol("$state"),ec=Symbol("legacy props"),tc=Symbol(""),ti=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Bs(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function nc(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function rc(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ic(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function sc(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ac(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function oc(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function lc(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function cc(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function uc(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function fc(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function dc(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function vc(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let hc=!1;function oo(e){return e===this.v}function pc(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function _c(e,t){return e!==t}function lo(e){return!pc(e,this.v)}let gc=!1,Kt=null;function Cr(e){Kt=e}function gn(e,t=!1,n){Kt={p:Kt,c:null,e:null,s:e,x:null,l:null}}function mn(e){var t=Kt,n=t.e;if(n!==null){t.e=null;for(var i of n)Eo(i)}return Kt=t.p,{}}function co(){return!0}let ar=[];function uo(){var e=ar;ar=[],Zl(e)}function vr(e){if(ar.length===0&&!ni){var t=ar;queueMicrotask(()=>{t===ar&&uo()})}ar.push(e)}function mc(){for(;ar.length>0;)uo()}const yc=new WeakMap;function fo(e){var t=Ye;if(t===null)return qe.f|=lr,e;if((t.f&zs)===0){if((t.f&qs)===0)throw!t.parent&&e instanceof Error&&vo(e),e;t.b.error(e)}else Ir(e,t)}function Ir(e,t){for(;t!==null;){if((t.f&qs)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&vo(e),e}function vo(e){const t=yc.get(e);t&&(ys(e,"message",{value:t.message}),ys(e,"stack",{value:t.stack}))}const wi=new Set;let pt=null,Pi=null,ws=new Set,Pn=[],Ji=null,xs=!1,ni=!1;class hn{current=new Map;#r=new Map;#n=new Set;#d=0;#s=null;#l=[];#i=[];#t=[];#e=[];#a=[];#c=[];skipped_effects=new Set;process(t){Pn=[],Pi=null;var n=hn.apply(this);for(const a of t)this.#u(a);if(this.#d===0){this.#f();var i=this.#i,s=this.#t;this.#i=[],this.#t=[],this.#e=[],Pi=this,pt=null,ua(i),ua(s),Pi=null,this.#s?.resolve()}else this.#o(this.#i),this.#o(this.#t),this.#o(this.#e);n();for(const a of this.#l)ai(a);this.#l=[]}#u(t){t.f^=Yt;for(var n=t.first;n!==null;){var i=n.f,s=(i&(jn|yr))!==0,a=s&&(i&Yt)!==0,o=a||(i&En)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){s?n.f^=Yt:(i&Os)!==0?this.#t.push(n):(i&Yt)===0&&((i&Zi)!==0&&n.b?.is_pending()?this.#l.push(n):ns(n)&&((n.f&mr)!==0&&this.#e.push(n),ai(n)));var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}}#o(t){for(const n of t)((n.f&on)!==0?this.#a:this.#c).push(n),Ht(n,Yt);t.length=0}capture(t,n){this.#r.has(t)||this.#r.set(t,n),this.current.set(t,t.v)}activate(){pt=this}deactivate(){pt=null}flush(){if(Pn.length>0){if(this.activate(),ho(),pt!==null&&pt!==this)return}else this.#d===0&&this.#f();this.deactivate();for(const t of ws)if(ws.delete(t),t(),pt!==null)break}#f(){for(const t of this.#n)t();if(this.#n.clear(),wi.size>1){this.#r.clear();let t=!0;for(const n of wi){if(n===this){t=!1;continue}for(const[i,s]of this.current){if(n.current.has(i))if(t)n.current.set(i,s);else continue;po(i)}if(Pn.length>0){pt=n;const i=hn.apply(n);for(const s of Pn)n.#u(s);Pn=[],i()}}pt=null}wi.delete(this)}increment(){this.#d+=1}decrement(){this.#d-=1;for(const t of this.#a)Ht(t,on),hr(t);for(const t of this.#c)Ht(t,Qn),hr(t);this.flush()}add_callback(t){this.#n.add(t)}settled(){return(this.#s??=ao()).promise}static ensure(){if(pt===null){const t=pt=new hn;wi.add(pt),ni||hn.enqueue(()=>{pt===t&&t.flush()})}return pt}static enqueue(t){vr(t)}static apply(t){return Wl}}function bc(e){var t=ni;ni=!0;try{for(var n;;){if(mc(),Pn.length===0&&(pt?.flush(),Pn.length===0))return Ji=null,n;ho()}}finally{ni=t}}function ho(){var e=Pr;xs=!0;try{var t=0;for(ha(!0);Pn.length>0;){var n=hn.ensure();if(t++>1e3){var i,s;wc()}n.process(Pn),Jn.clear()}}finally{xs=!1,ha(e),Ji=null}}function wc(){try{ac()}catch(e){Ir(e,Ji)}}let sr=null;function ua(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(br|En))===0&&ns(i)&&(sr=[],ai(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?$o(i):i.fn=null),sr?.length>0)){Jn.clear();for(const s of sr)ai(s);sr=[]}}sr=null}}function po(e){if(e.reactions!==null)for(const t of e.reactions){const n=t.f;(n&Jt)!==0?po(t):(n&(Zi|mr))!==0&&(Ht(t,on),hr(t))}}function hr(e){for(var t=Ji=e;t.parent!==null;){t=t.parent;var n=t.f;if(xs&&t===Ye&&(n&mr)!==0)return;if((n&(yr|jn))!==0){if((n&Yt)===0)return;t.f^=Yt}}Pn.push(t)}function xc(e){let t=0,n=pr(0),i;return()=>{Oc()&&(r(n),Hs(()=>(t===0&&(i=xr(()=>e(()=>ri(n)))),t+=1,()=>{vr(()=>{t-=1,t===0&&(i?.(),i=void 0,ri(n))})})))}}var kc=Wi|qr|qs;function Sc(e,t,n){new Ec(e,t,n)}class Ec{parent;#r=!1;#n;#d=null;#s;#l;#i;#t=null;#e=null;#a=null;#c=null;#u=0;#o=0;#f=!1;#v=null;#g=()=>{this.#v&&Lr(this.#v,this.#u)};#m=xc(()=>(this.#v=pr(this.#u),()=>{this.#v=null}));constructor(t,n,i){this.#n=t,this.#s=n,this.#l=i,this.parent=Ye.b,this.#r=!!this.#s.pending,this.#i=ts(()=>{Ye.b=this;{try{this.#t=dn(()=>i(this.#n))}catch(s){this.error(s)}this.#o>0?this.#p():this.#r=!1}},kc)}#y(){try{this.#t=dn(()=>this.#l(this.#n))}catch(t){this.error(t)}this.#r=!1}#b(){const t=this.#s.pending;t&&(this.#e=dn(()=>t(this.#n)),hn.enqueue(()=>{this.#t=this.#h(()=>(hn.ensure(),dn(()=>this.#l(this.#n)))),this.#o>0?this.#p():(ur(this.#e,()=>{this.#e=null}),this.#r=!1)}))}is_pending(){return this.#r||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#h(t){var n=Ye,i=qe,s=Kt;Cn(this.#i),Wt(this.#i),Cr(this.#i.ctx);try{return t()}catch(a){return fo(a),null}finally{Cn(n),Wt(i),Cr(s)}}#p(){const t=this.#s.pending;this.#t!==null&&(this.#c=document.createDocumentFragment(),Ac(this.#t,this.#c)),this.#e===null&&(this.#e=dn(()=>t(this.#n)))}#_(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#_(t);return}this.#o+=t,this.#o===0&&(this.#r=!1,this.#e&&ur(this.#e,()=>{this.#e=null}),this.#c&&(this.#n.before(this.#c),this.#c=null),vr(()=>{hn.ensure().flush()}))}update_pending_count(t){this.#_(t),this.#u+=t,ws.add(this.#g)}get_effect_pending(){return this.#m(),r(this.#v)}error(t){var n=this.#s.onerror;let i=this.#s.failed;if(this.#f||!n&&!i)throw t;this.#t&&(_n(this.#t),this.#t=null),this.#e&&(_n(this.#e),this.#e=null),this.#a&&(_n(this.#a),this.#a=null);var s=!1,a=!1;const o=()=>{if(s){vc();return}s=!0,a&&fc(),hn.ensure(),this.#u=0,this.#a!==null&&ur(this.#a,()=>{this.#a=null}),this.#r=this.has_pending_snippet(),this.#t=this.#h(()=>(this.#f=!1,dn(()=>this.#l(this.#n)))),this.#o>0?this.#p():this.#r=!1};var l=qe;try{Wt(null),a=!0,n?.(t,o),a=!1}catch(c){Ir(c,this.#i&&this.#i.parent)}finally{Wt(l)}i&&vr(()=>{this.#a=this.#h(()=>{this.#f=!0;try{return dn(()=>{i(this.#n,()=>t,()=>o)})}catch(c){return Ir(c,this.#i.parent),null}finally{this.#f=!1}})})}}function Ac(e,t){for(var n=e.nodes_start,i=e.nodes_end;n!==null;){var s=n===i?null:di(n);t.append(n),n=s}}function Mc(e,t,n){const i=Qi;if(t.length===0){n(e.map(i));return}var s=pt,a=Ye,o=Nc();Promise.all(t.map(l=>$c(l))).then(l=>{o();try{n([...e.map(i),...l])}catch(c){(a.f&br)===0&&Ir(c,a)}s?.deactivate(),_o()}).catch(l=>{Ir(l,a)})}function Nc(){var e=Ye,t=qe,n=Kt,i=pt;return function(){Cn(e),Wt(t),Cr(n),i?.activate()}}function _o(){Cn(null),Wt(null),Cr(null)}function Qi(e){var t=Jt|on,n=qe!==null&&(qe.f&Jt)!==0?qe:null;return Ye===null||n!==null&&(n.f&pn)!==0?t|=pn:Ye.f|=qr,{ctx:Kt,deps:null,effects:null,equals:oo,f:t,fn:e,reactions:null,rv:0,v:Tt,wv:0,parent:n??Ye,ac:null}}function $c(e,t){let n=Ye;n===null&&nc();var i=n.b,s=void 0,a=pr(Tt),o=!qe,l=new Map;return qc(()=>{var c=ao();s=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject)}catch(h){c.reject(h)}var u=pt,f=i.is_pending();o&&(i.update_pending_count(1),f||(u.increment(),l.get(u)?.reject(ti),l.set(u,c)));const d=(h,b=void 0)=>{f||u.activate(),b?b!==ti&&(a.f|=lr,Lr(a,b)):((a.f&lr)!==0&&(a.f^=lr),Lr(a,h)),o&&(i.update_pending_count(-1),f||u.decrement()),_o()};c.promise.then(d,h=>d(null,h||"unknown"))}),Vs(()=>{for(const c of l.values())c.reject(ti)}),new Promise(c=>{function u(f){function d(){f===s?c(a):u(s)}f.then(d,d)}u(s)})}function L(e){const t=Qi(e);return Co(t),t}function go(e){const t=Qi(e);return t.equals=lo,t}function mo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)_n(t[n])}}function Pc(e){for(var t=e.parent;t!==null;){if((t.f&Jt)===0)return t;t=t.parent}return null}function Ys(e){var t,n=Ye;Cn(Pc(e));try{mo(e),t=Do(e)}finally{Cn(n)}return t}function yo(e){var t=Ys(e);if(e.equals(t)||(e.v=t,e.wv=Lo()),!wr){var n=(Gn||(e.f&pn)!==0)&&e.deps!==null?Qn:Yt;Ht(e,n)}}const Jn=new Map;function pr(e,t){var n={f:0,v:e,reactions:null,equals:oo,rv:0,wv:0};return n}function ue(e,t){const n=pr(e);return Co(n),n}function Tc(e,t=!1,n=!0){const i=pr(e);return t||(i.equals=lo),i}function $(e,t,n=!1){qe!==null&&(!kn||(qe.f&ca)!==0)&&co()&&(qe.f&(Jt|mr|Zi|ca))!==0&&!Fn?.includes(e)&&uc();let i=n?Bt(t):t;return Lr(e,i)}function Lr(e,t){if(!e.equals(t)){var n=e.v;wr?Jn.set(e,t):Jn.set(e,n),e.v=t;var i=hn.ensure();i.capture(e,n),(e.f&Jt)!==0&&((e.f&on)!==0&&Ys(e),Ht(e,(e.f&pn)===0?Yt:Qn)),e.wv=Lo(),bo(e,on),Ye!==null&&(Ye.f&Yt)!==0&&(Ye.f&(jn|yr))===0&&(fn===null?Yc([e]):fn.push(e))}return t}function ri(e){$(e,e.v+1)}function bo(e,t){var n=e.reactions;if(n!==null)for(var i=n.length,s=0;s<i;s++){var a=n[s],o=a.f,l=(o&on)===0;l&&Ht(a,t),(o&Jt)!==0?bo(a,Qn):l&&((o&mr)!==0&&sr!==null&&sr.push(a),hr(a))}}function Bt(e){if(typeof e!="object"||e===null||cr in e)return e;const t=so(e);if(t!==Xl&&t!==Gl)return e;var n=new Map,i=fi(e),s=ue(0),a=fr,o=l=>{if(fr===a)return l();var c=qe,u=fr;Wt(null),_a(a);var f=l();return Wt(c),_a(u),f};return i&&n.set("length",ue(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&lc();var f=n.get(c);return f===void 0?f=o(()=>{var d=ue(u.value);return n.set(c,d),d}):$(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=o(()=>ue(Tt));n.set(c,f),ri(s)}}else $(u,Tt),ri(s);return!0},get(l,c,u){if(c===cr)return e;var f=n.get(c),d=c in l;if(f===void 0&&(!d||$r(l,c)?.writable)&&(f=o(()=>{var b=Bt(d?l[c]:Tt),p=ue(b);return p}),n.set(c,f)),f!==void 0){var h=r(f);return h===Tt?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=r(f))}else if(u===void 0){var d=n.get(c),h=d?.v;if(d!==void 0&&h!==Tt)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===cr)return!0;var u=n.get(c),f=u!==void 0&&u.v!==Tt||Reflect.has(l,c);if(u!==void 0||Ye!==null&&(!f||$r(l,c)?.writable)){u===void 0&&(u=o(()=>{var h=f?Bt(l[c]):Tt,b=ue(h);return b}),n.set(c,u));var d=r(u);if(d===Tt)return!1}return f},set(l,c,u,f){var d=n.get(c),h=c in l;if(i&&c==="length")for(var b=u;b<d.v;b+=1){var p=n.get(b+"");p!==void 0?$(p,Tt):b in l&&(p=o(()=>ue(Tt)),n.set(b+"",p))}if(d===void 0)(!h||$r(l,c)?.writable)&&(d=o(()=>ue(void 0)),$(d,Bt(u)),n.set(c,d));else{h=d.v!==Tt;var g=o(()=>Bt(u));$(d,g)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(f,u),!h){if(i&&typeof c=="string"){var A=n.get("length"),M=Number(c);Number.isInteger(M)&&M>=A.v&&$(A,M+1)}ri(s)}return!0},ownKeys(l){r(s);var c=Reflect.ownKeys(l).filter(d=>{var h=n.get(d);return h===void 0||h.v!==Tt});for(var[u,f]of n)f.v!==Tt&&!(u in l)&&c.push(u);return c},setPrototypeOf(){cc()}})}function fa(e){try{if(e!==null&&typeof e=="object"&&cr in e)return e[cr]}catch{}return e}function Cc(e,t){return Object.is(fa(e),fa(t))}var da,wo,xo,ko;function Ic(){if(da===void 0){da=window,wo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;xo=$r(t,"firstChild").get,ko=$r(t,"nextSibling").get,la(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),la(n)&&(n.__t=void 0)}}function zr(e=""){return document.createTextNode(e)}function Dn(e){return xo.call(e)}function di(e){return ko.call(e)}function v(e,t){return Dn(e)}function be(e,t=!1){{var n=Dn(e);return n instanceof Comment&&n.data===""?di(n):n}}function x(e,t=1,n=!1){let i=e;for(;t--;)i=di(i);return i}function Lc(e){e.textContent=""}function Us(){return!1}let va=!1;function Rc(){va||(va=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function es(e){var t=qe,n=Ye;Wt(null),Cn(null);try{return e()}finally{Wt(t),Cn(n)}}function So(e,t,n,i=n){e.addEventListener(t,()=>es(n));const s=e.__on_r;s?e.__on_r=()=>{s(),i(!0)}:e.__on_r=()=>i(!0),Rc()}function Dc(e){Ye===null&&qe===null&&sc(),qe!==null&&(qe.f&pn)!==0&&Ye===null&&ic(),wr&&rc()}function Fc(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function qn(e,t,n,i=!0){var s=Ye;s!==null&&(s.f&En)!==0&&(e|=En);var a={ctx:Kt,deps:null,nodes_start:null,nodes_end:null,f:e|on,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{ai(a),a.f|=zs}catch(c){throw _n(a),c}else t!==null&&hr(a);if(i){var o=a;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&qr)===0&&(o=o.first),o!==null&&(o.parent=s,s!==null&&Fc(o,s),qe!==null&&(qe.f&Jt)!==0&&(e&yr)===0)){var l=qe;(l.effects??=[]).push(o)}}return a}function Oc(){return qe!==null&&!kn}function Vs(e){const t=qn(js,null,!1);return Ht(t,Yt),t.teardown=e,t}function vn(e){Dc();var t=Ye.f,n=!qe&&(t&jn)!==0&&(t&zs)===0;if(n){var i=Kt;(i.e??=[]).push(e)}else return Eo(e)}function Eo(e){return qn(Os|Ql,e,!1)}function jc(e){hn.ensure();const t=qn(yr|qr,e,!0);return(n={})=>new Promise(i=>{n.outro?ur(t,()=>{_n(t),i(void 0)}):(_n(t),i(void 0))})}function Ao(e){return qn(Os,e,!1)}function qc(e){return qn(Zi|qr,e,!0)}function Hs(e,t=0){return qn(js|t,e,!0)}function X(e,t=[],n=[]){Mc(t,n,i=>{qn(js,()=>e(...i.map(r)),!0)})}function ts(e,t=0){var n=qn(mr|t,e,!0);return n}function dn(e,t=!0){return qn(jn|qr,e,!0,t)}function Mo(e){var t=e.teardown;if(t!==null){const n=wr,i=qe;pa(!0),Wt(null);try{t.call(null)}finally{pa(n),Wt(i)}}}function No(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&es(()=>{s.abort(ti)});var i=n.next;(n.f&yr)!==0?n.parent=null:_n(n,t),n=i}}function zc(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&jn)===0&&_n(t),t=n}}function _n(e,t=!0){var n=!1;(t||(e.f&Jl)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Bc(e.nodes_start,e.nodes_end),n=!0),No(e,t&&!n),Di(e,0),Ht(e,br);var i=e.transitions;if(i!==null)for(const a of i)a.stop();Mo(e);var s=e.parent;s!==null&&s.first!==null&&$o(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Bc(e,t){for(;e!==null;){var n=e===t?null:di(e);e.remove(),e=n}}function $o(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function ur(e,t){var n=[];Ks(e,n,!0),Po(n,()=>{_n(e),t&&t()})}function Po(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var s of e)s.out(i)}else t()}function Ks(e,t,n){if((e.f&En)===0){if(e.f^=En,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var i=e.first;i!==null;){var s=i.next,a=(i.f&Wi)!==0||(i.f&jn)!==0;Ks(i,t,a?n:!1),i=s}}}function Xs(e){To(e,!0)}function To(e,t){if((e.f&En)!==0){e.f^=En,(e.f&Yt)===0&&(Ht(e,on),hr(e));for(var n=e.first;n!==null;){var i=n.next,s=(n.f&Wi)!==0||(n.f&jn)!==0;To(n,s?t:!1),n=i}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Pr=!1;function ha(e){Pr=e}let wr=!1;function pa(e){wr=e}let qe=null,kn=!1;function Wt(e){qe=e}let Ye=null;function Cn(e){Ye=e}let Fn=null;function Co(e){qe!==null&&(Fn===null?Fn=[e]:Fn.push(e))}let Ut=null,an=0,fn=null;function Yc(e){fn=e}let Io=1,si=0,fr=si;function _a(e){fr=e}let Gn=!1;function Lo(){return++Io}function ns(e){var t=e.f;if((t&on)!==0)return!0;if((t&Qn)!==0){var n=e.deps,i=(t&pn)!==0;if(n!==null){var s,a,o=(t&Ri)!==0,l=i&&Ye!==null&&!Gn,c=n.length;if((o||l)&&(Ye===null||(Ye.f&br)===0)){var u=e,f=u.parent;for(s=0;s<c;s++)a=n[s],(o||!a?.reactions?.includes(u))&&(a.reactions??=[]).push(u);o&&(u.f^=Ri),l&&f!==null&&(f.f&pn)===0&&(u.f^=pn)}for(s=0;s<c;s++)if(a=n[s],ns(a)&&yo(a),a.wv>e.wv)return!0}(!i||Ye!==null&&!Gn)&&Ht(e,Yt)}return!1}function Ro(e,t,n=!0){var i=e.reactions;if(i!==null&&!Fn?.includes(e))for(var s=0;s<i.length;s++){var a=i[s];(a.f&Jt)!==0?Ro(a,t,!1):t===a&&(n?Ht(a,on):(a.f&Yt)!==0&&Ht(a,Qn),hr(a))}}function Do(e){var t=Ut,n=an,i=fn,s=qe,a=Gn,o=Fn,l=Kt,c=kn,u=fr,f=e.f;Ut=null,an=0,fn=null,Gn=(f&pn)!==0&&(kn||!Pr||qe===null),qe=(f&(jn|yr))===0?e:null,Fn=null,Cr(e.ctx),kn=!1,fr=++si,e.ac!==null&&(es(()=>{e.ac.abort(ti)}),e.ac=null);try{e.f|=bs;var d=e.fn,h=d(),b=e.deps;if(Ut!==null){var p;if(Di(e,an),b!==null&&an>0)for(b.length=an+Ut.length,p=0;p<Ut.length;p++)b[an+p]=Ut[p];else e.deps=b=Ut;if(!Gn||(f&Jt)!==0&&e.reactions!==null)for(p=an;p<b.length;p++)(b[p].reactions??=[]).push(e)}else b!==null&&an<b.length&&(Di(e,an),b.length=an);if(co()&&fn!==null&&!kn&&b!==null&&(e.f&(Jt|Qn|on))===0)for(p=0;p<fn.length;p++)Ro(fn[p],e);return s!==null&&s!==e&&(si++,fn!==null&&(i===null?i=fn:i.push(...fn))),(e.f&lr)!==0&&(e.f^=lr),h}catch(g){return fo(g)}finally{e.f^=bs,Ut=t,an=n,fn=i,qe=s,Gn=a,Fn=o,Cr(l),kn=c,fr=u}}function Uc(e,t){let n=t.reactions;if(n!==null){var i=Hl.call(n,e);if(i!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[i]=n[s],n.pop())}}n===null&&(t.f&Jt)!==0&&(Ut===null||!Ut.includes(t))&&(Ht(t,Qn),(t.f&(pn|Ri))===0&&(t.f^=Ri),mo(t),Di(t,0))}function Di(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Uc(e,n[i])}function ai(e){var t=e.f;if((t&br)===0){Ht(e,Yt);var n=Ye,i=Pr;Ye=e,Pr=!0;try{(t&mr)!==0?zc(e):No(e),Mo(e);var s=Do(e);e.teardown=typeof s=="function"?s:null,e.wv=Io;var a;io&&gc&&(e.f&on)!==0&&e.deps}finally{Pr=i,Ye=n}}}async function Vc(){await Promise.resolve(),bc()}function r(e){var t=e.f,n=(t&Jt)!==0;if(qe!==null&&!kn){var i=Ye!==null&&(Ye.f&br)!==0;if(!i&&!Fn?.includes(e)){var s=qe.deps;if((qe.f&bs)!==0)e.rv<si&&(e.rv=si,Ut===null&&s!==null&&s[an]===e?an++:Ut===null?Ut=[e]:(!Gn||!Ut.includes(e))&&Ut.push(e));else{(qe.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[qe]:a.includes(qe)||a.push(qe)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&(l.f&pn)===0&&(o.f^=pn)}if(wr){if(Jn.has(e))return Jn.get(e);if(n){o=e;var c=o.v;return((o.f&Yt)===0&&o.reactions!==null||Fo(o))&&(c=Ys(o)),Jn.set(o,c),c}}else n&&(o=e,ns(o)&&yo(o));if((e.f&lr)!==0)throw e.v;return e.v}function Fo(e){if(e.v===Tt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Jn.has(t)||(t.f&Jt)!==0&&Fo(t))return!0;return!1}function xr(e){var t=kn;try{return kn=!0,e()}finally{kn=t}}const Hc=-7169;function Ht(e,t){e.f=e.f&Hc|t}const Oo=new Set,ks=new Set;function Kc(e,t,n,i={}){function s(a){if(i.capture||Wr.call(t,a),!a.cancelBubble)return es(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?vr(()=>{t.addEventListener(e,s,i)}):t.addEventListener(e,s,i),s}function sn(e,t,n,i,s){var a={capture:i,passive:s},o=Kc(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Vs(()=>{t.removeEventListener(e,o,a)})}function vi(e){for(var t=0;t<e.length;t++)Oo.add(e[t]);for(var n of ks)n(e)}let ga=null;function Wr(e){var t=this,n=t.ownerDocument,i=e.type,s=e.composedPath?.()||[],a=s[0]||e.target;ga=e;var o=0,l=ga===e&&e.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;c<=u&&(o=c)}if(a=s[o]||e.target,a!==t){ys(e,"currentTarget",{configurable:!0,get(){return a||n}});var f=qe,d=Ye;Wt(null),Cn(null);try{for(var h,b=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var g=a["__"+i];if(g!=null&&(!a.disabled||e.target===a))if(fi(g)){var[w,...A]=g;w.apply(a,[e,...A])}else g.call(a,e)}catch(M){h?b.push(M):h=M}if(e.cancelBubble||p===t||p===null)break;a=p}if(h){for(let M of b)queueMicrotask(()=>{throw M});throw h}}finally{e.__root=t,delete e.currentTarget,Wt(f),Cn(d)}}}function jo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function oi(e,t){var n=Ye;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function P(e,t){var n=(t&ro)!==0,i=(t&Ul)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=jo(a?e:"<!>"+e),n||(s=Dn(s)));var o=i||wo?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=Dn(o),c=o.lastChild;oi(l,c)}else oi(o,o);return o}}function Xc(e,t,n="svg"){var i=!e.startsWith("<!>"),s=(t&ro)!==0,a=`<${n}>${i?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var l=jo(a),c=Dn(l);if(s)for(o=document.createDocumentFragment();Dn(c);)o.appendChild(Dn(c));else o=Dn(c)}var u=o.cloneNode(!0);if(s){var f=Dn(u),d=u.lastChild;oi(f,d)}else oi(u,u);return u}}function Mn(e,t){return Xc(e,t,"svg")}function Fe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=zr();return e.append(t,n),oi(t,n),e}function m(e,t){e!==null&&e.before(t)}const Gc=["touchstart","touchmove"];function Wc(e){return Gc.includes(e)}function F(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ma(e,t){return Zc(e,t)}const Ar=new Map;function Zc(e,{target:t,anchor:n,props:i={},events:s,context:a,intro:o=!0}){Ic();var l=new Set,c=d=>{for(var h=0;h<d.length;h++){var b=d[h];if(!l.has(b)){l.add(b);var p=Wc(b);t.addEventListener(b,Wr,{passive:p});var g=Ar.get(b);g===void 0?(document.addEventListener(b,Wr,{passive:p}),Ar.set(b,1)):Ar.set(b,g+1)}}};c(Fs(Oo)),ks.add(c);var u=void 0,f=jc(()=>{var d=n??t.appendChild(zr());return Sc(d,{pending:()=>{}},h=>{if(a){gn({});var b=Kt;b.c=a}s&&(i.$$events=s),u=e(h,i)||{},a&&mn()}),()=>{for(var h of l){t.removeEventListener(h,Wr);var b=Ar.get(h);--b===0?(document.removeEventListener(h,Wr),Ar.delete(h)):Ar.set(h,b)}ks.delete(c),d!==n&&d.parentNode?.removeChild(d)}});return Jc.set(u,f),u}let Jc=new WeakMap;function Wn(e){Kt===null&&Bs(),vn(()=>{const t=xr(e);if(typeof t=="function")return t})}function Qc(e){Kt===null&&Bs(),Wn(()=>()=>xr(e))}function eu(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function tu(){const e=Kt;return e===null&&Bs(),(t,n,i)=>{const s=e.s.$$events?.[t];if(s){const a=fi(s)?s.slice():[s],o=eu(t,n,i);for(const l of a)l.call(e.x,o);return!o.defaultPrevented}return!0}}function q(e,t,n=!1){var i=e,s=null,a=null,o=Tt,l=n?Wi:0,c=!1;const u=(b,p=!0)=>{c=!0,h(p,b)};var f=null;function d(){f!==null&&(f.lastChild.remove(),i.before(f),f=null);var b=o?s:a,p=o?a:s;b&&Xs(b),p&&ur(p,()=>{o?a=null:s=null})}const h=(b,p)=>{if(o!==(o=b)){var g=Us(),w=i;if(g&&(f=document.createDocumentFragment(),f.append(w=zr())),o?s??=p&&dn(()=>p(w)):a??=p&&dn(()=>p(w)),g){var A=pt,M=o?s:a,I=o?a:s;M&&A.skipped_effects.delete(M),I&&A.skipped_effects.add(I),A.add_callback(d)}else d()}};ts(()=>{c=!1,t(u),c||h(null,null)},l)}function nu(e,t,n){var i=e,s=Tt,a,o,l=null,c=_c;function u(){a&&ur(a),l!==null&&(l.lastChild.remove(),i.before(l),l=null),a=o}ts(()=>{if(c(s,s=t())){var f=i,d=Us();d&&(l=document.createDocumentFragment(),l.append(f=zr())),o=dn(()=>n(f)),d?pt.add_callback(u):u()}})}function it(e,t){return t}function ru(e,t,n){for(var i=e.items,s=[],a=t.length,o=0;o<a;o++)Ks(t[o].e,s,!0);var l=a>0&&s.length===0&&n!==null;if(l){var c=n.parentNode;Lc(c),c.append(n),i.clear(),$n(e,t[0].prev,t[a-1].next)}Po(s,()=>{for(var u=0;u<a;u++){var f=t[u];l||(i.delete(f.k),$n(e,f.prev,f.next)),_n(f.e,!l)}})}function Ze(e,t,n,i,s,a=null){var o=e,l={flags:t,items:new Map,first:null},c=(t&no)!==0;if(c){var u=e;o=u.appendChild(zr())}var f=null,d=!1,h=new Map,b=go(()=>{var A=n();return fi(A)?A:A==null?[]:Fs(A)}),p,g;function w(){iu(g,p,l,h,o,s,t,i,n),a!==null&&(p.length===0?f?Xs(f):f=dn(()=>a(o)):f!==null&&ur(f,()=>{f=null}))}ts(()=>{g??=Ye,p=r(b);var A=p.length;if(!(d&&A===0)){d=A===0;var M,I,U,K;if(Us()){var Z=new Set,ne=pt;for(I=0;I<A;I+=1){U=p[I],K=i(U,I);var se=l.items.get(K)??h.get(K);se?(t&(Xi|Gi))!==0&&qo(se,U,I,t):(M=zo(null,l,null,null,U,K,I,s,t,n,!0),h.set(K,M)),Z.add(K)}for(const[ke,Ae]of l.items)Z.has(ke)||ne.skipped_effects.add(Ae.e);ne.add_callback(w)}else w();r(b)}})}function iu(e,t,n,i,s,a,o,l,c){var u=(o&Ol)!==0,f=(o&(Xi|Gi))!==0,d=t.length,h=n.items,b=n.first,p=b,g,w=null,A,M=[],I=[],U,K,Z,ne;if(u)for(ne=0;ne<d;ne+=1)U=t[ne],K=l(U,ne),Z=h.get(K),Z!==void 0&&(Z.a?.measure(),(A??=new Set).add(Z));for(ne=0;ne<d;ne+=1){if(U=t[ne],K=l(U,ne),Z=h.get(K),Z===void 0){var se=i.get(K);if(se!==void 0){i.delete(K),h.set(K,se);var ke=w?w.next:p;$n(n,w,se),$n(n,se,ke),fs(se,ke,s),w=se}else{var Ae=p?p.e.nodes_start:s;w=zo(Ae,n,w,w===null?n.first:w.next,U,K,ne,a,o,c)}h.set(K,w),M=[],I=[],p=w.next;continue}if(f&&qo(Z,U,ne,o),(Z.e.f&En)!==0&&(Xs(Z.e),u&&(Z.a?.unfix(),(A??=new Set).delete(Z))),Z!==p){if(g!==void 0&&g.has(Z)){if(M.length<I.length){var R=I[0],Y;w=R.prev;var Q=M[0],S=M[M.length-1];for(Y=0;Y<M.length;Y+=1)fs(M[Y],R,s);for(Y=0;Y<I.length;Y+=1)g.delete(I[Y]);$n(n,Q.prev,S.next),$n(n,w,Q),$n(n,S,R),p=R,w=S,ne-=1,M=[],I=[]}else g.delete(Z),fs(Z,p,s),$n(n,Z.prev,Z.next),$n(n,Z,w===null?n.first:w.next),$n(n,w,Z),w=Z;continue}for(M=[],I=[];p!==null&&p.k!==K;)(p.e.f&En)===0&&(g??=new Set).add(p),I.push(p),p=p.next;if(p===null)continue;Z=p}M.push(Z),w=Z,p=Z.next}if(p!==null||g!==void 0){for(var le=g===void 0?[]:Fs(g);p!==null;)(p.e.f&En)===0&&le.push(p),p=p.next;var re=le.length;if(re>0){var Ne=(o&no)!==0&&d===0?s:null;if(u){for(ne=0;ne<re;ne+=1)le[ne].a?.measure();for(ne=0;ne<re;ne+=1)le[ne].a?.fix()}ru(n,le,Ne)}}u&&vr(()=>{if(A!==void 0)for(Z of A)Z.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var Oe of i.values())_n(Oe.e);i.clear()}function qo(e,t,n,i){(i&Xi)!==0&&Lr(e.v,t),(i&Gi)!==0?Lr(e.i,n):e.i=n}function zo(e,t,n,i,s,a,o,l,c,u,f){var d=(c&Xi)!==0,h=(c&jl)===0,b=d?h?Tc(s,!1,!1):pr(s):s,p=(c&Gi)===0?o:pr(o),g={i:p,v:b,k:a,a:null,e:null,prev:n,next:i};try{if(e===null){var w=document.createDocumentFragment();w.append(e=zr())}return g.e=dn(()=>l(e,b,p,u),hc),g.e.prev=n&&n.e,g.e.next=i&&i.e,n===null?f||(t.first=g):(n.next=g,n.e.next=g.e),i!==null&&(i.prev=g,i.e.prev=g.e),g}finally{}}function fs(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==i;){var o=di(a);s.before(a),a=o}}function $n(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const ya=[...` 	
\r\f \v\uFEFF`];function su(e,t,n){var i=e==null?"":""+e;if(t&&(i=i?i+" "+t:t),n){for(var s in n)if(n[s])i=i?i+" "+s:s;else if(i.length)for(var a=s.length,o=0;(o=i.indexOf(s,o))>=0;){var l=o+a;(o===0||ya.includes(i[o-1]))&&(l===i.length||ya.includes(i[l]))?i=(o===0?"":i.substring(0,o))+i.substring(l+1):o=l}}return i===""?null:i}function au(e,t){return e==null?null:String(e)}function Vt(e,t,n,i,s,a){var o=e.__className;if(o!==n||o===void 0){var l=su(n,i,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&s!==a)for(var c in a){var u=!!a[c];(s==null||u!==!!s[c])&&e.classList.toggle(c,u)}return a}function xi(e,t,n,i){var s=e.__style;if(s!==t){var a=au(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return i}function Bo(e,t,n=!1){if(e.multiple){if(t==null)return;if(!fi(t))return dc();for(var i of e.options)i.selected=t.includes(ii(i));return}for(i of e.options){var s=ii(i);if(Cc(s,t)){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function ou(e){var t=new MutationObserver(()=>{Bo(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Vs(()=>{t.disconnect()})}function ba(e,t,n=t){var i=!0;So(e,"change",s=>{var a=s?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(a),ii);else{var l=e.querySelector(a)??e.querySelector("option:not([disabled])");o=l&&ii(l)}n(o)}),Ao(()=>{var s=t();if(Bo(e,s,i),i&&s===void 0){var a=e.querySelector(":checked");a!==null&&(s=ii(a),n(s))}e.__value=s,i=!1}),ou(e)}function ii(e){return"__value"in e?e.__value:e.value}const lu=Symbol("is custom element"),cu=Symbol("is html");function wa(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function z(e,t,n,i){var s=uu(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[tc]=n),n==null?e.removeAttribute(t):typeof n!="string"&&fu(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function uu(e){return e.__attributes??={[lu]:e.nodeName.includes("-"),[cu]:e.namespaceURI===Vl}}var xa=new Map;function fu(e){var t=e.getAttribute("is")||e.nodeName,n=xa.get(t);if(n)return n;xa.set(t,n=[]);for(var i,s=e,a=Element.prototype;a!==s;){i=Kl(s);for(var o in i)i[o].set&&n.push(o);s=so(s)}return n}function Xn(e,t,n=t){var i=new WeakSet;So(e,"input",async s=>{var a=s?e.defaultValue:e.value;if(a=ds(e)?vs(a):a,n(a),pt!==null&&i.add(pt),await Vc(),a!==(a=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),xr(t)==null&&e.value&&(n(ds(e)?vs(e.value):e.value),pt!==null&&i.add(pt)),Hs(()=>{var s=t();if(e===document.activeElement){var a=Pi??pt;if(i.has(a))return}ds(e)&&s===vs(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function ds(e){var t=e.type;return t==="number"||t==="range"}function vs(e){return e===""?null:+e}function ka(e,t){return e===t||e?.[cr]===t}function du(e={},t,n,i){return Ao(()=>{var s,a;return Hs(()=>{s=a,a=[],xr(()=>{e!==n(...a)&&(t(e,...a),s&&ka(n(...s),e)&&t(null,...s))})}),()=>{vr(()=>{a&&ka(n(...a),e)&&t(null,...a)})}}),e}function Sa(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}let ki=!1;function vu(e){var t=ki;try{return ki=!1,[e(),ki]}finally{ki=t}}function gt(e,t,n,i){var s=(n&Bl)!==0,a=(n&Yl)!==0,o=i,l=!0,c=()=>(l&&(l=!1,o=a?xr(i):i),o),u;if(s){var f=cr in e||ec in e;u=$r(e,t)?.set??(f&&t in e?M=>e[t]=M:void 0)}var d,h=!1;s?[d,h]=vu(()=>e[t]):d=e[t],d===void 0&&i!==void 0&&(d=c(),u&&(oc(),u(d)));var b;if(b=()=>{var M=e[t];return M===void 0?c():(l=!0,M)},(n&zl)===0)return b;if(u){var p=e.$$legacy;return(function(M,I){return arguments.length>0?((!I||p||h)&&u(I?b():M),M):b()})}var g=!1,w=((n&ql)!==0?Qi:go)(()=>(g=!1,b()));s&&r(w);var A=Ye;return(function(M,I){if(arguments.length>0){const U=I?r(w):s?Bt(M):M;return $(w,U),g=!0,o!==void 0&&(o=U),M}return wr&&g||(A.f&br)!==0?w.v:r(w)})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Rr;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Rr||(Rr={}));class hs extends Error{constructor(t,n,i){super(t),this.message=t,this.code=n,this.data=i}}const hu=e=>{var t,n;return e?.androidBridge?"android":!((n=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},pu=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:hu(e),a=()=>s()!=="web",o=d=>{const h=u.get(d);return!!(h?.platforms.has(s())||l(d))},l=d=>{var h;return(h=n.PluginHeaders)===null||h===void 0?void 0:h.find(b=>b.name===d)},c=d=>e.console.error(d),u=new Map,f=(d,h={})=>{const b=u.get(d);if(b)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),b.proxy;const p=s(),g=l(d);let w;const A=async()=>(!w&&p in h?w=typeof h[p]=="function"?w=await h[p]():w=h[p]:t!==null&&!w&&"web"in h&&(w=typeof h.web=="function"?w=await h.web():w=h.web),w),M=(se,ke)=>{var Ae,R;if(g){const Y=g?.methods.find(Q=>ke===Q.name);if(Y)return Y.rtype==="promise"?Q=>n.nativePromise(d,ke.toString(),Q):(Q,S)=>n.nativeCallback(d,ke.toString(),Q,S);if(se)return(Ae=se[ke])===null||Ae===void 0?void 0:Ae.bind(se)}else{if(se)return(R=se[ke])===null||R===void 0?void 0:R.bind(se);throw new hs(`"${d}" plugin is not implemented on ${p}`,Rr.Unimplemented)}},I=se=>{let ke;const Ae=(...R)=>{const Y=A().then(Q=>{const S=M(Q,se);if(S){const le=S(...R);return ke=le?.remove,le}else throw new hs(`"${d}.${se}()" is not implemented on ${p}`,Rr.Unimplemented)});return se==="addListener"&&(Y.remove=async()=>ke()),Y};return Ae.toString=()=>`${se.toString()}() { [capacitor code] }`,Object.defineProperty(Ae,"name",{value:se,writable:!1,configurable:!1}),Ae},U=I("addListener"),K=I("removeListener"),Z=(se,ke)=>{const Ae=U({eventName:se},ke),R=async()=>{const Q=await Ae;K({eventName:se,callbackId:Q},ke)},Y=new Promise(Q=>Ae.then(()=>Q({remove:R})));return Y.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await R()},Y},ne=new Proxy({},{get(se,ke){switch(ke){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return g?Z:U;case"removeListener":return K;default:return I(ke)}}});return i[d]=ne,u.set(d,{name:d,proxy:ne,platforms:new Set([...Object.keys(h),...g?[p]:[]])}),ne};return n.convertFileSrc||(n.convertFileSrc=d=>d),n.getPlatform=s,n.handleError=c,n.isNativePlatform=a,n.isPluginAvailable=o,n.registerPlugin=f,n.Exception=hs,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},_u=e=>e.Capacitor=pu(e),Ss=_u(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),rs=Ss.registerPlugin;class Yo{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let i=!1;this.listeners[t]||(this.listeners[t]=[],i=!0),this.listeners[t].push(n);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a),i&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,i){const s=this.listeners[t];if(!s){if(i){let a=this.retainedEventArguments[t];a||(a=[]),a.push(n),this.retainedEventArguments[t]=a}return}s.forEach(a=>a(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(t="not implemented"){return new Ss.Exception(t,Rr.Unimplemented)}unavailable(t="not available"){return new Ss.Exception(t,Rr.Unavailable)}async removeListener(t,n){const i=this.listeners[t];if(!i)return;const s=i.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(i=>{this.notifyListeners(t,i)}))}}const Ea=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Aa=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class gu extends Yo{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(i=>{if(i.length<=0)return;let[s,a]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Aa(s).trim(),a=Aa(a).trim(),n[s]=a}),n}async setCookie(t){try{const n=Ea(t.key),i=Ea(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${i||""}${s}; path=${a}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}rs("CapacitorCookies",{web:()=>new gu});const mu=async e=>new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{const s=i.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},i.onerror=s=>n(s),i.readAsDataURL(e)}),yu=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,a,o)=>(s[a]=e[t[o]],s),{})},bu=(e,t=!0)=>e?Object.entries(e).reduce((i,s)=>{const[a,o]=s;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${a}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${a}=${l}`),`${i}&${c}`},"").substr(1):null,wu=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=yu(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))a.set(o,l);n.body=a.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{a.append(c,l)});else for(const l of Object.keys(e.data))a.append(l,e.data[l]);n.body=a;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class xu extends Yo{async request(t){const n=wu(t,t.webFetchExtra),i=bu(t.params,t.shouldEncodeUrlParams),s=i?`${t.url}?${i}`:t.url,a=await fetch(s,n),o=a.headers.get("content-type")||"";let{responseType:l="text"}=a.ok?t:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await a.blob(),c=await mu(u);break;case"json":c=await a.json();break;case"document":case"text":default:c=await a.text()}const f={};return a.headers.forEach((d,h)=>{f[h]=d}),{data:c,headers:f,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}rs("CapacitorHttp",{web:()=>new xu});var Dr;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(Dr||(Dr={}));var Ma;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(Ma||(Ma={}));const Zn=rs("StatusBar"),Es=rs("EdgeToEdge",{});function Ti(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ku(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uo(e){let t,n,i;e.length!==2?(t=Ti,n=(l,c)=>Ti(e(l),c),i=(l,c)=>e(l)-c):(t=e===Ti||e===ku?e:Su,n=e,i=e);function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=s(l,c,u,f-1);return d>u&&i(l[d-1],c)>-i(l[d],c)?d-1:d}return{left:s,center:o,right:a}}function Su(){return 0}function Eu(e){return e===null?NaN:+e}const Au=Uo(Ti),Mu=Au.right;Uo(Eu).center;class Na extends Map{constructor(t,n=Pu){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get($a(this,t))}has(t){return super.has($a(this,t))}set(t,n){return super.set(Nu(this,t),n)}delete(t){return super.delete($u(this,t))}}function $a({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Nu({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function $u({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Pu(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Tu=Math.sqrt(50),Cu=Math.sqrt(10),Iu=Math.sqrt(2);function Fi(e,t,n){const i=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(i)),a=i/Math.pow(10,s),o=a>=Tu?10:a>=Cu?5:a>=Iu?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?Fi(e,t,n*2):[l,c,u]}function Vo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[s,a,o]=i?Fi(t,e,n):Fi(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(i)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function As(e,t,n){return t=+t,e=+e,n=+n,Fi(e,t,n)[2]}function Lu(e,t,n){t=+t,e=+e,n=+n;const i=t<e,s=i?As(t,e,n):As(e,t,n);return(i?-1:1)*(s<0?1/-s:s)}function Ru(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++i<s;)a[i]=e+i*n;return a}var Du={value:()=>{}};function Ho(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ci(n)}function Ci(e){this._=e}function Fu(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ci.prototype=Ho.prototype={constructor:Ci,on:function(e,t){var n=this._,i=Fu(e+"",n),s,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((s=(e=i[a]).type)&&(s=Ou(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(s=(e=i[a]).type)n[s]=Pa(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Pa(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ci(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,a;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,s=a.length;i<s;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,a=i.length;s<a;++s)i[s].value.apply(t,n)}};function Ou(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function Pa(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=Du,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ms="http://www.w3.org/1999/xhtml";const Ta={svg:"http://www.w3.org/2000/svg",xhtml:Ms,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function is(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ta.hasOwnProperty(t)?{space:Ta[t],local:e}:e}function ju(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ms&&t.documentElement.namespaceURI===Ms?t.createElement(e):t.createElementNS(n,e)}}function qu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ko(e){var t=is(e);return(t.local?qu:ju)(t)}function zu(){}function Gs(e){return e==null?zu:function(){return this.querySelector(e)}}function Bu(e){typeof e!="function"&&(e=Gs(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=new Array(o),c,u,f=0;f<o;++f)(c=a[f])&&(u=e.call(c,c.__data__,f,a))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new An(i,this._parents)}function Yu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Uu(){return[]}function Xo(e){return e==null?Uu:function(){return this.querySelectorAll(e)}}function Vu(e){return function(){return Yu(e.apply(this,arguments))}}function Hu(e){typeof e=="function"?e=Vu(e):e=Xo(e);for(var t=this._groups,n=t.length,i=[],s=[],a=0;a<n;++a)for(var o=t[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(i.push(e.call(c,c.__data__,u,o)),s.push(c));return new An(i,s)}function Go(e){return function(){return this.matches(e)}}function Wo(e){return function(t){return t.matches(e)}}var Ku=Array.prototype.find;function Xu(e){return function(){return Ku.call(this.children,e)}}function Gu(){return this.firstElementChild}function Wu(e){return this.select(e==null?Gu:Xu(typeof e=="function"?e:Wo(e)))}var Zu=Array.prototype.filter;function Ju(){return Array.from(this.children)}function Qu(e){return function(){return Zu.call(this.children,e)}}function ef(e){return this.selectAll(e==null?Ju:Qu(typeof e=="function"?e:Wo(e)))}function tf(e){typeof e!="function"&&(e=Go(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new An(i,this._parents)}function Zo(e){return new Array(e.length)}function nf(){return new An(this._enter||this._groups.map(Zo),this._parents)}function Oi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Oi.prototype={constructor:Oi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function rf(e){return function(){return e}}function sf(e,t,n,i,s,a){for(var o=0,l,c=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],i[o]=l):n[o]=new Oi(e,a[o]);for(;o<c;++o)(l=t[o])&&(s[o]=l)}function af(e,t,n,i,s,a,o){var l,c,u=new Map,f=t.length,d=a.length,h=new Array(f),b;for(l=0;l<f;++l)(c=t[l])&&(h[l]=b=o.call(c,c.__data__,l,t)+"",u.has(b)?s[l]=c:u.set(b,c));for(l=0;l<d;++l)b=o.call(e,a[l],l,a)+"",(c=u.get(b))?(i[l]=c,c.__data__=a[l],u.delete(b)):n[l]=new Oi(e,a[l]);for(l=0;l<f;++l)(c=t[l])&&u.get(h[l])===c&&(s[l]=c)}function of(e){return e.__data__}function lf(e,t){if(!arguments.length)return Array.from(this,of);var n=t?af:sf,i=this._parents,s=this._groups;typeof e!="function"&&(e=rf(e));for(var a=s.length,o=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],d=s[u],h=d.length,b=cf(e.call(f,f&&f.__data__,u,i)),p=b.length,g=l[u]=new Array(p),w=o[u]=new Array(p),A=c[u]=new Array(h);n(f,d,g,w,A,b,t);for(var M=0,I=0,U,K;M<p;++M)if(U=g[M]){for(M>=I&&(I=M+1);!(K=w[I])&&++I<p;);U._next=K||null}}return o=new An(o,i),o._enter=l,o._exit=c,o}function cf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uf(){return new An(this._exit||this._groups.map(Zo),this._parents)}function ff(e,t,n){var i=this.enter(),s=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),i&&s?i.merge(s).order():s}function df(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,s=n.length,a=i.length,o=Math.min(s,a),l=new Array(s),c=0;c<o;++c)for(var u=n[c],f=i[c],d=u.length,h=l[c]=new Array(d),b,p=0;p<d;++p)(b=u[p]||f[p])&&(h[p]=b);for(;c<s;++c)l[c]=n[c];return new An(l,this._parents)}function vf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],s=i.length-1,a=i[s],o;--s>=0;)(o=i[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function hf(e){e||(e=pf);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a){for(var o=n[a],l=o.length,c=s[a]=new Array(l),u,f=0;f<l;++f)(u=o[f])&&(c[f]=u);c.sort(t)}return new An(s,this._parents).order()}function pf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _f(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function gf(){return Array.from(this)}function mf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length;s<a;++s){var o=i[s];if(o)return o}return null}function yf(){let e=0;for(const t of this)++e;return e}function bf(){return!this.node()}function wf(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s);return this}function xf(e){return function(){this.removeAttribute(e)}}function kf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Sf(e,t){return function(){this.setAttribute(e,t)}}function Ef(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Af(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Mf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Nf(e,t){var n=is(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?kf:xf:typeof t=="function"?n.local?Mf:Af:n.local?Ef:Sf)(n,t))}function Jo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $f(e){return function(){this.style.removeProperty(e)}}function Pf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Tf(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Cf(e,t,n){return arguments.length>1?this.each((t==null?$f:typeof t=="function"?Tf:Pf)(e,t,n??"")):Fr(this.node(),e)}function Fr(e,t){return e.style.getPropertyValue(t)||Jo(e).getComputedStyle(e,null).getPropertyValue(t)}function If(e){return function(){delete this[e]}}function Lf(e,t){return function(){this[e]=t}}function Rf(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Df(e,t){return arguments.length>1?this.each((t==null?If:typeof t=="function"?Rf:Lf)(e,t)):this.node()[e]}function Qo(e){return e.trim().split(/^|\s+/)}function Ws(e){return e.classList||new el(e)}function el(e){this._node=e,this._names=Qo(e.getAttribute("class")||"")}el.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function tl(e,t){for(var n=Ws(e),i=-1,s=t.length;++i<s;)n.add(t[i])}function nl(e,t){for(var n=Ws(e),i=-1,s=t.length;++i<s;)n.remove(t[i])}function Ff(e){return function(){tl(this,e)}}function Of(e){return function(){nl(this,e)}}function jf(e,t){return function(){(t.apply(this,arguments)?tl:nl)(this,e)}}function qf(e,t){var n=Qo(e+"");if(arguments.length<2){for(var i=Ws(this.node()),s=-1,a=n.length;++s<a;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?jf:t?Ff:Of)(n,t))}function zf(){this.textContent=""}function Bf(e){return function(){this.textContent=e}}function Yf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Uf(e){return arguments.length?this.each(e==null?zf:(typeof e=="function"?Yf:Bf)(e)):this.node().textContent}function Vf(){this.innerHTML=""}function Hf(e){return function(){this.innerHTML=e}}function Kf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Xf(e){return arguments.length?this.each(e==null?Vf:(typeof e=="function"?Kf:Hf)(e)):this.node().innerHTML}function Gf(){this.nextSibling&&this.parentNode.appendChild(this)}function Wf(){return this.each(Gf)}function Zf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jf(){return this.each(Zf)}function Qf(e){var t=typeof e=="function"?e:Ko(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ed(){return null}function td(e,t){var n=typeof e=="function"?e:Ko(e),i=t==null?ed:typeof t=="function"?t:Gs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function nd(){var e=this.parentNode;e&&e.removeChild(this)}function rd(){return this.each(nd)}function id(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sd(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ad(e){return this.select(e?sd:id)}function od(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ld(e){return function(t){e.call(this,t,this.__data__)}}function cd(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function ud(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function fd(e,t,n){return function(){var i=this.__on,s,a=ld(t);if(i){for(var o=0,l=i.length;o<l;++o)if((s=i[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(s):this.__on=[s]}}function dd(e,t,n){var i=cd(e+""),s,a=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(s=0,f=l[c];s<a;++s)if((o=i[s]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?fd:ud,s=0;s<a;++s)this.each(l(i[s],t,n));return this}function rl(e,t,n){var i=Jo(e),s=i.CustomEvent;typeof s=="function"?s=new s(t,n):(s=i.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function vd(e,t){return function(){return rl(this,e,t)}}function hd(e,t){return function(){return rl(this,e,t.apply(this,arguments))}}function pd(e,t){return this.each((typeof t=="function"?hd:vd)(e,t))}function*_d(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length,o;s<a;++s)(o=i[s])&&(yield o)}var gd=[null];function An(e,t){this._groups=e,this._parents=t}function hi(){return new An([[document.documentElement]],gd)}function md(){return this}An.prototype=hi.prototype={constructor:An,select:Bu,selectAll:Hu,selectChild:Wu,selectChildren:ef,filter:tf,data:lf,enter:nf,exit:uf,join:ff,merge:df,selection:md,order:vf,sort:hf,call:_f,nodes:gf,node:mf,size:yf,empty:bf,each:wf,attr:Nf,style:Cf,property:Df,classed:qf,text:Uf,html:Xf,raise:Wf,lower:Jf,append:Qf,insert:td,remove:rd,clone:ad,datum:od,on:dd,dispatch:pd,[Symbol.iterator]:_d};function Zs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function il(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function pi(){}var li=.7,ji=1/li,Tr="\\s*([+-]?\\d+)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yd=/^#([0-9a-f]{3,8})$/,bd=new RegExp(`^rgb\\(${Tr},${Tr},${Tr}\\)$`),wd=new RegExp(`^rgb\\(${Tn},${Tn},${Tn}\\)$`),xd=new RegExp(`^rgba\\(${Tr},${Tr},${Tr},${ci}\\)$`),kd=new RegExp(`^rgba\\(${Tn},${Tn},${Tn},${ci}\\)$`),Sd=new RegExp(`^hsl\\(${ci},${Tn},${Tn}\\)$`),Ed=new RegExp(`^hsla\\(${ci},${Tn},${Tn},${ci}\\)$`),Ca={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zs(pi,_r,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ia,formatHex:Ia,formatHex8:Ad,formatHsl:Md,formatRgb:La,toString:La});function Ia(){return this.rgb().formatHex()}function Ad(){return this.rgb().formatHex8()}function Md(){return sl(this).formatHsl()}function La(){return this.rgb().formatRgb()}function _r(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=yd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ra(t):n===3?new Zt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Si(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Si(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bd.exec(e))?new Zt(t[1],t[2],t[3],1):(t=wd.exec(e))?new Zt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xd.exec(e))?Si(t[1],t[2],t[3],t[4]):(t=kd.exec(e))?Si(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Sd.exec(e))?Oa(t[1],t[2]/100,t[3]/100,1):(t=Ed.exec(e))?Oa(t[1],t[2]/100,t[3]/100,t[4]):Ca.hasOwnProperty(e)?Ra(Ca[e]):e==="transparent"?new Zt(NaN,NaN,NaN,0):null}function Ra(e){return new Zt(e>>16&255,e>>8&255,e&255,1)}function Si(e,t,n,i){return i<=0&&(e=t=n=NaN),new Zt(e,t,n,i)}function Nd(e){return e instanceof pi||(e=_r(e)),e?(e=e.rgb(),new Zt(e.r,e.g,e.b,e.opacity)):new Zt}function Ns(e,t,n,i){return arguments.length===1?Nd(e):new Zt(e,t,n,i??1)}function Zt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Zs(Zt,Ns,il(pi,{brighter(e){return e=e==null?ji:Math.pow(ji,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?li:Math.pow(li,e),new Zt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zt(dr(this.r),dr(this.g),dr(this.b),qi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Da,formatHex:Da,formatHex8:$d,formatRgb:Fa,toString:Fa}));function Da(){return`#${or(this.r)}${or(this.g)}${or(this.b)}`}function $d(){return`#${or(this.r)}${or(this.g)}${or(this.b)}${or((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fa(){const e=qi(this.opacity);return`${e===1?"rgb(":"rgba("}${dr(this.r)}, ${dr(this.g)}, ${dr(this.b)}${e===1?")":`, ${e})`}`}function qi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function dr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function or(e){return e=dr(e),(e<16?"0":"")+e.toString(16)}function Oa(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Sn(e,t,n,i)}function sl(e){if(e instanceof Sn)return new Sn(e.h,e.s,e.l,e.opacity);if(e instanceof pi||(e=_r(e)),!e)return new Sn;if(e instanceof Sn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-i)/l+(n<i)*6:n===a?o=(i-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new Sn(o,l,c,e.opacity)}function Pd(e,t,n,i){return arguments.length===1?sl(e):new Sn(e,t,n,i??1)}function Sn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Zs(Sn,Pd,il(pi,{brighter(e){return e=e==null?ji:Math.pow(ji,e),new Sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?li:Math.pow(li,e),new Sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new Zt(ps(e>=240?e-240:e+120,s,i),ps(e,s,i),ps(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new Sn(ja(this.h),Ei(this.s),Ei(this.l),qi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qi(this.opacity);return`${e===1?"hsl(":"hsla("}${ja(this.h)}, ${Ei(this.s)*100}%, ${Ei(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ja(e){return e=(e||0)%360,e<0?e+360:e}function Ei(e){return Math.max(0,Math.min(1,e||0))}function ps(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Js=e=>()=>e;function Td(e,t){return function(n){return e+n*t}}function Cd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Id(e){return(e=+e)==1?al:function(t,n){return n-t?Cd(t,n,e):Js(isNaN(t)?n:t)}}function al(e,t){var n=t-e;return n?Td(e,n):Js(isNaN(e)?t:e)}const zi=(function e(t){var n=Id(t);function i(s,a){var o=n((s=Ns(s)).r,(a=Ns(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),u=al(s.opacity,a.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return i.gamma=e,i})(1);function Ld(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(a){for(s=0;s<n;++s)i[s]=e[s]*(1-a)+t[s]*a;return i}}function Rd(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dd(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)s[o]=Qs(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<i;++o)a[o]=s[o](l);return a}}function Fd(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function xn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Od(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Qs(e[s],t[s]):i[s]=t[s];return function(a){for(s in n)i[s]=n[s](a);return i}}var $s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_s=new RegExp($s.source,"g");function jd(e){return function(){return e}}function qd(e){return function(t){return e(t)+""}}function ol(e,t){var n=$s.lastIndex=_s.lastIndex=0,i,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(i=$s.exec(e))&&(s=_s.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:xn(i,s)})),n=_s.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?qd(c[0].x):jd(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Qs(e,t){var n=typeof t,i;return t==null||n==="boolean"?Js(t):(n==="number"?xn:n==="string"?(i=_r(t))?(t=i,zi):ol:t instanceof _r?zi:t instanceof Date?Fd:Rd(t)?Ld:Array.isArray(t)?Dd:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Od:xn)(e,t)}function zd(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var qa=180/Math.PI,Ps={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ll(e,t,n,i,s,a){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,c/=l),e*i<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*qa,skewX:Math.atan(c)*qa,scaleX:o,scaleY:l}}var Ai;function Bd(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ps:ll(t.a,t.b,t.c,t.d,t.e,t.f)}function Yd(e){return e==null||(Ai||(Ai=document.createElementNS("http://www.w3.org/2000/svg","g")),Ai.setAttribute("transform",e),!(e=Ai.transform.baseVal.consolidate()))?Ps:(e=e.matrix,ll(e.a,e.b,e.c,e.d,e.e,e.f))}function cl(e,t,n,i){function s(u){return u.length?u.pop()+" ":""}function a(u,f,d,h,b,p){if(u!==d||f!==h){var g=b.push("translate(",null,t,null,n);p.push({i:g-4,x:xn(u,d)},{i:g-2,x:xn(f,h)})}else(d||h)&&b.push("translate("+d+t+h+n)}function o(u,f,d,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:d.push(s(d)+"rotate(",null,i)-2,x:xn(u,f)})):f&&d.push(s(d)+"rotate("+f+i)}function l(u,f,d,h){u!==f?h.push({i:d.push(s(d)+"skewX(",null,i)-2,x:xn(u,f)}):f&&d.push(s(d)+"skewX("+f+i)}function c(u,f,d,h,b,p){if(u!==d||f!==h){var g=b.push(s(b)+"scale(",null,",",null,")");p.push({i:g-4,x:xn(u,d)},{i:g-2,x:xn(f,h)})}else(d!==1||h!==1)&&b.push(s(b)+"scale("+d+","+h+")")}return function(u,f){var d=[],h=[];return u=e(u),f=e(f),a(u.translateX,u.translateY,f.translateX,f.translateY,d,h),o(u.rotate,f.rotate,d,h),l(u.skewX,f.skewX,d,h),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,h),u=f=null,function(b){for(var p=-1,g=h.length,w;++p<g;)d[(w=h[p]).i]=w.x(b);return d.join("")}}}var Ud=cl(Bd,"px, ","px)","deg)"),Vd=cl(Yd,", ",")",")"),Or=0,Zr=0,Gr=0,ul=1e3,Bi,Jr,Yi=0,gr=0,ss=0,ui=typeof performance=="object"&&performance.now?performance:Date,fl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ea(){return gr||(fl(Hd),gr=ui.now()+ss)}function Hd(){gr=0}function Ui(){this._call=this._time=this._next=null}Ui.prototype=dl.prototype={constructor:Ui,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ea():+n)+(t==null?0:+t),!this._next&&Jr!==this&&(Jr?Jr._next=this:Bi=this,Jr=this),this._call=e,this._time=n,Ts()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ts())}};function dl(e,t,n){var i=new Ui;return i.restart(e,t,n),i}function Kd(){ea(),++Or;for(var e=Bi,t;e;)(t=gr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Or}function za(){gr=(Yi=ui.now())+ss,Or=Zr=0;try{Kd()}finally{Or=0,Gd(),gr=0}}function Xd(){var e=ui.now(),t=e-Yi;t>ul&&(ss-=t,Yi=e)}function Gd(){for(var e,t=Bi,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Bi=n);Jr=e,Ts(i)}function Ts(e){if(!Or){Zr&&(Zr=clearTimeout(Zr));var t=e-gr;t>24?(e<1/0&&(Zr=setTimeout(za,e-ui.now()-ss)),Gr&&(Gr=clearInterval(Gr))):(Gr||(Yi=ui.now(),Gr=setInterval(Xd,ul)),Or=1,fl(za))}}function Ba(e,t,n){var i=new Ui;return t=t==null?0:+t,i.restart(s=>{i.stop(),e(s+t)},t,n),i}var Wd=Ho("start","end","cancel","interrupt"),Zd=[],vl=0,Ya=1,Cs=2,Ii=3,Ua=4,Is=5,Li=6;function as(e,t,n,i,s,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Jd(e,n,{name:t,index:i,group:s,on:Wd,tween:Zd,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:vl})}function ta(e,t){var n=Nn(e,t);if(n.state>vl)throw new Error("too late; already scheduled");return n}function In(e,t){var n=Nn(e,t);if(n.state>Ii)throw new Error("too late; already running");return n}function Nn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Jd(e,t,n){var i=e.__transition,s;i[t]=n,n.timer=dl(a,0,n.time);function a(u){n.state=Ya,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,d,h,b;if(n.state!==Ya)return c();for(f in i)if(b=i[f],b.name===n.name){if(b.state===Ii)return Ba(o);b.state===Ua?(b.state=Li,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete i[f]):+f<t&&(b.state=Li,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete i[f])}if(Ba(function(){n.state===Ii&&(n.state=Ua,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Cs,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Cs){for(n.state=Ii,s=new Array(h=n.tween.length),f=0,d=-1;f<h;++f)(b=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(s[++d]=b);s.length=d+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Is,1),d=-1,h=s.length;++d<h;)s[d].call(e,f);n.state===Is&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Li,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function Qd(e,t){var n=e.__transition,i,s,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){a=!1;continue}s=i.state>Cs&&i.state<Is,i.state=Li,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}a&&delete e.__transition}}function ev(e){return this.each(function(){Qd(this,e)})}function tv(e,t){var n,i;return function(){var s=In(this,e),a=s.tween;if(a!==n){i=n=a;for(var o=0,l=i.length;o<l;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}s.tween=i}}function nv(e,t,n){var i,s;if(typeof n!="function")throw new Error;return function(){var a=In(this,e),o=a.tween;if(o!==i){s=(i=o).slice();for(var l={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=l;break}c===u&&s.push(l)}a.tween=s}}function rv(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Nn(this.node(),n).tween,s=0,a=i.length,o;s<a;++s)if((o=i[s]).name===e)return o.value;return null}return this.each((t==null?tv:nv)(n,e,t))}function na(e,t,n){var i=e._id;return e.each(function(){var s=In(this,i);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Nn(s,i).value[t]}}function hl(e,t){var n;return(typeof t=="number"?xn:t instanceof _r?zi:(n=_r(t))?(t=n,zi):ol)(e,t)}function iv(e){return function(){this.removeAttribute(e)}}function sv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function av(e,t,n){var i,s=n+"",a;return function(){var o=this.getAttribute(e);return o===s?null:o===i?a:a=t(i=o,n)}}function ov(e,t,n){var i,s=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===i?a:a=t(i=o,n)}}function lv(e,t,n){var i,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===i&&c===s?a:(s=c,a=t(i=o,l)))}}function cv(e,t,n){var i,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===i&&c===s?a:(s=c,a=t(i=o,l)))}}function uv(e,t){var n=is(e),i=n==="transform"?Vd:hl;return this.attrTween(e,typeof t=="function"?(n.local?cv:lv)(n,i,na(this,"attr."+e,t)):t==null?(n.local?sv:iv)(n):(n.local?ov:av)(n,i,t))}function fv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function dv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function vv(e,t){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&dv(e,a)),n}return s._value=t,s}function hv(e,t){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&fv(e,a)),n}return s._value=t,s}function pv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=is(e);return this.tween(n,(i.local?vv:hv)(i,t))}function _v(e,t){return function(){ta(this,e).delay=+t.apply(this,arguments)}}function gv(e,t){return t=+t,function(){ta(this,e).delay=t}}function mv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_v:gv)(t,e)):Nn(this.node(),t).delay}function yv(e,t){return function(){In(this,e).duration=+t.apply(this,arguments)}}function bv(e,t){return t=+t,function(){In(this,e).duration=t}}function wv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yv:bv)(t,e)):Nn(this.node(),t).duration}function xv(e,t){if(typeof t!="function")throw new Error;return function(){In(this,e).ease=t}}function kv(e){var t=this._id;return arguments.length?this.each(xv(t,e)):Nn(this.node(),t).ease}function Sv(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;In(this,e).ease=n}}function Ev(e){if(typeof e!="function")throw new Error;return this.each(Sv(this._id,e))}function Av(e){typeof e!="function"&&(e=Go(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new On(i,this._parents,this._name,this._id)}function Mv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=t[l],u=n[l],f=c.length,d=o[l]=new Array(f),h,b=0;b<f;++b)(h=c[b]||u[b])&&(d[b]=h);for(;l<i;++l)o[l]=t[l];return new On(o,this._parents,this._name,this._id)}function Nv(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function $v(e,t,n){var i,s,a=Nv(t)?ta:In;return function(){var o=a(this,e),l=o.on;l!==i&&(s=(i=l).copy()).on(t,n),o.on=s}}function Pv(e,t){var n=this._id;return arguments.length<2?Nn(this.node(),n).on.on(e):this.each($v(n,e,t))}function Tv(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Cv(){return this.on("end.remove",Tv(this._id))}function Iv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Gs(e));for(var i=this._groups,s=i.length,a=new Array(s),o=0;o<s;++o)for(var l=i[o],c=l.length,u=a[o]=new Array(c),f,d,h=0;h<c;++h)(f=l[h])&&(d=e.call(f,f.__data__,h,l))&&("__data__"in f&&(d.__data__=f.__data__),u[h]=d,as(u[h],t,n,h,u,Nn(f,n)));return new On(a,this._parents,t,n)}function Lv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xo(e));for(var i=this._groups,s=i.length,a=[],o=[],l=0;l<s;++l)for(var c=i[l],u=c.length,f,d=0;d<u;++d)if(f=c[d]){for(var h=e.call(f,f.__data__,d,c),b,p=Nn(f,n),g=0,w=h.length;g<w;++g)(b=h[g])&&as(b,t,n,g,h,p);a.push(h),o.push(f)}return new On(a,o,t,n)}var Rv=hi.prototype.constructor;function Dv(){return new Rv(this._groups,this._parents)}function Fv(e,t){var n,i,s;return function(){var a=Fr(this,e),o=(this.style.removeProperty(e),Fr(this,e));return a===o?null:a===n&&o===i?s:s=t(n=a,i=o)}}function pl(e){return function(){this.style.removeProperty(e)}}function Ov(e,t,n){var i,s=n+"",a;return function(){var o=Fr(this,e);return o===s?null:o===i?a:a=t(i=o,n)}}function jv(e,t,n){var i,s,a;return function(){var o=Fr(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Fr(this,e))),o===c?null:o===i&&c===s?a:(s=c,a=t(i=o,l))}}function qv(e,t){var n,i,s,a="style."+t,o="end."+a,l;return function(){var c=In(this,e),u=c.on,f=c.value[a]==null?l||(l=pl(t)):void 0;(u!==n||s!==f)&&(i=(n=u).copy()).on(o,s=f),c.on=i}}function zv(e,t,n){var i=(e+="")=="transform"?Ud:hl;return t==null?this.styleTween(e,Fv(e,i)).on("end.style."+e,pl(e)):typeof t=="function"?this.styleTween(e,jv(e,i,na(this,"style."+e,t))).each(qv(this._id,e)):this.styleTween(e,Ov(e,i,t),n).on("end.style."+e,null)}function Bv(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Yv(e,t,n){var i,s;function a(){var o=t.apply(this,arguments);return o!==s&&(i=(s=o)&&Bv(e,o,n)),i}return a._value=t,a}function Uv(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Yv(e,t,n??""))}function Vv(e){return function(){this.textContent=e}}function Hv(e){return function(){var t=e(this);this.textContent=t??""}}function Kv(e){return this.tween("text",typeof e=="function"?Hv(na(this,"text",e)):Vv(e==null?"":e+""))}function Xv(e){return function(t){this.textContent=e.call(this,t)}}function Gv(e){var t,n;function i(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Xv(s)),t}return i._value=e,i}function Wv(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Gv(e))}function Zv(){for(var e=this._name,t=this._id,n=_l(),i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var f=Nn(c,t);as(c,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new On(i,this._parents,e,n)}function Jv(){var e,t,n=this,i=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},c={value:function(){--s===0&&a()}};n.each(function(){var u=In(this,i),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),s===0&&a()})}var Qv=0;function On(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function _l(){return++Qv}var Rn=hi.prototype;On.prototype={constructor:On,select:Iv,selectAll:Lv,selectChild:Rn.selectChild,selectChildren:Rn.selectChildren,filter:Av,merge:Mv,selection:Dv,transition:Zv,call:Rn.call,nodes:Rn.nodes,node:Rn.node,size:Rn.size,empty:Rn.empty,each:Rn.each,on:Pv,attr:uv,attrTween:pv,style:zv,styleTween:Uv,text:Kv,textTween:Wv,remove:Cv,tween:rv,delay:mv,duration:wv,ease:kv,easeVarying:Ev,end:Jv,[Symbol.iterator]:Rn[Symbol.iterator]};function eh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var th={time:null,delay:0,duration:250,ease:eh};function nh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function rh(e){var t,n;e instanceof On?(t=e._id,e=e._name):(t=_l(),(n=th).time=ea(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&as(c,e,t,u,o,n||nh(c,t));return new On(i,this._parents,e,t)}hi.prototype.interrupt=ev;hi.prototype.transition=rh;const Ls=Math.PI,Rs=2*Ls,ir=1e-6,ih=Rs-ir;function gl(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function sh(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gl;const n=10**t;return function(i){this._+=i[0];for(let s=1,a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class ah{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gl:sh(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,a,o){this._append`C${+t},${+n},${+i},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,i,s,a){if(t=+t,n=+n,i=+i,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=i-t,u=s-n,f=o-t,d=l-n,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ir)if(!(Math.abs(d*c-u*f)>ir)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=i-o,p=s-l,g=c*c+u*u,w=b*b+p*p,A=Math.sqrt(g),M=Math.sqrt(h),I=a*Math.tan((Ls-Math.acos((g+h-w)/(2*A*M)))/2),U=I/M,K=I/A;Math.abs(U-1)>ir&&this._append`L${t+U*f},${n+U*d}`,this._append`A${a},${a},0,0,${+(d*b>f*p)},${this._x1=t+K*c},${this._y1=n+K*u}`}}arc(t,n,i,s,a,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),c=i*Math.sin(s),u=t+l,f=n+c,d=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ir||Math.abs(this._y1-f)>ir)&&this._append`L${u},${f}`,i&&(h<0&&(h=h%Rs+Rs),h>ih?this._append`A${i},${i},0,1,${d},${t-l},${n-c}A${i},${i},0,1,${d},${this._x1=u},${this._y1=f}`:h>ir&&this._append`A${i},${i},0,${+(h>=Ls)},${d},${this._x1=t+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function oh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function jr(e){return e=Vi(Math.abs(e)),e?e[1]:NaN}function lh(e,t){return function(n,i){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>i));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function ch(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var uh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hi(e){if(!(t=uh.exec(e)))throw new Error("invalid format: "+e);var t;return new ra({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hi.prototype=ra.prototype;function ra(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ra.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fh(e){e:for(var t=e.length,n=1,i=-1,s;n<t;++n)switch(e[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var ml;function dh(e,t){var n=Vi(e,t);if(!n)return e+"";var i=n[0],s=n[1],a=s-(ml=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Vi(e,Math.max(0,t+a-1))[0]}function Va(e,t){var n=Vi(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const Ha={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oh,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Va(e*100,t),r:Va,s:dh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ka(e){return e}var Xa=Array.prototype.map,Ga=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vh(e){var t=e.grouping===void 0||e.thousands===void 0?Ka:lh(Xa.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Ka:ch(Xa.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Hi(d);var h=d.fill,b=d.align,p=d.sign,g=d.symbol,w=d.zero,A=d.width,M=d.comma,I=d.precision,U=d.trim,K=d.type;K==="n"?(M=!0,K="g"):Ha[K]||(I===void 0&&(I=12),U=!0,K="g"),(w||h==="0"&&b==="=")&&(w=!0,h="0",b="=");var Z=g==="$"?n:g==="#"&&/[boxX]/.test(K)?"0"+K.toLowerCase():"",ne=g==="$"?i:/[%p]/.test(K)?o:"",se=Ha[K],ke=/[defgprs%]/.test(K);I=I===void 0?6:/[gprs]/.test(K)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function Ae(R){var Y=Z,Q=ne,S,le,re;if(K==="c")Q=se(R)+Q,R="";else{R=+R;var Ne=R<0||1/R<0;if(R=isNaN(R)?c:se(Math.abs(R),I),U&&(R=fh(R)),Ne&&+R==0&&p!=="+"&&(Ne=!1),Y=(Ne?p==="("?p:l:p==="-"||p==="("?"":p)+Y,Q=(K==="s"?Ga[8+ml/3]:"")+Q+(Ne&&p==="("?")":""),ke){for(S=-1,le=R.length;++S<le;)if(re=R.charCodeAt(S),48>re||re>57){Q=(re===46?s+R.slice(S+1):R.slice(S))+Q,R=R.slice(0,S);break}}}M&&!w&&(R=t(R,1/0));var Oe=Y.length+R.length+Q.length,Ie=Oe<A?new Array(A-Oe+1).join(h):"";switch(M&&w&&(R=t(Ie+R,Ie.length?A-Q.length:1/0),Ie=""),b){case"<":R=Y+R+Q+Ie;break;case"=":R=Y+Ie+R+Q;break;case"^":R=Ie.slice(0,Oe=Ie.length>>1)+Y+R+Q+Ie.slice(Oe);break;default:R=Ie+Y+R+Q;break}return a(R)}return Ae.toString=function(){return d+""},Ae}function f(d,h){var b=u((d=Hi(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(jr(h)/3)))*3,g=Math.pow(10,-p),w=Ga[8+p/3];return function(A){return b(g*A)+w}}return{format:u,formatPrefix:f}}var Mi,yl,bl;hh({thousands:",",grouping:[3],currency:["$",""]});function hh(e){return Mi=vh(e),yl=Mi.format,bl=Mi.formatPrefix,Mi}function ph(e){return Math.max(0,-jr(Math.abs(e)))}function _h(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jr(t)/3)))*3-jr(Math.abs(e)))}function gh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jr(t)-jr(e))+1}function ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Wa=Symbol("implicit");function wl(){var e=new Na,t=[],n=[],i=Wa;function s(a){let o=e.get(a);if(o===void 0){if(i!==Wa)return i;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Na;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return wl(t,n).unknown(i)},ia.apply(s,arguments),s}function xl(){var e=wl().unknown(void 0),t=e.domain,n=e.range,i=0,s=1,a,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,b=s<i,p=b?s:i,g=b?i:s;a=(g-p)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),p+=(g-p-a*(h-c))*f,o=a*(1-c),l&&(p=Math.round(p),o=Math.round(o));var w=Ru(h).map(function(A){return p+a*A});return n(b?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([i,s]=h,i=+i,s=+s,d()):[i,s]},e.rangeRound=function(h){return[i,s]=h,i=+i,s=+s,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return xl(t(),[i,s]).round(l).paddingInner(c).paddingOuter(u).align(f)},ia.apply(d(),arguments)}function kl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kl(t())},e}function mh(){return kl(xl.apply(null,arguments).paddingInner(1))}function yh(e){return function(){return e}}function bh(e){return+e}var Za=[0,1];function Nr(e){return e}function Ds(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:yh(isNaN(t)?NaN:.5)}function wh(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function xh(e,t,n){var i=e[0],s=e[1],a=t[0],o=t[1];return s<i?(i=Ds(s,i),a=n(o,a)):(i=Ds(i,s),a=n(a,o)),function(l){return a(i(l))}}function kh(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)s[o]=Ds(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Mu(e,l,1,i)-1;return a[c](s[c](l))}}function Sh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Eh(){var e=Za,t=Za,n=Qs,i,s,a,o=Nr,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==Nr&&(o=wh(e[0],e[h-1])),l=h>2?kh:xh,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(i),t,n)))(i(o(h)))}return d.invert=function(h){return o(s((u||(u=l(t,e.map(i),xn)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,bh),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=zd,f()},d.clamp=function(h){return arguments.length?(o=h?!0:Nr,f()):o!==Nr},d.interpolate=function(h){return arguments.length?(n=h,f()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,b){return i=h,s=b,f()}}function Ah(){return Eh()(Nr,Nr)}function Mh(e,t,n,i){var s=Lu(e,t,n),a;switch(i=Hi(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=_h(s,o))&&(i.precision=a),bl(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=gh(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=ph(s))&&(i.precision=a-(i.type==="%")*2);break}}return yl(i)}function Nh(e){var t=e.domain;return e.ticks=function(n){var i=t();return Vo(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var s=t();return Mh(s[0],s[s.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),s=0,a=i.length-1,o=i[s],l=i[a],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);f-- >0;){if(u=As(o,l,n),u===c)return i[s]=o,i[a]=l,t(i);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Sl(){var e=Ah();return e.copy=function(){return Sh(e,Sl())},ia.apply(e,arguments),Nh(e)}function Mr(e){return function(){return e}}function $h(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new ah(t)}function Ph(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function El(e){this._context=e}El.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Th(e){return new El(e)}function Ch(e){return e[0]}function Ih(e){return e[1]}function Lh(e,t){var n=Mr(!0),i=null,s=Th,a=null,o=$h(l);e=typeof e=="function"?e:e===void 0?Ch:Mr(e),t=typeof t=="function"?t:t===void 0?Ih:Mr(t);function l(c){var u,f=(c=Ph(c)).length,d,h=!1,b;for(i==null&&(a=s(b=o())),u=0;u<=f;++u)!(u<f&&n(d=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,u,c),+t(d,u,c));if(b)return a=null,b+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Mr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Mr(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Mr(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,i!=null&&(a=s(i)),l):s},l.context=function(c){return arguments.length?(c==null?i=a=null:a=s(i=c),l):i},l}function Ja(e){return e<0?-1:1}function Qa(e,t,n){var i=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(i||s<0&&-0),o=(n-e._y1)/(s||i<0&&-0),l=(a*s+o*i)/(i+s);return(Ja(a)+Ja(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function eo(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function gs(e,t,n){var i=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-i)/3;e._context.bezierCurveTo(i+l,s+l*t,a-l,o-l*n,a,o)}function Ki(e){this._context=e}Ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gs(this,this._t0,eo(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gs(this,eo(this,n=Qa(this,e,t)),n);break;default:gs(this,this._t0,n=Qa(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(Ki.prototype).point=function(e,t){Ki.prototype.point.call(this,t,e)};function Rh(e){return new Ki(e)}function Qr(e,t,n){this.k=e,this.x=t,this.y=n}Qr.prototype={constructor:Qr,scale:function(e){return e===1?this:new Qr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Qr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Qr.prototype;var Dh=Mn('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),Fh=Mn('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),Oh=Mn("<tspan> </tspan>"),jh=Mn('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),qh=Mn('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),zh=Mn('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),Bh=Mn('<path stroke-width="1.5" role="button" tabindex="0"></path>'),Yh=Mn("<g><!></g>"),Uh=P("<div> </div>"),Vh=P("<div> </div>"),Hh=P("<div> </div>"),Kh=P('<div class="tooltip-divider svelte-idxsrp"></div>'),Xh=P('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),Gh=P("<div> </div>"),Wh=P("<div> </div>"),Zh=P("<div> </div>"),Jh=P("<div> </div>"),Qh=P("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),ep=P('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),tp=P("<span> </span>"),np=Mn('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),rp=Mn('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),ip=Mn('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),sp=P('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),ap=P('<div class="band-legend svelte-idxsrp"></div>'),op=P('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),lp=P('<div class="legend svelte-idxsrp"></div>'),cp=P('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function up(e,t){gn(t,!0);let n=gt(t,"bands",19,()=>[]),i=gt(t,"years",19,()=>[]),s=gt(t,"maxFieldSize",3,0),a=gt(t,"yMode",3,"relative"),o=gt(t,"yAxisScale",3,"fitted"),l=gt(t,"showConductorMarkers",3,!0);const c={top:24,right:48,bottom:48,left:72},u=880,f=360,d={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},h=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],b=["circle","square","triangle"],p=6,g=24,w=26,A=30,M=c.top+12,I=f-c.bottom-22,U=10,K=6,Z=[0,1,2,3],ne=.08,se=5,ke=.5;let Ae=ue(null),R=ue(Bt({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),Y=null,Q=null,S=ue(null),le=ue(0),re=ue(0);const Ne=()=>l()&&n().length===1;function Oe(k){if(k.absolute_position==null)return 0;const y=k.field_size??r(_t)??s()??1;return y?k.absolute_position/y*100:0}function Ie(k){return a()==="relative"?Oe(k):k.absolute_position??0}function Xe(k){const y=k.pieces??k.pieces,T=Array.isArray(y)?y.map(D=>`${D}`.trim()).filter(Boolean):y!=null&&`${y}`.trim().length?[`${y}`.trim()]:[],O={...k,pieces:T},B=k;return B.band_name!=null&&(O.band_name=B.band_name),Array.isArray(B.aggregate_entries)&&B.aggregate_entries.length>0&&(O.aggregate_entries=B.aggregate_entries.map(D=>Xe(D))),O}function tt(k){return k.map(y=>Xe(y))}function wt(k){const y=[];let T=0;if(k.length>0){const O=k[0];O.conductor&&(y.push({year:O.year,conductor:O.conductor,lane:T}),T+=1)}for(let O=1;O<k.length;O+=1){const B=k[O-1],D=k[O];B.conductor&&D.conductor&&B.conductor!==D.conductor&&(y.push({year:D.year,conductor:D.conductor,lane:T}),T+=1)}return y}function st(){if(!r(Ae))return;const k=r(Ae).getBoundingClientRect(),y=r(Ae).parentElement;if(!y)return;const T=y.getBoundingClientRect();if(k.width===0||k.height===0)return;const O={offsetX:k.left-T.left,scaleX:k.width/u,offsetY:k.top-T.top,scaleY:k.height/f};(Math.abs(O.offsetX-r(R).offsetX)>.1||Math.abs(O.scaleX-r(R).scaleX)>.001||Math.abs(O.offsetY-r(R).offsetY)>.1||Math.abs(O.scaleY-r(R).scaleY)>.001)&&$(R,O,!0)}function Rt(){!Y||!r(Ae)||Q!==r(Ae)&&(Q&&Y.unobserve(Q),Y.observe(r(Ae)),Q=r(Ae))}Wn(()=>{typeof ResizeObserver<"u"&&(Y=new ResizeObserver(()=>st())),Rt(),st(),window.addEventListener("resize",st)}),vn(()=>{Rt(),st()}),Qc(()=>{Y?.disconnect(),window.removeEventListener("resize",st)});function Dt(k){return Z[k%Z.length]??0}function j(k,y){const T=r(ht);if(!T)return{anchor:"middle",dx:0};const O=T(k.year)??c.left,B=48,D=c.left-B,ve=u-c.right+B,ye=Math.max(y,1)*K/2;return O+ye>ve?{anchor:"end",dx:0}:O-ye<D?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function H(k){const y=k?.trim();if(!y)return[""];const T=y.split(/\s+/);if(T.length<=1)return[y];const O=T.pop(),B=T.join(" ");return B?[B,O]:[O]}function ie(k,y,T){const O=k.find(je=>je.year===y.year),B=Dt(y.lane);if(!O)return c.top-8+B*(g+6);const D=r(Ue)(Ie(O)),ve=T??H(y.conductor),Me=(Math.max(ve.length,1)-1)*6,ut=k.filter(je=>je.year>=y.year-1&&je.year<=y.year+1).map(je=>({year:je.year,y:r(Ue)(Ie(je))})).sort((je,Be)=>je.year-Be.year),xe=ut.findIndex(je=>je.year===y.year);let Re=!0;if(xe>0&&xe<ut.length-1){const je=ut[xe-1],Be=ut[xe+1],vt=Math.abs(D-je.y),Mt=Math.abs(D-Be.y);(vt<w+4||Mt<w+4)&&(Re=!1)}const Pe=g+10,rt=w+B*Pe+Me,Ge=D-rt;if(Re&&Ge>M)return Ge;const ct=A+B*Pe+Me,Qe=D+ct;if(Qe<=I)return Qe;const dt=I-B*Pe;return dt>M?dt:Math.max(M,Math.min(I,D))}function _e(k,y,T){return`M ${k} ${y-T} L ${k+T} ${y+T} L ${k-T} ${y+T} Z`}function Ve(k){if(!k)return Number.POSITIVE_INFINITY;const y=k.trim().toLowerCase();if(y==="elite")return 0;const T=y.match(/(\d+)/);return T?parseInt(T[1],10):Number.POSITIVE_INFINITY}function at(k,y){const T=Ve(k),O=Ve(y);return T!==O?T-O:k.localeCompare(y)}function ot(k){if(!k||k.length===0)return null;let y=1/0,T=-1/0;for(const O of k)O<y&&(y=O),O>T&&(T=O);return!Number.isFinite(y)||!Number.isFinite(T)?null:[y,T]}function Ft([k,y],T){k>y&&([k,y]=[y,k]);const O=y-k,B=T?0:1,D=T?100:1/0;let ve=O*ne;O===0&&(ve=T?se:ke);let ye=k-ve,Me=y+ve;if(T&&k<=0||!T&&k<=1?ye=k:ye=Math.max(ye,B),T&&y>=100?Me=y:T&&(Me=Math.min(Me,D)),Me===ye){const Re=T?se:ke;ye=Math.max(ye-Re,B),Me=T?Math.min(Me+Re,D):Me+Re}return[ye,Me]}let $t=L(()=>n().map(k=>({band:k,entries:tt(k.entries)}))),At=L(()=>r($t).reduce((k,y)=>(k.push(...y.entries),k),[])),xt=L(()=>(()=>{if(i().length)return i();if(!r(At).length)return[0];const k=new Set(r(At).map(y=>y.year));return Array.from(k).sort((y,T)=>y-T)})()),ht=L(()=>mh().domain(r(xt)).range([c.left,u-c.right])),_t=L(()=>s()||(r(At).length?Math.max(...r(At).map(k=>k.field_size??0)):1)),Qt=L(()=>(()=>{const k=[];for(const y of r(At)){const T=Ie(y);T!=null&&Number.isFinite(T)&&k.push(T)}return k})()),Ot=L(()=>ot(r(Qt))),ae=L(()=>r(Ot)?Ft(r(Ot),a()==="relative"):null),pe=L(()=>(()=>{if(o()==="fitted"&&r(ae)){const[k,y]=r(ae);return[y,k]}return a()==="relative"?[100,0]:[r(_t)+1,0]})()),Ue=L(()=>Sl().domain(r(pe)).range([f-c.bottom,c.top])),Te=L(()=>r($t).map((k,y)=>{const T=[...k.entries].sort((ye,Me)=>ye.year-Me.year),O=r(xt).map(ye=>T.find(Me=>Me.year===ye)??null),D=Lh().defined(ye=>ye!==null).x(ye=>ye?r(ht)(ye.year)??c.left:c.left).y(ye=>ye?r(Ue)(Ie(ye)):r(Ue)(r(pe)[1])).curve(Rh)(O)??void 0,ve=Ne()?wt(T):[];return{band:k.band,entries:T,timeline:O,pathData:D,conductorChanges:ve,color:h[y%h.length],shape:b[y%b.length]}})),mt=L(()=>Ne()&&r(Te).length?r(Te)[0].conductorChanges.map(k=>{const y=H(k.conductor),T=y.reduce((B,D)=>Math.max(B,D.length),0),O=j(k,T);return{...k,...O,y:ie(r(Te)[0].entries,k,y),labelLines:y}}):[]),fe=L(()=>(()=>{const k=r(pe)[0],y=r(pe)[1],T=f-c.top-c.bottom,O=Math.max(4,Math.min(8,Math.floor(T/50)));let B=Array.from(new Set(Vo(y,k,O).map(D=>(a()==="relative",Math.round(D))))).filter(D=>D>=y&&D<=k).sort((D,ve)=>D-ve);return a()==="absolute"&&y<=1&&k>=1&&!B.includes(1)&&(B=[1,...B.filter(D=>D!==1)].sort((D,ve)=>D-ve)),B})()),de=L(()=>new Set(r(At).map(k=>k.year))),oe=L(()=>r(xt).length>30?5:r(xt).length>18?3:1),ee=L(()=>r(xt).filter((k,y)=>y===0||y===r(xt).length-1||k===2019?!0:k%r(oe)===0)),Se=L(()=>r(ee).map(k=>{const y=r(ht)(k)??c.left,T=r(R).offsetX+y*r(R).scaleX;return{year:k,x:T,inactive:!r(de).has(k)}})),Je=L(()=>r(R).offsetY+(f-c.bottom)*r(R).scaleY+U),Ee=L(()=>Array.from(new Set(r(At).map(k=>k.division))).filter(k=>typeof k=="string"&&k.length>0).sort(at));const $e=()=>r(Ee).length>0;function we(k,y,T,O){const B=k.currentTarget,D=B.ownerSVGElement;if(!D)return;const ve=D.getBoundingClientRect();if(k instanceof MouseEvent)$(le,k.clientX-ve.left),$(re,k.clientY-ve.top);else{const ye=B.getBoundingClientRect();$(le,ye.left+ye.width/2-ve.left),$(re,ye.top+ye.height/2-ve.top)}$(S,{entry:y,bandName:T,lineColor:O},!0)}function te(){$(S,null)}function lt(k){return k.aggregate_entries}var Ce=cp(),Le=be(Ce),nt=v(Le);z(nt,"viewBox",`0 0 ${u} ${f}`);var yt=x(v(nt));Ze(yt,21,()=>r(fe),it,(k,y)=>{var T=Dh(),O=be(T),B=x(O),D=v(B);X((ve,ye,Me)=>{z(O,"x1",c.left),z(O,"x2",u-c.right),z(O,"y1",ve),z(O,"y2",ye),z(B,"x",c.left-12),z(B,"y",Me),F(D,a()==="relative"?`${r(y)}%`:`#${r(y)}`)},[()=>r(Ue)(r(y)),()=>r(Ue)(r(y)),()=>r(Ue)(r(y))+4]),m(k,T)});var ze=x(yt);Ze(ze,17,()=>r(Te),it,(k,y)=>{var T=Fe(),O=be(T);{var B=D=>{var ve=Fh();X(()=>{z(ve,"d",r(y).pathData),z(ve,"stroke",r(y).color)}),m(D,ve)};q(O,D=>{r(y).pathData&&D(B)})}m(k,T)});var He=x(ze);{var kt=k=>{var y=Fe(),T=be(y);Ze(T,17,()=>r(mt),it,(O,B)=>{var D=Fe(),ve=be(D);{var ye=Me=>{var ut=Fe(),xe=be(ut);nu(xe,()=>`${r(B).year}-${r(B).conductor}`,Re=>{var Pe=jh(),rt=v(Pe),Ge=x(rt);Ze(Ge,21,()=>r(B).labelLines,it,(ct,Qe,dt,je)=>{var Be=Oh();z(Be,"dy",dt===0?0:"1.1em");var vt=v(Be);X(Mt=>{z(Be,"x",Mt),F(vt,r(Qe))},[()=>r(ht)(r(B).year)]),m(ct,Be)}),X((ct,Qe,dt)=>{z(rt,"x1",ct),z(rt,"x2",Qe),z(rt,"y1",c.top),z(rt,"y2",f-c.bottom),z(Ge,"x",dt),z(Ge,"y",r(B).y),z(Ge,"text-anchor",r(B).anchor),z(Ge,"dx",r(B).dx)},[()=>r(ht)(r(B).year),()=>r(ht)(r(B).year),()=>r(ht)(r(B).year)]),m(Re,Pe)}),m(Me,ut)};q(ve,Me=>{r(ht)(r(B).year)!==void 0&&Me(ye)})}m(O,D)}),m(k,y)};q(He,k=>{Ne()&&k(kt)})}var jt=x(He);Ze(jt,17,()=>r(Te),it,(k,y)=>{var T=Fe(),O=be(T);Ze(O,17,()=>r(y).entries,B=>B.year,(B,D)=>{var ve=Fe(),ye=be(ve);{var Me=ut=>{const xe=L(()=>r(ht)(r(D).year)??c.left),Re=L(()=>r(Ue)(Ie(r(D)))),Pe=L(()=>(r(D).field_size??0)>0),rt=L(()=>r(Pe)?`${Oe(r(D)).toFixed(1)}%`:null);var Ge=Yh(),ct=v(Ge);{var Qe=je=>{var Be=qh();z(Be,"r",p),X(()=>{z(Be,"cx",r(xe)),z(Be,"cy",r(Re)),z(Be,"fill",d[r(D).division]??"#f8fafc"),z(Be,"stroke",r(y).color),z(Be,"aria-label",`${r(y).band.name}: ${r(D).year} – ${r(D).division} plass ${r(D).rank} (absolutt #${r(D).absolute_position}${r(rt)?` · relativ ${r(rt)}`:""})${r(D).conductor?` – Dirigent: ${r(D).conductor}`:""}`)}),sn("mouseenter",Be,vt=>we(vt,r(D),r(y).band.name,r(y).color)),sn("mouseleave",Be,te),sn("focus",Be,vt=>we(vt,r(D),r(y).band.name,r(y).color)),sn("blur",Be,te),m(je,Be)},dt=je=>{var Be=Fe(),vt=be(Be);{var Mt=Et=>{var me=zh();z(me,"width",p*2),z(me,"height",p*2),X(()=>{z(me,"x",r(xe)-p),z(me,"y",r(Re)-p),z(me,"fill",d[r(D).division]??"#f8fafc"),z(me,"stroke",r(y).color),z(me,"aria-label",`${r(y).band.name}: ${r(D).year} – ${r(D).division} plass ${r(D).rank} (absolutt #${r(D).absolute_position}${r(rt)?` · relativ ${r(rt)}`:""})${r(D).conductor?` – Dirigent: ${r(D).conductor}`:""}`)}),sn("mouseenter",me,ft=>we(ft,r(D),r(y).band.name,r(y).color)),sn("mouseleave",me,te),sn("focus",me,ft=>we(ft,r(D),r(y).band.name,r(y).color)),sn("blur",me,te),m(Et,me)},St=Et=>{var me=Bh();X(ft=>{z(me,"d",ft),z(me,"fill",d[r(D).division]??"#f8fafc"),z(me,"stroke",r(y).color),z(me,"aria-label",`${r(y).band.name}: ${r(D).year} – ${r(D).division} plass ${r(D).rank} (absolutt #${r(D).absolute_position}${r(rt)?` · relativ ${r(rt)}`:""})${r(D).conductor?` – Dirigent: ${r(D).conductor}`:""}`)},[()=>_e(r(xe),r(Re),p)]),sn("mouseenter",me,ft=>we(ft,r(D),r(y).band.name,r(y).color)),sn("mouseleave",me,te),sn("focus",me,ft=>we(ft,r(D),r(y).band.name,r(y).color)),sn("blur",me,te),m(Et,me)};q(vt,Et=>{r(y).shape==="square"?Et(Mt):Et(St,!1)},!0)}m(je,Be)};q(ct,je=>{r(y).shape==="circle"?je(Qe):je(dt,!1)})}m(ut,Ge)};q(ye,ut=>{r(ht)(r(D).year)!==void 0&&ut(Me)})}m(B,ve)}),m(k,T)}),du(nt,k=>$(Ae,k),()=>r(Ae));var en=x(nt,2);{var tn=k=>{const y=L(()=>lt(r(S).entry));var T=ep(),O=v(T),B=v(O),D=x(O,2);{var ve=Me=>{var ut=Fe(),xe=be(ut);Ze(xe,17,()=>r(y),it,(Re,Pe,rt)=>{var Ge=Xh(),ct=be(Ge),Qe=v(ct),dt=v(Qe),je=x(Qe,2),Be=v(je),vt=x(je,2),Mt=v(vt),St=x(vt,2);{var Et=V=>{const W=L(()=>Oe(r(Pe)).toFixed(1));var ce=Uh(),he=v(ce);X(()=>F(he,`Relativ plassering: ${r(W)??""}%`)),m(V,ce)};q(St,V=>{(r(Pe).field_size??0)>0&&V(Et)})}var me=x(St,2),ft=v(me),_=x(me,2);{var E=V=>{var W=Vh(),ce=v(W);X(()=>F(ce,`Poeng: ${r(Pe).points??""} / ${r(Pe).max_points??""}`)),m(V,W)};q(_,V=>{r(Pe).points!==null&&V(E)})}var C=x(_,2);{var N=V=>{var W=Hh(),ce=v(W);X(he=>F(ce,`Stykker: ${he??""}`),[()=>r(Pe).pieces.join("; ")]),m(V,W)};q(C,V=>{r(Pe).pieces.length>0&&V(N)})}var G=x(ct,2);{var J=V=>{var W=Kh();m(V,W)};q(G,V=>{rt<r(y).length-1&&V(J)})}X(()=>{F(dt,r(Pe).band_name??"Ukjent korps"),F(Be,`${r(Pe).division??""} · #${r(Pe).rank??""}`),F(Mt,`Absolutt plassering: #${r(Pe).absolute_position??""}`),F(ft,`Deltakere: ${r(Pe).division_size??""} (div) / ${r(Pe).field_size??""} (totalt)`)}),m(Re,Ge)}),m(Me,ut)},ye=Me=>{var ut=Qh(),xe=be(ut),Re=v(xe),Pe=x(xe,2);{var rt=me=>{var ft=Gh(),_=v(ft);X(()=>F(_,`Dirigent: ${r(S).entry.conductor??""}`)),m(me,ft)};q(Pe,me=>{r(S).entry.conductor&&me(rt)})}var Ge=x(Pe,2),ct=v(Ge),Qe=x(Ge,2);{var dt=me=>{const ft=L(()=>Oe(r(S).entry).toFixed(1));var _=Wh(),E=v(_);X(()=>F(E,`Relativ plassering: ${r(ft)??""}%`)),m(me,_)};q(Qe,me=>{(r(S).entry.field_size??0)>0&&me(dt)})}var je=x(Qe,2),Be=v(je),vt=x(je,2);{var Mt=me=>{var ft=Zh(),_=v(ft);X(()=>F(_,`Poeng: ${r(S).entry.points??""} / ${r(S).entry.max_points??""}`)),m(me,ft)};q(vt,me=>{r(S).entry.points!==null&&me(Mt)})}var St=x(vt,2);{var Et=me=>{var ft=Jh(),_=v(ft);X(E=>F(_,`Stykker: ${E??""}`),[()=>r(S).entry.pieces.join("; ")]),m(me,ft)};q(St,me=>{r(S).entry.pieces.length>0&&me(Et)})}X(()=>{F(Re,`${r(S).entry.division??""} · #${r(S).entry.rank??""}`),F(ct,`Absolutt plassering: #${r(S).entry.absolute_position??""}`),F(Be,`Deltakere: ${r(S).entry.division_size??""} (div) / ${r(S).entry.field_size??""} (totalt)`)}),m(Me,ut)};q(D,Me=>{r(y)&&r(y).length?Me(ve):Me(ye,!1)})}X(()=>{xi(T,`left: ${r(le)}px; top: ${r(re)}px`),F(B,`${r(S).entry.year??""} · ${r(S).bandName??""}`)}),m(k,T)};q(en,k=>{r(S)&&k(tn)})}var qt=x(en,2);Ze(qt,21,()=>r(Se),it,(k,y)=>{var T=tp();let O;var B=v(T);X(D=>{xi(T,`left: ${r(y).x}px`),O=Vt(T,1,"svelte-idxsrp",null,O,D),F(B,r(y).year)},[()=>({inactive:r(y).inactive})]),m(k,T)});var Xt=x(Le,2);{var nn=k=>{var y=ap();Ze(y,21,()=>r(Te),it,(T,O)=>{var B=sp(),D=v(B),ve=v(D),ye=x(ve);{var Me=Re=>{var Pe=np();X(()=>z(Pe,"stroke",r(O).color)),m(Re,Pe)},ut=Re=>{var Pe=Fe(),rt=be(Pe);{var Ge=Qe=>{var dt=rp();X(()=>z(dt,"stroke",r(O).color)),m(Qe,dt)},ct=Qe=>{var dt=ip();X(je=>{z(dt,"d",je),z(dt,"stroke",r(O).color)},[()=>_e(21,7,6)]),m(Qe,dt)};q(rt,Qe=>{r(O).shape==="square"?Qe(Ge):Qe(ct,!1)},!0)}m(Re,Pe)};q(ye,Re=>{r(O).shape==="circle"?Re(Me):Re(ut,!1)})}var xe=x(D);X(()=>{z(ve,"stroke",r(O).color),F(xe,` ${r(O).band.name??""}`)}),m(T,B)}),m(k,y)};q(Xt,k=>{r(Te).length>0&&k(nn)})}var yn=x(Xt,2);{var Pt=k=>{var y=lp();Ze(y,21,()=>r(Ee),it,(T,O)=>{var B=op(),D=v(B),ve=x(D);X(()=>{xi(D,`background-color: ${d[r(O)]??"#94a3b8"}`),F(ve,` ${r(O)??""}`)}),m(T,B)}),m(k,y)};q(yn,k=>{$e()&&k(Pt)})}X(()=>xi(qt,`top: ${r(Je)}px`)),m(e,Ce),mn()}function We(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}var fp=P('<a class="entity-link svelte-urxxqj"> </a>'),dp=P("<span>Ukjent</span>"),vp=P('<span class="test-piece-label svelte-urxxqj" title="Pliktstykke (fredag)">P:</span>'),hp=P('<span class="own-choice-label svelte-urxxqj" title="Selvvalgt (lørdag)">S:</span>'),pp=P("<a> </a>"),_p=P("<span> </span>"),gp=P("<span>Ukjent</span>"),mp=P('<li class="svelte-urxxqj"><!> <!></li>'),yp=P('<ul class="piece-list svelte-urxxqj"></ul>'),bp=P("<span>Ukjent</span>"),wp=P('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),xp=P('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),kp=P('<div class="streaming-piece-row svelte-urxxqj"><span class="streaming-links svelte-urxxqj"><!> <!></span></div>'),Sp=P('<div class="streaming-list svelte-urxxqj"></div>'),Ep=P('<span class="streaming-missing svelte-urxxqj" aria-hidden="true">–</span>'),Ap=P('<tr class="svelte-urxxqj"><td data-label="År" class="svelte-urxxqj"> </td><td data-label="Divisjon" class="division-cell svelte-urxxqj"> </td><td data-label="Plass" class="svelte-urxxqj"> </td><td data-label="Poeng" class="svelte-urxxqj"> </td><td data-label="Dirigent" class="svelte-urxxqj"><!></td><td data-label="Program" class="piece-cell svelte-urxxqj"><!></td><td data-label="Opptak" class="streaming-cell svelte-urxxqj"><!></td></tr>'),Mp=P('<article class="band-card svelte-urxxqj"><header class="band-header svelte-urxxqj"><div><h2 class="svelte-urxxqj"> </h2> <p class="band-count svelte-urxxqj"> </p></div></header> <div class="table-wrapper svelte-urxxqj" role="region"><table class="svelte-urxxqj"><thead class="svelte-urxxqj"><tr><th scope="col" class="svelte-urxxqj">År</th><th scope="col" class="division-column svelte-urxxqj">Divisjon</th><th scope="col" class="svelte-urxxqj">Plass</th><th scope="col" class="svelte-urxxqj">Poeng</th><th scope="col" class="svelte-urxxqj">Dirigent</th><th scope="col" class="svelte-urxxqj">Program</th><th scope="col" class="streaming-column svelte-urxxqj">Opptak</th></tr></thead><tbody class="svelte-urxxqj"></tbody></table></div></article>'),Np=P('<section class="band-performances svelte-urxxqj"></section>');function $p(e,t){gn(t,!0);let n=gt(t,"bands",19,()=>[]),i=gt(t,"bandType",3,"wind"),s=gt(t,"eliteTestPieces",3,null);const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function o(A){return[...A].sort((M,I)=>{const U=M.year-I.year;if(U!==0)return U;const K=M.rank??Number.POSITIVE_INFINITY,Z=I.rank??Number.POSITIVE_INFINITY;return K!==Z?K-Z:(M.absolute_position??Number.POSITIVE_INFINITY)-(I.absolute_position??Number.POSITIVE_INFINITY)})}function l(A){return A==null?"–":a.format(A)}function c(A){return A!=null?`${A}`:"–"}function u(A){return!!(A?.spotify||A?.apple_music)}function f(A){if(!A)return null;const M=A.trim();if(!M)return null;if(!/^https?:\/\//i.test(M))return M;try{const I=new URL(M);return`music://${`${I.host}${I.pathname}${I.search}${I.hash}`}`}catch(I){return console.warn("Kunne ikke konvertere Apple Music-lenke",I),M}}function d(A,M,I){if(!M)return A;const U=M.recording_title?.trim(),K=M.album?.trim(),Z=I==="spotify"?"Spotify":"Apple Music",ne=U&&U.length>0?U:A;return K&&K.length>0?`${ne} • ${K} (${Z})`:`${ne} (${Z})`}function h(A,M,I){return t.streamingResolver?t.streamingResolver(A,M,I)??null:null}function b(A){const M=String(A),I=s()?.test_pieces?.[M];return I?{composer:I.composer,piece:I.piece}:null}function p(A){return(A||"").toLowerCase()==="elite"}let g=L(()=>n().map(A=>({...A,entries:o(A.entries)})));var w=Np();Ze(w,21,()=>r(g),it,(A,M)=>{var I=Mp(),U=v(I),K=v(U),Z=v(K),ne=v(Z),se=x(Z,2),ke=v(se),Ae=x(U,2),R=v(Ae),Y=x(v(R));Ze(Y,21,()=>r(M).entries,it,(Q,S)=>{const le=L(()=>Array.isArray(r(S).pieces)?r(S).pieces:[]),re=L(()=>r(le).filter(fe=>fe&&fe.trim().length>0)),Ne=L(()=>i()==="brass"&&p(r(S).division)?b(r(S).year):null),Oe=L(()=>r(S).conductor?.trim()??""),Ie=L(()=>r(Oe).length>0),Xe=L(()=>r(Ie)?We(r(Oe)):""),tt=L(()=>r(re).map(fe=>{const de=fe.trim(),oe=de?We(de):"",ee=de?h(r(S),r(M).name,de):null;return{pieceName:de,pieceSlug:oe,streaming:ee,isTestPiece:!1}})),wt=L(()=>r(Ne)?[{pieceName:r(Ne).piece,pieceSlug:We(r(Ne).piece),streaming:h(r(S),r(M).name,r(Ne).piece),isTestPiece:!0}]:[]),st=L(()=>[...r(wt),...r(tt)]),Rt=L(()=>r(st).filter(fe=>u(fe.streaming)));var Dt=Ap(),j=v(Dt),H=v(j),ie=x(j),_e=v(ie),Ve=x(ie),at=v(Ve),ot=x(Ve),Ft=v(ot),$t=x(ot),At=v($t);{var xt=fe=>{var de=fp(),oe=v(de);X(ee=>{z(de,"href",ee),F(oe,r(Oe))},[()=>`?type=${i()}&view=conductors&conductor=${encodeURIComponent(r(Xe))}`]),m(fe,de)},ht=fe=>{var de=dp();m(fe,de)};q(At,fe=>{r(Ie)?fe(xt):fe(ht,!1)})}var _t=x($t),Qt=v(_t);{var Ot=fe=>{var de=yp();Ze(de,21,()=>r(st),it,(oe,ee)=>{var Se=mp(),Je=v(Se);{var Ee=Ce=>{var Le=vp();m(Ce,Le)},$e=Ce=>{var Le=Fe(),nt=be(Le);{var yt=ze=>{var He=hp();m(ze,He)};q(nt,ze=>{i()==="brass"&&p(r(S).division)&&ze(yt)},!0)}m(Ce,Le)};q(Je,Ce=>{r(ee).isTestPiece?Ce(Ee):Ce($e,!1)})}var we=x(Je,2);{var te=Ce=>{var Le=pp();let nt;var yt=v(Le);X((ze,He)=>{z(Le,"href",ze),nt=Vt(Le,1,"entity-link svelte-urxxqj",null,nt,He),F(yt,r(ee).pieceName)},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(r(ee).pieceSlug)}`,()=>({"test-piece-link":r(ee).isTestPiece})]),m(Ce,Le)},lt=Ce=>{var Le=Fe(),nt=be(Le);{var yt=He=>{var kt=_p(),jt=v(kt);X(()=>F(jt,r(ee).pieceName)),m(He,kt)},ze=He=>{var kt=gp();m(He,kt)};q(nt,He=>{r(ee).pieceName?He(yt):He(ze,!1)},!0)}m(Ce,Le)};q(we,Ce=>{r(ee).pieceSlug?Ce(te):Ce(lt,!1)})}m(oe,Se)}),m(fe,de)},ae=fe=>{var de=bp();m(fe,de)};q(Qt,fe=>{r(st).length>0?fe(Ot):fe(ae,!1)})}var pe=x(_t),Ue=v(pe);{var Te=fe=>{var de=Sp();Ze(de,21,()=>r(Rt),it,(oe,ee)=>{const Se=L(()=>r(ee).streaming);var Je=Fe(),Ee=be(Je);{var $e=we=>{var te=kp(),lt=v(te),Ce=v(lt);{var Le=ze=>{var He=wp(),kt=v(He),jt=v(kt);X(en=>{z(He,"href",r(Se).spotify),z(He,"title",en),F(jt,`Hør ${r(ee).pieceName??""} på Spotify`)},[()=>d(r(ee).pieceName,r(Se),"spotify")]),m(ze,He)};q(Ce,ze=>{r(Se)?.spotify&&ze(Le)})}var nt=x(Ce,2);{var yt=ze=>{const He=L(()=>f(r(Se).apple_music));var kt=Fe(),jt=be(kt);{var en=tn=>{var qt=xp(),Xt=v(qt),nn=v(Xt);X(yn=>{z(qt,"href",r(He)),z(qt,"title",yn),F(nn,`Hør ${r(ee).pieceName??""} på Apple Music`)},[()=>d(r(ee).pieceName,r(Se),"apple")]),m(tn,qt)};q(jt,tn=>{r(He)&&tn(en)})}m(ze,kt)};q(nt,ze=>{r(Se)?.apple_music&&ze(yt)})}m(we,te)};q(Ee,we=>{u(r(Se))&&we($e)})}m(oe,Je)}),m(fe,de)},mt=fe=>{var de=Ep();m(fe,de)};q(Ue,fe=>{r(Rt).length>0?fe(Te):fe(mt,!1)})}X((fe,de)=>{F(H,r(S).year),F(_e,r(S).division),F(at,fe),F(Ft,de)},[()=>c(r(S).rank),()=>l(r(S).points)]),m(Q,Dt)}),X(()=>{F(ne,r(M).name),F(ke,`${r(M).entries.length??""} fremføringer`),z(Ae,"aria-label",`Fremføringer av ${r(M).name}`)}),m(A,I)}),m(e,w),mn()}var Pp=P('<a class="entity-link svelte-7tq4ct"> </a>'),Tp=P("<span> </span>"),Cp=P("<span>Ukjent</span>"),Ip=P('<a class="entity-link svelte-7tq4ct"> </a>'),Lp=P("<span> </span>"),Rp=P("<span>Ukjent</span>"),Dp=P('<li class="svelte-7tq4ct"><!></li>'),Fp=P('<ul class="piece-list svelte-7tq4ct"></ul>'),Op=P("<span>Ukjent</span>"),jp=P('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),qp=P('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),zp=P('<div class="streaming-piece-row svelte-7tq4ct"><span class="streaming-links svelte-7tq4ct"><!> <!></span></div>'),Bp=P('<div class="streaming-list svelte-7tq4ct"></div>'),Yp=P('<span class="streaming-missing svelte-7tq4ct" aria-hidden="true">–</span>'),Up=P('<tr class="svelte-7tq4ct"><td data-label="År" class="svelte-7tq4ct"> </td><td data-label="Divisjon" class="division-cell svelte-7tq4ct"> </td><td data-label="Plass" class="svelte-7tq4ct"> </td><td data-label="Poeng" class="svelte-7tq4ct"> </td><td data-label="Korps" class="svelte-7tq4ct"><!></td><td data-label="Program" class="piece-cell svelte-7tq4ct"><!></td><td data-label="Opptak" class="streaming-cell svelte-7tq4ct"><!></td></tr>'),Vp=P('<article class="conductor-card svelte-7tq4ct"><header class="conductor-header svelte-7tq4ct"><div><h2 class="svelte-7tq4ct"> </h2> <p class="conductor-count svelte-7tq4ct"> </p></div></header> <div class="table-wrapper svelte-7tq4ct" role="region"><table class="svelte-7tq4ct"><thead class="svelte-7tq4ct"><tr><th scope="col" class="svelte-7tq4ct">År</th><th scope="col" class="division-column svelte-7tq4ct">Divisjon</th><th scope="col" class="svelte-7tq4ct">Plass</th><th scope="col" class="svelte-7tq4ct">Poeng</th><th scope="col" class="svelte-7tq4ct">Korps</th><th scope="col" class="svelte-7tq4ct">Program</th><th scope="col" class="streaming-column svelte-7tq4ct">Opptak</th></tr></thead><tbody class="svelte-7tq4ct"></tbody></table></div></article>'),Hp=P('<section class="conductor-performances svelte-7tq4ct"></section>');function Kp(e,t){gn(t,!0);let n=gt(t,"conductors",19,()=>[]),i=gt(t,"bandType",3,"wind");const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function a(g){return[...g].sort((w,A)=>{const M=w.year-A.year;if(M!==0)return M;const I=w.rank??Number.POSITIVE_INFINITY,U=A.rank??Number.POSITIVE_INFINITY;if(I!==U)return I-U;const K=(w.band_name??"").toLowerCase(),Z=(A.band_name??"").toLowerCase();return K!==Z?K.localeCompare(Z):(w.absolute_position??Number.POSITIVE_INFINITY)-(A.absolute_position??Number.POSITIVE_INFINITY)})}function o(g){return g==null?"–":s.format(g)}function l(g){return g!=null?`${g}`:"–"}function c(g){return!!(g?.spotify||g?.apple_music)}function u(g){if(!g)return null;const w=g.trim();if(!w)return null;if(!/^https?:\/\//i.test(w))return w;try{const A=new URL(w);return`music://${`${A.host}${A.pathname}${A.search}${A.hash}`}`}catch(A){return console.warn("Kunne ikke konvertere Apple Music-lenke",A),w}}function f(g,w,A){if(!w)return g;const M=w.recording_title?.trim(),I=w.album?.trim(),U=A==="spotify"?"Spotify":"Apple Music",K=M&&M.length>0?M:g;return I&&I.length>0?`${K} • ${I} (${U})`:`${K} (${U})`}function d(g,w,A){return t.streamingResolver?t.streamingResolver(g,w,A)??null:null}function h(g){const A=(g.entries??[]).flatMap(M=>(M.aggregate_entries&&Array.isArray(M.aggregate_entries)?M.aggregate_entries:[M]).map(U=>({...U,band_name:U.band_name??M.band_name??null})));return a(A)}let b=L(()=>n().map(g=>({...g,performances:h(g)})));var p=Hp();Ze(p,21,()=>r(b),it,(g,w)=>{var A=Vp(),M=v(A),I=v(M),U=v(I),K=v(U),Z=x(U,2),ne=v(Z),se=x(M,2),ke=v(se),Ae=x(v(ke));Ze(Ae,21,()=>r(w).performances,it,(R,Y)=>{const Q=L(()=>r(Y).band_name?.trim()??""),S=L(()=>r(Q).length>0),le=L(()=>r(S)?We(r(Q)):""),re=L(()=>Array.isArray(r(Y).pieces)?r(Y).pieces:[]),Ne=L(()=>r(re).filter(ae=>ae&&ae.trim().length>0)),Oe=L(()=>r(Ne).map(ae=>{const pe=ae.trim(),Ue=pe?We(pe):"",Te=r(S)&&pe?d(r(Y),r(Q),pe):null;return{pieceName:pe,pieceSlug:Ue,streaming:Te}})),Ie=L(()=>r(Oe).filter(ae=>c(ae.streaming)));var Xe=Up(),tt=v(Xe),wt=v(tt),st=x(tt),Rt=v(st),Dt=x(st),j=v(Dt),H=x(Dt),ie=v(H),_e=x(H),Ve=v(_e);{var at=ae=>{var pe=Pp(),Ue=v(pe);X(Te=>{z(pe,"href",Te),F(Ue,r(Q))},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(r(le))}`]),m(ae,pe)},ot=ae=>{var pe=Fe(),Ue=be(pe);{var Te=fe=>{var de=Tp(),oe=v(de);X(()=>F(oe,r(Q))),m(fe,de)},mt=fe=>{var de=Cp();m(fe,de)};q(Ue,fe=>{r(S)?fe(Te):fe(mt,!1)},!0)}m(ae,pe)};q(Ve,ae=>{r(S)&&r(le)?ae(at):ae(ot,!1)})}var Ft=x(_e),$t=v(Ft);{var At=ae=>{var pe=Fp();Ze(pe,21,()=>r(Oe),it,(Ue,Te)=>{var mt=Dp(),fe=v(mt);{var de=ee=>{var Se=Ip(),Je=v(Se);X(Ee=>{z(Se,"href",Ee),F(Je,r(Te).pieceName)},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(r(Te).pieceSlug)}`]),m(ee,Se)},oe=ee=>{var Se=Fe(),Je=be(Se);{var Ee=we=>{var te=Lp(),lt=v(te);X(()=>F(lt,r(Te).pieceName)),m(we,te)},$e=we=>{var te=Rp();m(we,te)};q(Je,we=>{r(Te).pieceName?we(Ee):we($e,!1)},!0)}m(ee,Se)};q(fe,ee=>{r(Te).pieceSlug?ee(de):ee(oe,!1)})}m(Ue,mt)}),m(ae,pe)},xt=ae=>{var pe=Op();m(ae,pe)};q($t,ae=>{r(Oe).length>0?ae(At):ae(xt,!1)})}var ht=x(Ft),_t=v(ht);{var Qt=ae=>{var pe=Bp();Ze(pe,21,()=>r(Ie),it,(Ue,Te)=>{const mt=L(()=>r(Te).streaming);var fe=zp(),de=v(fe),oe=v(de);{var ee=Ee=>{var $e=jp(),we=v($e),te=v(we);X(lt=>{z($e,"href",r(mt).spotify),z($e,"title",lt),F(te,`Hør ${r(Te).pieceName??""} på Spotify`)},[()=>f(r(Te).pieceName,r(mt),"spotify")]),m(Ee,$e)};q(oe,Ee=>{r(mt)?.spotify&&Ee(ee)})}var Se=x(oe,2);{var Je=Ee=>{const $e=L(()=>u(r(mt).apple_music));var we=Fe(),te=be(we);{var lt=Ce=>{var Le=qp(),nt=v(Le),yt=v(nt);X(ze=>{z(Le,"href",r($e)),z(Le,"title",ze),F(yt,`Hør ${r(Te).pieceName??""} på Apple Music`)},[()=>f(r(Te).pieceName,r(mt),"apple")]),m(Ce,Le)};q(te,Ce=>{r($e)&&Ce(lt)})}m(Ee,we)};q(Se,Ee=>{r(mt)?.apple_music&&Ee(Je)})}m(Ue,fe)}),m(ae,pe)},Ot=ae=>{var pe=Yp();m(ae,pe)};q(_t,ae=>{r(Ie).length>0?ae(Qt):ae(Ot,!1)})}X((ae,pe)=>{F(wt,r(Y).year),F(Rt,r(Y).division),F(j,ae),F(ie,pe)},[()=>l(r(Y).rank),()=>o(r(Y).points)]),m(R,Xe)}),X(()=>{F(K,r(w).name),F(ne,`${r(w).performances.length??""} fremføringer`),z(se,"aria-label",`Fremføringer av ${r(w).name}`)}),m(g,A)}),m(e,p),mn()}function Xp(e,t){const n=Number(e.target.value);$(t,Number.isNaN(n)?null:n,!0)}function Gp(e,t){$(t,e.target.value||null,!0)}var Wp=P('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),Zp=P('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),Jp=P("<option> </option>"),Qp=P("<option selected>Ingen divisjoner</option>"),e_=P("<option> </option>"),t_=P('<span class="svelte-1e9ky18"> </span>'),n_=P('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),r_=P('<div class="prize-card prize-card--soloist svelte-1e9ky18"><div class="prize-card__header svelte-1e9ky18"><span class="prize-card__type svelte-1e9ky18">Solistpris</span> <span class="prize-card__instrument svelte-1e9ky18"> </span></div> <div class="prize-card__winner svelte-1e9ky18"><a class="prize-winner-link svelte-1e9ky18"> </a></div></div>'),i_=P('<div class="prize-card prize-card--group svelte-1e9ky18"><div class="prize-card__header svelte-1e9ky18"><span class="prize-card__type svelte-1e9ky18">Gruppepris</span> <span class="prize-card__instrument svelte-1e9ky18"> </span></div> <div class="prize-card__winner svelte-1e9ky18"><a class="prize-winner-link svelte-1e9ky18"> </a></div></div>'),s_=P('<div class="prize-section svelte-1e9ky18" role="complementary" aria-label="Priser"><h3 class="svelte-1e9ky18">🏆 Priser</h3> <div class="prize-cards svelte-1e9ky18"><!> <!></div></div>'),a_=P('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),o_=P('<a class="entity-link svelte-1e9ky18"> </a>'),l_=P("<span>Ukjent</span>"),c_=P("<span>–</span>"),u_=P('<span class="test-piece-label svelte-1e9ky18" title="Pliktstykke (fredag)">P:</span>'),f_=P('<span class="own-choice-label svelte-1e9ky18" title="Selvvalgt (lørdag)">S:</span>'),d_=P('<div class="program-piece svelte-1e9ky18"><!> <a> </a></div>'),v_=P('<div class="program-list svelte-1e9ky18"></div>'),h_=P('<span class="streaming-missing" aria-hidden="true">–</span>'),p_=P('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),__=P('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),g_=P('<span class="streaming-links svelte-1e9ky18"><!> <!></span>'),m_=P('<span class="streaming-missing" aria-hidden="true">–</span>'),y_=P('<div class="streaming-piece-row svelte-1e9ky18"><!></div>'),b_=P('<div class="streaming-list svelte-1e9ky18"></div>'),w_=P('<tr class="svelte-1e9ky18"><td data-label="Plass" class="svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td><td data-label="Opptak" class="streaming-cell svelte-1e9ky18"><!></td></tr>'),x_=P('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th><th scope="col" class="streaming-column svelte-1e9ky18">Opptak</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),k_=P('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!> <!>',1),S_=P('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2></div> <!></section>');function E_(e,t){gn(t,!0);let n=gt(t,"dataset",3,null),i=gt(t,"bandType",3,"wind"),s=gt(t,"streamingResolver",3,void 0),a=gt(t,"eliteTestPieces",3,null),o=ue(null),l=ue(!1);const c=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1}),u=j=>`band-positions-${j}-year`,f=j=>`band-positions-${j}-division`;function d(j){if(typeof localStorage>"u")return null;try{const H=localStorage.getItem(u(j));if(H){const ie=Number(H);return Number.isNaN(ie)?null:ie}}catch(H){console.warn("Failed to read year from localStorage",H)}return null}function h(j){if(typeof localStorage>"u")return null;try{return localStorage.getItem(f(j))}catch(H){console.warn("Failed to read division from localStorage",H)}return null}function b(j,H){if(!(typeof localStorage>"u"))try{H===null?localStorage.removeItem(u(j)):localStorage.setItem(u(j),String(H))}catch(ie){console.warn("Failed to write year to localStorage",ie)}}function p(j,H){if(!(typeof localStorage>"u"))try{H===null?localStorage.removeItem(f(j)):localStorage.setItem(f(j),H)}catch(ie){console.warn("Failed to write division to localStorage",ie)}}let g=ue(Bt(d(i()))),w=ue(Bt(h(i()))),A=L(()=>n()?ne(n()):new Map),M=L(()=>n()?.metadata?.years??[]),I=L(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||r(g)==null||!r(A).has(r(g)))return[];const j=r(A).get(r(g))??new Map,H=n().metadata.divisions.filter(_e=>j.has(_e)),ie=Array.from(j.keys()).filter(_e=>!H.includes(_e)).sort();return[...H,...ie]})()),U=L(()=>(()=>{if(r(g)!=null&&r(w)&&r(A).has(r(g))){const j=r(A).get(r(g)),H=(r(w)&&j?.get(r(w)))??[];return Ae(H)}return[]})()),K=L(()=>(()=>{if(r(U).length>0){const H=r(U)[0]?.entry?.division_size??r(U).length;return H&&H>0?H:null}return null})()),Z=L(()=>(()=>{if(r(U).length>0){const H=r(U)[0]?.entry?.field_size??null;return H&&H>0?H:null}return null})());function ne(j){const H=new Map;if(!j?.bands||!Array.isArray(j.bands))return H;for(const ie of j.bands)if(!(!ie||!ie.entries||!Array.isArray(ie.entries)))for(const _e of ie.entries){if(!_e||typeof _e.year!="number"||!_e.division)continue;let Ve=H.get(_e.year);Ve||(Ve=new Map,H.set(_e.year,Ve));const at=_e.division;let ot=Ve.get(at);ot||(ot=[],Ve.set(at,ot)),ot.push({band:ie.name,entry:_e})}return H}function se(j){return j.length?r(g)&&j.includes(r(g))?r(g):j[j.length-1]??null:null}function ke(j){return j.length?r(w)&&j.includes(r(w))?r(w):j[0]??null:null}function Ae(j){return[...j].sort((H,ie)=>{const _e=H.entry.rank??Number.POSITIVE_INFINITY,Ve=ie.entry.rank??Number.POSITIVE_INFINITY;if(_e!==Ve)return _e-Ve;const at=H.entry.absolute_position??Number.POSITIVE_INFINITY,ot=ie.entry.absolute_position??Number.POSITIVE_INFINITY;return at!==ot?at-ot:H.band.localeCompare(ie.band)})}function R(j){return j!=null?`${j}`:"–"}function Y(j,H){if(j==null&&H==null)return"–";const ie=j==null?"–":c.format(j);return H==null,ie}function Q(j){return j.map(H=>H.trim()).filter(Boolean)}function S(j,H,ie){if(typeof s()!="function")return null;try{return s()(j,H,ie)??null}catch(_e){return console.error("Kunne ikke hente streaming-lenke",_e),null}}function le(j){return!!(j?.spotify||j?.apple_music)}function re(j){if(!j)return null;const H=j.trim();if(!H)return null;if(!/^https?:\/\//i.test(H))return H;try{const ie=new URL(H);return`music://${`${ie.host}${ie.pathname}${ie.search}${ie.hash}`}`}catch(ie){return console.warn("Kunne ikke konvertere Apple Music-lenke",ie),H}}function Ne(j,H,ie){if(!H)return j;const _e=H.recording_title?.trim(),Ve=H.album?.trim(),at=ie==="spotify"?"Spotify":"Apple Music",ot=_e&&_e.length>0?_e:j;return Ve&&Ve.length>0?`${ot} • ${Ve} (${at})`:`${ot} (${at})`}function Oe(j){const H=String(j),ie=a()?.test_pieces?.[H];return ie?{composer:ie.composer,piece:ie.piece}:null}function Ie(j){return(j||"").toLowerCase()==="elite"}vn(()=>{b(i(),r(g))}),vn(()=>{p(i(),r(w))}),vn(()=>{const j=d(i()),H=h(i());$(g,j,!0),$(w,H,!0)}),vn(()=>{if(n()&&r(M)&&Array.isArray(r(M))&&r(M).length>0){const j=se(r(M));r(g)!==j&&$(g,j,!0)}else $(g,null),$(w,null)}),vn(()=>{if(r(g)!=null&&r(I)&&Array.isArray(r(I))&&r(I).length>0){const j=ke(r(I));r(w)!==j&&$(w,j,!0)}else r(g)!=null&&$(w,null)});async function Xe(j){$(l,!0);try{const ie=await fetch(`data/${j==="wind"?"wind_prizes.json":"brass_prizes.json"}`);if(!ie.ok)throw new Error(`Failed to fetch prize data: ${ie.statusText}`);$(o,await ie.json(),!0)}catch(H){console.error("Error loading prize data:",H),$(o,null)}finally{$(l,!1)}}Wn(()=>{Xe(i())}),vn(()=>{Xe(i())});let tt=L(()=>(()=>{if(!r(o)||r(g)==null||!r(w))return null;const j=r(o).prizes.find(_e=>_e.year===r(g)&&_e.division===r(w));if(!j||!j.entries)return null;const H=j.entries.find(_e=>_e.prize_type==="soloist"),ie=j.entries.find(_e=>_e.prize_type==="group");return{soloist:H||null,group:ie||null}})());var wt=S_(),st=x(v(wt),2);{var Rt=j=>{var H=Wp();m(j,H)},Dt=j=>{var H=Fe(),ie=be(H);{var _e=at=>{var ot=Zp();m(at,ot)},Ve=at=>{var ot=k_(),Ft=be(ot),$t=v(Ft),At=x(v($t),2);At.__change=[Xp,g],Ze(At,21,()=>r(M)||[],it,(oe,ee)=>{var Se=Jp(),Je=v(Se),Ee={};X(()=>{wa(Se,r(g)===r(ee)),F(Je,r(ee)),Ee!==(Ee=r(ee))&&(Se.value=(Se.__value=r(ee))??"")}),m(oe,Se)});var xt=x($t,2),ht=x(v(xt),2);ht.__change=[Gp,w];var _t=v(ht);{var Qt=oe=>{var ee=Qp();ee.value=ee.__value="",m(oe,ee)},Ot=oe=>{var ee=Fe(),Se=be(ee);Ze(Se,17,()=>r(I),it,(Je,Ee)=>{var $e=e_(),we=v($e),te={};X(()=>{wa($e,r(w)===r(Ee)),F(we,r(Ee)),te!==(te=r(Ee))&&($e.value=($e.__value=r(Ee))??"")}),m(Je,$e)}),m(oe,ee)};q(_t,oe=>{!r(I)||r(I).length===0?oe(Qt):oe(Ot,!1)})}var ae=x(xt,2);{var pe=oe=>{var ee=n_(),Se=v(ee),Je=v(Se),Ee=x(Se,2);{var $e=we=>{var te=t_(),lt=v(te);X(()=>F(lt,`Totalt felt: ${r(Z)??""}`)),m(we,te)};q(Ee,we=>{r(Z)&&we($e)})}X(()=>F(Je,`${r(K)??""} korps`)),m(oe,ee)};q(ae,oe=>{r(K)&&oe(pe)})}var Ue=x(Ft,2);{var Te=oe=>{var ee=s_(),Se=x(v(ee),2),Je=v(Se);{var Ee=te=>{var lt=r_(),Ce=v(lt),Le=x(v(Ce),2),nt=v(Le),yt=x(Ce,2),ze=v(yt),He=v(ze);X(kt=>{F(nt,r(tt).soloist.instrument),z(ze,"href",kt),F(He,r(tt).soloist.orchestra)},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(We(r(tt).soloist.orchestra))}`]),m(te,lt)};q(Je,te=>{r(tt).soloist&&te(Ee)})}var $e=x(Je,2);{var we=te=>{var lt=i_(),Ce=v(lt),Le=x(v(Ce),2),nt=v(Le),yt=x(Ce,2),ze=v(yt),He=v(ze);X(kt=>{F(nt,r(tt).group.instrument),z(ze,"href",kt),F(He,r(tt).group.orchestra)},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(We(r(tt).group.orchestra))}`]),m(te,lt)};q($e,te=>{r(tt).group&&te(we)})}m(oe,ee)};q(Ue,oe=>{r(tt)&&(r(tt).soloist||r(tt).group)&&oe(Te)})}var mt=x(Ue,2);{var fe=oe=>{var ee=a_();m(oe,ee)},de=oe=>{var ee=x_(),Se=v(ee),Je=x(v(Se));Ze(Je,21,()=>r(U),it,(Ee,$e)=>{let we=()=>r($e).band,te=()=>r($e).entry;var lt=w_(),Ce=v(lt),Le=v(Ce),nt=x(Ce),yt=v(nt),ze=v(yt),He=x(nt),kt=v(He);{var jt=T=>{var O=o_(),B=v(O);X((D,ve)=>{z(O,"href",D),F(B,ve)},[()=>`?type=${i()}&view=conductors&conductor=${encodeURIComponent(We(te().conductor))}`,()=>te().conductor.trim()]),m(T,O)},en=T=>{var O=l_();m(T,O)};q(kt,T=>{te().conductor&&te().conductor.trim().length>0?T(jt):T(en,!1)})}var tn=x(He),qt=v(tn),Xt=x(tn),nn=v(Xt);{var yn=T=>{const O=L(()=>i()==="brass"&&Ie(te().division)?Oe(te().year):null),B=L(()=>Q(te().pieces)),D=L(()=>r(O)?[{name:r(O).piece,isTestPiece:!0},...r(B).map(xe=>({name:xe,isTestPiece:!1}))]:r(B).map(xe=>({name:xe,isTestPiece:!1})));var ve=Fe(),ye=be(ve);{var Me=xe=>{var Re=c_();m(xe,Re)},ut=xe=>{var Re=v_();Ze(Re,21,()=>r(D),it,(Pe,rt)=>{const Ge=L(()=>r(rt).name);var ct=d_(),Qe=v(ct);{var dt=St=>{var Et=u_();m(St,Et)},je=St=>{var Et=Fe(),me=be(Et);{var ft=_=>{var E=f_();m(_,E)};q(me,_=>{i()==="brass"&&Ie(te().division)&&_(ft)},!0)}m(St,Et)};q(Qe,St=>{r(rt).isTestPiece?St(dt):St(je,!1)})}var Be=x(Qe,2);let vt;var Mt=v(Be);X((St,Et)=>{z(Be,"href",St),vt=Vt(Be,1,"program-link svelte-1e9ky18",null,vt,Et),F(Mt,r(Ge))},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(We(r(Ge)))}`,()=>({"test-piece-link":r(rt).isTestPiece})]),m(Pe,ct)}),m(xe,Re)};q(ye,xe=>{r(D).length===0?xe(Me):xe(ut,!1)})}m(T,ve)};q(nn,T=>{T(yn)})}var Pt=x(Xt),k=v(Pt);{var y=T=>{const O=L(()=>i()==="brass"&&Ie(te().division)?Oe(te().year):null),B=L(()=>Q(te().pieces)),D=L(()=>r(O)?[{name:r(O).piece,isTestPiece:!0},...r(B).map(xe=>({name:xe,isTestPiece:!1}))]:r(B).map(xe=>({name:xe,isTestPiece:!1})));var ve=Fe(),ye=be(ve);{var Me=xe=>{var Re=h_();m(xe,Re)},ut=xe=>{var Re=b_();Ze(Re,21,()=>r(D),it,(Pe,rt)=>{const Ge=L(()=>r(rt).name),ct=L(()=>S(te(),we(),r(Ge)));var Qe=y_(),dt=v(Qe);{var je=vt=>{var Mt=g_(),St=v(Mt);{var Et=_=>{var E=p_(),C=v(E),N=v(C);X(G=>{z(E,"href",r(ct).spotify),z(E,"title",G),F(N,`Hør ${r(Ge)??""} på Spotify`)},[()=>Ne(r(Ge),r(ct),"spotify")]),m(_,E)};q(St,_=>{r(ct)?.spotify&&_(Et)})}var me=x(St,2);{var ft=_=>{const E=L(()=>re(r(ct).apple_music));var C=Fe(),N=be(C);{var G=J=>{var V=__(),W=v(V),ce=v(W);X(he=>{z(V,"href",r(E)),z(V,"title",he),F(ce,`Hør ${r(Ge)??""} på Apple Music`)},[()=>Ne(r(Ge),r(ct),"apple")]),m(J,V)};q(N,J=>{r(E)&&J(G)})}m(_,C)};q(me,_=>{r(ct)?.apple_music&&_(ft)})}m(vt,Mt)},Be=vt=>{var Mt=m_();m(vt,Mt)};q(dt,vt=>{le(r(ct))?vt(je):vt(Be,!1)})}m(Pe,Qe)}),m(xe,Re)};q(ye,xe=>{r(D).length===0?xe(Me):xe(ut,!1)})}m(T,ve)};q(k,T=>{T(y)})}X((T,O,B)=>{F(Le,T),z(yt,"href",O),F(ze,we()),F(qt,B)},[()=>R(te().rank),()=>`?type=${i()}&view=bands&band=${encodeURIComponent(We(we()))}`,()=>Y(te().points,te().max_points)]),m(Ee,lt)}),m(oe,ee)};q(mt,oe=>{!r(U)||r(U).length===0?oe(fe):oe(de,!1)})}m(at,ot)};q(ie,at=>{!r(M)||!r(M).length?at(_e):at(Ve,!1)},!0)}m(j,H)};q(st,j=>{n()?j(Dt,!1):j(Rt)})}m(e,wt),mn()}vi(["change"]);function Al(e){return e.replace(/\s+/g," ").trim()}const A_=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function M_(e){return e.replace(A_,"").trim()}function ei(e){if(!e)return[];const t=M_(e);if(!t)return[];const i=t.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/·]/g,",").split(/[;,]/).map(a=>Al(a)).filter(a=>a.length>0),s=new Map;for(const a of i){const o=a.toLowerCase();s.has(o)||s.set(o,a)}return Array.from(s.values())}var N_=P('<a class="composer-link svelte-18hgr5c"> </a> ',1),$_=P('<p class="piece-composer svelte-18hgr5c"></p>'),P_=P('<p class="piece-composer svelte-18hgr5c"> </p>'),T_=P('<a class="entity-link svelte-18hgr5c"> </a>'),C_=P("<span>Ukjent</span>"),I_=P('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Spotify</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),L_=P('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Apple Music</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),R_=P('<div class="streaming-links svelte-18hgr5c"><!> <!></div>'),D_=P('<span class="streaming-missing svelte-18hgr5c" aria-hidden="true">–</span>'),F_=P('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td><td data-label="Opptak" class="streaming-cell svelte-18hgr5c"><!></td></tr>'),O_=P('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="svelte-18hgr5c">År</th><th scope="col" class="svelte-18hgr5c">Divisjon</th><th scope="col" class="svelte-18hgr5c">Korps</th><th scope="col" class="svelte-18hgr5c">Plass</th><th scope="col" class="svelte-18hgr5c">Poeng</th><th scope="col" class="svelte-18hgr5c">Dirigent</th><th scope="col" class="streaming-column svelte-18hgr5c">Opptak</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),j_=P('<section class="pieces-view svelte-18hgr5c"></section>');function q_(e,t){gn(t,!0);let n=gt(t,"pieces",19,()=>[]),i=gt(t,"bandType",3,"wind");const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});function a(p){return[...p].sort((g,w)=>{const A=g.entry.year-w.entry.year;if(A!==0)return A;const M=g.entry.rank??Number.POSITIVE_INFINITY,I=w.entry.rank??Number.POSITIVE_INFINITY;return M!==I?M-I:g.band.localeCompare(w.band)})}function o(p){return p.composerNames&&p.composerNames.length>0?p.composerNames:p.composer?ei(p.composer):[]}function l(p){return p==null?"–":s.format(p)}function c(p){return p!=null?`${p}`:"–"}function u(p){return!!(p?.spotify||p?.apple_music)}function f(p){if(!p)return null;const g=p.trim();if(!g)return null;if(!/^https?:\/\//i.test(g))return g;try{const w=new URL(g);return`music://${`${w.host}${w.pathname}${w.search}${w.hash}`}`}catch(w){return console.warn("Kunne ikke konvertere Apple Music-lenke",w),g}}function d(p,g,w){if(!g)return p;const A=g.recording_title?.trim(),M=g.album?.trim(),I=w==="spotify"?"Spotify":"Apple Music",U=A&&A.length>0?A:p;return M&&M.length>0?`${U} • ${M} (${I})`:`${U} (${I})`}let h=L(()=>n().map(p=>({...p,performances:a(p.performances)})));var b=j_();Ze(b,21,()=>r(h),it,(p,g)=>{const w=L(()=>o(r(g)));var A=O_(),M=v(A),I=v(M),U=v(I),K=v(U),Z=x(U,2);{var ne=S=>{var le=$_();Ze(le,21,()=>r(w),it,(re,Ne,Oe)=>{var Ie=N_(),Xe=be(Ie),tt=v(Xe),wt=x(Xe,1,!0);X(st=>{z(Xe,"href",st),F(tt,r(Ne)),F(wt,Oe<r(w).length-1?", ":"")},[()=>`?type=${i()}&view=composers&composer=${encodeURIComponent(We(r(Ne)))}`]),m(re,Ie)}),m(S,le)},se=S=>{var le=Fe(),re=be(le);{var Ne=Oe=>{var Ie=P_(),Xe=v(Ie);X(()=>F(Xe,r(g).composer)),m(Oe,Ie)};q(re,Oe=>{r(g).composer&&Oe(Ne)},!0)}m(S,le)};q(Z,S=>{r(w).length>0?S(ne):S(se,!1)})}var ke=x(Z,2),Ae=v(ke),R=x(M,2),Y=v(R),Q=x(v(Y));Ze(Q,21,()=>r(g).performances,it,(S,le)=>{const re=L(()=>r(le).entry.conductor?.trim()??""),Ne=L(()=>r(re).length>0),Oe=L(()=>r(Ne)?We(r(re)):""),Ie=L(()=>We(r(le).band)),Xe=L(()=>r(le).streaming??null);var tt=F_(),wt=v(tt),st=v(wt),Rt=x(wt),Dt=v(Rt),j=x(Rt),H=v(j),ie=v(H),_e=x(j),Ve=v(_e),at=x(_e),ot=v(at),Ft=x(at),$t=v(Ft);{var At=ae=>{var pe=T_(),Ue=v(pe);X(Te=>{z(pe,"href",Te),F(Ue,r(re))},[()=>`?type=${i()}&view=conductors&conductor=${encodeURIComponent(r(Oe))}`]),m(ae,pe)},xt=ae=>{var pe=C_();m(ae,pe)};q($t,ae=>{r(Ne)?ae(At):ae(xt,!1)})}var ht=x(Ft),_t=v(ht);{var Qt=ae=>{var pe=R_(),Ue=v(pe);{var Te=de=>{var oe=I_();X(ee=>{z(oe,"href",r(Xe).spotify),z(oe,"title",ee)},[()=>d(r(g).name,r(Xe),"spotify")]),m(de,oe)};q(Ue,de=>{r(Xe)?.spotify&&de(Te)})}var mt=x(Ue,2);{var fe=de=>{const oe=L(()=>f(r(Xe).apple_music));var ee=Fe(),Se=be(ee);{var Je=Ee=>{var $e=L_();X(we=>{z($e,"href",r(oe)),z($e,"title",we)},[()=>d(r(g).name,r(Xe),"apple")]),m(Ee,$e)};q(Se,Ee=>{r(oe)&&Ee(Je)})}m(de,ee)};q(mt,de=>{r(Xe)?.apple_music&&de(fe)})}m(ae,pe)},Ot=ae=>{var pe=D_();m(ae,pe)};q(_t,ae=>{u(r(Xe))?ae(Qt):ae(Ot,!1)})}X((ae,pe,Ue)=>{F(st,r(le).entry.year),F(Dt,r(le).entry.division),z(H,"href",ae),F(ie,r(le).band),F(Ve,pe),F(ot,Ue)},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(r(Ie))}`,()=>c(r(le).entry.rank),()=>l(r(le).entry.points)]),m(S,tt)}),X(()=>{F(K,r(g).name),F(Ae,`${r(g).performances.length??""} fremføringer`),z(R,"aria-label",`Fremføringer av ${r(g).name}`)}),m(p,A)}),m(e,b),mn()}var z_=P('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),B_=P('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),Y_=P('<section class="composers-view svelte-1njzana"></section>');function U_(e,t){gn(t,!0);let n=gt(t,"composers",19,()=>[]),i=gt(t,"bandType",3,"wind"),s=L(()=>[...n()].sort((o,l)=>o.name.localeCompare(l.name)));var a=Y_();Ze(a,21,()=>r(s),it,(o,l)=>{var c=B_(),u=v(c),f=v(u),d=v(f),h=v(d),b=x(d,2),p=v(b),g=x(u,2);Ze(g,21,()=>r(l).pieces,it,(w,A)=>{var M=z_(),I=v(M),U=v(I);X(K=>{z(I,"href",K),F(U,r(A).name)},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(r(A).slug)}`]),m(w,M)}),X(()=>{F(h,r(l).name),F(p,`${r(l).pieces.length??""} ${r(l).pieces.length===1?"stykke":"stykker"}`)}),m(o,c)}),m(e,a),mn()}function V_(e,t){$(t,1)}function H_(e,t,n,i,s,a,o,l,c){$(t,""),$(n,null),$(i,null),$(s,null),$(a,null),$(o,null),$(l,null),$(c,1)}var K_=P('<div class="loading svelte-1ns3hxx">Laster repertoar...</div>'),X_=P('<div class="error svelte-1ns3hxx"> </div>'),G_=(e,t)=>t("title"),W_=(e,t)=>t("composer"),Z_=(e,t)=>t("duration"),J_=(e,t)=>t("difficulty"),Q_=(e,t)=>t("year"),eg=P('<tr class="svelte-1ns3hxx"><td class="title-cell svelte-1ns3hxx" data-label="Tittel"> </td><td class="composer-cell svelte-1ns3hxx" data-label="Komponist"> </td><td class="duration-cell svelte-1ns3hxx" data-label="Varighet"> </td><td class="difficulty-cell svelte-1ns3hxx" data-label="Grad"> </td><td class="year-cell svelte-1ns3hxx" data-label="År"> </td><td class="link-cell svelte-1ns3hxx" data-label="Link"><a target="_blank" rel="noopener noreferrer" class="svelte-1ns3hxx">WindRep</a></td></tr>'),tg=(e,t)=>$(t,Math.max(1,r(t)-1),!0),ng=(e,t,n)=>$(t,Math.min(r(n),r(t)+1),!0),rg=P('<div class="pagination svelte-1ns3hxx"><button class="svelte-1ns3hxx">‹ Forrige</button> <span class="page-info svelte-1ns3hxx"> </span> <button class="svelte-1ns3hxx">Neste ›</button></div>'),ig=P('<div class="filters-container svelte-1ns3hxx"><div class="search-row svelte-1ns3hxx"><div class="search-group svelte-1ns3hxx"><input type="text" placeholder="Søk..." class="search-input svelte-1ns3hxx"/> <select class="search-field-select svelte-1ns3hxx"><option>Tittel</option><option>Komponist</option></select></div></div> <div class="filter-row svelte-1ns3hxx"><div class="filter-group svelte-1ns3hxx"><label for="duration-min" class="svelte-1ns3hxx">Varighet (min)</label> <div class="range-inputs svelte-1ns3hxx"><input id="duration-min" type="number" placeholder="Min" min="0" max="60" class="svelte-1ns3hxx"/> <span class="svelte-1ns3hxx">—</span> <input id="duration-max" type="number" placeholder="Maks" min="0" max="60" class="svelte-1ns3hxx"/></div></div> <div class="filter-group svelte-1ns3hxx"><label for="difficulty-min" class="svelte-1ns3hxx">Vanskelighetsgrad (1-6)</label> <div class="range-inputs svelte-1ns3hxx"><input id="difficulty-min" type="number" placeholder="Min" min="1" max="6" class="svelte-1ns3hxx"/> <span class="svelte-1ns3hxx">—</span> <input id="difficulty-max" type="number" placeholder="Maks" min="1" max="6" class="svelte-1ns3hxx"/></div></div> <div class="filter-group svelte-1ns3hxx"><label for="year-min" class="svelte-1ns3hxx">År</label> <div class="range-inputs svelte-1ns3hxx"><input id="year-min" type="number" placeholder="Fra" min="1770" max="2025" class="svelte-1ns3hxx"/> <span class="svelte-1ns3hxx">—</span> <input id="year-max" type="number" placeholder="Til" min="1770" max="2025" class="svelte-1ns3hxx"/></div></div> <button class="reset-button svelte-1ns3hxx">Nullstill</button></div> <div class="results-info svelte-1ns3hxx"><span> </span> <div class="page-size-selector svelte-1ns3hxx"><label for="page-size-select" class="svelte-1ns3hxx">Vis:</label> <select id="page-size-select" class="svelte-1ns3hxx"><option>20</option><option>50</option><option>100</option></select></div></div></div> <div class="table-container svelte-1ns3hxx"><table class="repertoire-table svelte-1ns3hxx"><thead class="svelte-1ns3hxx"><tr><th> </th><th> </th><th> </th><th> </th><th> </th><th class="svelte-1ns3hxx">Link</th></tr></thead><tbody class="svelte-1ns3hxx"></tbody></table></div> <!>',1),sg=P('<div class="repertoire-explorer svelte-1ns3hxx"><!></div>');function ag(e,t){gn(t,!0);let n=ue(null),i=ue(!0),s=ue(null),a=ue(""),o=ue("title"),l=ue(null),c=ue(null),u=ue(null),f=ue(null),d=ue(null),h=ue(null),b=ue(50),p=ue(1),g=ue("title"),w=ue("asc"),A=L(()=>{if(!r(n))return[];let R=r(n).pieces.filter(Y=>{if(r(a).trim()){const Q=r(a).toLowerCase();if(r(o)==="title"){if(!Y.title.toLowerCase().includes(Q))return!1}else if(!Y.composer?.toLowerCase().includes(Q))return!1}return!(r(l)!==null&&(Y.duration_minutes===null||Y.duration_minutes<r(l))||r(c)!==null&&(Y.duration_minutes===null||Y.duration_minutes>r(c))||r(u)!==null&&(Y.difficulty===null||Y.difficulty<r(u))||r(f)!==null&&(Y.difficulty===null||Y.difficulty>r(f))||r(d)!==null&&(Y.max_year===null||Y.max_year<r(d))||r(h)!==null&&(Y.min_year===null||Y.min_year>r(h)))});return R.sort((Y,Q)=>{let S,le;switch(r(g)){case"title":S=Y.title.toLowerCase(),le=Q.title.toLowerCase();break;case"composer":S=(Y.composer||"").toLowerCase(),le=(Q.composer||"").toLowerCase();break;case"duration":S=Y.duration_minutes??-1,le=Q.duration_minutes??-1;break;case"difficulty":S=Y.difficulty??-1,le=Q.difficulty??-1;break;case"year":S=Y.min_year??-1,le=Q.min_year??-1;break;default:return 0}return S<le?r(w)==="asc"?-1:1:S>le?r(w)==="asc"?1:-1:0}),R}),M=L(()=>{const R=(r(p)-1)*r(b),Y=R+r(b);return r(A).slice(R,Y)}),I=L(()=>Math.ceil(r(A).length/r(b)));function U(R){r(g)===R?$(w,r(w)==="asc"?"desc":"asc",!0):($(g,R,!0),$(w,"asc")),$(p,1)}function K(R){if(R===null)return"—";const Y=Math.floor(R),Q=Math.round((R-Y)*60);return`${Y}:${Q.toString().padStart(2,"0")}`}function Z(R){return!R||R.length===0?"—":R.length===1?R[0].toString():`${R[0]}–${R[R.length-1]}`}Wn(async()=>{if(typeof window>"u"){$(i,!1);return}try{const R=await fetch("data/repertoire.json");if(!R.ok)throw new Error(`Failed to load repertoire data: ${R.statusText}`);$(n,await R.json(),!0)}catch(R){$(s,R instanceof Error?R.message:"Unknown error",!0),console.error("Failed to load repertoire:",R)}finally{$(i,!1)}});var ne=sg(),se=v(ne);{var ke=R=>{var Y=K_();m(R,Y)},Ae=R=>{var Y=Fe(),Q=be(Y);{var S=re=>{var Ne=X_(),Oe=v(Ne);X(()=>F(Oe,`Feil ved lasting av data: ${r(s)??""}`)),m(re,Ne)},le=re=>{var Ne=Fe(),Oe=be(Ne);{var Ie=Xe=>{var tt=ig(),wt=be(tt),st=v(wt),Rt=v(st),Dt=v(Rt),j=x(Dt,2),H=v(j);H.value=H.__value="title";var ie=x(H);ie.value=ie.__value="composer";var _e=x(st,2),Ve=v(_e),at=x(v(Ve),2),ot=v(at),Ft=x(ot,4),$t=x(Ve,2),At=x(v($t),2),xt=v(At),ht=x(xt,4),_t=x($t,2),Qt=x(v(_t),2),Ot=v(Qt),ae=x(Ot,4),pe=x(_t,2);pe.__click=[H_,a,l,c,u,f,d,h,p];var Ue=x(_e,2),Te=v(Ue),mt=v(Te),fe=x(Te,2),de=x(v(fe),2);de.__change=[V_,p];var oe=v(de);oe.value=oe.__value=20;var ee=x(oe);ee.value=ee.__value=50;var Se=x(ee);Se.value=Se.__value=100;var Je=x(wt,2),Ee=v(Je),$e=v(Ee),we=v($e),te=v(we);te.__click=[G_,U];let lt;var Ce=v(te),Le=x(te);Le.__click=[W_,U];let nt;var yt=v(Le),ze=x(Le);ze.__click=[Z_,U];let He;var kt=v(ze),jt=x(ze);jt.__click=[J_,U];let en;var tn=v(jt),qt=x(jt);qt.__click=[Q_,U];let Xt;var nn=v(qt),yn=x($e);Ze(yn,21,()=>r(M),y=>y.url,(y,T)=>{var O=eg(),B=v(O),D=v(B),ve=x(B),ye=v(ve),Me=x(ve),ut=v(Me),xe=x(Me),Re=v(xe),Pe=x(xe),rt=v(Pe),Ge=x(Pe),ct=v(Ge);X((Qe,dt)=>{F(D,r(T).title),F(ye,r(T).composer||"—"),F(ut,Qe),F(Re,r(T).difficulty_roman||"—"),F(rt,dt),z(ct,"href",r(T).url)},[()=>K(r(T).duration_minutes),()=>Z(r(T).years)]),m(y,O)});var Pt=x(Je,2);{var k=y=>{var T=rg(),O=v(T);O.__click=[tg,p];var B=x(O,2),D=v(B),ve=x(B,2);ve.__click=[ng,p,I],X(()=>{O.disabled=r(p)===1,F(D,`Side ${r(p)??""} av ${r(I)??""}`),ve.disabled=r(p)===r(I)}),m(y,T)};q(Pt,y=>{r(I)>1&&y(k)})}X((y,T,O,B,D)=>{F(mt,`${r(A).length??""} stykker`),lt=Vt(te,1,"svelte-1ns3hxx",null,lt,y),F(Ce,`Tittel ${r(g)==="title"?r(w)==="asc"?"▲":"▼":""}`),nt=Vt(Le,1,"svelte-1ns3hxx",null,nt,T),F(yt,`Komponist ${r(g)==="composer"?r(w)==="asc"?"▲":"▼":""}`),He=Vt(ze,1,"svelte-1ns3hxx",null,He,O),F(kt,`Varighet ${r(g)==="duration"?r(w)==="asc"?"▲":"▼":""}`),en=Vt(jt,1,"svelte-1ns3hxx",null,en,B),F(tn,`Grad ${r(g)==="difficulty"?r(w)==="asc"?"▲":"▼":""}`),Xt=Vt(qt,1,"svelte-1ns3hxx",null,Xt,D),F(nn,`År ${r(g)==="year"?r(w)==="asc"?"▲":"▼":""}`)},[()=>({sorted:r(g)==="title"}),()=>({sorted:r(g)==="composer"}),()=>({sorted:r(g)==="duration"}),()=>({sorted:r(g)==="difficulty"}),()=>({sorted:r(g)==="year"})]),Xn(Dt,()=>r(a),y=>$(a,y)),ba(j,()=>r(o),y=>$(o,y)),Xn(ot,()=>r(l),y=>$(l,y)),Xn(Ft,()=>r(c),y=>$(c,y)),Xn(xt,()=>r(u),y=>$(u,y)),Xn(ht,()=>r(f),y=>$(f,y)),Xn(Ot,()=>r(d),y=>$(d,y)),Xn(ae,()=>r(h),y=>$(h,y)),ba(de,()=>r(b),y=>$(b,y)),m(Xe,tt)};q(Oe,Xe=>{r(n)&&Xe(Ie)},!0)}m(re,Ne)};q(Q,re=>{r(s)?re(S):re(le,!1)},!0)}m(R,Y)};q(se,R=>{r(i)?R(ke):R(Ae,!1)})}m(e,ne),mn()}vi(["click","change"]);var og=(e,t)=>t.onSelect("wind"),lg=(e,t)=>t.onSelect("brass"),cg=P('<div class="startup-screen svelte-c1vyj8"><div class="startup-content svelte-c1vyj8"><h1 class="svelte-c1vyj8">NM Korps</h1> <p class="subtitle svelte-c1vyj8">Resultatoversikt</p> <div class="choice-container svelte-c1vyj8"><button class="choice-button choice-button--janitsjar svelte-c1vyj8"><span class="choice-icon svelte-c1vyj8" aria-hidden="true">🎷</span> <span class="choice-title svelte-c1vyj8">NM Janitsjar</span> <span class="choice-description svelte-c1vyj8">Norges janitsjarkorps</span></button> <button class="choice-button choice-button--brass svelte-c1vyj8"><span class="choice-icon svelte-c1vyj8" aria-hidden="true">🎺</span> <span class="choice-title svelte-c1vyj8">NM Brass</span> <span class="choice-description svelte-c1vyj8">Norges brassband</span></button></div></div></div>');function ug(e,t){gn(t,!0);var n=cg(),i=v(n),s=x(v(i),4),a=v(s);a.__click=[og,t];var o=x(a,2);o.__click=[lg,t],m(e,n),mn()}vi(["click"]);var fg=P(`<div class="about-page svelte-nmuxfl"><section class="about-section svelte-nmuxfl"><h2 class="svelte-nmuxfl">Om denne appen</h2> <p class="svelte-nmuxfl"> </p></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Datakilder</h3> <ul class="svelte-nmuxfl"><li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Konkurransedata:</strong> Hentet fra <a href="https://nmjanitsjar.no" target="_blank" rel="noopener noreferrer" class="svelte-nmuxfl">nmjanitsjar.no</a> og <a href="https://nmbrass.no" target="_blank" rel="noopener noreferrer" class="svelte-nmuxfl">nmbrass.no</a> sine rikholdige arkiver over NM-prestasjoner.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Repertoardatabase:</strong> Bygget på bakgrunn av data fra <a href="https://windrep.org" target="_blank" rel="noopener noreferrer" class="svelte-nmuxfl">windrep.org</a>, 
        som gir informasjon om komponister, vanskelighetsgrad og varighet for janitsjarmusikk.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Musikkopptak:</strong> Lenker er knyttet fra NM-stykkene til utgivelsene av NM-musikk på <strong class="svelte-nmuxfl">Spotify</strong> og <strong class="svelte-nmuxfl">Apple Music</strong> der dette er tilgjengelig.</li></ul></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Funksjoner</h3> <h4 class="svelte-nmuxfl">Sammenligning av korps</h4> <p class="svelte-nmuxfl">På korps-siden kan du sammenligne så mange korps du vil. Grafen viser hvordan den samlede plasseringen 
      utvikler seg år for år, på tvers av alle divisjoner korpset har deltatt i.</p> <h4 class="svelte-nmuxfl">Sammenligning av dirigenter</h4> <p class="svelte-nmuxfl">Du kan også sammenligne dirigenter. Det du sammenligner da er det beste korpset til hver dirigent 
      i de årene dirigentene har vært aktive i NM. Dette gir deg et bilde av dirigentens beste prestasjoner 
      gjennom karrieren.</p> <h4 class="svelte-nmuxfl">Musikkstykker og komponister</h4> <p class="svelte-nmuxfl">Du kan liste alle gangene et stykke har vært fremført i NM, samt se alle komponistene som har 
      vært brukt i NM-sammenheng. Dette gir deg oversikt over repertoaret og hvilke komponister 
      som er mest populære.</p> <h4 class="svelte-nmuxfl">Resultatlister</h4> <p class="svelte-nmuxfl">På resultat-siden kan du velge et spesifikt år og en divisjon for å se den komplette resultatlisten 
      med korps, dirigenter, program og poengsum.</p></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Navigasjon og innstillinger</h3> <ul class="svelte-nmuxfl"><li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Bytt mellom visninger:</strong> Bruk knappene øverst for å navigere mellom korps, dirigenter, 
        stykker, komponister, repertoar og resultatlister.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Valg bevares:</strong> Appen husker alle valg du har gjort når du navigerer mellom sidene. 
        Når du bytter mellom janitsjar og brass, nullstilles alle valg.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Tema:</strong> Du kan velge mellom lyst og mørkt modus ved å trykke på tema-knappen 
        (☀️/🌙) i menyen. Valget ditt lagres og gjenbrukes neste gang du besøker siden.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Delbare lenker:</strong> URL-en oppdateres basert på dine valg, så du kan dele lenker 
        til spesifikke sammenligninger eller resultatlister med andre.</li></ul></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Tips</h3> <ul class="svelte-nmuxfl"><li class="svelte-nmuxfl">På mobil kan du bruke hamburgermenyen (☰) for å få tilgang til alle navigasjonsalternativer.</li> <li class="svelte-nmuxfl">Klikk på korpsnavn, dirigenter eller stykker i tabellene for å legge dem til i sammenligningen.</li> <li class="svelte-nmuxfl">Bruk «Tilpass»-menyen på graf-siden for å bytte mellom absolutt og relativ plassering.</li> <li class="svelte-nmuxfl">Musikkopptak vises med Spotify- og Apple Music-ikoner der lenker er tilgjengelige.</li></ul></section> <section class="about-section about-footer svelte-nmuxfl"><p class="svelte-nmuxfl">Har du spørsmål, tilbakemeldinger eller har funnet feil i dataene? 
      Ta gjerne kontakt via nettstedene til NM janitsjar eller NM brass.</p></section></div>`);function dg(e,t){let n=gt(t,"bandType",3,"wind");var i=fg(),s=v(i),a=x(v(s),2),o=v(a);X(()=>F(o,`Denne appen lar deg utforske historiske resultater fra NM ${n()==="wind"?"janitsjar":"brass"}. 
      Du kan sammenligne korps, dirigenter og musikkstykker på tvers av år og divisjoner.`)),m(e,i)}var vg=(e,t,n)=>{r(t)||n()},hg=(e,t,n)=>{r(t)&&n()},pg=P('<div class="toggle-switch svelte-sz7h13" role="group"><button type="button"> </button> <button type="button"> </button> <div></div></div>');function ms(e,t){gn(t,!0);let n=gt(t,"value",15);const i=tu();function s(){const g=n()===t.options[0]?t.options[1]:t.options[0];n(g),i("change",{value:g})}let a=L(()=>n()===t.options[0]);var o=pg(),l=v(o);let c;l.__click=[vg,a,s];var u=v(l),f=x(l,2);let d;f.__click=[hg,a,s];var h=v(f),b=x(f,2);let p;X((g,w,A)=>{z(o,"aria-label",t.ariaLabel),c=Vt(l,1,"toggle-switch__option svelte-sz7h13",null,c,g),z(l,"aria-pressed",r(a)),F(u,t.labels[0]),d=Vt(f,1,"toggle-switch__option svelte-sz7h13",null,d,w),z(f,"aria-pressed",!r(a)),F(h,t.labels[1]),p=Vt(b,1,"toggle-switch__slider svelte-sz7h13",null,p,A)},[()=>({active:r(a)}),()=>({active:!r(a)}),()=>({"toggle-switch__slider--right":!r(a)})]),m(e,o),mn()}vi(["click"]);var _g=P(`<section class="settings-page svelte-1rli9n1"><header class="settings-header svelte-1rli9n1"><h2 class="svelte-1rli9n1">Innstillinger</h2> <p class="settings-lead svelte-1rli9n1">Tilpass visningen av diagrammer og tema. Endringer lagres automatisk og gjelder for alle visninger.</p></header> <div class="settings-grid svelte-1rli9n1"><div class="setting-card svelte-1rli9n1"><div class="setting-info svelte-1rli9n1"><h3 class="svelte-1rli9n1">Plassering</h3> <p class="svelte-1rli9n1">Velg hvordan plasseringer vises i diagrammet. <strong>Relativ</strong> viser plassering som prosent av 
          antall deltakere (f.eks. 10% = topp 10%). <strong>Absolutt</strong> viser faktisk plasseringsnummer 
          (f.eks. 3. plass).</p></div> <div class="setting-control svelte-1rli9n1"><!></div></div> <div class="setting-card svelte-1rli9n1"><div class="setting-info svelte-1rli9n1"><h3 class="svelte-1rli9n1">Y-akse</h3> <p class="svelte-1rli9n1">Velg hvordan Y-aksen skaleres. <strong>Tilpasset</strong> zoomer inn på de faktiske plasseringene 
          for bedre detaljer. <strong>Full</strong> viser hele skalaen fra beste til dårligste mulige plassering.</p></div> <div class="setting-control svelte-1rli9n1"><!></div></div> <div class="setting-card svelte-1rli9n1"><div class="setting-info svelte-1rli9n1"><h3 class="svelte-1rli9n1">Tema</h3> <p class="svelte-1rli9n1">Velg fargetema for appen. <strong>Mørkt</strong> tema er bedre for svakt lys og sparer batteri på OLED-skjermer. <strong>Lyst</strong> tema er bedre i sterkt lys.</p></div> <div class="setting-control svelte-1rli9n1"><!></div></div></div></section>`);function gg(e,t){gn(t,!0);let n=gt(t,"yAxisMode",15),i=gt(t,"yAxisScale",15),s=gt(t,"theme",15),a=!1;vn(()=>{if(!a){xr(()=>{n(),a=!0});return}t.onYAxisModeChange?.(n())}),vn(()=>{a&&t.onYAxisScaleChange?.(i())}),vn(()=>{a&&t.onThemeChange?.(s())});var o=_g(),l=x(v(o),2),c=v(l),u=x(v(c),2),f=v(u);ms(f,{options:["absolute","relative"],labels:["Absolutt","Relativ"],ariaLabel:"Velg plasseringsvisning",get value(){return n()},set value(A){n(A)}});var d=x(c,2),h=x(v(d),2),b=v(h);ms(b,{options:["fitted","full"],labels:["Tilpasset","Full"],ariaLabel:"Velg Y-akse skalering",get value(){return i()},set value(A){i(A)}});var p=x(d,2),g=x(v(p),2),w=v(g);ms(w,{options:["dark","light"],labels:["Mørkt","Lyst"],ariaLabel:"Velg fargetema",get value(){return s()},set value(A){s(A)}}),m(e,o),mn()}function Ni(e,t){if(typeof window>"u")return t;try{return window.localStorage.getItem(e)??t}catch(n){return console.error(`Could not read from localStorage (key: ${e})`,n),t}}function $i(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,t)}catch(n){console.error(`Could not write to localStorage (key: ${e})`,n)}}const Kn={THEME:"nmkorps-theme",BAND_TYPE:"nmkorps-band-type",YAXIS_MODE:"nmkorps-yaxis-mode",YAXIS_SCALE:"nmkorps-yaxis-scale"};function mg(e,t){$(t,!r(t))}function yg(e,t,n,i,s,a){r(t)!==null&&(n(r(t)==="wind"?"brass":"wind"),i(),s(),a())}function bg(e,t,n){$(t,e.target.value,!0),$(n,-1)}function wg(e,t,n,i){r(t).length&&(e.key==="ArrowDown"?(e.preventDefault(),$(n,(r(n)+1)%r(t).length)):e.key==="ArrowUp"?(e.preventDefault(),$(n,(r(n)-1+r(t).length)%r(t).length)):e.key==="Enter"&&r(n)>=0&&(e.preventDefault(),i(r(t)[r(n)])))}var xg=(e,t,n)=>t(r(n)),kg=P('<button type="button"><span class="view-toggle__label svelte-1n46o8q"> </span></button>'),Sg=P('<div role="option" tabindex="-1"> </div>'),Eg=P('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),Ag=P('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!>',1),Mg=P('<section class="status svelte-1n46o8q">Laster data…</section>'),Ng=P('<section class="status error svelte-1n46o8q"> </section>'),$g=P('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),Pg=P('<p class="comparison-summary svelte-1n46o8q"> </p>'),Tg=P('<section class="chart-card svelte-1n46o8q"><div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),Cg=(e,t,n)=>t(r(n).slug),Ig=P('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),Lg=P('<!> <div class="selected-entities selected-entities--below svelte-1n46o8q" role="list"></div> <!>',1),Rg=P('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),Dg=P('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><div class="page-header__title svelte-1n46o8q"><h1 class="svelte-1n46o8q"> </h1> <button class="menu-toggle svelte-1n46o8q" type="button" aria-controls="primary-controls"><span class="menu-toggle__icon svelte-1n46o8q" aria-hidden="true">☰</span> <span class="menu-toggle__text svelte-1n46o8q">Meny</span></button></div> <div id="primary-controls"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button type="button"><span aria-hidden="true"> </span> <span class="band-type-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function to(e,t){gn(t,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},i="view",s="type",a="year",o="division",l=",",c="relative",u="fitted",f="data",d="wind",h={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat",repertoire:"Repertoar",om:"Om",innstillinger:"⚙️"},b=["data","bands","conductors","pieces","composers","repertoire","om","innstillinger"];let p=ue(null),g=ue(Bt([])),w=ue(Bt([])),A=ue(Bt([])),M=ue(!0),I=ue(null),U=ue(""),K=ue(Bt([])),Z=ue(Bt([])),ne=ue(Bt([])),se=ue(Bt([])),ke=ue(-1),Ae=!1,R="",Y=ue(c),Q=ue("fitted"),S=ue(f),le=ue("dark"),re=ue(null),Ne=ue(!1),Oe=ue(!1),Ie=ue(!1),Xe=ue(!1),tt=new Map,wt=new Map,st=ue(null);function Rt(_){const E=new Map;for(const C of _){if(!C||!C.slug)continue;const N=C.slug.trim();if(!N)continue;const G=E.get(N);G?G.push(C):E.set(N,[C])}return E}function Dt(_){const E=new Map;for(const C of _){if(!C)continue;const N=Number(C.year);if(!Number.isFinite(N))continue;const G=C.division_slug??C.division,J=C.band_slug??C.band,V=C.result_piece_slug??C.result_piece;if(!G||!J||!V)continue;const W=We(G),ce=We(J);if(W==="uidentifisert"||!ce||ce==="uidentifisert")continue;const he=new Set,Ke=We(V);if(Ke!=="uidentifisert"&&he.add(Ke),C.alternate_result_piece_slugs&&Array.isArray(C.alternate_result_piece_slugs))for(const bt of C.alternate_result_piece_slugs){const Nt=bt?We(bt):"";Nt&&Nt!=="uidentifisert"&&he.add(Nt)}if(C.result_piece&&C.result_piece.trim()){const bt=We(C.result_piece);bt!=="uidentifisert"&&he.add(bt)}if(!he.size)continue;const De=typeof C.spotify=="string"&&C.spotify.trim().length>0?C.spotify.trim():null,ge=typeof C.apple_music=="string"&&C.apple_music.trim().length>0?C.apple_music.trim():null;if(!De&&!ge)continue;const et={spotify:De,apple_music:ge,album:C.album?.trim()??null,recording_title:C.recording_title?.trim()??null};for(const bt of he){const Nt=`${N}|${W}|${ce}|${bt}`;E.set(Nt,et)}}return E}function j(_,E,C){if(!wt.size)return null;const N=We(_.division),G=We(E);if(N==="uidentifisert"||!G||G==="uidentifisert")return null;const J=`${_.year}|${N}|${G}`;let V=at(C,E);if(!V.length){const W=We(C);V=W!=="uidentifisert"?[W]:[]}for(const W of V){const ce=`${J}|${W}`,he=wt.get(ce);if(he)return he}return null}const H=/["'«»“”„‟]/g,ie=/\([^)]*\)/g;function _e(_){return _.replace(ie," ")}function Ve(_){return _.replace(H,"").replace(/\s+/g," ").trim().toLowerCase()}function at(_,E){const C=_.trim();if(!C)return[];const N=new Set,G=We(C);G!=="uidentifisert"&&N.add(G);const J=_e(C),V=We(J);V!=="uidentifisert"&&N.add(V);const W=Ve(C),ce=We(W.replace(/[-–—]/g," "));ce!=="uidentifisert"&&N.add(ce);const he=We(W.replace(/[:;·]/g," "));he!=="uidentifisert"&&N.add(he);const Ke=[];J.includes("-")&&Ke.push(J.split(/[-–—]/)[0]),J.includes(":")&&Ke.push(J.split(":")[0]);for(const De of Ke){const ge=We(De);ge!=="uidentifisert"&&N.add(ge)}if(E&&E.trim()){const De=E.trim(),ge=`${C} - ${De}`,et=We(ge);et!=="uidentifisert"&&N.add(et);const bt=`${C} ${De}`,Nt=We(bt);Nt!=="uidentifisert"&&N.add(Nt)}return Array.from(N)}function ot(_,E){const C=at(_);if(!C.length)return null;const N=Ve(_),G=Ve(_e(_));for(const J of C){const V=E.get(J);if(!V||V.length===0)continue;if(V.length===1)return V[0].composer??null;const W=V.find(he=>Ve(he.title)===N);if(W)return W.composer??null;const ce=V.find(he=>Ve(_e(he.title))===G);return ce?ce.composer??null:V[0].composer??null}return null}function Ft(_,E){const C=Array.isArray(_.pieces)?[..._.pieces]:_.pieces!=null?[`${_.pieces}`.trim()].filter(Boolean):[],N={..._,pieces:C,conductor:_.conductor};return E&&(N.band_name=E),N}function $t(_){const E=new Map;for(const C of _)for(const N of C.entries){const G=N.conductor?.trim();if(!G)continue;const J=We(G);let V=E.get(J);V||(V={name:G,slug:J,years:new Map},E.set(J,V));let W=V.years.get(N.year);W||(W={entries:[]},V.years.set(N.year,W)),W.entries.push(Ft(N,C.name))}return Array.from(E.values()).map(C=>({name:C.name,slug:C.slug,entries:Array.from(C.years.entries()).map(([N,G])=>{const J=[...G.entries].sort((W,ce)=>{const he=W.absolute_position??Number.POSITIVE_INFINITY,Ke=ce.absolute_position??Number.POSITIVE_INFINITY;return he!==Ke?he-Ke:(W.rank??Number.POSITIVE_INFINITY)-(ce.rank??Number.POSITIVE_INFINITY)});return{...J[0],year:N,conductor:C.name,aggregate_entries:J}}).sort((N,G)=>N.year-G.year)})).sort((C,N)=>C.name.localeCompare(N.name))}function At(_,E,C){if(!C?.test_pieces)return;const N=new Map;for(const G of E)for(const J of G.entries)N.has(J.year)||N.set(J.year,[]),N.get(J.year).push({band:G.name,entry:J});for(const[G,J]of Object.entries(C.test_pieces)){const V=Number(G);if(!N.has(V))continue;const W=J.piece,ce=J.composer,he=We(W),De=N.get(V).filter(({entry:et})=>et.division.toLowerCase()==="elite");if(De.length===0)continue;let ge=_.get(he);if(ge)!ge.composer&&ce&&(ge.composer=ce,ge.composerNames=ei(ce));else{const et=ce?ei(ce):[];ge={name:W,slug:he,composer:ce??null,composerNames:et,performances:[]},_.set(he,ge)}for(const{band:et,entry:bt}of De){const Nt=j(bt,et,W);ge.performances.push({band:et,entry:bt,streaming:Nt})}}}function xt(_,E,C,N){const G=new Map;for(const J of _)for(const V of J.entries){const W=Array.isArray(V.pieces)?V.pieces:V.pieces!=null?[`${V.pieces}`]:[];for(const ce of W){const he=ce.trim();if(!he)continue;const Ke=We(he);let De=G.get(Ke);const ge=ot(he,E),et=ge?ei(ge):[],bt=et.length>0?et.join(", "):null;De?(!De.composer||!De.composerNames?.length)&&bt&&(De.composer=bt,De.composerNames=et):(De={name:he,slug:Ke,composer:bt,composerNames:et,performances:[]},G.set(Ke,De));const Nt=j(V,J.name,he);De.performances.push({band:J.name,entry:V,streaming:Nt})}}return N==="brass"&&At(G,_,C),Array.from(G.values()).map(J=>({...J,performances:J.performances.map(({band:V,entry:W,streaming:ce})=>({band:V,entry:{...W,pieces:[...W.pieces]},streaming:ce??null}))})).sort((J,V)=>J.name.localeCompare(V.name))}function ht(_){const E=new Map;for(const N of _){const G=N.composerNames&&N.composerNames.length>0?N.composerNames:ei(N.composer??null);if(G.length)for(const J of G){const V=Al(J);if(!V)continue;const W=We(V);if(W==="uidentifisert")continue;let ce=E.get(W);ce||(ce={name:V,slug:W,normalized:V.toLowerCase(),pieces:new Map},E.set(W,ce)),ce.pieces.has(N.slug)||ce.pieces.set(N.slug,{name:N.name,slug:N.slug})}}const C=Array.from(E.values()).map(N=>({name:N.name,slug:N.slug,normalized:N.normalized,pieces:Array.from(N.pieces.values()).sort((G,J)=>G.name.localeCompare(J.name))})).sort((N,G)=>N.name.localeCompare(G.name));return new Map(C.map(N=>[N.slug,N])),C}function _t(_){return _==="data"?"data":n[_]}function Qt(){if(typeof window>"u")return"dark";const _=Ni(Kn.THEME,"dark");return _==="light"||_==="dark"?_:window.matchMedia?.("(prefers-color-scheme: light)").matches?"light":"dark"}async function Ot(_){typeof document>"u"||(_==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light",await ae(_))}async function ae(_){if(typeof document>"u")return;const E=_==="light"?"#f8fafc":"#0f172a";let C=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');C||(C=document.createElement("meta"),C.setAttribute("name","apple-mobile-web-app-status-bar-style"),document.head.appendChild(C)),C.setAttribute("content",_==="light"?"default":"black-translucent");let N=document.querySelector('meta[name="theme-color"]');N||(N=document.createElement("meta"),N.setAttribute("name","theme-color"),document.head.appendChild(N)),N.setAttribute("content",E);try{await Es.setBackgroundColor({color:E})}catch(G){console.log("EdgeToEdge plugin not available:",G)}try{_==="light"?(await Zn.setStyle({style:Dr.Light}),await Zn.setBackgroundColor({color:E})):(await Zn.setStyle({style:Dr.Dark}),await Zn.setBackgroundColor({color:E}))}catch(G){console.log("Status Bar plugin not available:",G)}}function pe(){if(typeof window>"u")return d;const E=new URLSearchParams(window.location.search).get(s)?.toLowerCase();return E==="brass"||E==="brassband"?"brass":E==="wind"||E==="janitsjar"?"wind":d}function Ue(){if(typeof window>"u")return d;const _=new URLSearchParams(window.location.search),E=_.get(s)?.toLowerCase();if(E==="brass"||E==="brassband")return"brass";if(E==="wind"||E==="janitsjar")return"wind";if(_.has(i)||_.has("band")||_.has("conductor")||_.has("piece")||_.has("composer")||_.has(a)||_.has(o)){const N=Ni(Kn.BAND_TYPE,d);return N==="wind"||N==="brass"?N:d}return null}function Te(_){typeof document>"u"||(document.documentElement.dataset.bandType=_)}async function mt(_){$(le,_,!0),await Ot(_),$i(Kn.THEME,_)}function fe(_,E=!0){if(r(re)!==_){if($(Xe,!1),$(re,_,!0),Te(_),$i(Kn.BAND_TYPE,_),$(K,[],!0),$(Z,[],!0),$(ne,[],!0),$(se,[],!0),$(U,""),$(ke,-1),E&&typeof window<"u"){const C=new URLSearchParams;C.set(s,_),C.set(i,f);const N=`${window.location.pathname}?${C.toString()}${window.location.hash}`;window.history.replaceState({},"",N)}$(M,!0),$(I,null),$(p,null),$(g,[],!0),$(w,[],!0),$(A,[],!0),wt=new Map,tn(_)}}function de(){$(Ne,!1)}function oe(){$(Oe,!1)}function ee(){$(Ie,!1)}function Se(_){fe(_,!0)}function Je(){if(typeof window>"u")return f;const E=new URLSearchParams(window.location.search).get(i)?.toLowerCase();return E?E==="conductors"||E==="dirigent"||E==="conductor"?"conductors":E==="pieces"||E==="piece"||E==="stykke"||E==="stykker"?"pieces":E==="composers"||E==="komponist"||E==="composer"?"composers":E==="data"||E==="resultat"||E==="results"?"data":E==="om"||E==="about"?"om":"bands":f}function Ee(_){if(typeof window>"u")return[];const C=new URLSearchParams(window.location.search).get(_t(_));return C?C.split(l).map(N=>decodeURIComponent(N.trim())).filter(Boolean):[]}function $e(_,E){if(!_.length||!E.length)return[];const C=new Map(_.map(N=>[N.slug,N]));return E.map(N=>C.get(N)??C.get(N.toLowerCase())).filter(N=>!!N)}function we(_,E){return _.length!==E.length?!1:_.every((C,N)=>C.slug===E[N].slug)}function te(){if(typeof window>"u"||r(re)===null)return;const _=new URLSearchParams(window.location.search);_.set(s,r(re));const E=r(K).map(W=>encodeURIComponent(W.slug)).join(l);E.length?_.set(_t("bands"),E):_.delete(_t("bands"));const C=r(Z).map(W=>encodeURIComponent(W.slug)).join(l);C.length?_.set(_t("conductors"),C):_.delete(_t("conductors"));const N=r(ne).map(W=>encodeURIComponent(W.slug)).join(l);N.length?_.set(_t("pieces"),N):_.delete(_t("pieces"));const G=r(se).map(W=>encodeURIComponent(W.slug)).join(l);G.length?_.set(_t("composers"),G):_.delete(_t("composers")),_.set(i,r(S));const J=_.toString(),V=`${window.location.pathname}${J?`?${J}`:""}${window.location.hash}`;window.history.replaceState({},"",V)}function lt({updateHistory:_=!1}={}){const E=Je(),C=pe();let N=!1;if(C!==r(re))return fe(C,!1),N=!0,N;if(E!==r(S)&&($(S,E,!0),N=!0),!r(p))return _&&te(),N;const G=$e(r(p).bands,Ee("bands")),J=[...r(K)];for(const ge of G)J.some(et=>et.slug===ge.slug)||J.push(ge);we(r(K),J)||($(K,J,!0),N=!0),r(g).length||$(g,$t(r(p).bands),!0);const V=$e(r(g),Ee("conductors")),W=[...r(Z)];for(const ge of V)W.some(et=>et.slug===ge.slug)||W.push(ge);we(r(Z),W)||($(Z,W,!0),N=!0),r(w).length||($(w,xt(r(p).bands,tt,r(st),r(re)),!0),$(A,ht(r(w)),!0));const ce=$e(r(w),Ee("pieces")),he=[...r(ne)];for(const ge of ce)he.some(et=>et.slug===ge.slug)||he.push(ge);we(r(ne),he)||($(ne,he,!0),N=!0),r(A).length||$(A,ht(r(w)),!0);const Ke=$e(r(A),Ee("composers")),De=[...r(se)];for(const ge of Ke)De.some(et=>et.slug===ge.slug)||De.push(ge);return we(r(se),De)||($(se,De,!0),N=!0),_&&te(),N}function Ce(){const _=r(K).map(G=>G.slug).join(l),E=r(Z).map(G=>G.slug).join(l),C=r(ne).map(G=>G.slug).join(l),N=r(se).map(G=>G.slug).join(l);return`${r(re)??"none"}|${r(S)}|${_}|${E}|${C}|${N}`}function Le(){if(!Ae)return;const _=Ce();_!==R&&(te(),R=_)}function nt(_){if(r(S)==="bands"){if(r(K).some(E=>E.slug===_.slug))return;$(K,[...r(K),_],!0)}else if(r(S)==="conductors"){if(r(Z).some(E=>E.slug===_.slug))return;$(Z,[...r(Z),_],!0)}else if(r(S)==="pieces"){const E=_;if(r(ne).some(C=>C.slug===E.slug))return;$(ne,[...r(ne),E],!0)}else if(r(S)==="composers"){const E=_;if(r(se).some(C=>C.slug===E.slug))return;$(se,[...r(se),E],!0)}$(U,""),$(ke,-1),Le()}function yt(_){r(S)==="bands"?$(K,r(K).filter(E=>E.slug!==_),!0):r(S)==="conductors"?$(Z,r(Z).filter(E=>E.slug!==_),!0):r(S)==="pieces"?$(ne,r(ne).filter(E=>E.slug!==_),!0):r(S)==="composers"&&$(se,r(se).filter(E=>E.slug!==_),!0),$(ke,-1),Le()}function ze(){if(r(qt).length===0)return;const _=r(yn).find(E=>E.name.toLowerCase()===r(Xt));_?nt(_):r(k).length>0&&nt(r(k)[0])}function He(_){if(_===r(S)){de(),oe();return}$(S,_,!0),$(U,""),$(ke,-1),de(),oe(),Le()}function kt(_){r(Y)!==_&&($(Y,_,!0),$i(Kn.YAXIS_MODE,_))}function jt(_){r(Q)!==_&&($(Q,_,!0),$i(Kn.YAXIS_SCALE,_))}async function en(){try{const _=await fetch("data/elite_test_pieces.json",{cache:"no-cache"});if(!_.ok)throw new Error("Failed to load elite_test_pieces.json");$(st,await _.json(),!0)}catch(_){console.error("Could not load Elite test pieces:",_),$(st,null)}}async function tn(_){try{const E=_==="wind"?"data/band_positions.json":"data/brass_positions.json",C=_==="wind"?"data/piece_metadata.json":"data/brass_piece_metadata.json",N="data/piece_streaming_links.json",[G,J,V]=await Promise.all([fetch(E),fetch(C),fetch(N)]);if(_==="brass"&&r(st)===null&&await en(),!G.ok)throw new Error(`Kunne ikke laste data (status ${G.status})`);let W=[];if(J.ok)try{const Ke=await J.json();W=(Array.isArray(Ke.pieces)?Ke.pieces:[]).filter(ge=>!!(ge?.title&&ge?.slug)).map(ge=>({title:ge.title.trim(),slug:ge.slug.trim(),composer:ge.composer??null}))}catch(Ke){console.warn("Kunne ikke tolke stykke-metadata",Ke)}else console.warn(`Kunne ikke laste stykke-metadata (status ${J.status})`);tt=Rt(W);let ce=[];if(V.ok)try{const De=(await V.json())?.[_];Array.isArray(De)&&(ce=De.filter(ge=>!!ge))}catch(Ke){console.warn("Kunne ikke tolke opptakslenker",Ke)}else V.status!==404&&console.warn(`Kunne ikke laste opptakslenker (status ${V.status})`);wt=Dt(ce);const he=await G.json();$(p,he,!0),$(g,$t(he.bands),!0),$(w,xt(he.bands,tt,r(st),_),!0),$(A,ht(r(w)),!0),lt({updateHistory:!1}),R=Ce(),te(),Ae=!0}catch(E){$(I,E instanceof Error?E.message:"Ukjent feil ved lasting av data.",!0)}finally{$(M,!1)}}Wn(async()=>{const _=Qt();$(le,_,!0),await Ot(_);const E=Ni(Kn.YAXIS_MODE,c);(E==="absolute"||E==="relative")&&$(Y,E,!0);const C=Ni(Kn.YAXIS_SCALE,u);(C==="fitted"||C==="full")&&$(Q,C,!0);const N=Ue();N===null?($(Xe,!0),$(M,!1)):($(re,N,!0),Te(N),await tn(N))}),Wn(()=>{const _=()=>{r(p)&&(lt({updateHistory:!1}),R=Ce())};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)}),Wn(()=>{const _=E=>{const N=E.target.closest("a.entity-link, a.program-link");if(!(!N||!(N instanceof HTMLAnchorElement))&&!(E.ctrlKey||E.metaKey||E.shiftKey))try{const G=new URL(N.href),J=new URLSearchParams(G.search),V=J.get("band"),W=J.get("conductor"),ce=J.get("piece"),he=J.get("composer"),Ke=J.get("type"),De=J.get("view");if(Ke&&Ke!==r(re))return;E.preventDefault();const ge=new URLSearchParams(window.location.search),et=ge.get("band")?.split(",").filter(Boolean)||[],bt=ge.get("conductor")?.split(",").filter(Boolean)||[],Nt=ge.get("piece")?.split(",").filter(Boolean)||[],er=ge.get("composer")?.split(",").filter(Boolean)||[];V&&!et.includes(V)&&et.push(V),W&&!bt.includes(W)&&bt.push(W),ce&&!Nt.includes(ce)&&Nt.push(ce),he&&!er.includes(he)&&er.push(he);const zn=new URLSearchParams(ge);et.length&&zn.set("band",et.join(",")),bt.length&&zn.set("conductor",bt.join(",")),Nt.length&&zn.set("piece",Nt.join(",")),er.length&&zn.set("composer",er.join(",")),De&&zn.set("view",De);const _i=`${window.location.pathname}?${zn.toString()}${window.location.hash}`;window.history.pushState({},"",_i),lt({updateHistory:!1}),R=Ce()}catch(G){console.error("Error handling link click:",G)}};return document.addEventListener("click",_),()=>document.removeEventListener("click",_)}),Wn(()=>{let _=0;const E=C=>{const N=C.target;if(N.closest("[data-scrollable]")||N.closest(".suggestions")||N.closest(".mode-toggle__menu"))return;const J=window.pageYOffset||document.documentElement.scrollTop,V=document.documentElement.scrollHeight,W=document.documentElement.clientHeight,ce=J===0,he=J+W>=V;if(C.type==="touchstart")_=C.touches[0].pageY;else if(C.type==="touchmove"){const De=C.touches[0].pageY-_;ce&&De>0&&C.preventDefault(),he&&De<0&&C.preventDefault()}};return document.addEventListener("touchstart",E,{passive:!1}),document.addEventListener("touchmove",E,{passive:!1}),()=>{document.removeEventListener("touchstart",E),document.removeEventListener("touchmove",E)}}),vn(()=>{document.title=r(re)==="wind"?"NM Janitsjar - Resultatoversikt":"NM Brass - Resultatoversikt"});let qt=L(()=>r(U).trim()),Xt=L(()=>r(qt).toLowerCase()),nn=L(()=>r(S)==="bands"||r(S)==="conductors"||r(S)==="pieces"||r(S)==="composers"),yn=L(()=>r(nn)?r(S)==="bands"?r(p)?.bands??[]:r(S)==="conductors"?r(g):r(S)==="pieces"?r(w):r(A):[]),Pt=L(()=>r(S)==="bands"?r(K):r(S)==="conductors"?r(Z):r(S)==="pieces"?r(ne):r(S)==="composers"?r(se):[]),k=L(()=>r(nn)&&r(yn)&&r(Xt).length>=2?r(yn).filter(_=>_.name.toLowerCase().includes(r(Xt))&&!r(Pt).some(E=>E.slug===_.slug)).slice(0,10):[]),y=L(()=>r(p)?r(p).metadata.years:[]),T=L(()=>r(p)?r(p).metadata.max_field_size:0),O=L(()=>r(nn)?r(S)==="bands"?r(p)?.bands.length??0:r(S)==="conductors"?r(g).length:r(S)==="pieces"?r(w).length:r(A).length:0),B=L(()=>r(S)==="bands"?"korps":r(S)==="conductors"?"dirigenter":r(S)==="pieces"?"stykker":"komponister"),D=L(()=>r(p)?`Dekker ${r(O)} ${r(B)} · ${r(y).length} år (${r(p).metadata.min_year}–${r(p).metadata.max_year})`:""),ve=L(()=>r(S)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":r(S)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":r(S)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":r(S)==="composers"?"Begynn å skrive et komponistnavn (minst 2 bokstaver)…":""),ye=L(()=>r(S)==="bands"?"Søk etter korps":r(S)==="conductors"?"Søk etter dirigent":r(S)==="pieces"?"Søk etter musikkstykke":"Søk etter komponist"),Me=L(()=>r(S)==="bands"?"Korpsforslag":r(S)==="conductors"?"Dirigentforslag":r(S)==="pieces"?"Stykke-forslag":"Komponistforslag"),ut=L(()=>r(S)==="bands"?"Valgte korps":r(S)==="conductors"?"Valgte dirigenter":r(S)==="pieces"?"Valgte stykker":"Valgte komponister"),xe=L(()=>r(S)==="bands"?"Ingen korps valgt ennå":r(S)==="conductors"?"Ingen dirigenter valgt ennå":r(S)==="pieces"?"Ingen stykker valgt ennå":"Ingen komponister valgt ennå"),Re=L(()=>r(S)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":r(S)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":r(S)==="pieces"?"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer.":"Finn en komponist i søkefeltet for å se hvilke stykker vi har registrert av dem."),Pe=L(()=>(()=>{switch(r(S)){case"bands":return r(re)==="wind"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":"Søk etter et brassband for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.";case"conductors":return"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.";case"pieces":return"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.";case"composers":return"Søk etter en komponist for å se hvilke NM-stykker de står bak.";case"repertoire":return"Søk etter stykker med komponist, varighet og vanskelighetsgrad. Repertoaret utvides løpende.";case"om":return"";case"data":return"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen.";case"innstillinger":return"";default:return""}})()),rt=L(()=>r(re)==="wind"?"Bytt til brassband":"Bytt til janitsjarkorps"),Ge=L(()=>r(re)==="wind"?"Brass":"Janitsjar"),ct=L(()=>r(re)==="wind"?"🎺":"🎷"),Qe=L(()=>r(Ne)?"Lukk meny":"Åpne meny"),dt=L(()=>r(Pt).length===1?r(Pt)[0].name:r(Pt).length>1?`${r(Pt).length} ${r(B)} valgt`:""),je=L(()=>r(Pt).length>1?r(Pt).map(_=>_.name).join(" · "):""),Be=L(()=>r(S)==="pieces"?r(Pt):[]),vt=L(()=>r(S)==="composers"?r(Pt):[]),Mt=L(()=>r(S)==="bands"||r(S)==="conductors"?r(Pt):[]);var St=Fe(),Et=be(St);{var me=_=>{ug(_,{onSelect:Se})},ft=_=>{var E=Dg(),C=v(E),N=v(C),G=v(N),J=v(G),V=x(G,2);V.__click=[mg,Ne];var W=x(N,2);let ce;var he=v(W);Ze(he,21,()=>b,it,(Gt,Ct)=>{var Bn=Fe(),Br=be(Bn);{var kr=ln=>{var It=kg();It.__click=[xg,He,Ct];let Yn;var Yr=v(It),bn=v(Yr);X(cn=>{z(It,"aria-pressed",r(S)===r(Ct)),z(It,"data-mobile-label",r(Ct)==="innstillinger"?"Innstillinger":""),Yn=Vt(It,1,"svelte-1n46o8q",null,Yn,cn),F(bn,h[r(Ct)])},[()=>({selected:r(S)===r(Ct),"view-toggle__settings":r(Ct)==="innstillinger"})]),m(ln,It)};q(Br,ln=>{(r(Ct)!=="repertoire"||r(re)==="wind")&&ln(kr)})}m(Gt,Bn)});var Ke=x(he,2);let De;Ke.__click=[yg,re,fe,ee,de,oe];var ge=v(Ke),et=v(ge),bt=x(ge,2),Nt=v(bt),er=x(C,2),zn=v(er),_i=x(er,2);{var Ml=Gt=>{var Ct=Ag(),Bn=be(Ct),Br=L(()=>Sa(ze)),kr=v(Bn),ln=v(kr),It=x(kr,2);It.__input=[bg,U,ke],It.__keydown=[wg,k,ke,nt];var Yn=x(Bn,2);{var Yr=bn=>{var cn=Eg();Ze(cn,21,()=>r(k),it,(Sr,gi,mi)=>{var tr=Sg(),Un=L(()=>Sa(()=>nt(r(gi))));tr.__mousedown=function(...Ur){r(Un)?.apply(this,Ur)};var nr=v(tr);X(()=>{Vt(tr,1,`suggestion ${mi===r(ke)?"active":""}`,"svelte-1n46o8q"),z(tr,"aria-selected",mi===r(ke)),F(nr,r(gi).name)}),m(Sr,tr)}),X(()=>z(cn,"aria-label",r(Me))),m(bn,cn)};q(Yn,bn=>{r(k).length>0&&bn(Yr)})}X(()=>{F(ln,r(ye)),z(It,"placeholder",r(ve))}),sn("submit",Bn,function(...bn){r(Br)?.apply(this,bn)}),Xn(It,()=>r(U),bn=>$(U,bn)),m(Gt,Ct)};q(_i,Gt=>{r(nn)&&Gt(Ml)})}var Nl=x(_i,2);{var $l=Gt=>{var Ct=Mg();m(Gt,Ct)},Pl=Gt=>{var Ct=Fe(),Bn=be(Ct);{var Br=ln=>{var It=Ng(),Yn=v(It);X(()=>F(Yn,r(I))),m(ln,It)},kr=ln=>{var It=Fe(),Yn=be(It);{var Yr=cn=>{var Sr=$g();m(cn,Sr)},bn=cn=>{var Sr=Fe(),gi=be(Sr);{var mi=Un=>{var nr=Fe(),Ur=be(nr);{var os=rn=>{var Vn=Lg(),rr=be(Vn);{var Vr=Lt=>{q_(Lt,{get pieces(){return r(Be)},get bandType(){return r(re)}})},Hr=Lt=>{var zt=Fe(),wn=be(zt);{var Er=Ln=>{U_(Ln,{get composers(){return r(vt)},get bandType(){return r(re)}})},Hn=Ln=>{var bi=Tg(),Kr=v(bi),sa=v(Kr),Tl=v(sa),aa=x(sa,2),Cl=v(aa),Il=x(aa,2);{var Ll=Xr=>{var oa=Pg(),Dl=v(oa);X(()=>F(Dl,r(je))),m(Xr,oa)};q(Il,Xr=>{r(je)&&Xr(Ll)})}var Rl=x(Kr,2);{let Xr=L(()=>r(S)==="bands");up(Rl,{get years(){return r(y)},get maxFieldSize(){return r(T)},get bands(){return r(Mt)},get yMode(){return r(Y)},get yAxisScale(){return r(Q)},get showConductorMarkers(){return r(Xr)}})}X(()=>{F(Tl,r(dt)),F(Cl,r(D))}),m(Ln,bi)};q(wn,Ln=>{r(S)==="composers"?Ln(Er):Ln(Hn,!1)},!0)}m(Lt,zt)};q(rr,Lt=>{r(S)==="pieces"?Lt(Vr):Lt(Hr,!1)})}var un=x(rr,2);Ze(un,21,()=>r(Pt),it,(Lt,zt,wn)=>{var Er=Ig(),Hn=v(Er);Hn.textContent=wn+1;var Ln=x(Hn,2),bi=v(Ln),Kr=x(Ln,2);Kr.__click=[Cg,yt,zt],X(()=>{F(bi,r(zt).name),z(Kr,"aria-label",`Fjern ${r(zt).name}`)}),m(Lt,Er)});var yi=x(un,2);{var cs=Lt=>{$p(Lt,{get bands(){return r(Mt)},get bandType(){return r(re)},streamingResolver:j,get eliteTestPieces(){return r(st)}})},us=Lt=>{var zt=Fe(),wn=be(zt);{var Er=Hn=>{Kp(Hn,{get conductors(){return r(Mt)},get bandType(){return r(re)},streamingResolver:j})};q(wn,Hn=>{r(S)==="conductors"&&Hn(Er)},!0)}m(Lt,zt)};q(yi,Lt=>{r(S)==="bands"?Lt(cs):Lt(us,!1)})}X(()=>z(un,"aria-label",r(ut))),m(rn,Vn)},ls=rn=>{var Vn=Rg(),rr=v(Vn),Vr=v(rr),Hr=x(rr,2),un=v(Hr);X(()=>{F(Vr,r(xe)),F(un,r(Re))}),m(rn,Vn)};q(Ur,rn=>{r(Pt).length>0?rn(os):rn(ls,!1)})}m(Un,nr)},tr=Un=>{var nr=Fe(),Ur=be(nr);{var os=rn=>{ag(rn,{})},ls=rn=>{var Vn=Fe(),rr=be(Vn);{var Vr=un=>{dg(un,{get bandType(){return r(re)}})},Hr=un=>{var yi=Fe(),cs=be(yi);{var us=zt=>{gg(zt,{onYAxisModeChange:kt,onYAxisScaleChange:jt,onThemeChange:mt,get yAxisMode(){return r(Y)},set yAxisMode(wn){$(Y,wn,!0)},get yAxisScale(){return r(Q)},set yAxisScale(wn){$(Q,wn,!0)},get theme(){return r(le)},set theme(wn){$(le,wn,!0)}})},Lt=zt=>{E_(zt,{get dataset(){return r(p)},get bandType(){return r(re)},streamingResolver:j,get eliteTestPieces(){return r(st)}})};q(cs,zt=>{r(S)==="innstillinger"?zt(us):zt(Lt,!1)},!0)}m(un,yi)};q(rr,un=>{r(S)==="om"?un(Vr):un(Hr,!1)},!0)}m(rn,Vn)};q(Ur,rn=>{r(S)==="repertoire"?rn(os):rn(ls,!1)},!0)}m(Un,nr)};q(gi,Un=>{r(nn)?Un(mi):Un(tr,!1)},!0)}m(cn,Sr)};q(Yn,cn=>{r(p)?cn(bn,!1):cn(Yr)},!0)}m(ln,It)};q(Bn,ln=>{r(I)?ln(Br):ln(kr,!1)},!0)}m(Gt,Ct)};q(Nl,Gt=>{r(M)?Gt($l):Gt(Pl,!1)})}X((Gt,Ct)=>{F(J,r(re)==="wind"?"NM Janitsjar":"NM Brass"),z(V,"aria-label",r(Qe)),z(V,"aria-expanded",r(Ne)),ce=Vt(W,1,"header-controls svelte-1n46o8q",null,ce,Gt),De=Vt(Ke,1,"band-type-toggle svelte-1n46o8q",null,De,Ct),z(Ke,"aria-label",r(rt)),F(et,r(ct)),F(Nt,r(Ge)),F(zn,r(Pe))},[()=>({"header-controls--mobile-open":r(Ne)}),()=>({"band-type-toggle--to-brass":r(re)==="wind","band-type-toggle--to-wind":r(re)==="brass"})]),m(_,E)};q(Et,_=>{r(Xe)?_(me):_(ft,!1)})}m(e,St),mn()}vi(["click","input","keydown","mousedown"]);async function Fg(){const e=localStorage.getItem("nmkorps-theme"),t=window.matchMedia?.("(prefers-color-scheme: dark)").matches,n=e==="dark"||!e&&t,i=n?"#0f172a":"#f8fafc";try{await Es.enable(),await Es.setBackgroundColor({color:i}),console.log("Edge-to-edge display enabled with background:",i)}catch(s){console.log("Edge-to-edge plugin skipped:",s)}try{n?(await Zn.setStyle({style:Dr.Dark}),await Zn.setBackgroundColor({color:i})):(await Zn.setStyle({style:Dr.Light}),await Zn.setBackgroundColor({color:i}))}catch(s){console.log("Status Bar initialization skipped:",s)}}Fg().then(()=>{const e=ma(to,{target:document.getElementById("app")});window.app=e}).catch(e=>{console.error("Status bar initialization failed:",e);const t=ma(to,{target:document.getElementById("app")});window.app=t});
