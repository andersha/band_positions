(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const ql="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ql);const Xi=1,Gi=2,no=4,Dl=8,Fl=16,Ol=1,zl=4,Bl=8,Ul=16,ro=1,Yl=2,Ft=Symbol(),Vl="http://www.w3.org/1999/xhtml",io=!1;var di=Array.isArray,Hl=Array.prototype.indexOf,qs=Array.from,ys=Object.defineProperty,Nr=Object.getOwnPropertyDescriptor,Kl=Object.getOwnPropertyDescriptors,Xl=Object.prototype,Gl=Array.prototype,so=Object.getPrototypeOf,la=Object.isExtensible;const Wl=()=>{};function Zl(e){for(var t=0;t<e.length;t++)e[t]()}function ao(){var e,t,n=new Promise((i,s)=>{e=i,t=s});return{promise:n,resolve:e,reject:t}}const rn=2,Ds=4,Fs=8,yr=16,Fn=32,br=64,Os=128,_n=256,Ri=512,Xt=1024,ln=2048,Qn=4096,En=8192,xr=16384,zs=32768,Wi=65536,ca=1<<17,Jl=1<<18,zr=1<<19,Ql=1<<20,bs=1<<21,Zi=1<<22,cr=1<<23,ur=Symbol("$state"),ec=Symbol("legacy props"),tc=Symbol(""),ni=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Bs(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function nc(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function rc(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ic(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function sc(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ac(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function oc(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function lc(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function cc(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function uc(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function fc(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function dc(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function vc(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let hc=!1;function oo(e){return e===this.v}function pc(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function _c(e,t){return e!==t}function lo(e){return!pc(e,this.v)}let gc=!1,Qt=null;function Lr(e){Qt=e}function mn(e,t=!1,n){Qt={p:Qt,c:null,e:null,s:e,x:null,l:null}}function yn(e){var t=Qt,n=t.e;if(n!==null){t.e=null;for(var i of n)Eo(i)}return Qt=t.p,{}}function co(){return!0}let or=[];function uo(){var e=or;or=[],Zl(e)}function hr(e){if(or.length===0&&!ri){var t=or;queueMicrotask(()=>{t===or&&uo()})}or.push(e)}function mc(){for(;or.length>0;)uo()}const yc=new WeakMap;function fo(e){var t=Ye;if(t===null)return Be.f|=cr,e;if((t.f&zs)===0){if((t.f&Os)===0)throw!t.parent&&e instanceof Error&&vo(e),e;t.b.error(e)}else Ir(e,t)}function Ir(e,t){for(;t!==null;){if((t.f&Os)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&vo(e),e}function vo(e){const t=yc.get(e);t&&(ys(e,"message",{value:t.message}),ys(e,"stack",{value:t.stack}))}const xi=new Set;let yt=null,Ni=null,xs=new Set,Nn=[],Ji=null,ws=!1,ri=!1;class pn{current=new Map;#r=new Map;#n=new Set;#d=0;#s=null;#l=[];#i=[];#t=[];#e=[];#a=[];#c=[];skipped_effects=new Set;process(t){Nn=[],Ni=null;var n=pn.apply(this);for(const a of t)this.#u(a);if(this.#d===0){this.#f();var i=this.#i,s=this.#t;this.#i=[],this.#t=[],this.#e=[],Ni=this,yt=null,ua(i),ua(s),Ni=null,this.#s?.resolve()}else this.#o(this.#i),this.#o(this.#t),this.#o(this.#e);n();for(const a of this.#l)oi(a);this.#l=[]}#u(t){t.f^=Xt;for(var n=t.first;n!==null;){var i=n.f,s=(i&(Fn|br))!==0,a=s&&(i&Xt)!==0,o=a||(i&En)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){s?n.f^=Xt:(i&Ds)!==0?this.#t.push(n):(i&Xt)===0&&((i&Zi)!==0&&n.b?.is_pending()?this.#l.push(n):ns(n)&&((n.f&yr)!==0&&this.#e.push(n),oi(n)));var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}}#o(t){for(const n of t)((n.f&ln)!==0?this.#a:this.#c).push(n),Jt(n,Xt);t.length=0}capture(t,n){this.#r.has(t)||this.#r.set(t,n),this.current.set(t,t.v)}activate(){yt=this}deactivate(){yt=null}flush(){if(Nn.length>0){if(this.activate(),ho(),yt!==null&&yt!==this)return}else this.#d===0&&this.#f();this.deactivate();for(const t of xs)if(xs.delete(t),t(),yt!==null)break}#f(){for(const t of this.#n)t();if(this.#n.clear(),xi.size>1){this.#r.clear();let t=!0;for(const n of xi){if(n===this){t=!1;continue}for(const[i,s]of this.current){if(n.current.has(i))if(t)n.current.set(i,s);else continue;po(i)}if(Nn.length>0){yt=n;const i=pn.apply(n);for(const s of Nn)n.#u(s);Nn=[],i()}}yt=null}xi.delete(this)}increment(){this.#d+=1}decrement(){this.#d-=1;for(const t of this.#a)Jt(t,ln),pr(t);for(const t of this.#c)Jt(t,Qn),pr(t);this.flush()}add_callback(t){this.#n.add(t)}settled(){return(this.#s??=ao()).promise}static ensure(){if(yt===null){const t=yt=new pn;xi.add(yt),ri||pn.enqueue(()=>{yt===t&&t.flush()})}return yt}static enqueue(t){hr(t)}static apply(t){return Wl}}function bc(e){var t=ri;ri=!0;try{for(var n;;){if(mc(),Nn.length===0&&(yt?.flush(),Nn.length===0))return Ji=null,n;ho()}}finally{ri=t}}function ho(){var e=Pr;ws=!0;try{var t=0;for(ha(!0);Nn.length>0;){var n=pn.ensure();if(t++>1e3){var i,s;xc()}n.process(Nn),Jn.clear()}}finally{ws=!1,ha(e),Ji=null}}function xc(){try{ac()}catch(e){Ir(e,Ji)}}let ar=null;function ua(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(xr|En))===0&&ns(i)&&(ar=[],oi(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?Co(i):i.fn=null),ar?.length>0)){Jn.clear();for(const s of ar)oi(s);ar=[]}}ar=null}}function po(e){if(e.reactions!==null)for(const t of e.reactions){const n=t.f;(n&rn)!==0?po(t):(n&(Zi|yr))!==0&&(Jt(t,ln),pr(t))}}function pr(e){for(var t=Ji=e;t.parent!==null;){t=t.parent;var n=t.f;if(ws&&t===Ye&&(n&yr)!==0)return;if((n&(br|Fn))!==0){if((n&Xt)===0)return;t.f^=Xt}}Nn.push(t)}function wc(e){let t=0,n=_r(0),i;return()=>{Dc()&&(r(n),Hs(()=>(t===0&&(i=kr(()=>e(()=>ii(n)))),t+=1,()=>{hr(()=>{t-=1,t===0&&(i?.(),i=void 0,ii(n))})})))}}var kc=Wi|zr|Os;function Sc(e,t,n){new Ec(e,t,n)}class Ec{parent;#r=!1;#n;#d=null;#s;#l;#i;#t=null;#e=null;#a=null;#c=null;#u=0;#o=0;#f=!1;#v=null;#g=()=>{this.#v&&Rr(this.#v,this.#u)};#m=wc(()=>(this.#v=_r(this.#u),()=>{this.#v=null}));constructor(t,n,i){this.#n=t,this.#s=n,this.#l=i,this.parent=Ye.b,this.#r=!!this.#s.pending,this.#i=ts(()=>{Ye.b=this;{try{this.#t=vn(()=>i(this.#n))}catch(s){this.error(s)}this.#o>0?this.#p():this.#r=!1}},kc)}#y(){try{this.#t=vn(()=>this.#l(this.#n))}catch(t){this.error(t)}this.#r=!1}#b(){const t=this.#s.pending;t&&(this.#e=vn(()=>t(this.#n)),pn.enqueue(()=>{this.#t=this.#h(()=>(pn.ensure(),vn(()=>this.#l(this.#n)))),this.#o>0?this.#p():(fr(this.#e,()=>{this.#e=null}),this.#r=!1)}))}is_pending(){return this.#r||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#h(t){var n=Ye,i=Be,s=Qt;Tn(this.#i),tn(this.#i),Lr(this.#i.ctx);try{return t()}catch(a){return fo(a),null}finally{Tn(n),tn(i),Lr(s)}}#p(){const t=this.#s.pending;this.#t!==null&&(this.#c=document.createDocumentFragment(),Ac(this.#t,this.#c)),this.#e===null&&(this.#e=vn(()=>t(this.#n)))}#_(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#_(t);return}this.#o+=t,this.#o===0&&(this.#r=!1,this.#e&&fr(this.#e,()=>{this.#e=null}),this.#c&&(this.#n.before(this.#c),this.#c=null),hr(()=>{pn.ensure().flush()}))}update_pending_count(t){this.#_(t),this.#u+=t,xs.add(this.#g)}get_effect_pending(){return this.#m(),r(this.#v)}error(t){var n=this.#s.onerror;let i=this.#s.failed;if(this.#f||!n&&!i)throw t;this.#t&&(gn(this.#t),this.#t=null),this.#e&&(gn(this.#e),this.#e=null),this.#a&&(gn(this.#a),this.#a=null);var s=!1,a=!1;const o=()=>{if(s){vc();return}s=!0,a&&fc(),pn.ensure(),this.#u=0,this.#a!==null&&fr(this.#a,()=>{this.#a=null}),this.#r=this.has_pending_snippet(),this.#t=this.#h(()=>(this.#f=!1,vn(()=>this.#l(this.#n)))),this.#o>0?this.#p():this.#r=!1};var l=Be;try{tn(null),a=!0,n?.(t,o),a=!1}catch(c){Ir(c,this.#i&&this.#i.parent)}finally{tn(l)}i&&hr(()=>{this.#a=this.#h(()=>{this.#f=!0;try{return vn(()=>{i(this.#n,()=>t,()=>o)})}catch(c){return Ir(c,this.#i.parent),null}finally{this.#f=!1}})})}}function Ac(e,t){for(var n=e.nodes_start,i=e.nodes_end;n!==null;){var s=n===i?null:vi(n);t.append(n),n=s}}function Mc(e,t,n){const i=Qi;if(t.length===0){n(e.map(i));return}var s=yt,a=Ye,o=$c();Promise.all(t.map(l=>Cc(l))).then(l=>{o();try{n([...e.map(i),...l])}catch(c){(a.f&xr)===0&&Ir(c,a)}s?.deactivate(),_o()}).catch(l=>{Ir(l,a)})}function $c(){var e=Ye,t=Be,n=Qt,i=yt;return function(){Tn(e),tn(t),Lr(n),i?.activate()}}function _o(){Tn(null),tn(null),Lr(null)}function Qi(e){var t=rn|ln,n=Be!==null&&(Be.f&rn)!==0?Be:null;return Ye===null||n!==null&&(n.f&_n)!==0?t|=_n:Ye.f|=zr,{ctx:Qt,deps:null,effects:null,equals:oo,f:t,fn:e,reactions:null,rv:0,v:Ft,wv:0,parent:n??Ye,ac:null}}function Cc(e,t){let n=Ye;n===null&&nc();var i=n.b,s=void 0,a=_r(Ft),o=!Be,l=new Map;return Oc(()=>{var c=ao();s=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject)}catch(h){c.reject(h)}var u=yt,f=i.is_pending();o&&(i.update_pending_count(1),f||(u.increment(),l.get(u)?.reject(ni),l.set(u,c)));const v=(h,x=void 0)=>{f||u.activate(),x?x!==ni&&(a.f|=cr,Rr(a,x)):((a.f&cr)!==0&&(a.f^=cr),Rr(a,h)),o&&(i.update_pending_count(-1),f||u.decrement()),_o()};c.promise.then(v,h=>v(null,h||"unknown"))}),Vs(()=>{for(const c of l.values())c.reject(ni)}),new Promise(c=>{function u(f){function v(){f===s?c(a):u(s)}f.then(v,v)}u(s)})}function z(e){const t=Qi(e);return To(t),t}function go(e){const t=Qi(e);return t.equals=lo,t}function mo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)gn(t[n])}}function Nc(e){for(var t=e.parent;t!==null;){if((t.f&rn)===0)return t;t=t.parent}return null}function Us(e){var t,n=Ye;Tn(Nc(e));try{mo(e),t=jo(e)}finally{Tn(n)}return t}function yo(e){var t=Us(e);if(e.equals(t)||(e.v=t,e.wv=Io()),!wr){var n=(Gn||(e.f&_n)!==0)&&e.deps!==null?Qn:Xt;Jt(e,n)}}const Jn=new Map;function _r(e,t){var n={f:0,v:e,reactions:null,equals:oo,rv:0,wv:0};return n}function le(e,t){const n=_r(e);return To(n),n}function Pc(e,t=!1,n=!0){const i=_r(e);return t||(i.equals=lo),i}function E(e,t,n=!1){Be!==null&&(!kn||(Be.f&ca)!==0)&&co()&&(Be.f&(rn|yr|Zi|ca))!==0&&!qn?.includes(e)&&uc();let i=n?Kt(t):t;return Rr(e,i)}function Rr(e,t){if(!e.equals(t)){var n=e.v;wr?Jn.set(e,t):Jn.set(e,n),e.v=t;var i=pn.ensure();i.capture(e,n),(e.f&rn)!==0&&((e.f&ln)!==0&&Us(e),Jt(e,(e.f&_n)===0?Xt:Qn)),e.wv=Io(),bo(e,ln),Ye!==null&&(Ye.f&Xt)!==0&&(Ye.f&(Fn|br))===0&&(dn===null?Uc([e]):dn.push(e))}return t}function ii(e){E(e,e.v+1)}function bo(e,t){var n=e.reactions;if(n!==null)for(var i=n.length,s=0;s<i;s++){var a=n[s],o=a.f,l=(o&ln)===0;l&&Jt(a,t),(o&rn)!==0?bo(a,Qn):l&&((o&yr)!==0&&ar!==null&&ar.push(a),pr(a))}}function Kt(e){if(typeof e!="object"||e===null||ur in e)return e;const t=so(e);if(t!==Xl&&t!==Gl)return e;var n=new Map,i=di(e),s=le(0),a=dr,o=l=>{if(dr===a)return l();var c=Be,u=dr;tn(null),_a(a);var f=l();return tn(c),_a(u),f};return i&&n.set("length",le(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&lc();var f=n.get(c);return f===void 0?f=o(()=>{var v=le(u.value);return n.set(c,v),v}):E(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=o(()=>le(Ft));n.set(c,f),ii(s)}}else E(u,Ft),ii(s);return!0},get(l,c,u){if(c===ur)return e;var f=n.get(c),v=c in l;if(f===void 0&&(!v||Nr(l,c)?.writable)&&(f=o(()=>{var x=Kt(v?l[c]:Ft),m=le(x);return m}),n.set(c,f)),f!==void 0){var h=r(f);return h===Ft?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=r(f))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==Ft)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===ur)return!0;var u=n.get(c),f=u!==void 0&&u.v!==Ft||Reflect.has(l,c);if(u!==void 0||Ye!==null&&(!f||Nr(l,c)?.writable)){u===void 0&&(u=o(()=>{var h=f?Kt(l[c]):Ft,x=le(h);return x}),n.set(c,u));var v=r(u);if(v===Ft)return!1}return f},set(l,c,u,f){var v=n.get(c),h=c in l;if(i&&c==="length")for(var x=u;x<v.v;x+=1){var m=n.get(x+"");m!==void 0?E(m,Ft):x in l&&(m=o(()=>le(Ft)),n.set(x+"",m))}if(v===void 0)(!h||Nr(l,c)?.writable)&&(v=o(()=>le(void 0)),E(v,Kt(u)),n.set(c,v));else{h=v.v!==Ft;var q=o(()=>Kt(u));E(v,q)}var $=Reflect.getOwnPropertyDescriptor(l,c);if($?.set&&$.set.call(f,u),!h){if(i&&typeof c=="string"){var V=n.get("length"),W=Number(c);Number.isInteger(W)&&W>=V.v&&E(V,W+1)}ii(s)}return!0},ownKeys(l){r(s);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==Ft});for(var[u,f]of n)f.v!==Ft&&!(u in l)&&c.push(u);return c},setPrototypeOf(){cc()}})}function fa(e){try{if(e!==null&&typeof e=="object"&&ur in e)return e[ur]}catch{}return e}function Tc(e,t){return Object.is(fa(e),fa(t))}var da,xo,wo,ko;function Lc(){if(da===void 0){da=window,xo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;wo=Nr(t,"firstChild").get,ko=Nr(t,"nextSibling").get,la(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),la(n)&&(n.__t=void 0)}}function Br(e=""){return document.createTextNode(e)}function jn(e){return wo.call(e)}function vi(e){return ko.call(e)}function d(e,t){return jn(e)}function Se(e,t=!1){{var n=jn(e);return n instanceof Comment&&n.data===""?vi(n):n}}function y(e,t=1,n=!1){let i=e;for(;t--;)i=vi(i);return i}function Ic(e){e.textContent=""}function Ys(){return!1}let va=!1;function Rc(){va||(va=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function es(e){var t=Be,n=Ye;tn(null),Tn(null);try{return e()}finally{tn(t),Tn(n)}}function So(e,t,n,i=n){e.addEventListener(t,()=>es(n));const s=e.__on_r;s?e.__on_r=()=>{s(),i(!0)}:e.__on_r=()=>i(!0),Rc()}function jc(e){Ye===null&&Be===null&&sc(),Be!==null&&(Be.f&_n)!==0&&Ye===null&&ic(),wr&&rc()}function qc(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function On(e,t,n,i=!0){var s=Ye;s!==null&&(s.f&En)!==0&&(e|=En);var a={ctx:Qt,deps:null,nodes_start:null,nodes_end:null,f:e|ln,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{oi(a),a.f|=zs}catch(c){throw gn(a),c}else t!==null&&pr(a);if(i){var o=a;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&zr)===0&&(o=o.first),o!==null&&(o.parent=s,s!==null&&qc(o,s),Be!==null&&(Be.f&rn)!==0&&(e&br)===0)){var l=Be;(l.effects??=[]).push(o)}}return a}function Dc(){return Be!==null&&!kn}function Vs(e){const t=On(Fs,null,!1);return Jt(t,Xt),t.teardown=e,t}function hn(e){jc();var t=Ye.f,n=!Be&&(t&Fn)!==0&&(t&zs)===0;if(n){var i=Qt;(i.e??=[]).push(e)}else return Eo(e)}function Eo(e){return On(Ds|Ql,e,!1)}function Fc(e){pn.ensure();const t=On(br|zr,e,!0);return(n={})=>new Promise(i=>{n.outro?fr(t,()=>{gn(t),i(void 0)}):(gn(t),i(void 0))})}function Ao(e){return On(Ds,e,!1)}function Oc(e){return On(Zi|zr,e,!0)}function Hs(e,t=0){return On(Fs|t,e,!0)}function Q(e,t=[],n=[]){Mc(t,n,i=>{On(Fs,()=>e(...i.map(r)),!0)})}function ts(e,t=0){var n=On(yr|t,e,!0);return n}function vn(e,t=!0){return On(Fn|zr,e,!0,t)}function Mo(e){var t=e.teardown;if(t!==null){const n=wr,i=Be;pa(!0),tn(null);try{t.call(null)}finally{pa(n),tn(i)}}}function $o(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&es(()=>{s.abort(ni)});var i=n.next;(n.f&br)!==0?n.parent=null:gn(n,t),n=i}}function zc(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Fn)===0&&gn(t),t=n}}function gn(e,t=!0){var n=!1;(t||(e.f&Jl)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Bc(e.nodes_start,e.nodes_end),n=!0),$o(e,t&&!n),ji(e,0),Jt(e,xr);var i=e.transitions;if(i!==null)for(const a of i)a.stop();Mo(e);var s=e.parent;s!==null&&s.first!==null&&Co(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Bc(e,t){for(;e!==null;){var n=e===t?null:vi(e);e.remove(),e=n}}function Co(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function fr(e,t){var n=[];Ks(e,n,!0),No(n,()=>{gn(e),t&&t()})}function No(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var s of e)s.out(i)}else t()}function Ks(e,t,n){if((e.f&En)===0){if(e.f^=En,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var i=e.first;i!==null;){var s=i.next,a=(i.f&Wi)!==0||(i.f&Fn)!==0;Ks(i,t,a?n:!1),i=s}}}function Xs(e){Po(e,!0)}function Po(e,t){if((e.f&En)!==0){e.f^=En,(e.f&Xt)===0&&(Jt(e,ln),pr(e));for(var n=e.first;n!==null;){var i=n.next,s=(n.f&Wi)!==0||(n.f&Fn)!==0;Po(n,s?t:!1),n=i}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Pr=!1;function ha(e){Pr=e}let wr=!1;function pa(e){wr=e}let Be=null,kn=!1;function tn(e){Be=e}let Ye=null;function Tn(e){Ye=e}let qn=null;function To(e){Be!==null&&(qn===null?qn=[e]:qn.push(e))}let Zt=null,on=0,dn=null;function Uc(e){dn=e}let Lo=1,ai=0,dr=ai;function _a(e){dr=e}let Gn=!1;function Io(){return++Lo}function ns(e){var t=e.f;if((t&ln)!==0)return!0;if((t&Qn)!==0){var n=e.deps,i=(t&_n)!==0;if(n!==null){var s,a,o=(t&Ri)!==0,l=i&&Ye!==null&&!Gn,c=n.length;if((o||l)&&(Ye===null||(Ye.f&xr)===0)){var u=e,f=u.parent;for(s=0;s<c;s++)a=n[s],(o||!a?.reactions?.includes(u))&&(a.reactions??=[]).push(u);o&&(u.f^=Ri),l&&f!==null&&(f.f&_n)===0&&(u.f^=_n)}for(s=0;s<c;s++)if(a=n[s],ns(a)&&yo(a),a.wv>e.wv)return!0}(!i||Ye!==null&&!Gn)&&Jt(e,Xt)}return!1}function Ro(e,t,n=!0){var i=e.reactions;if(i!==null&&!qn?.includes(e))for(var s=0;s<i.length;s++){var a=i[s];(a.f&rn)!==0?Ro(a,t,!1):t===a&&(n?Jt(a,ln):(a.f&Xt)!==0&&Jt(a,Qn),pr(a))}}function jo(e){var t=Zt,n=on,i=dn,s=Be,a=Gn,o=qn,l=Qt,c=kn,u=dr,f=e.f;Zt=null,on=0,dn=null,Gn=(f&_n)!==0&&(kn||!Pr||Be===null),Be=(f&(Fn|br))===0?e:null,qn=null,Lr(e.ctx),kn=!1,dr=++ai,e.ac!==null&&(es(()=>{e.ac.abort(ni)}),e.ac=null);try{e.f|=bs;var v=e.fn,h=v(),x=e.deps;if(Zt!==null){var m;if(ji(e,on),x!==null&&on>0)for(x.length=on+Zt.length,m=0;m<Zt.length;m++)x[on+m]=Zt[m];else e.deps=x=Zt;if(!Gn||(f&rn)!==0&&e.reactions!==null)for(m=on;m<x.length;m++)(x[m].reactions??=[]).push(e)}else x!==null&&on<x.length&&(ji(e,on),x.length=on);if(co()&&dn!==null&&!kn&&x!==null&&(e.f&(rn|Qn|ln))===0)for(m=0;m<dn.length;m++)Ro(dn[m],e);return s!==null&&s!==e&&(ai++,dn!==null&&(i===null?i=dn:i.push(...dn))),(e.f&cr)!==0&&(e.f^=cr),h}catch(q){return fo(q)}finally{e.f^=bs,Zt=t,on=n,dn=i,Be=s,Gn=a,qn=o,Lr(l),kn=c,dr=u}}function Yc(e,t){let n=t.reactions;if(n!==null){var i=Hl.call(n,e);if(i!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[i]=n[s],n.pop())}}n===null&&(t.f&rn)!==0&&(Zt===null||!Zt.includes(t))&&(Jt(t,Qn),(t.f&(_n|Ri))===0&&(t.f^=Ri),mo(t),ji(t,0))}function ji(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Yc(e,n[i])}function oi(e){var t=e.f;if((t&xr)===0){Jt(e,Xt);var n=Ye,i=Pr;Ye=e,Pr=!0;try{(t&yr)!==0?zc(e):$o(e),Mo(e);var s=jo(e);e.teardown=typeof s=="function"?s:null,e.wv=Lo;var a;io&&gc&&(e.f&ln)!==0&&e.deps}finally{Pr=i,Ye=n}}}async function Vc(){await Promise.resolve(),bc()}function r(e){var t=e.f,n=(t&rn)!==0;if(Be!==null&&!kn){var i=Ye!==null&&(Ye.f&xr)!==0;if(!i&&!qn?.includes(e)){var s=Be.deps;if((Be.f&bs)!==0)e.rv<ai&&(e.rv=ai,Zt===null&&s!==null&&s[on]===e?on++:Zt===null?Zt=[e]:(!Gn||!Zt.includes(e))&&Zt.push(e));else{(Be.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[Be]:a.includes(Be)||a.push(Be)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&(l.f&_n)===0&&(o.f^=_n)}if(wr){if(Jn.has(e))return Jn.get(e);if(n){o=e;var c=o.v;return((o.f&Xt)===0&&o.reactions!==null||qo(o))&&(c=Us(o)),Jn.set(o,c),c}}else n&&(o=e,ns(o)&&yo(o));if((e.f&cr)!==0)throw e.v;return e.v}function qo(e){if(e.v===Ft)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Jn.has(t)||(t.f&rn)!==0&&qo(t))return!0;return!1}function kr(e){var t=kn;try{return kn=!0,e()}finally{kn=t}}const Hc=-7169;function Jt(e,t){e.f=e.f&Hc|t}const Do=new Set,ks=new Set;function Kc(e,t,n,i={}){function s(a){if(i.capture||Zr.call(t,a),!a.cancelBubble)return es(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?hr(()=>{t.addEventListener(e,s,i)}):t.addEventListener(e,s,i),s}function an(e,t,n,i,s){var a={capture:i,passive:s},o=Kc(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Vs(()=>{t.removeEventListener(e,o,a)})}function er(e){for(var t=0;t<e.length;t++)Do.add(e[t]);for(var n of ks)n(e)}let ga=null;function Zr(e){var t=this,n=t.ownerDocument,i=e.type,s=e.composedPath?.()||[],a=s[0]||e.target;ga=e;var o=0,l=ga===e&&e.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;c<=u&&(o=c)}if(a=s[o]||e.target,a!==t){ys(e,"currentTarget",{configurable:!0,get(){return a||n}});var f=Be,v=Ye;tn(null),Tn(null);try{for(var h,x=[];a!==null;){var m=a.assignedSlot||a.parentNode||a.host||null;try{var q=a["__"+i];if(q!=null&&(!a.disabled||e.target===a))if(di(q)){var[$,...V]=q;$.apply(a,[e,...V])}else q.call(a,e)}catch(W){h?x.push(W):h=W}if(e.cancelBubble||m===t||m===null)break;a=m}if(h){for(let W of x)queueMicrotask(()=>{throw W});throw h}}finally{e.__root=t,delete e.currentTarget,tn(f),Tn(v)}}}function Fo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function li(e,t){var n=Ye;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function I(e,t){var n=(t&ro)!==0,i=(t&Yl)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=Fo(a?e:"<!>"+e),n||(s=jn(s)));var o=i||xo?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=jn(o),c=o.lastChild;li(l,c)}else li(o,o);return o}}function Xc(e,t,n="svg"){var i=!e.startsWith("<!>"),s=(t&ro)!==0,a=`<${n}>${i?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var l=Fo(a),c=jn(l);if(s)for(o=document.createDocumentFragment();jn(c);)o.appendChild(jn(c));else o=jn(c)}var u=o.cloneNode(!0);if(s){var f=jn(u),v=u.lastChild;li(f,v)}else li(u,u);return u}}function Mn(e,t){return Xc(e,t,"svg")}function Fe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Br();return e.append(t,n),li(t,n),e}function b(e,t){e!==null&&e.before(t)}const Gc=["touchstart","touchmove"];function Wc(e){return Gc.includes(e)}function j(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ma(e,t){return Zc(e,t)}const Mr=new Map;function Zc(e,{target:t,anchor:n,props:i={},events:s,context:a,intro:o=!0}){Lc();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var x=v[h];if(!l.has(x)){l.add(x);var m=Wc(x);t.addEventListener(x,Zr,{passive:m});var q=Mr.get(x);q===void 0?(document.addEventListener(x,Zr,{passive:m}),Mr.set(x,1)):Mr.set(x,q+1)}}};c(qs(Do)),ks.add(c);var u=void 0,f=Fc(()=>{var v=n??t.appendChild(Br());return Sc(v,{pending:()=>{}},h=>{if(a){mn({});var x=Qt;x.c=a}s&&(i.$$events=s),u=e(h,i)||{},a&&yn()}),()=>{for(var h of l){t.removeEventListener(h,Zr);var x=Mr.get(h);--x===0?(document.removeEventListener(h,Zr),Mr.delete(h)):Mr.set(h,x)}ks.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Jc.set(u,f),u}let Jc=new WeakMap;function Wn(e){Qt===null&&Bs(),hn(()=>{const t=kr(e);if(typeof t=="function")return t})}function Qc(e){Qt===null&&Bs(),Wn(()=>()=>kr(e))}function eu(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function tu(){const e=Qt;return e===null&&Bs(),(t,n,i)=>{const s=e.s.$$events?.[t];if(s){const a=di(s)?s.slice():[s],o=eu(t,n,i);for(const l of a)l.call(e.x,o);return!o.defaultPrevented}return!0}}function K(e,t,n=!1){var i=e,s=null,a=null,o=Ft,l=n?Wi:0,c=!1;const u=(x,m=!0)=>{c=!0,h(m,x)};var f=null;function v(){f!==null&&(f.lastChild.remove(),i.before(f),f=null);var x=o?s:a,m=o?a:s;x&&Xs(x),m&&fr(m,()=>{o?a=null:s=null})}const h=(x,m)=>{if(o!==(o=x)){var q=Ys(),$=i;if(q&&(f=document.createDocumentFragment(),f.append($=Br())),o?s??=m&&vn(()=>m($)):a??=m&&vn(()=>m($)),q){var V=yt,W=o?s:a,J=o?a:s;W&&V.skipped_effects.delete(W),J&&V.skipped_effects.add(J),V.add_callback(v)}else v()}};ts(()=>{c=!1,t(u),c||h(null,null)},l)}function nu(e,t,n){var i=e,s=Ft,a,o,l=null,c=_c;function u(){a&&fr(a),l!==null&&(l.lastChild.remove(),i.before(l),l=null),a=o}ts(()=>{if(c(s,s=t())){var f=i,v=Ys();v&&(l=document.createDocumentFragment(),l.append(f=Br())),o=vn(()=>n(f)),v?yt.add_callback(u):u()}})}function lt(e,t){return t}function ru(e,t,n){for(var i=e.items,s=[],a=t.length,o=0;o<a;o++)Ks(t[o].e,s,!0);var l=a>0&&s.length===0&&n!==null;if(l){var c=n.parentNode;Ic(c),c.append(n),i.clear(),Cn(e,t[0].prev,t[a-1].next)}No(s,()=>{for(var u=0;u<a;u++){var f=t[u];l||(i.delete(f.k),Cn(e,f.prev,f.next)),gn(f.e,!l)}})}function rt(e,t,n,i,s,a=null){var o=e,l={flags:t,items:new Map,first:null},c=(t&no)!==0;if(c){var u=e;o=u.appendChild(Br())}var f=null,v=!1,h=new Map,x=go(()=>{var V=n();return di(V)?V:V==null?[]:qs(V)}),m,q;function $(){iu(q,m,l,h,o,s,t,i,n),a!==null&&(m.length===0?f?Xs(f):f=vn(()=>a(o)):f!==null&&fr(f,()=>{f=null}))}ts(()=>{q??=Ye,m=r(x);var V=m.length;if(!(v&&V===0)){v=V===0;var W,J,ce,te;if(Ys()){var O=new Set,w=yt;for(J=0;J<V;J+=1){ce=m[J],te=i(ce,J);var P=l.items.get(te)??h.get(te);P?(t&(Xi|Gi))!==0&&Oo(P,ce,J,t):(W=zo(null,l,null,null,ce,te,J,s,t,n,!0),h.set(te,W)),O.add(te)}for(const[C,D]of l.items)O.has(C)||w.skipped_effects.add(D.e);w.add_callback($)}else $();r(x)}})}function iu(e,t,n,i,s,a,o,l,c){var u=(o&Dl)!==0,f=(o&(Xi|Gi))!==0,v=t.length,h=n.items,x=n.first,m=x,q,$=null,V,W=[],J=[],ce,te,O,w;if(u)for(w=0;w<v;w+=1)ce=t[w],te=l(ce,w),O=h.get(te),O!==void 0&&(O.a?.measure(),(V??=new Set).add(O));for(w=0;w<v;w+=1){if(ce=t[w],te=l(ce,w),O=h.get(te),O===void 0){var P=i.get(te);if(P!==void 0){i.delete(te),h.set(te,P);var C=$?$.next:m;Cn(n,$,P),Cn(n,P,C),fs(P,C,s),$=P}else{var D=m?m.e.nodes_start:s;$=zo(D,n,$,$===null?n.first:$.next,ce,te,w,a,o,c)}h.set(te,$),W=[],J=[],m=$.next;continue}if(f&&Oo(O,ce,w,o),(O.e.f&En)!==0&&(Xs(O.e),u&&(O.a?.unfix(),(V??=new Set).delete(O))),O!==m){if(q!==void 0&&q.has(O)){if(W.length<J.length){var k=J[0],B;$=k.prev;var re=W[0],M=W[W.length-1];for(B=0;B<W.length;B+=1)fs(W[B],k,s);for(B=0;B<J.length;B+=1)q.delete(J[B]);Cn(n,re.prev,M.next),Cn(n,$,re),Cn(n,M,k),m=k,$=M,w-=1,W=[],J=[]}else q.delete(O),fs(O,m,s),Cn(n,O.prev,O.next),Cn(n,O,$===null?n.first:$.next),Cn(n,$,O),$=O;continue}for(W=[],J=[];m!==null&&m.k!==te;)(m.e.f&En)===0&&(q??=new Set).add(m),J.push(m),m=m.next;if(m===null)continue;O=m}W.push(O),$=O,m=O.next}if(m!==null||q!==void 0){for(var Me=q===void 0?[]:qs(q);m!==null;)(m.e.f&En)===0&&Me.push(m),m=m.next;var he=Me.length;if(he>0){var at=(o&no)!==0&&v===0?s:null;if(u){for(w=0;w<he;w+=1)Me[w].a?.measure();for(w=0;w<he;w+=1)Me[w].a?.fix()}ru(n,Me,at)}}u&&hr(()=>{if(V!==void 0)for(O of V)O.a?.apply()}),e.first=n.first&&n.first.e,e.last=$&&$.e;for(var dt of i.values())gn(dt.e);i.clear()}function Oo(e,t,n,i){(i&Xi)!==0&&Rr(e.v,t),(i&Gi)!==0?Rr(e.i,n):e.i=n}function zo(e,t,n,i,s,a,o,l,c,u,f){var v=(c&Xi)!==0,h=(c&Fl)===0,x=v?h?Pc(s,!1,!1):_r(s):s,m=(c&Gi)===0?o:_r(o),q={i:m,v:x,k:a,a:null,e:null,prev:n,next:i};try{if(e===null){var $=document.createDocumentFragment();$.append(e=Br())}return q.e=vn(()=>l(e,x,m,u),hc),q.e.prev=n&&n.e,q.e.next=i&&i.e,n===null?f||(t.first=q):(n.next=q,n.e.next=q.e),i!==null&&(i.prev=q,i.e.prev=q.e),q}finally{}}function fs(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==i;){var o=vi(a);s.before(a),a=o}}function Cn(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const ya=[...` 	
\r\f \v\uFEFF`];function su(e,t,n){var i=e==null?"":""+e;if(t&&(i=i?i+" "+t:t),n){for(var s in n)if(n[s])i=i?i+" "+s:s;else if(i.length)for(var a=s.length,o=0;(o=i.indexOf(s,o))>=0;){var l=o+a;(o===0||ya.includes(i[o-1]))&&(l===i.length||ya.includes(i[l]))?i=(o===0?"":i.substring(0,o))+i.substring(l+1):o=l}}return i===""?null:i}function au(e,t){return e==null?null:String(e)}function Gt(e,t,n,i,s,a){var o=e.__className;if(o!==n||o===void 0){var l=su(n,i,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&s!==a)for(var c in a){var u=!!a[c];(s==null||u!==!!s[c])&&e.classList.toggle(c,u)}return a}function wi(e,t,n,i){var s=e.__style;if(s!==t){var a=au(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return i}function Bo(e,t,n=!1){if(e.multiple){if(t==null)return;if(!di(t))return dc();for(var i of e.options)i.selected=t.includes(si(i));return}for(i of e.options){var s=si(i);if(Tc(s,t)){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function ou(e){var t=new MutationObserver(()=>{Bo(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Vs(()=>{t.disconnect()})}function ba(e,t,n=t){var i=!0;So(e,"change",s=>{var a=s?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(a),si);else{var l=e.querySelector(a)??e.querySelector("option:not([disabled])");o=l&&si(l)}n(o)}),Ao(()=>{var s=t();if(Bo(e,s,i),i&&s===void 0){var a=e.querySelector(":checked");a!==null&&(s=si(a),n(s))}e.__value=s,i=!1}),ou(e)}function si(e){return"__value"in e?e.__value:e.value}const lu=Symbol("is custom element"),cu=Symbol("is html");function xa(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function U(e,t,n,i){var s=uu(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[tc]=n),n==null?e.removeAttribute(t):typeof n!="string"&&fu(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function uu(e){return e.__attributes??={[lu]:e.nodeName.includes("-"),[cu]:e.namespaceURI===Vl}}var wa=new Map;function fu(e){var t=e.getAttribute("is")||e.nodeName,n=wa.get(t);if(n)return n;wa.set(t,n=[]);for(var i,s=e,a=Element.prototype;a!==s;){i=Kl(s);for(var o in i)i[o].set&&n.push(o);s=so(s)}return n}function Xn(e,t,n=t){var i=new WeakSet;So(e,"input",async s=>{var a=s?e.defaultValue:e.value;if(a=ds(e)?vs(a):a,n(a),yt!==null&&i.add(yt),await Vc(),a!==(a=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),kr(t)==null&&e.value&&(n(ds(e)?vs(e.value):e.value),yt!==null&&i.add(yt)),Hs(()=>{var s=t();if(e===document.activeElement){var a=Ni??yt;if(i.has(a))return}ds(e)&&s===vs(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function ds(e){var t=e.type;return t==="number"||t==="range"}function vs(e){return e===""?null:+e}function ka(e,t){return e===t||e?.[ur]===t}function du(e={},t,n,i){return Ao(()=>{var s,a;return Hs(()=>{s=a,a=[],kr(()=>{e!==n(...a)&&(t(e,...a),s&&ka(n(...s),e)&&t(null,...s))})}),()=>{hr(()=>{a&&ka(n(...a),e)&&t(null,...a)})}}),e}function Sa(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}let ki=!1;function vu(e){var t=ki;try{return ki=!1,[e(),ki]}finally{ki=t}}function kt(e,t,n,i){var s=(n&Bl)!==0,a=(n&Ul)!==0,o=i,l=!0,c=()=>(l&&(l=!1,o=a?kr(i):i),o),u;if(s){var f=ur in e||ec in e;u=Nr(e,t)?.set??(f&&t in e?W=>e[t]=W:void 0)}var v,h=!1;s?[v,h]=vu(()=>e[t]):v=e[t],v===void 0&&i!==void 0&&(v=c(),u&&(oc(),u(v)));var x;if(x=()=>{var W=e[t];return W===void 0?c():(l=!0,W)},(n&zl)===0)return x;if(u){var m=e.$$legacy;return(function(W,J){return arguments.length>0?((!J||m||h)&&u(J?x():W),W):x()})}var q=!1,$=((n&Ol)!==0?Qi:go)(()=>(q=!1,x()));s&&r($);var V=Ye;return(function(W,J){if(arguments.length>0){const ce=J?r($):s?Kt(W):W;return E($,ce),q=!0,o!==void 0&&(o=ce),W}return wr&&q||(V.f&xr)!==0?$.v:r($)})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var jr;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(jr||(jr={}));class hs extends Error{constructor(t,n,i){super(t),this.message=t,this.code=n,this.data=i}}const hu=e=>{var t,n;return e?.androidBridge?"android":!((n=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},pu=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:hu(e),a=()=>s()!=="web",o=v=>{const h=u.get(v);return!!(h?.platforms.has(s())||l(v))},l=v=>{var h;return(h=n.PluginHeaders)===null||h===void 0?void 0:h.find(x=>x.name===v)},c=v=>e.console.error(v),u=new Map,f=(v,h={})=>{const x=u.get(v);if(x)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),x.proxy;const m=s(),q=l(v);let $;const V=async()=>(!$&&m in h?$=typeof h[m]=="function"?$=await h[m]():$=h[m]:t!==null&&!$&&"web"in h&&($=typeof h.web=="function"?$=await h.web():$=h.web),$),W=(P,C)=>{var D,k;if(q){const B=q?.methods.find(re=>C===re.name);if(B)return B.rtype==="promise"?re=>n.nativePromise(v,C.toString(),re):(re,M)=>n.nativeCallback(v,C.toString(),re,M);if(P)return(D=P[C])===null||D===void 0?void 0:D.bind(P)}else{if(P)return(k=P[C])===null||k===void 0?void 0:k.bind(P);throw new hs(`"${v}" plugin is not implemented on ${m}`,jr.Unimplemented)}},J=P=>{let C;const D=(...k)=>{const B=V().then(re=>{const M=W(re,P);if(M){const Me=M(...k);return C=Me?.remove,Me}else throw new hs(`"${v}.${P}()" is not implemented on ${m}`,jr.Unimplemented)});return P==="addListener"&&(B.remove=async()=>C()),B};return D.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:P,writable:!1,configurable:!1}),D},ce=J("addListener"),te=J("removeListener"),O=(P,C)=>{const D=ce({eventName:P},C),k=async()=>{const re=await D;te({eventName:P,callbackId:re},C)},B=new Promise(re=>D.then(()=>re({remove:k})));return B.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await k()},B},w=new Proxy({},{get(P,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return q?O:ce;case"removeListener":return te;default:return J(C)}}});return i[v]=w,u.set(v,{name:v,proxy:w,platforms:new Set([...Object.keys(h),...q?[m]:[]])}),w};return n.convertFileSrc||(n.convertFileSrc=v=>v),n.getPlatform=s,n.handleError=c,n.isNativePlatform=a,n.isPluginAvailable=o,n.registerPlugin=f,n.Exception=hs,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},_u=e=>e.Capacitor=pu(e),Ss=_u(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),rs=Ss.registerPlugin;class Uo{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let i=!1;this.listeners[t]||(this.listeners[t]=[],i=!0),this.listeners[t].push(n);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a),i&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,i){const s=this.listeners[t];if(!s){if(i){let a=this.retainedEventArguments[t];a||(a=[]),a.push(n),this.retainedEventArguments[t]=a}return}s.forEach(a=>a(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(t="not implemented"){return new Ss.Exception(t,jr.Unimplemented)}unavailable(t="not available"){return new Ss.Exception(t,jr.Unavailable)}async removeListener(t,n){const i=this.listeners[t];if(!i)return;const s=i.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(i=>{this.notifyListeners(t,i)}))}}const Ea=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Aa=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class gu extends Uo{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(i=>{if(i.length<=0)return;let[s,a]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Aa(s).trim(),a=Aa(a).trim(),n[s]=a}),n}async setCookie(t){try{const n=Ea(t.key),i=Ea(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${i||""}${s}; path=${a}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}rs("CapacitorCookies",{web:()=>new gu});const mu=async e=>new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{const s=i.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},i.onerror=s=>n(s),i.readAsDataURL(e)}),yu=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,a,o)=>(s[a]=e[t[o]],s),{})},bu=(e,t=!0)=>e?Object.entries(e).reduce((i,s)=>{const[a,o]=s;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${a}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${a}=${l}`),`${i}&${c}`},"").substr(1):null,xu=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=yu(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))a.set(o,l);n.body=a.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{a.append(c,l)});else for(const l of Object.keys(e.data))a.append(l,e.data[l]);n.body=a;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class wu extends Uo{async request(t){const n=xu(t,t.webFetchExtra),i=bu(t.params,t.shouldEncodeUrlParams),s=i?`${t.url}?${i}`:t.url,a=await fetch(s,n),o=a.headers.get("content-type")||"";let{responseType:l="text"}=a.ok?t:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await a.blob(),c=await mu(u);break;case"json":c=await a.json();break;case"document":case"text":default:c=await a.text()}const f={};return a.headers.forEach((v,h)=>{f[h]=v}),{data:c,headers:f,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}rs("CapacitorHttp",{web:()=>new wu});var qr;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(qr||(qr={}));var Ma;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(Ma||(Ma={}));const Zn=rs("StatusBar"),Es=rs("EdgeToEdge",{});function Pi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ku(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yo(e){let t,n,i;e.length!==2?(t=Pi,n=(l,c)=>Pi(e(l),c),i=(l,c)=>e(l)-c):(t=e===Pi||e===ku?e:Su,n=e,i=e);function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const v=u+f>>>1;n(l[v],c)<0?u=v+1:f=v}while(u<f)}return u}function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const v=u+f>>>1;n(l[v],c)<=0?u=v+1:f=v}while(u<f)}return u}function o(l,c,u=0,f=l.length){const v=s(l,c,u,f-1);return v>u&&i(l[v-1],c)>-i(l[v],c)?v-1:v}return{left:s,center:o,right:a}}function Su(){return 0}function Eu(e){return e===null?NaN:+e}const Au=Yo(Pi),Mu=Au.right;Yo(Eu).center;class $a extends Map{constructor(t,n=Nu){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(Ca(this,t))}has(t){return super.has(Ca(this,t))}set(t,n){return super.set($u(this,t),n)}delete(t){return super.delete(Cu(this,t))}}function Ca({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function $u({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Cu({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Nu(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Pu=Math.sqrt(50),Tu=Math.sqrt(10),Lu=Math.sqrt(2);function qi(e,t,n){const i=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(i)),a=i/Math.pow(10,s),o=a>=Pu?10:a>=Tu?5:a>=Lu?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?qi(e,t,n*2):[l,c,u]}function Vo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[s,a,o]=i?qi(t,e,n):qi(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(i)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function As(e,t,n){return t=+t,e=+e,n=+n,qi(e,t,n)[2]}function Iu(e,t,n){t=+t,e=+e,n=+n;const i=t<e,s=i?As(t,e,n):As(e,t,n);return(i?-1:1)*(s<0?1/-s:s)}function Ru(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++i<s;)a[i]=e+i*n;return a}var ju={value:()=>{}};function Ho(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ti(n)}function Ti(e){this._=e}function qu(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ti.prototype=Ho.prototype={constructor:Ti,on:function(e,t){var n=this._,i=qu(e+"",n),s,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((s=(e=i[a]).type)&&(s=Du(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(s=(e=i[a]).type)n[s]=Na(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Na(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ti(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,a;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,s=a.length;i<s;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,a=i.length;s<a;++s)i[s].value.apply(t,n)}};function Du(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function Na(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=ju,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ms="http://www.w3.org/1999/xhtml";const Pa={svg:"http://www.w3.org/2000/svg",xhtml:Ms,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function is(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Pa.hasOwnProperty(t)?{space:Pa[t],local:e}:e}function Fu(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ms&&t.documentElement.namespaceURI===Ms?t.createElement(e):t.createElementNS(n,e)}}function Ou(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ko(e){var t=is(e);return(t.local?Ou:Fu)(t)}function zu(){}function Gs(e){return e==null?zu:function(){return this.querySelector(e)}}function Bu(e){typeof e!="function"&&(e=Gs(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=new Array(o),c,u,f=0;f<o;++f)(c=a[f])&&(u=e.call(c,c.__data__,f,a))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new An(i,this._parents)}function Uu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Yu(){return[]}function Xo(e){return e==null?Yu:function(){return this.querySelectorAll(e)}}function Vu(e){return function(){return Uu(e.apply(this,arguments))}}function Hu(e){typeof e=="function"?e=Vu(e):e=Xo(e);for(var t=this._groups,n=t.length,i=[],s=[],a=0;a<n;++a)for(var o=t[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(i.push(e.call(c,c.__data__,u,o)),s.push(c));return new An(i,s)}function Go(e){return function(){return this.matches(e)}}function Wo(e){return function(t){return t.matches(e)}}var Ku=Array.prototype.find;function Xu(e){return function(){return Ku.call(this.children,e)}}function Gu(){return this.firstElementChild}function Wu(e){return this.select(e==null?Gu:Xu(typeof e=="function"?e:Wo(e)))}var Zu=Array.prototype.filter;function Ju(){return Array.from(this.children)}function Qu(e){return function(){return Zu.call(this.children,e)}}function ef(e){return this.selectAll(e==null?Ju:Qu(typeof e=="function"?e:Wo(e)))}function tf(e){typeof e!="function"&&(e=Go(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new An(i,this._parents)}function Zo(e){return new Array(e.length)}function nf(){return new An(this._enter||this._groups.map(Zo),this._parents)}function Di(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Di.prototype={constructor:Di,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function rf(e){return function(){return e}}function sf(e,t,n,i,s,a){for(var o=0,l,c=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],i[o]=l):n[o]=new Di(e,a[o]);for(;o<c;++o)(l=t[o])&&(s[o]=l)}function af(e,t,n,i,s,a,o){var l,c,u=new Map,f=t.length,v=a.length,h=new Array(f),x;for(l=0;l<f;++l)(c=t[l])&&(h[l]=x=o.call(c,c.__data__,l,t)+"",u.has(x)?s[l]=c:u.set(x,c));for(l=0;l<v;++l)x=o.call(e,a[l],l,a)+"",(c=u.get(x))?(i[l]=c,c.__data__=a[l],u.delete(x)):n[l]=new Di(e,a[l]);for(l=0;l<f;++l)(c=t[l])&&u.get(h[l])===c&&(s[l]=c)}function of(e){return e.__data__}function lf(e,t){if(!arguments.length)return Array.from(this,of);var n=t?af:sf,i=this._parents,s=this._groups;typeof e!="function"&&(e=rf(e));for(var a=s.length,o=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],v=s[u],h=v.length,x=cf(e.call(f,f&&f.__data__,u,i)),m=x.length,q=l[u]=new Array(m),$=o[u]=new Array(m),V=c[u]=new Array(h);n(f,v,q,$,V,x,t);for(var W=0,J=0,ce,te;W<m;++W)if(ce=q[W]){for(W>=J&&(J=W+1);!(te=$[J])&&++J<m;);ce._next=te||null}}return o=new An(o,i),o._enter=l,o._exit=c,o}function cf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uf(){return new An(this._exit||this._groups.map(Zo),this._parents)}function ff(e,t,n){var i=this.enter(),s=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),i&&s?i.merge(s).order():s}function df(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,s=n.length,a=i.length,o=Math.min(s,a),l=new Array(s),c=0;c<o;++c)for(var u=n[c],f=i[c],v=u.length,h=l[c]=new Array(v),x,m=0;m<v;++m)(x=u[m]||f[m])&&(h[m]=x);for(;c<s;++c)l[c]=n[c];return new An(l,this._parents)}function vf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],s=i.length-1,a=i[s],o;--s>=0;)(o=i[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function hf(e){e||(e=pf);function t(v,h){return v&&h?e(v.__data__,h.__data__):!v-!h}for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a){for(var o=n[a],l=o.length,c=s[a]=new Array(l),u,f=0;f<l;++f)(u=o[f])&&(c[f]=u);c.sort(t)}return new An(s,this._parents).order()}function pf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _f(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function gf(){return Array.from(this)}function mf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length;s<a;++s){var o=i[s];if(o)return o}return null}function yf(){let e=0;for(const t of this)++e;return e}function bf(){return!this.node()}function xf(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s);return this}function wf(e){return function(){this.removeAttribute(e)}}function kf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Sf(e,t){return function(){this.setAttribute(e,t)}}function Ef(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Af(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Mf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $f(e,t){var n=is(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?kf:wf:typeof t=="function"?n.local?Mf:Af:n.local?Ef:Sf)(n,t))}function Jo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Cf(e){return function(){this.style.removeProperty(e)}}function Nf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Pf(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Tf(e,t,n){return arguments.length>1?this.each((t==null?Cf:typeof t=="function"?Pf:Nf)(e,t,n??"")):Dr(this.node(),e)}function Dr(e,t){return e.style.getPropertyValue(t)||Jo(e).getComputedStyle(e,null).getPropertyValue(t)}function Lf(e){return function(){delete this[e]}}function If(e,t){return function(){this[e]=t}}function Rf(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jf(e,t){return arguments.length>1?this.each((t==null?Lf:typeof t=="function"?Rf:If)(e,t)):this.node()[e]}function Qo(e){return e.trim().split(/^|\s+/)}function Ws(e){return e.classList||new el(e)}function el(e){this._node=e,this._names=Qo(e.getAttribute("class")||"")}el.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function tl(e,t){for(var n=Ws(e),i=-1,s=t.length;++i<s;)n.add(t[i])}function nl(e,t){for(var n=Ws(e),i=-1,s=t.length;++i<s;)n.remove(t[i])}function qf(e){return function(){tl(this,e)}}function Df(e){return function(){nl(this,e)}}function Ff(e,t){return function(){(t.apply(this,arguments)?tl:nl)(this,e)}}function Of(e,t){var n=Qo(e+"");if(arguments.length<2){for(var i=Ws(this.node()),s=-1,a=n.length;++s<a;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Ff:t?qf:Df)(n,t))}function zf(){this.textContent=""}function Bf(e){return function(){this.textContent=e}}function Uf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Yf(e){return arguments.length?this.each(e==null?zf:(typeof e=="function"?Uf:Bf)(e)):this.node().textContent}function Vf(){this.innerHTML=""}function Hf(e){return function(){this.innerHTML=e}}function Kf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Xf(e){return arguments.length?this.each(e==null?Vf:(typeof e=="function"?Kf:Hf)(e)):this.node().innerHTML}function Gf(){this.nextSibling&&this.parentNode.appendChild(this)}function Wf(){return this.each(Gf)}function Zf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jf(){return this.each(Zf)}function Qf(e){var t=typeof e=="function"?e:Ko(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ed(){return null}function td(e,t){var n=typeof e=="function"?e:Ko(e),i=t==null?ed:typeof t=="function"?t:Gs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function nd(){var e=this.parentNode;e&&e.removeChild(this)}function rd(){return this.each(nd)}function id(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sd(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ad(e){return this.select(e?sd:id)}function od(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ld(e){return function(t){e.call(this,t,this.__data__)}}function cd(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function ud(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function fd(e,t,n){return function(){var i=this.__on,s,a=ld(t);if(i){for(var o=0,l=i.length;o<l;++o)if((s=i[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(s):this.__on=[s]}}function dd(e,t,n){var i=cd(e+""),s,a=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(s=0,f=l[c];s<a;++s)if((o=i[s]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?fd:ud,s=0;s<a;++s)this.each(l(i[s],t,n));return this}function rl(e,t,n){var i=Jo(e),s=i.CustomEvent;typeof s=="function"?s=new s(t,n):(s=i.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function vd(e,t){return function(){return rl(this,e,t)}}function hd(e,t){return function(){return rl(this,e,t.apply(this,arguments))}}function pd(e,t){return this.each((typeof t=="function"?hd:vd)(e,t))}function*_d(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length,o;s<a;++s)(o=i[s])&&(yield o)}var gd=[null];function An(e,t){this._groups=e,this._parents=t}function hi(){return new An([[document.documentElement]],gd)}function md(){return this}An.prototype=hi.prototype={constructor:An,select:Bu,selectAll:Hu,selectChild:Wu,selectChildren:ef,filter:tf,data:lf,enter:nf,exit:uf,join:ff,merge:df,selection:md,order:vf,sort:hf,call:_f,nodes:gf,node:mf,size:yf,empty:bf,each:xf,attr:$f,style:Tf,property:jf,classed:Of,text:Yf,html:Xf,raise:Wf,lower:Jf,append:Qf,insert:td,remove:rd,clone:ad,datum:od,on:dd,dispatch:pd,[Symbol.iterator]:_d};function Zs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function il(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function pi(){}var ci=.7,Fi=1/ci,Tr="\\s*([+-]?\\d+)\\s*",ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yd=/^#([0-9a-f]{3,8})$/,bd=new RegExp(`^rgb\\(${Tr},${Tr},${Tr}\\)$`),xd=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),wd=new RegExp(`^rgba\\(${Tr},${Tr},${Tr},${ui}\\)$`),kd=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${ui}\\)$`),Sd=new RegExp(`^hsl\\(${ui},${Pn},${Pn}\\)$`),Ed=new RegExp(`^hsla\\(${ui},${Pn},${Pn},${ui}\\)$`),Ta={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zs(pi,gr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:La,formatHex:La,formatHex8:Ad,formatHsl:Md,formatRgb:Ia,toString:Ia});function La(){return this.rgb().formatHex()}function Ad(){return this.rgb().formatHex8()}function Md(){return sl(this).formatHsl()}function Ia(){return this.rgb().formatRgb()}function gr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=yd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ra(t):n===3?new nn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Si(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Si(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bd.exec(e))?new nn(t[1],t[2],t[3],1):(t=xd.exec(e))?new nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wd.exec(e))?Si(t[1],t[2],t[3],t[4]):(t=kd.exec(e))?Si(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Sd.exec(e))?Da(t[1],t[2]/100,t[3]/100,1):(t=Ed.exec(e))?Da(t[1],t[2]/100,t[3]/100,t[4]):Ta.hasOwnProperty(e)?Ra(Ta[e]):e==="transparent"?new nn(NaN,NaN,NaN,0):null}function Ra(e){return new nn(e>>16&255,e>>8&255,e&255,1)}function Si(e,t,n,i){return i<=0&&(e=t=n=NaN),new nn(e,t,n,i)}function $d(e){return e instanceof pi||(e=gr(e)),e?(e=e.rgb(),new nn(e.r,e.g,e.b,e.opacity)):new nn}function $s(e,t,n,i){return arguments.length===1?$d(e):new nn(e,t,n,i??1)}function nn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Zs(nn,$s,il(pi,{brighter(e){return e=e==null?Fi:Math.pow(Fi,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ci:Math.pow(ci,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nn(vr(this.r),vr(this.g),vr(this.b),Oi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ja,formatHex:ja,formatHex8:Cd,formatRgb:qa,toString:qa}));function ja(){return`#${lr(this.r)}${lr(this.g)}${lr(this.b)}`}function Cd(){return`#${lr(this.r)}${lr(this.g)}${lr(this.b)}${lr((isNaN(this.opacity)?1:this.opacity)*255)}`}function qa(){const e=Oi(this.opacity);return`${e===1?"rgb(":"rgba("}${vr(this.r)}, ${vr(this.g)}, ${vr(this.b)}${e===1?")":`, ${e})`}`}function Oi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lr(e){return e=vr(e),(e<16?"0":"")+e.toString(16)}function Da(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Sn(e,t,n,i)}function sl(e){if(e instanceof Sn)return new Sn(e.h,e.s,e.l,e.opacity);if(e instanceof pi||(e=gr(e)),!e)return new Sn;if(e instanceof Sn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-i)/l+(n<i)*6:n===a?o=(i-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new Sn(o,l,c,e.opacity)}function Nd(e,t,n,i){return arguments.length===1?sl(e):new Sn(e,t,n,i??1)}function Sn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Zs(Sn,Nd,il(pi,{brighter(e){return e=e==null?Fi:Math.pow(Fi,e),new Sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ci:Math.pow(ci,e),new Sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new nn(ps(e>=240?e-240:e+120,s,i),ps(e,s,i),ps(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new Sn(Fa(this.h),Ei(this.s),Ei(this.l),Oi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Oi(this.opacity);return`${e===1?"hsl(":"hsla("}${Fa(this.h)}, ${Ei(this.s)*100}%, ${Ei(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fa(e){return e=(e||0)%360,e<0?e+360:e}function Ei(e){return Math.max(0,Math.min(1,e||0))}function ps(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Js=e=>()=>e;function Pd(e,t){return function(n){return e+n*t}}function Td(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Ld(e){return(e=+e)==1?al:function(t,n){return n-t?Td(t,n,e):Js(isNaN(t)?n:t)}}function al(e,t){var n=t-e;return n?Pd(e,n):Js(isNaN(e)?t:e)}const zi=(function e(t){var n=Ld(t);function i(s,a){var o=n((s=$s(s)).r,(a=$s(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),u=al(s.opacity,a.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return i.gamma=e,i})(1);function Id(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(a){for(s=0;s<n;++s)i[s]=e[s]*(1-a)+t[s]*a;return i}}function Rd(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jd(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)s[o]=Qs(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<i;++o)a[o]=s[o](l);return a}}function qd(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function wn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Dd(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Qs(e[s],t[s]):i[s]=t[s];return function(a){for(s in n)i[s]=n[s](a);return i}}var Cs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_s=new RegExp(Cs.source,"g");function Fd(e){return function(){return e}}function Od(e){return function(t){return e(t)+""}}function ol(e,t){var n=Cs.lastIndex=_s.lastIndex=0,i,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(i=Cs.exec(e))&&(s=_s.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:wn(i,s)})),n=_s.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Od(c[0].x):Fd(t):(t=c.length,function(u){for(var f=0,v;f<t;++f)l[(v=c[f]).i]=v.x(u);return l.join("")})}function Qs(e,t){var n=typeof t,i;return t==null||n==="boolean"?Js(t):(n==="number"?wn:n==="string"?(i=gr(t))?(t=i,zi):ol:t instanceof gr?zi:t instanceof Date?qd:Rd(t)?Id:Array.isArray(t)?jd:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Dd:wn)(e,t)}function zd(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Oa=180/Math.PI,Ns={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ll(e,t,n,i,s,a){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,c/=l),e*i<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*Oa,skewX:Math.atan(c)*Oa,scaleX:o,scaleY:l}}var Ai;function Bd(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ns:ll(t.a,t.b,t.c,t.d,t.e,t.f)}function Ud(e){return e==null||(Ai||(Ai=document.createElementNS("http://www.w3.org/2000/svg","g")),Ai.setAttribute("transform",e),!(e=Ai.transform.baseVal.consolidate()))?Ns:(e=e.matrix,ll(e.a,e.b,e.c,e.d,e.e,e.f))}function cl(e,t,n,i){function s(u){return u.length?u.pop()+" ":""}function a(u,f,v,h,x,m){if(u!==v||f!==h){var q=x.push("translate(",null,t,null,n);m.push({i:q-4,x:wn(u,v)},{i:q-2,x:wn(f,h)})}else(v||h)&&x.push("translate("+v+t+h+n)}function o(u,f,v,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:v.push(s(v)+"rotate(",null,i)-2,x:wn(u,f)})):f&&v.push(s(v)+"rotate("+f+i)}function l(u,f,v,h){u!==f?h.push({i:v.push(s(v)+"skewX(",null,i)-2,x:wn(u,f)}):f&&v.push(s(v)+"skewX("+f+i)}function c(u,f,v,h,x,m){if(u!==v||f!==h){var q=x.push(s(x)+"scale(",null,",",null,")");m.push({i:q-4,x:wn(u,v)},{i:q-2,x:wn(f,h)})}else(v!==1||h!==1)&&x.push(s(x)+"scale("+v+","+h+")")}return function(u,f){var v=[],h=[];return u=e(u),f=e(f),a(u.translateX,u.translateY,f.translateX,f.translateY,v,h),o(u.rotate,f.rotate,v,h),l(u.skewX,f.skewX,v,h),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,v,h),u=f=null,function(x){for(var m=-1,q=h.length,$;++m<q;)v[($=h[m]).i]=$.x(x);return v.join("")}}}var Yd=cl(Bd,"px, ","px)","deg)"),Vd=cl(Ud,", ",")",")"),Fr=0,Jr=0,Wr=0,ul=1e3,Bi,Qr,Ui=0,mr=0,ss=0,fi=typeof performance=="object"&&performance.now?performance:Date,fl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ea(){return mr||(fl(Hd),mr=fi.now()+ss)}function Hd(){mr=0}function Yi(){this._call=this._time=this._next=null}Yi.prototype=dl.prototype={constructor:Yi,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ea():+n)+(t==null?0:+t),!this._next&&Qr!==this&&(Qr?Qr._next=this:Bi=this,Qr=this),this._call=e,this._time=n,Ps()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ps())}};function dl(e,t,n){var i=new Yi;return i.restart(e,t,n),i}function Kd(){ea(),++Fr;for(var e=Bi,t;e;)(t=mr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Fr}function za(){mr=(Ui=fi.now())+ss,Fr=Jr=0;try{Kd()}finally{Fr=0,Gd(),mr=0}}function Xd(){var e=fi.now(),t=e-Ui;t>ul&&(ss-=t,Ui=e)}function Gd(){for(var e,t=Bi,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Bi=n);Qr=e,Ps(i)}function Ps(e){if(!Fr){Jr&&(Jr=clearTimeout(Jr));var t=e-mr;t>24?(e<1/0&&(Jr=setTimeout(za,e-fi.now()-ss)),Wr&&(Wr=clearInterval(Wr))):(Wr||(Ui=fi.now(),Wr=setInterval(Xd,ul)),Fr=1,fl(za))}}function Ba(e,t,n){var i=new Yi;return t=t==null?0:+t,i.restart(s=>{i.stop(),e(s+t)},t,n),i}var Wd=Ho("start","end","cancel","interrupt"),Zd=[],vl=0,Ua=1,Ts=2,Li=3,Ya=4,Ls=5,Ii=6;function as(e,t,n,i,s,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Jd(e,n,{name:t,index:i,group:s,on:Wd,tween:Zd,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:vl})}function ta(e,t){var n=$n(e,t);if(n.state>vl)throw new Error("too late; already scheduled");return n}function Ln(e,t){var n=$n(e,t);if(n.state>Li)throw new Error("too late; already running");return n}function $n(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Jd(e,t,n){var i=e.__transition,s;i[t]=n,n.timer=dl(a,0,n.time);function a(u){n.state=Ua,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,v,h,x;if(n.state!==Ua)return c();for(f in i)if(x=i[f],x.name===n.name){if(x.state===Li)return Ba(o);x.state===Ya?(x.state=Ii,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete i[f]):+f<t&&(x.state=Ii,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete i[f])}if(Ba(function(){n.state===Li&&(n.state=Ya,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ts,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ts){for(n.state=Li,s=new Array(h=n.tween.length),f=0,v=-1;f<h;++f)(x=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(s[++v]=x);s.length=v+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Ls,1),v=-1,h=s.length;++v<h;)s[v].call(e,f);n.state===Ls&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Ii,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function Qd(e,t){var n=e.__transition,i,s,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){a=!1;continue}s=i.state>Ts&&i.state<Ls,i.state=Ii,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}a&&delete e.__transition}}function ev(e){return this.each(function(){Qd(this,e)})}function tv(e,t){var n,i;return function(){var s=Ln(this,e),a=s.tween;if(a!==n){i=n=a;for(var o=0,l=i.length;o<l;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}s.tween=i}}function nv(e,t,n){var i,s;if(typeof n!="function")throw new Error;return function(){var a=Ln(this,e),o=a.tween;if(o!==i){s=(i=o).slice();for(var l={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=l;break}c===u&&s.push(l)}a.tween=s}}function rv(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=$n(this.node(),n).tween,s=0,a=i.length,o;s<a;++s)if((o=i[s]).name===e)return o.value;return null}return this.each((t==null?tv:nv)(n,e,t))}function na(e,t,n){var i=e._id;return e.each(function(){var s=Ln(this,i);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return $n(s,i).value[t]}}function hl(e,t){var n;return(typeof t=="number"?wn:t instanceof gr?zi:(n=gr(t))?(t=n,zi):ol)(e,t)}function iv(e){return function(){this.removeAttribute(e)}}function sv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function av(e,t,n){var i,s=n+"",a;return function(){var o=this.getAttribute(e);return o===s?null:o===i?a:a=t(i=o,n)}}function ov(e,t,n){var i,s=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===i?a:a=t(i=o,n)}}function lv(e,t,n){var i,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===i&&c===s?a:(s=c,a=t(i=o,l)))}}function cv(e,t,n){var i,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===i&&c===s?a:(s=c,a=t(i=o,l)))}}function uv(e,t){var n=is(e),i=n==="transform"?Vd:hl;return this.attrTween(e,typeof t=="function"?(n.local?cv:lv)(n,i,na(this,"attr."+e,t)):t==null?(n.local?sv:iv)(n):(n.local?ov:av)(n,i,t))}function fv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function dv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function vv(e,t){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&dv(e,a)),n}return s._value=t,s}function hv(e,t){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&fv(e,a)),n}return s._value=t,s}function pv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=is(e);return this.tween(n,(i.local?vv:hv)(i,t))}function _v(e,t){return function(){ta(this,e).delay=+t.apply(this,arguments)}}function gv(e,t){return t=+t,function(){ta(this,e).delay=t}}function mv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_v:gv)(t,e)):$n(this.node(),t).delay}function yv(e,t){return function(){Ln(this,e).duration=+t.apply(this,arguments)}}function bv(e,t){return t=+t,function(){Ln(this,e).duration=t}}function xv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yv:bv)(t,e)):$n(this.node(),t).duration}function wv(e,t){if(typeof t!="function")throw new Error;return function(){Ln(this,e).ease=t}}function kv(e){var t=this._id;return arguments.length?this.each(wv(t,e)):$n(this.node(),t).ease}function Sv(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ln(this,e).ease=n}}function Ev(e){if(typeof e!="function")throw new Error;return this.each(Sv(this._id,e))}function Av(e){typeof e!="function"&&(e=Go(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new Dn(i,this._parents,this._name,this._id)}function Mv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=t[l],u=n[l],f=c.length,v=o[l]=new Array(f),h,x=0;x<f;++x)(h=c[x]||u[x])&&(v[x]=h);for(;l<i;++l)o[l]=t[l];return new Dn(o,this._parents,this._name,this._id)}function $v(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Cv(e,t,n){var i,s,a=$v(t)?ta:Ln;return function(){var o=a(this,e),l=o.on;l!==i&&(s=(i=l).copy()).on(t,n),o.on=s}}function Nv(e,t){var n=this._id;return arguments.length<2?$n(this.node(),n).on.on(e):this.each(Cv(n,e,t))}function Pv(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Tv(){return this.on("end.remove",Pv(this._id))}function Lv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Gs(e));for(var i=this._groups,s=i.length,a=new Array(s),o=0;o<s;++o)for(var l=i[o],c=l.length,u=a[o]=new Array(c),f,v,h=0;h<c;++h)(f=l[h])&&(v=e.call(f,f.__data__,h,l))&&("__data__"in f&&(v.__data__=f.__data__),u[h]=v,as(u[h],t,n,h,u,$n(f,n)));return new Dn(a,this._parents,t,n)}function Iv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xo(e));for(var i=this._groups,s=i.length,a=[],o=[],l=0;l<s;++l)for(var c=i[l],u=c.length,f,v=0;v<u;++v)if(f=c[v]){for(var h=e.call(f,f.__data__,v,c),x,m=$n(f,n),q=0,$=h.length;q<$;++q)(x=h[q])&&as(x,t,n,q,h,m);a.push(h),o.push(f)}return new Dn(a,o,t,n)}var Rv=hi.prototype.constructor;function jv(){return new Rv(this._groups,this._parents)}function qv(e,t){var n,i,s;return function(){var a=Dr(this,e),o=(this.style.removeProperty(e),Dr(this,e));return a===o?null:a===n&&o===i?s:s=t(n=a,i=o)}}function pl(e){return function(){this.style.removeProperty(e)}}function Dv(e,t,n){var i,s=n+"",a;return function(){var o=Dr(this,e);return o===s?null:o===i?a:a=t(i=o,n)}}function Fv(e,t,n){var i,s,a;return function(){var o=Dr(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Dr(this,e))),o===c?null:o===i&&c===s?a:(s=c,a=t(i=o,l))}}function Ov(e,t){var n,i,s,a="style."+t,o="end."+a,l;return function(){var c=Ln(this,e),u=c.on,f=c.value[a]==null?l||(l=pl(t)):void 0;(u!==n||s!==f)&&(i=(n=u).copy()).on(o,s=f),c.on=i}}function zv(e,t,n){var i=(e+="")=="transform"?Yd:hl;return t==null?this.styleTween(e,qv(e,i)).on("end.style."+e,pl(e)):typeof t=="function"?this.styleTween(e,Fv(e,i,na(this,"style."+e,t))).each(Ov(this._id,e)):this.styleTween(e,Dv(e,i,t),n).on("end.style."+e,null)}function Bv(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Uv(e,t,n){var i,s;function a(){var o=t.apply(this,arguments);return o!==s&&(i=(s=o)&&Bv(e,o,n)),i}return a._value=t,a}function Yv(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Uv(e,t,n??""))}function Vv(e){return function(){this.textContent=e}}function Hv(e){return function(){var t=e(this);this.textContent=t??""}}function Kv(e){return this.tween("text",typeof e=="function"?Hv(na(this,"text",e)):Vv(e==null?"":e+""))}function Xv(e){return function(t){this.textContent=e.call(this,t)}}function Gv(e){var t,n;function i(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Xv(s)),t}return i._value=e,i}function Wv(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Gv(e))}function Zv(){for(var e=this._name,t=this._id,n=_l(),i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var f=$n(c,t);as(c,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Dn(i,this._parents,e,n)}function Jv(){var e,t,n=this,i=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},c={value:function(){--s===0&&a()}};n.each(function(){var u=Ln(this,i),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),s===0&&a()})}var Qv=0;function Dn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function _l(){return++Qv}var Rn=hi.prototype;Dn.prototype={constructor:Dn,select:Lv,selectAll:Iv,selectChild:Rn.selectChild,selectChildren:Rn.selectChildren,filter:Av,merge:Mv,selection:jv,transition:Zv,call:Rn.call,nodes:Rn.nodes,node:Rn.node,size:Rn.size,empty:Rn.empty,each:Rn.each,on:Nv,attr:uv,attrTween:pv,style:zv,styleTween:Yv,text:Kv,textTween:Wv,remove:Tv,tween:rv,delay:mv,duration:xv,ease:kv,easeVarying:Ev,end:Jv,[Symbol.iterator]:Rn[Symbol.iterator]};function eh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var th={time:null,delay:0,duration:250,ease:eh};function nh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function rh(e){var t,n;e instanceof Dn?(t=e._id,e=e._name):(t=_l(),(n=th).time=ea(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&as(c,e,t,u,o,n||nh(c,t));return new Dn(i,this._parents,e,t)}hi.prototype.interrupt=ev;hi.prototype.transition=rh;const Is=Math.PI,Rs=2*Is,sr=1e-6,ih=Rs-sr;function gl(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function sh(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gl;const n=10**t;return function(i){this._+=i[0];for(let s=1,a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class ah{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gl:sh(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,a,o){this._append`C${+t},${+n},${+i},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,i,s,a){if(t=+t,n=+n,i=+i,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=i-t,u=s-n,f=o-t,v=l-n,h=f*f+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>sr)if(!(Math.abs(v*c-u*f)>sr)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let x=i-o,m=s-l,q=c*c+u*u,$=x*x+m*m,V=Math.sqrt(q),W=Math.sqrt(h),J=a*Math.tan((Is-Math.acos((q+h-$)/(2*V*W)))/2),ce=J/W,te=J/V;Math.abs(ce-1)>sr&&this._append`L${t+ce*f},${n+ce*v}`,this._append`A${a},${a},0,0,${+(v*x>f*m)},${this._x1=t+te*c},${this._y1=n+te*u}`}}arc(t,n,i,s,a,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),c=i*Math.sin(s),u=t+l,f=n+c,v=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>sr||Math.abs(this._y1-f)>sr)&&this._append`L${u},${f}`,i&&(h<0&&(h=h%Rs+Rs),h>ih?this._append`A${i},${i},0,1,${v},${t-l},${n-c}A${i},${i},0,1,${v},${this._x1=u},${this._y1=f}`:h>sr&&this._append`A${i},${i},0,${+(h>=Is)},${v},${this._x1=t+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function oh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Or(e){return e=Vi(Math.abs(e)),e?e[1]:NaN}function lh(e,t){return function(n,i){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>i));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function ch(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var uh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hi(e){if(!(t=uh.exec(e)))throw new Error("invalid format: "+e);var t;return new ra({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hi.prototype=ra.prototype;function ra(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ra.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fh(e){e:for(var t=e.length,n=1,i=-1,s;n<t;++n)switch(e[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var ml;function dh(e,t){var n=Vi(e,t);if(!n)return e+"";var i=n[0],s=n[1],a=s-(ml=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Vi(e,Math.max(0,t+a-1))[0]}function Va(e,t){var n=Vi(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const Ha={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oh,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Va(e*100,t),r:Va,s:dh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ka(e){return e}var Xa=Array.prototype.map,Ga=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vh(e){var t=e.grouping===void 0||e.thousands===void 0?Ka:lh(Xa.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Ka:ch(Xa.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(v){v=Hi(v);var h=v.fill,x=v.align,m=v.sign,q=v.symbol,$=v.zero,V=v.width,W=v.comma,J=v.precision,ce=v.trim,te=v.type;te==="n"?(W=!0,te="g"):Ha[te]||(J===void 0&&(J=12),ce=!0,te="g"),($||h==="0"&&x==="=")&&($=!0,h="0",x="=");var O=q==="$"?n:q==="#"&&/[boxX]/.test(te)?"0"+te.toLowerCase():"",w=q==="$"?i:/[%p]/.test(te)?o:"",P=Ha[te],C=/[defgprs%]/.test(te);J=J===void 0?6:/[gprs]/.test(te)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J));function D(k){var B=O,re=w,M,Me,he;if(te==="c")re=P(k)+re,k="";else{k=+k;var at=k<0||1/k<0;if(k=isNaN(k)?c:P(Math.abs(k),J),ce&&(k=fh(k)),at&&+k==0&&m!=="+"&&(at=!1),B=(at?m==="("?m:l:m==="-"||m==="("?"":m)+B,re=(te==="s"?Ga[8+ml/3]:"")+re+(at&&m==="("?")":""),C){for(M=-1,Me=k.length;++M<Me;)if(he=k.charCodeAt(M),48>he||he>57){re=(he===46?s+k.slice(M+1):k.slice(M))+re,k=k.slice(0,M);break}}}W&&!$&&(k=t(k,1/0));var dt=B.length+k.length+re.length,ct=dt<V?new Array(V-dt+1).join(h):"";switch(W&&$&&(k=t(ct+k,ct.length?V-re.length:1/0),ct=""),x){case"<":k=B+k+re+ct;break;case"=":k=B+ct+k+re;break;case"^":k=ct.slice(0,dt=ct.length>>1)+B+k+re+ct.slice(dt);break;default:k=ct+B+k+re;break}return a(k)}return D.toString=function(){return v+""},D}function f(v,h){var x=u((v=Hi(v),v.type="f",v)),m=Math.max(-8,Math.min(8,Math.floor(Or(h)/3)))*3,q=Math.pow(10,-m),$=Ga[8+m/3];return function(V){return x(q*V)+$}}return{format:u,formatPrefix:f}}var Mi,yl,bl;hh({thousands:",",grouping:[3],currency:["$",""]});function hh(e){return Mi=vh(e),yl=Mi.format,bl=Mi.formatPrefix,Mi}function ph(e){return Math.max(0,-Or(Math.abs(e)))}function _h(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Or(t)/3)))*3-Or(Math.abs(e)))}function gh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Or(t)-Or(e))+1}function ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Wa=Symbol("implicit");function xl(){var e=new $a,t=[],n=[],i=Wa;function s(a){let o=e.get(a);if(o===void 0){if(i!==Wa)return i;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new $a;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return xl(t,n).unknown(i)},ia.apply(s,arguments),s}function wl(){var e=xl().unknown(void 0),t=e.domain,n=e.range,i=0,s=1,a,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function v(){var h=t().length,x=s<i,m=x?s:i,q=x?i:s;a=(q-m)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),m+=(q-m-a*(h-c))*f,o=a*(1-c),l&&(m=Math.round(m),o=Math.round(o));var $=Ru(h).map(function(V){return m+a*V});return n(x?$.reverse():$)}return e.domain=function(h){return arguments.length?(t(h),v()):t()},e.range=function(h){return arguments.length?([i,s]=h,i=+i,s=+s,v()):[i,s]},e.rangeRound=function(h){return[i,s]=h,i=+i,s=+s,l=!0,v()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,v()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),v()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),v()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,v()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),v()):f},e.copy=function(){return wl(t(),[i,s]).round(l).paddingInner(c).paddingOuter(u).align(f)},ia.apply(v(),arguments)}function kl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kl(t())},e}function mh(){return kl(wl.apply(null,arguments).paddingInner(1))}function yh(e){return function(){return e}}function bh(e){return+e}var Za=[0,1];function Cr(e){return e}function js(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:yh(isNaN(t)?NaN:.5)}function xh(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function wh(e,t,n){var i=e[0],s=e[1],a=t[0],o=t[1];return s<i?(i=js(s,i),a=n(o,a)):(i=js(i,s),a=n(a,o)),function(l){return a(i(l))}}function kh(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)s[o]=js(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Mu(e,l,1,i)-1;return a[c](s[c](l))}}function Sh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Eh(){var e=Za,t=Za,n=Qs,i,s,a,o=Cr,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==Cr&&(o=xh(e[0],e[h-1])),l=h>2?kh:wh,c=u=null,v}function v(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(i),t,n)))(i(o(h)))}return v.invert=function(h){return o(s((u||(u=l(t,e.map(i),wn)))(h)))},v.domain=function(h){return arguments.length?(e=Array.from(h,bh),f()):e.slice()},v.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},v.rangeRound=function(h){return t=Array.from(h),n=zd,f()},v.clamp=function(h){return arguments.length?(o=h?!0:Cr,f()):o!==Cr},v.interpolate=function(h){return arguments.length?(n=h,f()):n},v.unknown=function(h){return arguments.length?(a=h,v):a},function(h,x){return i=h,s=x,f()}}function Ah(){return Eh()(Cr,Cr)}function Mh(e,t,n,i){var s=Iu(e,t,n),a;switch(i=Hi(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=_h(s,o))&&(i.precision=a),bl(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=gh(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=ph(s))&&(i.precision=a-(i.type==="%")*2);break}}return yl(i)}function $h(e){var t=e.domain;return e.ticks=function(n){var i=t();return Vo(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var s=t();return Mh(s[0],s[s.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),s=0,a=i.length-1,o=i[s],l=i[a],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);f-- >0;){if(u=As(o,l,n),u===c)return i[s]=o,i[a]=l,t(i);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Sl(){var e=Ah();return e.copy=function(){return Sh(e,Sl())},ia.apply(e,arguments),$h(e)}function $r(e){return function(){return e}}function Ch(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new ah(t)}function Nh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function El(e){this._context=e}El.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ph(e){return new El(e)}function Th(e){return e[0]}function Lh(e){return e[1]}function Ih(e,t){var n=$r(!0),i=null,s=Ph,a=null,o=Ch(l);e=typeof e=="function"?e:e===void 0?Th:$r(e),t=typeof t=="function"?t:t===void 0?Lh:$r(t);function l(c){var u,f=(c=Nh(c)).length,v,h=!1,x;for(i==null&&(a=s(x=o())),u=0;u<=f;++u)!(u<f&&n(v=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(v,u,c),+t(v,u,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:$r(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:$r(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:$r(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,i!=null&&(a=s(i)),l):s},l.context=function(c){return arguments.length?(c==null?i=a=null:a=s(i=c),l):i},l}function Ja(e){return e<0?-1:1}function Qa(e,t,n){var i=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(i||s<0&&-0),o=(n-e._y1)/(s||i<0&&-0),l=(a*s+o*i)/(i+s);return(Ja(a)+Ja(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function eo(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function gs(e,t,n){var i=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-i)/3;e._context.bezierCurveTo(i+l,s+l*t,a-l,o-l*n,a,o)}function Ki(e){this._context=e}Ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gs(this,this._t0,eo(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gs(this,eo(this,n=Qa(this,e,t)),n);break;default:gs(this,this._t0,n=Qa(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(Ki.prototype).point=function(e,t){Ki.prototype.point.call(this,t,e)};function Rh(e){return new Ki(e)}function ei(e,t,n){this.k=e,this.x=t,this.y=n}ei.prototype={constructor:ei,scale:function(e){return e===1?this:new ei(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ei(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ei.prototype;var jh=Mn('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),qh=Mn('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),Dh=Mn("<tspan> </tspan>"),Fh=Mn('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),Oh=Mn('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),zh=Mn('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),Bh=Mn('<path stroke-width="1.5" role="button" tabindex="0"></path>'),Uh=Mn("<g><!></g>"),Yh=I("<div> </div>"),Vh=I("<div> </div>"),Hh=I("<div> </div>"),Kh=I('<div class="tooltip-divider svelte-idxsrp"></div>'),Xh=I('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),Gh=I("<div> </div>"),Wh=I("<div> </div>"),Zh=I("<div> </div>"),Jh=I("<div> </div>"),Qh=I("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),ep=I('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),tp=I("<span> </span>"),np=Mn('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),rp=Mn('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),ip=Mn('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),sp=I('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),ap=I('<div class="band-legend svelte-idxsrp"></div>'),op=I('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),lp=I('<div class="legend svelte-idxsrp"></div>'),cp=I('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function up(e,t){mn(t,!0);let n=kt(t,"bands",19,()=>[]),i=kt(t,"years",19,()=>[]),s=kt(t,"maxFieldSize",3,0),a=kt(t,"yMode",3,"relative"),o=kt(t,"yAxisScale",3,"fitted"),l=kt(t,"showConductorMarkers",3,!0);const c={top:24,right:48,bottom:48,left:72},u=880,f=360,v={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},h=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],x=["circle","square","triangle"],m=6,q=24,$=26,V=30,W=c.top+12,J=f-c.bottom-22,ce=10,te=6,O=[0,1,2,3],w=.08,P=5,C=.5;let D=le(null),k=le(Kt({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),B=null,re=null,M=le(null),Me=le(0),he=le(0);const at=()=>l()&&n().length===1;function dt(g){if(g.absolute_position==null)return 0;const p=g.field_size??r(He)??s()??1;return p?g.absolute_position/p*100:0}function ct(g){return a()==="relative"?dt(g):g.absolute_position??0}function bt(g){const p=g.pieces??g.pieces,A=Array.isArray(p)?p.map(T=>`${T}`.trim()).filter(Boolean):p!=null&&`${p}`.trim().length?[`${p}`.trim()]:[],F={...g,pieces:A},Y=g;return Y.band_name!=null&&(F.band_name=Y.band_name),Array.isArray(Y.aggregate_entries)&&Y.aggregate_entries.length>0&&(F.aggregate_entries=Y.aggregate_entries.map(T=>bt(T))),F}function Ot(g){return g.map(p=>bt(p))}function Pt(g){const p=[];let A=0;if(g.length>0){const F=g[0];F.conductor&&(p.push({year:F.year,conductor:F.conductor,lane:A}),A+=1)}for(let F=1;F<g.length;F+=1){const Y=g[F-1],T=g[F];Y.conductor&&T.conductor&&Y.conductor!==T.conductor&&(p.push({year:T.year,conductor:T.conductor,lane:A}),A+=1)}return p}function it(){if(!r(D))return;const g=r(D).getBoundingClientRect(),p=r(D).parentElement;if(!p)return;const A=p.getBoundingClientRect();if(g.width===0||g.height===0)return;const F={offsetX:g.left-A.left,scaleX:g.width/u,offsetY:g.top-A.top,scaleY:g.height/f};(Math.abs(F.offsetX-r(k).offsetX)>.1||Math.abs(F.scaleX-r(k).scaleX)>.001||Math.abs(F.offsetY-r(k).offsetY)>.1||Math.abs(F.scaleY-r(k).scaleY)>.001)&&E(k,F,!0)}function xt(){!B||!r(D)||re!==r(D)&&(re&&B.unobserve(re),B.observe(r(D)),re=r(D))}Wn(()=>{typeof ResizeObserver<"u"&&(B=new ResizeObserver(()=>it())),xt(),it(),window.addEventListener("resize",it)}),hn(()=>{xt(),it()}),Qc(()=>{B?.disconnect(),window.removeEventListener("resize",it)});function Rt(g){return O[g%O.length]??0}function wt(g,p){const A=r(Ve);if(!A)return{anchor:"middle",dx:0};const F=A(g.year)??c.left,Y=48,T=c.left-Y,oe=u-c.right+Y,G=Math.max(p,1)*te/2;return F+G>oe?{anchor:"end",dx:0}:F-G<T?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function Vt(g){const p=g?.trim();if(!p)return[""];const A=p.split(/\s+/);if(A.length<=1)return[p];const F=A.pop(),Y=A.join(" ");return Y?[Y,F]:[F]}function zt(g,p,A){const F=g.find(Ne=>Ne.year===p.year),Y=Rt(p.lane);if(!F)return c.top-8+Y*(q+6);const T=r($e)(ct(F)),oe=A??Vt(p.conductor),ie=(Math.max(oe.length,1)-1)*6,xe=g.filter(Ne=>Ne.year>=p.year-1&&Ne.year<=p.year+1).map(Ne=>({year:Ne.year,y:r($e)(ct(Ne))})).sort((Ne,Pe)=>Ne.year-Pe.year),de=xe.findIndex(Ne=>Ne.year===p.year);let fe=!0;if(de>0&&de<xe.length-1){const Ne=xe[de-1],Pe=xe[de+1],Ze=Math.abs(T-Ne.y),Nt=Math.abs(T-Pe.y);(Ze<$+4||Nt<$+4)&&(fe=!1)}const ge=q+10,qe=$+Y*ge+ie,Ee=T-qe;if(fe&&Ee>W)return Ee;const ue=V+Y*ge+ie,Ae=T+ue;if(Ae<=J)return Ae;const We=J-Y*ge;return We>W?We:Math.max(W,Math.min(J,T))}function R(g,p,A){return`M ${g} ${p-A} L ${g+A} ${p+A} L ${g-A} ${p+A} Z`}function X(g){if(!g)return Number.POSITIVE_INFINITY;const p=g.trim().toLowerCase();if(p==="elite")return 0;const A=p.match(/(\d+)/);return A?parseInt(A[1],10):Number.POSITIVE_INFINITY}function ae(g,p){const A=X(g),F=X(p);return A!==F?A-F:g.localeCompare(p)}function me(g){if(!g||g.length===0)return null;let p=1/0,A=-1/0;for(const F of g)F<p&&(p=F),F>A&&(A=F);return!Number.isFinite(p)||!Number.isFinite(A)?null:[p,A]}function ot([g,p],A){g>p&&([g,p]=[p,g]);const F=p-g,Y=A?0:1,T=A?100:1/0;let oe=F*w;F===0&&(oe=A?P:C);let G=g-oe,ie=p+oe;if(A&&g<=0||!A&&g<=1?G=g:G=Math.max(G,Y),A&&p>=100?ie=p:A&&(ie=Math.min(ie,T)),ie===G){const fe=A?P:C;G=Math.max(G-fe,Y),ie=A?Math.min(ie+fe,T):ie+fe}return[G,ie]}let Oe=z(()=>n().map(g=>({band:g,entries:Ot(g.entries)}))),Le=z(()=>r(Oe).reduce((g,p)=>(g.push(...p.entries),g),[])),ut=z(()=>(()=>{if(i().length)return i();if(!r(Le).length)return[0];const g=new Set(r(Le).map(p=>p.year));return Array.from(g).sort((p,A)=>p-A)})()),Ve=z(()=>mh().domain(r(ut)).range([c.left,u-c.right])),He=z(()=>s()||(r(Le).length?Math.max(...r(Le).map(g=>g.field_size??0)):1)),Qe=z(()=>(()=>{const g=[];for(const p of r(Le)){const A=ct(p);A!=null&&Number.isFinite(A)&&g.push(A)}return g})()),At=z(()=>me(r(Qe))),jt=z(()=>r(At)?ot(r(At),a()==="relative"):null),et=z(()=>(()=>{if(o()==="fitted"&&r(jt)){const[g,p]=r(jt);return[p,g]}return a()==="relative"?[100,0]:[r(He)+1,0]})()),$e=z(()=>Sl().domain(r(et)).range([f-c.bottom,c.top])),Ue=z(()=>r(Oe).map((g,p)=>{const A=[...g.entries].sort((G,ie)=>G.year-ie.year),F=r(ut).map(G=>A.find(ie=>ie.year===G)??null),T=Ih().defined(G=>G!==null).x(G=>G?r(Ve)(G.year)??c.left:c.left).y(G=>G?r($e)(ct(G)):r($e)(r(et)[1])).curve(Rh)(F)??void 0,oe=at()?Pt(A):[];return{band:g.band,entries:A,timeline:F,pathData:T,conductorChanges:oe,color:h[p%h.length],shape:x[p%x.length]}})),_t=z(()=>at()&&r(Ue).length?r(Ue)[0].conductorChanges.map(g=>{const p=Vt(g.conductor),A=p.reduce((Y,T)=>Math.max(Y,T.length),0),F=wt(g,A);return{...g,...F,y:zt(r(Ue)[0].entries,g,p),labelLines:p}}):[]),vt=z(()=>(()=>{const g=r(et)[0],p=r(et)[1],A=f-c.top-c.bottom,F=Math.max(4,Math.min(8,Math.floor(A/50)));let Y=Array.from(new Set(Vo(p,g,F).map(T=>(a()==="relative",Math.round(T))))).filter(T=>T>=p&&T<=g).sort((T,oe)=>T-oe);return a()==="absolute"&&p<=1&&g>=1&&!Y.includes(1)&&(Y=[1,...Y.filter(T=>T!==1)].sort((T,oe)=>T-oe)),Y})()),ht=z(()=>new Set(r(Le).map(g=>g.year))),Ke=z(()=>r(ut).length>30?5:r(ut).length>18?3:1),$t=z(()=>r(ut).filter((g,p)=>p===0||p===r(ut).length-1||g===2019?!0:g%r(Ke)===0)),Ct=z(()=>r($t).map(g=>{const p=r(Ve)(g)??c.left,A=r(k).offsetX+p*r(k).scaleX;return{year:g,x:A,inactive:!r(ht).has(g)}})),Ie=z(()=>r(k).offsetY+(f-c.bottom)*r(k).scaleY+ce),Ce=z(()=>Array.from(new Set(r(Le).map(g=>g.division))).filter(g=>typeof g=="string"&&g.length>0).sort(ae));const Ge=()=>r(Ce).length>0;function tt(g,p,A,F){const Y=g.currentTarget,T=Y.ownerSVGElement;if(!T)return;const oe=T.getBoundingClientRect();if(g instanceof MouseEvent)E(Me,g.clientX-oe.left),E(he,g.clientY-oe.top);else{const G=Y.getBoundingClientRect();E(Me,G.left+G.width/2-oe.left),E(he,G.top+G.height/2-oe.top)}E(M,{entry:p,bandName:A,lineColor:F},!0)}function je(){E(M,null)}function pt(g){return g.aggregate_entries}var ft=cp(),_e=Se(ft),st=d(_e);U(st,"viewBox",`0 0 ${u} ${f}`);var Mt=y(d(st));rt(Mt,21,()=>r(vt),lt,(g,p)=>{var A=jh(),F=Se(A),Y=y(F),T=d(Y);Q((oe,G,ie)=>{U(F,"x1",c.left),U(F,"x2",u-c.right),U(F,"y1",oe),U(F,"y2",G),U(Y,"x",c.left-12),U(Y,"y",ie),j(T,a()==="relative"?`${r(p)}%`:`#${r(p)}`)},[()=>r($e)(r(p)),()=>r($e)(r(p)),()=>r($e)(r(p))+4]),b(g,A)});var St=y(Mt);rt(St,17,()=>r(Ue),lt,(g,p)=>{var A=Fe(),F=Se(A);{var Y=T=>{var oe=qh();Q(()=>{U(oe,"d",r(p).pathData),U(oe,"stroke",r(p).color)}),b(T,oe)};K(F,T=>{r(p).pathData&&T(Y)})}b(g,A)});var Tt=y(St);{var qt=g=>{var p=Fe(),A=Se(p);rt(A,17,()=>r(_t),lt,(F,Y)=>{var T=Fe(),oe=Se(T);{var G=ie=>{var xe=Fe(),de=Se(xe);nu(de,()=>`${r(Y).year}-${r(Y).conductor}`,fe=>{var ge=Fh(),qe=d(ge),Ee=y(qe);rt(Ee,21,()=>r(Y).labelLines,lt,(ue,Ae,We,Ne)=>{var Pe=Dh();U(Pe,"dy",We===0?0:"1.1em");var Ze=d(Pe);Q(Nt=>{U(Pe,"x",Nt),j(Ze,r(Ae))},[()=>r(Ve)(r(Y).year)]),b(ue,Pe)}),Q((ue,Ae,We)=>{U(qe,"x1",ue),U(qe,"x2",Ae),U(qe,"y1",c.top),U(qe,"y2",f-c.bottom),U(Ee,"x",We),U(Ee,"y",r(Y).y),U(Ee,"text-anchor",r(Y).anchor),U(Ee,"dx",r(Y).dx)},[()=>r(Ve)(r(Y).year),()=>r(Ve)(r(Y).year),()=>r(Ve)(r(Y).year)]),b(fe,ge)}),b(ie,xe)};K(oe,ie=>{r(Ve)(r(Y).year)!==void 0&&ie(G)})}b(F,T)}),b(g,p)};K(Tt,g=>{at()&&g(qt)})}var Et=y(Tt);rt(Et,17,()=>r(Ue),lt,(g,p)=>{var A=Fe(),F=Se(A);rt(F,17,()=>r(p).entries,Y=>Y.year,(Y,T)=>{var oe=Fe(),G=Se(oe);{var ie=xe=>{const de=z(()=>r(Ve)(r(T).year)??c.left),fe=z(()=>r($e)(ct(r(T)))),ge=z(()=>(r(T).field_size??0)>0),qe=z(()=>r(ge)?`${dt(r(T)).toFixed(1)}%`:null);var Ee=Uh(),ue=d(Ee);{var Ae=Ne=>{var Pe=Oh();U(Pe,"r",m),Q(()=>{U(Pe,"cx",r(de)),U(Pe,"cy",r(fe)),U(Pe,"fill",v[r(T).division]??"#f8fafc"),U(Pe,"stroke",r(p).color),U(Pe,"aria-label",`${r(p).band.name}: ${r(T).year} – ${r(T).division} plass ${r(T).rank} (absolutt #${r(T).absolute_position}${r(qe)?` · relativ ${r(qe)}`:""})${r(T).conductor?` – Dirigent: ${r(T).conductor}`:""}`)}),an("mouseenter",Pe,Ze=>tt(Ze,r(T),r(p).band.name,r(p).color)),an("mouseleave",Pe,je),an("focus",Pe,Ze=>tt(Ze,r(T),r(p).band.name,r(p).color)),an("blur",Pe,je),b(Ne,Pe)},We=Ne=>{var Pe=Fe(),Ze=Se(Pe);{var Nt=Dt=>{var be=zh();U(be,"width",m*2),U(be,"height",m*2),Q(()=>{U(be,"x",r(de)-m),U(be,"y",r(fe)-m),U(be,"fill",v[r(T).division]??"#f8fafc"),U(be,"stroke",r(p).color),U(be,"aria-label",`${r(p).band.name}: ${r(T).year} – ${r(T).division} plass ${r(T).rank} (absolutt #${r(T).absolute_position}${r(qe)?` · relativ ${r(qe)}`:""})${r(T).conductor?` – Dirigent: ${r(T).conductor}`:""}`)}),an("mouseenter",be,Xe=>tt(Xe,r(T),r(p).band.name,r(p).color)),an("mouseleave",be,je),an("focus",be,Xe=>tt(Xe,r(T),r(p).band.name,r(p).color)),an("blur",be,je),b(Dt,be)},Wt=Dt=>{var be=Bh();Q(Xe=>{U(be,"d",Xe),U(be,"fill",v[r(T).division]??"#f8fafc"),U(be,"stroke",r(p).color),U(be,"aria-label",`${r(p).band.name}: ${r(T).year} – ${r(T).division} plass ${r(T).rank} (absolutt #${r(T).absolute_position}${r(qe)?` · relativ ${r(qe)}`:""})${r(T).conductor?` – Dirigent: ${r(T).conductor}`:""}`)},[()=>R(r(de),r(fe),m)]),an("mouseenter",be,Xe=>tt(Xe,r(T),r(p).band.name,r(p).color)),an("mouseleave",be,je),an("focus",be,Xe=>tt(Xe,r(T),r(p).band.name,r(p).color)),an("blur",be,je),b(Dt,be)};K(Ze,Dt=>{r(p).shape==="square"?Dt(Nt):Dt(Wt,!1)},!0)}b(Ne,Pe)};K(ue,Ne=>{r(p).shape==="circle"?Ne(Ae):Ne(We,!1)})}b(xe,Ee)};K(G,xe=>{r(Ve)(r(T).year)!==void 0&&xe(ie)})}b(Y,oe)}),b(g,A)}),du(st,g=>E(D,g),()=>r(D));var Lt=y(st,2);{var ke=g=>{const p=z(()=>pt(r(M).entry));var A=ep(),F=d(A),Y=d(F),T=y(F,2);{var oe=ie=>{var xe=Fe(),de=Se(xe);rt(de,17,()=>r(p),lt,(fe,ge,qe)=>{var Ee=Xh(),ue=Se(Ee),Ae=d(ue),We=d(Ae),Ne=y(Ae,2),Pe=d(Ne),Ze=y(Ne,2),Nt=d(Ze),Wt=y(Ze,2);{var Dt=H=>{const ee=z(()=>dt(r(ge)).toFixed(1));var ve=Yh(),pe=d(ve);Q(()=>j(pe,`Relativ plassering: ${r(ee)??""}%`)),b(H,ve)};K(Wt,H=>{(r(ge).field_size??0)>0&&H(Dt)})}var be=y(Wt,2),Xe=d(be),_=y(be,2);{var S=H=>{var ee=Vh(),ve=d(ee);Q(()=>j(ve,`Poeng: ${r(ge).points??""} / ${r(ge).max_points??""}`)),b(H,ee)};K(_,H=>{r(ge).points!==null&&H(S)})}var L=y(_,2);{var N=H=>{var ee=Hh(),ve=d(ee);Q(pe=>j(ve,`Stykker: ${pe??""}`),[()=>r(ge).pieces.join("; ")]),b(H,ee)};K(L,H=>{r(ge).pieces.length>0&&H(N)})}var ne=y(ue,2);{var Z=H=>{var ee=Kh();b(H,ee)};K(ne,H=>{qe<r(p).length-1&&H(Z)})}Q(()=>{j(We,r(ge).band_name??"Ukjent korps"),j(Pe,`${r(ge).division??""} · #${r(ge).rank??""}`),j(Nt,`Absolutt plassering: #${r(ge).absolute_position??""}`),j(Xe,`Deltakere: ${r(ge).division_size??""} (div) / ${r(ge).field_size??""} (totalt)`)}),b(fe,Ee)}),b(ie,xe)},G=ie=>{var xe=Qh(),de=Se(xe),fe=d(de),ge=y(de,2);{var qe=be=>{var Xe=Gh(),_=d(Xe);Q(()=>j(_,`Dirigent: ${r(M).entry.conductor??""}`)),b(be,Xe)};K(ge,be=>{r(M).entry.conductor&&be(qe)})}var Ee=y(ge,2),ue=d(Ee),Ae=y(Ee,2);{var We=be=>{const Xe=z(()=>dt(r(M).entry).toFixed(1));var _=Wh(),S=d(_);Q(()=>j(S,`Relativ plassering: ${r(Xe)??""}%`)),b(be,_)};K(Ae,be=>{(r(M).entry.field_size??0)>0&&be(We)})}var Ne=y(Ae,2),Pe=d(Ne),Ze=y(Ne,2);{var Nt=be=>{var Xe=Zh(),_=d(Xe);Q(()=>j(_,`Poeng: ${r(M).entry.points??""} / ${r(M).entry.max_points??""}`)),b(be,Xe)};K(Ze,be=>{r(M).entry.points!==null&&be(Nt)})}var Wt=y(Ze,2);{var Dt=be=>{var Xe=Jh(),_=d(Xe);Q(S=>j(_,`Stykker: ${S??""}`),[()=>r(M).entry.pieces.join("; ")]),b(be,Xe)};K(Wt,be=>{r(M).entry.pieces.length>0&&be(Dt)})}Q(()=>{j(fe,`${r(M).entry.division??""} · #${r(M).entry.rank??""}`),j(ue,`Absolutt plassering: #${r(M).entry.absolute_position??""}`),j(Pe,`Deltakere: ${r(M).entry.division_size??""} (div) / ${r(M).entry.field_size??""} (totalt)`)}),b(ie,xe)};K(T,ie=>{r(p)&&r(p).length?ie(oe):ie(G,!1)})}Q(()=>{wi(A,`left: ${r(Me)}px; top: ${r(he)}px`),j(Y,`${r(M).entry.year??""} · ${r(M).bandName??""}`)}),b(g,A)};K(Lt,g=>{r(M)&&g(ke)})}var Re=y(Lt,2);rt(Re,21,()=>r(Ct),lt,(g,p)=>{var A=tp();let F;var Y=d(A);Q(T=>{wi(A,`left: ${r(p).x}px`),F=Gt(A,1,"svelte-idxsrp",null,F,T),j(Y,r(p).year)},[()=>({inactive:r(p).inactive})]),b(g,A)});var gt=y(_e,2);{var we=g=>{var p=ap();rt(p,21,()=>r(Ue),lt,(A,F)=>{var Y=sp(),T=d(Y),oe=d(T),G=y(oe);{var ie=fe=>{var ge=np();Q(()=>U(ge,"stroke",r(F).color)),b(fe,ge)},xe=fe=>{var ge=Fe(),qe=Se(ge);{var Ee=Ae=>{var We=rp();Q(()=>U(We,"stroke",r(F).color)),b(Ae,We)},ue=Ae=>{var We=ip();Q(Ne=>{U(We,"d",Ne),U(We,"stroke",r(F).color)},[()=>R(21,7,6)]),b(Ae,We)};K(qe,Ae=>{r(F).shape==="square"?Ae(Ee):Ae(ue,!1)},!0)}b(fe,ge)};K(G,fe=>{r(F).shape==="circle"?fe(ie):fe(xe,!1)})}var de=y(T);Q(()=>{U(oe,"stroke",r(F).color),j(de,` ${r(F).band.name??""}`)}),b(A,Y)}),b(g,p)};K(gt,g=>{r(Ue).length>0&&g(we)})}var ze=y(gt,2);{var se=g=>{var p=lp();rt(p,21,()=>r(Ce),lt,(A,F)=>{var Y=op(),T=d(Y),oe=y(T);Q(()=>{wi(T,`background-color: ${v[r(F)]??"#94a3b8"}`),j(oe,` ${r(F)??""}`)}),b(A,Y)}),b(g,p)};K(ze,g=>{Ge()&&g(se)})}Q(()=>wi(Re,`top: ${r(Ie)}px`)),b(e,ft),yn()}function nt(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}var fp=(e,t)=>t("year"),dp=(e,t)=>t("division"),vp=(e,t)=>t("rank"),hp=(e,t)=>t("points"),pp=(e,t)=>t("conductor"),_p=I('<a class="entity-link svelte-urxxqj"> </a>'),gp=I("<span>Ukjent</span>"),mp=I('<span class="test-piece-label svelte-urxxqj" title="Pliktstykke (fredag)">P:</span>'),yp=I('<span class="own-choice-label svelte-urxxqj" title="Selvvalgt (lørdag)">S:</span>'),bp=I("<a> </a>"),xp=I("<span> </span>"),wp=I("<span>Ukjent</span>"),kp=I('<li class="svelte-urxxqj"><!> <!></li>'),Sp=I('<ul class="piece-list svelte-urxxqj"></ul>'),Ep=I("<span>Ukjent</span>"),Ap=I('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),Mp=I('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),$p=I('<div class="streaming-piece-row svelte-urxxqj"><span class="streaming-links svelte-urxxqj"><!> <!></span></div>'),Cp=I('<div class="streaming-list svelte-urxxqj"></div>'),Np=I('<span class="streaming-missing svelte-urxxqj" aria-hidden="true">–</span>'),Pp=I('<tr class="svelte-urxxqj"><td data-label="År" class="svelte-urxxqj"> </td><td data-label="Divisjon" class="division-cell svelte-urxxqj"> </td><td data-label="Plass" class="svelte-urxxqj"> </td><td data-label="Poeng" class="svelte-urxxqj"> </td><td data-label="Dirigent" class="svelte-urxxqj"><!></td><td data-label="Program" class="piece-cell svelte-urxxqj"><!></td><td data-label="Opptak" class="streaming-cell svelte-urxxqj"><!></td></tr>'),Tp=I('<article class="band-card svelte-urxxqj"><header class="band-header svelte-urxxqj"><div><h2 class="svelte-urxxqj"> </h2> <p class="band-count svelte-urxxqj"> </p></div></header> <div class="table-wrapper svelte-urxxqj" role="region"><table class="svelte-urxxqj"><thead class="svelte-urxxqj"><tr><th scope="col" class="sortable svelte-urxxqj">År<span class="sort-indicator svelte-urxxqj"> </span></th><th scope="col" class="division-column sortable svelte-urxxqj">Divisjon<span class="sort-indicator svelte-urxxqj"> </span></th><th scope="col" class="sortable svelte-urxxqj">Plass<span class="sort-indicator svelte-urxxqj"> </span></th><th scope="col" class="sortable svelte-urxxqj">Poeng<span class="sort-indicator svelte-urxxqj"> </span></th><th scope="col" class="sortable svelte-urxxqj">Dirigent<span class="sort-indicator svelte-urxxqj"> </span></th><th scope="col" class="svelte-urxxqj">Program</th><th scope="col" class="streaming-column svelte-urxxqj">Opptak</th></tr></thead><tbody class="svelte-urxxqj"></tbody></table></div></article>'),Lp=I('<section class="band-performances svelte-urxxqj"></section>');function Ip(e,t){mn(t,!0);let n=kt(t,"bands",19,()=>[]),i=kt(t,"bandType",3,"wind"),s=kt(t,"eliteTestPieces",3,null);const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let o=le("year"),l=le("asc");function c(C,D,k){const B=C==null||C==="",re=D==null||D==="";if(B&&re)return 0;if(B)return 1;if(re)return-1;let M;return typeof C=="number"&&typeof D=="number"?M=C-D:M=String(C).localeCompare(String(D),"nb",{numeric:!0,sensitivity:"base"}),k==="asc"?M:-M}function u(C,D,k){return C!==D?"none":k==="asc"?"ascending":"descending"}function f(C,D,k){return C!==D?"":k==="asc"?" ▲":" ▼"}function v(C){r(o)===C?E(l,r(l)==="asc"?"desc":"asc",!0):(E(o,C,!0),E(l,C==="points"?"desc":"asc",!0))}function h(C){if(!C)return 999;const D=C.toLowerCase();return D==="elite"?0:D.includes("1.")||D==="1"?1:D.includes("2.")||D==="2"?2:D.includes("3.")||D==="3"?3:D.includes("4.")||D==="4"?4:D.includes("5.")||D==="5"?5:D.includes("6.")||D==="6"?6:10}function x(C,D){switch(D){case"year":return C.year;case"division":return h(C.division??null);case"rank":return C.rank??C.absolute_position??null;case"points":return C.points??null;case"conductor":return C.conductor??null}}function m(C){const D=[...C];return D.sort((k,B)=>{const re=c(x(k,r(o)),x(B,r(o)),r(l));return re!==0?re:c(k.year,B.year,"asc")}),D}function q(C){return C==null?"–":a.format(C)}function $(C){return C!=null?`${C}`:"–"}function V(C){return!!(C?.spotify||C?.apple_music)}function W(C){if(!C)return null;const D=C.trim();if(!D)return null;if(!/^https?:\/\//i.test(D))return D;try{const k=new URL(D);return`music://${`${k.host}${k.pathname}${k.search}${k.hash}`}`}catch(k){return console.warn("Kunne ikke konvertere Apple Music-lenke",k),D}}function J(C,D,k){if(!D)return C;const B=D.recording_title?.trim(),re=D.album?.trim(),M=k==="spotify"?"Spotify":"Apple Music",Me=B&&B.length>0?B:C;return re&&re.length>0?`${Me} • ${re} (${M})`:`${Me} (${M})`}function ce(C,D,k){return t.streamingResolver?t.streamingResolver(C,D,k)??null:null}function te(C){const D=String(C),k=s()?.test_pieces?.[D];return k?{composer:k.composer,piece:k.piece}:null}function O(C){return(C||"").toLowerCase()==="elite"}let w=z(()=>n().map(C=>({...C,entries:m(C.entries)})));var P=Lp();rt(P,21,()=>r(w),lt,(C,D)=>{var k=Tp(),B=d(k),re=d(B),M=d(re),Me=d(M),he=y(M,2),at=d(he),dt=y(B,2),ct=d(dt),bt=d(ct),Ot=d(bt),Pt=d(Ot);Pt.__click=[fp,v];var it=y(d(Pt)),xt=d(it),Rt=y(Pt);Rt.__click=[dp,v];var wt=y(d(Rt)),Vt=d(wt),zt=y(Rt);zt.__click=[vp,v];var R=y(d(zt)),X=d(R),ae=y(zt);ae.__click=[hp,v];var me=y(d(ae)),ot=d(me),Oe=y(ae);Oe.__click=[pp,v];var Le=y(d(Oe)),ut=d(Le),Ve=y(bt);rt(Ve,21,()=>r(D).entries,lt,(He,Qe)=>{const At=z(()=>Array.isArray(r(Qe).pieces)?r(Qe).pieces:[]),jt=z(()=>r(At).filter(se=>se&&se.trim().length>0)),et=z(()=>i()==="brass"&&O(r(Qe).division)?te(r(Qe).year):null),$e=z(()=>r(Qe).conductor?.trim()??""),Ue=z(()=>r($e).length>0),_t=z(()=>r(Ue)?nt(r($e)):""),vt=z(()=>r(jt).map(se=>{const g=se.trim(),p=g?nt(g):"",A=g?ce(r(Qe),r(D).name,g):null;return{pieceName:g,pieceSlug:p,streaming:A,isTestPiece:!1}})),ht=z(()=>r(et)?[{pieceName:r(et).piece,pieceSlug:nt(r(et).piece),streaming:ce(r(Qe),r(D).name,r(et).piece),isTestPiece:!0}]:[]),Ke=z(()=>[...r(ht),...r(vt)]),$t=z(()=>r(Ke).filter(se=>V(se.streaming)));var Ct=Pp(),Ie=d(Ct),Ce=d(Ie),Ge=y(Ie),tt=d(Ge),je=y(Ge),pt=d(je),ft=y(je),_e=d(ft),st=y(ft),Mt=d(st);{var St=se=>{var g=_p(),p=d(g);Q(A=>{U(g,"href",A),j(p,r($e))},[()=>`?type=${i()}&view=conductors&conductor=${encodeURIComponent(r(_t))}`]),b(se,g)},Tt=se=>{var g=gp();b(se,g)};K(Mt,se=>{r(Ue)?se(St):se(Tt,!1)})}var qt=y(st),Et=d(qt);{var Lt=se=>{var g=Sp();rt(g,21,()=>r(Ke),lt,(p,A)=>{var F=kp(),Y=d(F);{var T=de=>{var fe=mp();b(de,fe)},oe=de=>{var fe=Fe(),ge=Se(fe);{var qe=Ee=>{var ue=yp();b(Ee,ue)};K(ge,Ee=>{i()==="brass"&&O(r(Qe).division)&&Ee(qe)},!0)}b(de,fe)};K(Y,de=>{r(A).isTestPiece?de(T):de(oe,!1)})}var G=y(Y,2);{var ie=de=>{var fe=bp();let ge;var qe=d(fe);Q((Ee,ue)=>{U(fe,"href",Ee),ge=Gt(fe,1,"entity-link svelte-urxxqj",null,ge,ue),j(qe,r(A).pieceName)},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(r(A).pieceSlug)}`,()=>({"test-piece-link":r(A).isTestPiece})]),b(de,fe)},xe=de=>{var fe=Fe(),ge=Se(fe);{var qe=ue=>{var Ae=xp(),We=d(Ae);Q(()=>j(We,r(A).pieceName)),b(ue,Ae)},Ee=ue=>{var Ae=wp();b(ue,Ae)};K(ge,ue=>{r(A).pieceName?ue(qe):ue(Ee,!1)},!0)}b(de,fe)};K(G,de=>{r(A).pieceSlug?de(ie):de(xe,!1)})}b(p,F)}),b(se,g)},ke=se=>{var g=Ep();b(se,g)};K(Et,se=>{r(Ke).length>0?se(Lt):se(ke,!1)})}var Re=y(qt),gt=d(Re);{var we=se=>{var g=Cp();rt(g,21,()=>r($t),lt,(p,A)=>{const F=z(()=>r(A).streaming);var Y=Fe(),T=Se(Y);{var oe=G=>{var ie=$p(),xe=d(ie),de=d(xe);{var fe=Ee=>{var ue=Ap(),Ae=d(ue),We=d(Ae);Q(Ne=>{U(ue,"href",r(F).spotify),U(ue,"title",Ne),j(We,`Hør ${r(A).pieceName??""} på Spotify`)},[()=>J(r(A).pieceName,r(F),"spotify")]),b(Ee,ue)};K(de,Ee=>{r(F)?.spotify&&Ee(fe)})}var ge=y(de,2);{var qe=Ee=>{const ue=z(()=>W(r(F).apple_music));var Ae=Fe(),We=Se(Ae);{var Ne=Pe=>{var Ze=Mp(),Nt=d(Ze),Wt=d(Nt);Q(Dt=>{U(Ze,"href",r(ue)),U(Ze,"title",Dt),j(Wt,`Hør ${r(A).pieceName??""} på Apple Music`)},[()=>J(r(A).pieceName,r(F),"apple")]),b(Pe,Ze)};K(We,Pe=>{r(ue)&&Pe(Ne)})}b(Ee,Ae)};K(ge,Ee=>{r(F)?.apple_music&&Ee(qe)})}b(G,ie)};K(T,G=>{V(r(F))&&G(oe)})}b(p,Y)}),b(se,g)},ze=se=>{var g=Np();b(se,g)};K(gt,se=>{r($t).length>0?se(we):se(ze,!1)})}Q((se,g)=>{j(Ce,r(Qe).year),j(tt,r(Qe).division),j(pt,se),j(_e,g)},[()=>$(r(Qe).rank),()=>q(r(Qe).points)]),b(He,Ct)}),Q((He,Qe,At,jt,et,$e,Ue,_t,vt,ht)=>{j(Me,r(D).name),j(at,`${r(D).entries.length??""} fremføringer`),U(dt,"aria-label",`Fremføringer av ${r(D).name}`),U(Pt,"aria-sort",He),j(xt,Qe),U(Rt,"aria-sort",At),j(Vt,jt),U(zt,"aria-sort",et),j(X,$e),U(ae,"aria-sort",Ue),j(ot,_t),U(Oe,"aria-sort",vt),j(ut,ht)},[()=>u(r(o),"year",r(l)),()=>f(r(o),"year",r(l)),()=>u(r(o),"division",r(l)),()=>f(r(o),"division",r(l)),()=>u(r(o),"rank",r(l)),()=>f(r(o),"rank",r(l)),()=>u(r(o),"points",r(l)),()=>f(r(o),"points",r(l)),()=>u(r(o),"conductor",r(l)),()=>f(r(o),"conductor",r(l))]),b(C,k)}),b(e,P),yn()}er(["click"]);var Rp=(e,t)=>t("year"),jp=(e,t)=>t("division"),qp=(e,t)=>t("rank"),Dp=(e,t)=>t("points"),Fp=(e,t)=>t("band"),Op=I('<a class="entity-link svelte-7tq4ct"> </a>'),zp=I("<span> </span>"),Bp=I("<span>Ukjent</span>"),Up=I('<a class="entity-link svelte-7tq4ct"> </a>'),Yp=I("<span> </span>"),Vp=I("<span>Ukjent</span>"),Hp=I('<li class="svelte-7tq4ct"><!></li>'),Kp=I('<ul class="piece-list svelte-7tq4ct"></ul>'),Xp=I("<span>Ukjent</span>"),Gp=I('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),Wp=I('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),Zp=I('<div class="streaming-piece-row svelte-7tq4ct"><span class="streaming-links svelte-7tq4ct"><!> <!></span></div>'),Jp=I('<div class="streaming-list svelte-7tq4ct"></div>'),Qp=I('<span class="streaming-missing svelte-7tq4ct" aria-hidden="true">–</span>'),e_=I('<tr class="svelte-7tq4ct"><td data-label="År" class="svelte-7tq4ct"> </td><td data-label="Divisjon" class="division-cell svelte-7tq4ct"> </td><td data-label="Plass" class="svelte-7tq4ct"> </td><td data-label="Poeng" class="svelte-7tq4ct"> </td><td data-label="Korps" class="svelte-7tq4ct"><!></td><td data-label="Program" class="piece-cell svelte-7tq4ct"><!></td><td data-label="Opptak" class="streaming-cell svelte-7tq4ct"><!></td></tr>'),t_=I('<article class="conductor-card svelte-7tq4ct"><header class="conductor-header svelte-7tq4ct"><div><h2 class="svelte-7tq4ct"> </h2> <p class="conductor-count svelte-7tq4ct"> </p></div></header> <div class="table-wrapper svelte-7tq4ct" role="region"><table class="svelte-7tq4ct"><thead class="svelte-7tq4ct"><tr><th scope="col" class="sortable svelte-7tq4ct">År<span class="sort-indicator svelte-7tq4ct"> </span></th><th scope="col" class="division-column sortable svelte-7tq4ct">Divisjon<span class="sort-indicator svelte-7tq4ct"> </span></th><th scope="col" class="sortable svelte-7tq4ct">Plass<span class="sort-indicator svelte-7tq4ct"> </span></th><th scope="col" class="sortable svelte-7tq4ct">Poeng<span class="sort-indicator svelte-7tq4ct"> </span></th><th scope="col" class="sortable svelte-7tq4ct">Korps<span class="sort-indicator svelte-7tq4ct"> </span></th><th scope="col" class="svelte-7tq4ct">Program</th><th scope="col" class="streaming-column svelte-7tq4ct">Opptak</th></tr></thead><tbody class="svelte-7tq4ct"></tbody></table></div></article>'),n_=I('<section class="conductor-performances svelte-7tq4ct"></section>');function r_(e,t){mn(t,!0);let n=kt(t,"conductors",19,()=>[]),i=kt(t,"bandType",3,"wind");const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let a=le("year"),o=le("asc");function l(w,P,C){const D=w==null||w==="",k=P==null||P==="";if(D&&k)return 0;if(D)return 1;if(k)return-1;let B;return typeof w=="number"&&typeof P=="number"?B=w-P:B=String(w).localeCompare(String(P),"nb",{numeric:!0,sensitivity:"base"}),C==="asc"?B:-B}function c(w,P,C){return w!==P?"none":C==="asc"?"ascending":"descending"}function u(w,P,C){return w!==P?"":C==="asc"?" ▲":" ▼"}function f(w){r(a)===w?E(o,r(o)==="asc"?"desc":"asc",!0):(E(a,w,!0),E(o,w==="points"?"desc":"asc",!0))}function v(w){if(!w)return 999;const P=w.toLowerCase();return P==="elite"?0:P.includes("1.")||P==="1"?1:P.includes("2.")||P==="2"?2:P.includes("3.")||P==="3"?3:P.includes("4.")||P==="4"?4:P.includes("5.")||P==="5"?5:P.includes("6.")||P==="6"?6:10}function h(w,P){switch(P){case"year":return w.year;case"division":return v(w.division??null);case"rank":return w.rank??w.absolute_position??null;case"points":return w.points??null;case"band":return w.band_name??null}}function x(w){const P=[...w];return P.sort((C,D)=>{const k=l(h(C,r(a)),h(D,r(a)),r(o));return k!==0?k:l(C.year,D.year,"asc")}),P}function m(w){return w==null?"–":s.format(w)}function q(w){return w!=null?`${w}`:"–"}function $(w){return!!(w?.spotify||w?.apple_music)}function V(w){if(!w)return null;const P=w.trim();if(!P)return null;if(!/^https?:\/\//i.test(P))return P;try{const C=new URL(P);return`music://${`${C.host}${C.pathname}${C.search}${C.hash}`}`}catch(C){return console.warn("Kunne ikke konvertere Apple Music-lenke",C),P}}function W(w,P,C){if(!P)return w;const D=P.recording_title?.trim(),k=P.album?.trim(),B=C==="spotify"?"Spotify":"Apple Music",re=D&&D.length>0?D:w;return k&&k.length>0?`${re} • ${k} (${B})`:`${re} (${B})`}function J(w,P,C){return t.streamingResolver?t.streamingResolver(w,P,C)??null:null}function ce(w){const C=(w.entries??[]).flatMap(D=>(D.aggregate_entries&&Array.isArray(D.aggregate_entries)?D.aggregate_entries:[D]).map(B=>({...B,band_name:B.band_name??D.band_name??null})));return x(C)}let te=z(()=>n().map(w=>({...w,performances:ce(w)})));var O=n_();rt(O,21,()=>r(te),lt,(w,P)=>{var C=t_(),D=d(C),k=d(D),B=d(k),re=d(B),M=y(B,2),Me=d(M),he=y(D,2),at=d(he),dt=d(at),ct=d(dt),bt=d(ct);bt.__click=[Rp,f];var Ot=y(d(bt)),Pt=d(Ot),it=y(bt);it.__click=[jp,f];var xt=y(d(it)),Rt=d(xt),wt=y(it);wt.__click=[qp,f];var Vt=y(d(wt)),zt=d(Vt),R=y(wt);R.__click=[Dp,f];var X=y(d(R)),ae=d(X),me=y(R);me.__click=[Fp,f];var ot=y(d(me)),Oe=d(ot),Le=y(dt);rt(Le,21,()=>r(P).performances,lt,(ut,Ve)=>{const He=z(()=>r(Ve).band_name?.trim()??""),Qe=z(()=>r(He).length>0),At=z(()=>r(Qe)?nt(r(He)):""),jt=z(()=>Array.isArray(r(Ve).pieces)?r(Ve).pieces:[]),et=z(()=>r(jt).filter(ke=>ke&&ke.trim().length>0)),$e=z(()=>r(et).map(ke=>{const Re=ke.trim(),gt=Re?nt(Re):"",we=r(Qe)&&Re?J(r(Ve),r(He),Re):null;return{pieceName:Re,pieceSlug:gt,streaming:we}})),Ue=z(()=>r($e).filter(ke=>$(ke.streaming)));var _t=e_(),vt=d(_t),ht=d(vt),Ke=y(vt),$t=d(Ke),Ct=y(Ke),Ie=d(Ct),Ce=y(Ct),Ge=d(Ce),tt=y(Ce),je=d(tt);{var pt=ke=>{var Re=Op(),gt=d(Re);Q(we=>{U(Re,"href",we),j(gt,r(He))},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(r(At))}`]),b(ke,Re)},ft=ke=>{var Re=Fe(),gt=Se(Re);{var we=se=>{var g=zp(),p=d(g);Q(()=>j(p,r(He))),b(se,g)},ze=se=>{var g=Bp();b(se,g)};K(gt,se=>{r(Qe)?se(we):se(ze,!1)},!0)}b(ke,Re)};K(je,ke=>{r(Qe)&&r(At)?ke(pt):ke(ft,!1)})}var _e=y(tt),st=d(_e);{var Mt=ke=>{var Re=Kp();rt(Re,21,()=>r($e),lt,(gt,we)=>{var ze=Hp(),se=d(ze);{var g=A=>{var F=Up(),Y=d(F);Q(T=>{U(F,"href",T),j(Y,r(we).pieceName)},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(r(we).pieceSlug)}`]),b(A,F)},p=A=>{var F=Fe(),Y=Se(F);{var T=G=>{var ie=Yp(),xe=d(ie);Q(()=>j(xe,r(we).pieceName)),b(G,ie)},oe=G=>{var ie=Vp();b(G,ie)};K(Y,G=>{r(we).pieceName?G(T):G(oe,!1)},!0)}b(A,F)};K(se,A=>{r(we).pieceSlug?A(g):A(p,!1)})}b(gt,ze)}),b(ke,Re)},St=ke=>{var Re=Xp();b(ke,Re)};K(st,ke=>{r($e).length>0?ke(Mt):ke(St,!1)})}var Tt=y(_e),qt=d(Tt);{var Et=ke=>{var Re=Jp();rt(Re,21,()=>r(Ue),lt,(gt,we)=>{const ze=z(()=>r(we).streaming);var se=Zp(),g=d(se),p=d(g);{var A=T=>{var oe=Gp(),G=d(oe),ie=d(G);Q(xe=>{U(oe,"href",r(ze).spotify),U(oe,"title",xe),j(ie,`Hør ${r(we).pieceName??""} på Spotify`)},[()=>W(r(we).pieceName,r(ze),"spotify")]),b(T,oe)};K(p,T=>{r(ze)?.spotify&&T(A)})}var F=y(p,2);{var Y=T=>{const oe=z(()=>V(r(ze).apple_music));var G=Fe(),ie=Se(G);{var xe=de=>{var fe=Wp(),ge=d(fe),qe=d(ge);Q(Ee=>{U(fe,"href",r(oe)),U(fe,"title",Ee),j(qe,`Hør ${r(we).pieceName??""} på Apple Music`)},[()=>W(r(we).pieceName,r(ze),"apple")]),b(de,fe)};K(ie,de=>{r(oe)&&de(xe)})}b(T,G)};K(F,T=>{r(ze)?.apple_music&&T(Y)})}b(gt,se)}),b(ke,Re)},Lt=ke=>{var Re=Qp();b(ke,Re)};K(qt,ke=>{r(Ue).length>0?ke(Et):ke(Lt,!1)})}Q((ke,Re)=>{j(ht,r(Ve).year),j($t,r(Ve).division),j(Ie,ke),j(Ge,Re)},[()=>q(r(Ve).rank),()=>m(r(Ve).points)]),b(ut,_t)}),Q((ut,Ve,He,Qe,At,jt,et,$e,Ue,_t)=>{j(re,r(P).name),j(Me,`${r(P).performances.length??""} fremføringer`),U(he,"aria-label",`Fremføringer av ${r(P).name}`),U(bt,"aria-sort",ut),j(Pt,Ve),U(it,"aria-sort",He),j(Rt,Qe),U(wt,"aria-sort",At),j(zt,jt),U(R,"aria-sort",et),j(ae,$e),U(me,"aria-sort",Ue),j(Oe,_t)},[()=>c(r(a),"year",r(o)),()=>u(r(a),"year",r(o)),()=>c(r(a),"division",r(o)),()=>u(r(a),"division",r(o)),()=>c(r(a),"rank",r(o)),()=>u(r(a),"rank",r(o)),()=>c(r(a),"points",r(o)),()=>u(r(a),"points",r(o)),()=>c(r(a),"band",r(o)),()=>u(r(a),"band",r(o))]),b(w,C)}),b(e,O),yn()}er(["click"]);function i_(e,t){const n=Number(e.target.value);E(t,Number.isNaN(n)?null:n,!0)}function s_(e,t){E(t,e.target.value||null,!0)}var a_=I('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),o_=I('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),l_=I("<option> </option>"),c_=I("<option selected>Ingen divisjoner</option>"),u_=I("<option> </option>"),f_=I('<span class="svelte-1e9ky18"> </span>'),d_=I('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),v_=I('<div class="prize-card prize-card--soloist svelte-1e9ky18"><div class="prize-card__header svelte-1e9ky18"><span class="prize-card__type svelte-1e9ky18">Solistpris</span> <span class="prize-card__instrument svelte-1e9ky18"> </span></div> <div class="prize-card__winner svelte-1e9ky18"><a class="prize-winner-link svelte-1e9ky18"> </a></div></div>'),h_=I('<div class="prize-card prize-card--group svelte-1e9ky18"><div class="prize-card__header svelte-1e9ky18"><span class="prize-card__type svelte-1e9ky18">Gruppepris</span> <span class="prize-card__instrument svelte-1e9ky18"> </span></div> <div class="prize-card__winner svelte-1e9ky18"><a class="prize-winner-link svelte-1e9ky18"> </a></div></div>'),p_=I('<div class="prize-section svelte-1e9ky18" role="complementary" aria-label="Priser"><h3 class="svelte-1e9ky18">🏆 Priser</h3> <div class="prize-cards svelte-1e9ky18"><!> <!></div></div>'),__=I('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),g_=I('<a class="entity-link svelte-1e9ky18"> </a>'),m_=I("<span>Ukjent</span>"),y_=I("<span>–</span>"),b_=I('<span class="test-piece-label svelte-1e9ky18" title="Pliktstykke (fredag)">P:</span>'),x_=I('<span class="own-choice-label svelte-1e9ky18" title="Selvvalgt (lørdag)">S:</span>'),w_=I('<div class="program-piece svelte-1e9ky18"><!> <a> </a></div>'),k_=I('<div class="program-list svelte-1e9ky18"></div>'),S_=I('<span class="streaming-missing" aria-hidden="true">–</span>'),E_=I('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),A_=I('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),M_=I('<span class="streaming-links svelte-1e9ky18"><!> <!></span>'),$_=I('<span class="streaming-missing" aria-hidden="true">–</span>'),C_=I('<div class="streaming-piece-row svelte-1e9ky18"><!></div>'),N_=I('<div class="streaming-list svelte-1e9ky18"></div>'),P_=I('<tr><td data-label="Plass" class="rank-col svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td><td data-label="Opptak" class="streaming-cell svelte-1e9ky18"><!></td></tr>'),T_=I('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th><th scope="col" class="streaming-column svelte-1e9ky18">Opptak</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),L_=I('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!> <!>',1),I_=I('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2></div> <!></section>');function R_(e,t){mn(t,!0);let n=kt(t,"dataset",3,null),i=kt(t,"bandType",3,"wind"),s=kt(t,"streamingResolver",3,void 0),a=kt(t,"eliteTestPieces",3,null),o=le(null),l=le(!1),c=le(null);const u=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1}),f=R=>`band-positions-${R}-year`,v=R=>`band-positions-${R}-division`;function h(R){if(typeof localStorage>"u")return null;try{const X=localStorage.getItem(f(R));if(X){const ae=Number(X);return Number.isNaN(ae)?null:ae}}catch(X){console.warn("Failed to read year from localStorage",X)}return null}function x(R){if(typeof localStorage>"u")return null;try{return localStorage.getItem(v(R))}catch(X){console.warn("Failed to read division from localStorage",X)}return null}function m(R,X){if(!(typeof localStorage>"u"))try{X===null?localStorage.removeItem(f(R)):localStorage.setItem(f(R),String(X))}catch(ae){console.warn("Failed to write year to localStorage",ae)}}function q(R,X){if(!(typeof localStorage>"u"))try{X===null?localStorage.removeItem(v(R)):localStorage.setItem(v(R),X)}catch(ae){console.warn("Failed to write division to localStorage",ae)}}let $=le(Kt(h(i()))),V=le(Kt(x(i()))),W=z(()=>n()?P(n()):new Map),J=z(()=>n()?.metadata?.years??[]),ce=z(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||r($)==null||!r(W).has(r($)))return[];const R=r(W).get(r($))??new Map,X=n().metadata.divisions.filter(me=>R.has(me)),ae=Array.from(R.keys()).filter(me=>!X.includes(me)).sort();return[...X,...ae]})()),te=z(()=>(()=>{if(r($)!=null&&r(V)&&r(W).has(r($))){const R=r(W).get(r($)),X=(r(V)&&R?.get(r(V)))??[];return k(X)}return[]})()),O=z(()=>(()=>{if(r(te).length>0){const X=r(te)[0]?.entry?.division_size??r(te).length;return X&&X>0?X:null}return null})()),w=z(()=>(()=>{if(r(te).length>0){const X=r(te)[0]?.entry?.field_size??null;return X&&X>0?X:null}return null})());function P(R){const X=new Map;if(!R?.bands||!Array.isArray(R.bands))return X;for(const ae of R.bands)if(!(!ae||!ae.entries||!Array.isArray(ae.entries)))for(const me of ae.entries){if(!me||typeof me.year!="number"||!me.division)continue;let ot=X.get(me.year);ot||(ot=new Map,X.set(me.year,ot));const Oe=me.division;let Le=ot.get(Oe);Le||(Le=[],ot.set(Oe,Le)),Le.push({band:ae.name,entry:me})}return X}function C(R){return R.length?r($)&&R.includes(r($))?r($):R[R.length-1]??null:null}function D(R){return R.length?r(V)&&R.includes(r(V))?r(V):R[0]??null:null}function k(R){return[...R].sort((X,ae)=>{const me=X.entry.rank??Number.POSITIVE_INFINITY,ot=ae.entry.rank??Number.POSITIVE_INFINITY;if(me!==ot)return me-ot;const Oe=X.entry.absolute_position??Number.POSITIVE_INFINITY,Le=ae.entry.absolute_position??Number.POSITIVE_INFINITY;return Oe!==Le?Oe-Le:X.band.localeCompare(ae.band)})}function B(R){return R!=null?`${R}`:"–"}function re(R,X){if(R==null&&X==null)return"–";const ae=R==null?"–":u.format(R);return X==null,ae}function M(R){return R.map(X=>X.trim()).filter(Boolean)}function Me(R,X,ae){if(typeof s()!="function")return null;try{return s()(R,X,ae)??null}catch(me){return console.error("Kunne ikke hente streaming-lenke",me),null}}function he(R){return!!(R?.spotify||R?.apple_music)}function at(R){if(!R)return null;const X=R.trim();if(!X)return null;if(!/^https?:\/\//i.test(X))return X;try{const ae=new URL(X);return`music://${`${ae.host}${ae.pathname}${ae.search}${ae.hash}`}`}catch(ae){return console.warn("Kunne ikke konvertere Apple Music-lenke",ae),X}}function dt(R,X,ae){if(!X)return R;const me=X.recording_title?.trim(),ot=X.album?.trim(),Oe=ae==="spotify"?"Spotify":"Apple Music",Le=me&&me.length>0?me:R;return ot&&ot.length>0?`${Le} • ${ot} (${Oe})`:`${Le} (${Oe})`}function ct(R){const X=String(R),ae=a()?.test_pieces?.[X];return ae?{composer:ae.composer,piece:ae.piece}:null}function bt(R){return(R||"").toLowerCase()==="elite"}function Ot(R,X,ae,me,ot){if(!R||ot==null)return null;const Oe=R[X];if(!Oe)return null;let Le=Oe[String(ae)];if(!Le&&X==="brass"&&ae>=2016&&(Le=Oe[2016]),!Le)return null;const ut=Le[me];return ut?ut.promote&&ut.promote.includes(ot)?"promote":ut.demote&&ut.demote.includes(ot)?"demote":"safe":null}function Pt(R){return R===1?"🥇 ":R===2?"🥈 ":R===3?"🥉 ":""}hn(()=>{m(i(),r($))}),hn(()=>{q(i(),r(V))}),hn(()=>{const R=h(i()),X=x(i());E($,R,!0),E(V,X,!0)}),hn(()=>{if(n()&&r(J)&&Array.isArray(r(J))&&r(J).length>0){const R=C(r(J));r($)!==R&&E($,R,!0)}else E($,null),E(V,null)}),hn(()=>{if(r($)!=null&&r(ce)&&Array.isArray(r(ce))&&r(ce).length>0){const R=D(r(ce));r(V)!==R&&E(V,R,!0)}else r($)!=null&&E(V,null)});async function it(R){E(l,!0);try{const ae=await fetch(`data/${R==="wind"?"wind_prizes.json":"brass_prizes.json"}`);if(!ae.ok)throw new Error(`Failed to fetch prize data: ${ae.statusText}`);E(o,await ae.json(),!0)}catch(X){console.error("Error loading prize data:",X),E(o,null)}finally{E(l,!1)}}Wn(()=>{it(i()),fetch("data/promotion_rules.json").then(R=>R.ok?R.json():(console.warn("promotion_rules.json not found or failed to load"),null)).then(R=>{R&&E(c,R,!0)}).catch(R=>{console.warn("Failed to load promotion rules",R)})}),hn(()=>{it(i())});let xt=z(()=>(()=>{if(!r(o)||r($)==null||!r(V))return null;const R=r(o).prizes.find(me=>me.year===r($)&&me.division===r(V));if(!R||!R.entries)return null;const X=R.entries.find(me=>me.prize_type==="soloist"),ae=R.entries.find(me=>me.prize_type==="group");return{soloist:X||null,group:ae||null}})());var Rt=I_(),wt=y(d(Rt),2);{var Vt=R=>{var X=a_();b(R,X)},zt=R=>{var X=Fe(),ae=Se(X);{var me=Oe=>{var Le=o_();b(Oe,Le)},ot=Oe=>{var Le=L_(),ut=Se(Le),Ve=d(ut),He=y(d(Ve),2);He.__change=[i_,$],rt(He,21,()=>r(J)||[],lt,(Ie,Ce)=>{var Ge=l_(),tt=d(Ge),je={};Q(()=>{xa(Ge,r($)===r(Ce)),j(tt,r(Ce)),je!==(je=r(Ce))&&(Ge.value=(Ge.__value=r(Ce))??"")}),b(Ie,Ge)});var Qe=y(Ve,2),At=y(d(Qe),2);At.__change=[s_,V];var jt=d(At);{var et=Ie=>{var Ce=c_();Ce.value=Ce.__value="",b(Ie,Ce)},$e=Ie=>{var Ce=Fe(),Ge=Se(Ce);rt(Ge,17,()=>r(ce),lt,(tt,je)=>{var pt=u_(),ft=d(pt),_e={};Q(()=>{xa(pt,r(V)===r(je)),j(ft,r(je)),_e!==(_e=r(je))&&(pt.value=(pt.__value=r(je))??"")}),b(tt,pt)}),b(Ie,Ce)};K(jt,Ie=>{!r(ce)||r(ce).length===0?Ie(et):Ie($e,!1)})}var Ue=y(Qe,2);{var _t=Ie=>{var Ce=d_(),Ge=d(Ce),tt=d(Ge),je=y(Ge,2);{var pt=ft=>{var _e=f_(),st=d(_e);Q(()=>j(st,`Totalt felt: ${r(w)??""}`)),b(ft,_e)};K(je,ft=>{r(w)&&ft(pt)})}Q(()=>j(tt,`${r(O)??""} korps`)),b(Ie,Ce)};K(Ue,Ie=>{r(O)&&Ie(_t)})}var vt=y(ut,2);{var ht=Ie=>{var Ce=p_(),Ge=y(d(Ce),2),tt=d(Ge);{var je=_e=>{var st=v_(),Mt=d(st),St=y(d(Mt),2),Tt=d(St),qt=y(Mt,2),Et=d(qt),Lt=d(Et);Q(ke=>{j(Tt,r(xt).soloist.instrument),U(Et,"href",ke),j(Lt,r(xt).soloist.orchestra)},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(nt(r(xt).soloist.orchestra))}`]),b(_e,st)};K(tt,_e=>{r(xt).soloist&&_e(je)})}var pt=y(tt,2);{var ft=_e=>{var st=h_(),Mt=d(st),St=y(d(Mt),2),Tt=d(St),qt=y(Mt,2),Et=d(qt),Lt=d(Et);Q(ke=>{j(Tt,r(xt).group.instrument),U(Et,"href",ke),j(Lt,r(xt).group.orchestra)},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(nt(r(xt).group.orchestra))}`]),b(_e,st)};K(pt,_e=>{r(xt).group&&_e(ft)})}b(Ie,Ce)};K(vt,Ie=>{r(xt)&&(r(xt).soloist||r(xt).group)&&Ie(ht)})}var Ke=y(vt,2);{var $t=Ie=>{var Ce=__();b(Ie,Ce)},Ct=Ie=>{var Ce=T_(),Ge=d(Ce),tt=y(d(Ge));rt(tt,21,()=>r(te),lt,(je,pt)=>{let ft=()=>r(pt).band,_e=()=>r(pt).entry;const st=z(()=>Ot(r(c),i(),r($)??0,_e().division??"",_e().rank));var Mt=P_();let St;var Tt=d(Mt),qt=d(Tt),Et=y(Tt),Lt=d(Et),ke=d(Lt),Re=y(Et),gt=d(Re);{var we=G=>{var ie=g_(),xe=d(ie);Q((de,fe)=>{U(ie,"href",de),j(xe,fe)},[()=>`?type=${i()}&view=conductors&conductor=${encodeURIComponent(nt(_e().conductor))}`,()=>_e().conductor.trim()]),b(G,ie)},ze=G=>{var ie=m_();b(G,ie)};K(gt,G=>{_e().conductor&&_e().conductor.trim().length>0?G(we):G(ze,!1)})}var se=y(Re),g=d(se),p=y(se),A=d(p);{var F=G=>{const ie=z(()=>i()==="brass"&&bt(_e().division)?ct(_e().year):null),xe=z(()=>M(_e().pieces)),de=z(()=>r(ie)?[{name:r(ie).piece,isTestPiece:!0},...r(xe).map(ue=>({name:ue,isTestPiece:!1}))]:r(xe).map(ue=>({name:ue,isTestPiece:!1})));var fe=Fe(),ge=Se(fe);{var qe=ue=>{var Ae=y_();b(ue,Ae)},Ee=ue=>{var Ae=k_();rt(Ae,21,()=>r(de),lt,(We,Ne)=>{const Pe=z(()=>r(Ne).name);var Ze=w_(),Nt=d(Ze);{var Wt=S=>{var L=b_();b(S,L)},Dt=S=>{var L=Fe(),N=Se(L);{var ne=Z=>{var H=x_();b(Z,H)};K(N,Z=>{i()==="brass"&&bt(_e().division)&&Z(ne)},!0)}b(S,L)};K(Nt,S=>{r(Ne).isTestPiece?S(Wt):S(Dt,!1)})}var be=y(Nt,2);let Xe;var _=d(be);Q((S,L)=>{U(be,"href",S),Xe=Gt(be,1,"program-link svelte-1e9ky18",null,Xe,L),j(_,r(Pe))},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(nt(r(Pe)))}`,()=>({"test-piece-link":r(Ne).isTestPiece})]),b(We,Ze)}),b(ue,Ae)};K(ge,ue=>{r(de).length===0?ue(qe):ue(Ee,!1)})}b(G,fe)};K(A,G=>{G(F)})}var Y=y(p),T=d(Y);{var oe=G=>{const ie=z(()=>i()==="brass"&&bt(_e().division)?ct(_e().year):null),xe=z(()=>M(_e().pieces)),de=z(()=>r(ie)?[{name:r(ie).piece,isTestPiece:!0},...r(xe).map(ue=>({name:ue,isTestPiece:!1}))]:r(xe).map(ue=>({name:ue,isTestPiece:!1})));var fe=Fe(),ge=Se(fe);{var qe=ue=>{var Ae=S_();b(ue,Ae)},Ee=ue=>{var Ae=N_();rt(Ae,21,()=>r(de),lt,(We,Ne)=>{const Pe=z(()=>r(Ne).name),Ze=z(()=>Me(_e(),ft(),r(Pe)));var Nt=C_(),Wt=d(Nt);{var Dt=Xe=>{var _=M_(),S=d(_);{var L=Z=>{var H=E_(),ee=d(H),ve=d(ee);Q(pe=>{U(H,"href",r(Ze).spotify),U(H,"title",pe),j(ve,`Hør ${r(Pe)??""} på Spotify`)},[()=>dt(r(Pe),r(Ze),"spotify")]),b(Z,H)};K(S,Z=>{r(Ze)?.spotify&&Z(L)})}var N=y(S,2);{var ne=Z=>{const H=z(()=>at(r(Ze).apple_music));var ee=Fe(),ve=Se(ee);{var pe=De=>{var Te=A_(),ye=d(Te),Je=d(ye);Q(mt=>{U(Te,"href",r(H)),U(Te,"title",mt),j(Je,`Hør ${r(Pe)??""} på Apple Music`)},[()=>dt(r(Pe),r(Ze),"apple")]),b(De,Te)};K(ve,De=>{r(H)&&De(pe)})}b(Z,ee)};K(N,Z=>{r(Ze)?.apple_music&&Z(ne)})}b(Xe,_)},be=Xe=>{var _=$_();b(Xe,_)};K(Wt,Xe=>{he(r(Ze))?Xe(Dt):Xe(be,!1)})}b(We,Nt)}),b(ue,Ae)};K(ge,ue=>{r(de).length===0?ue(qe):ue(Ee,!1)})}b(G,fe)};K(T,G=>{G(oe)})}Q((G,ie,xe,de,fe)=>{St=Gt(Mt,1,"svelte-1e9ky18",null,St,G),j(qt,`${ie??""}${xe??""}`),U(Lt,"href",de),j(ke,ft()),j(g,fe)},[()=>({"row-promote":r(st)==="promote","row-demote":r(st)==="demote"}),()=>Pt(_e().rank),()=>B(_e().rank),()=>`?type=${i()}&view=bands&band=${encodeURIComponent(nt(ft()))}`,()=>re(_e().points,_e().max_points)]),b(je,Mt)}),b(Ie,Ce)};K(Ke,Ie=>{!r(te)||r(te).length===0?Ie($t):Ie(Ct,!1)})}b(Oe,Le)};K(ae,Oe=>{!r(J)||!r(J).length?Oe(me):Oe(ot,!1)},!0)}b(R,X)};K(wt,R=>{n()?R(zt,!1):R(Vt)})}b(e,Rt),yn()}er(["change"]);function Al(e){return e.replace(/\s+/g," ").trim()}const j_=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function q_(e){return e.replace(j_,"").trim()}function ti(e){if(!e)return[];const t=q_(e);if(!t)return[];const i=t.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/·]/g,",").split(/[;,]/).map(a=>Al(a)).filter(a=>a.length>0),s=new Map;for(const a of i){const o=a.toLowerCase();s.has(o)||s.set(o,a)}return Array.from(s.values())}var D_=I('<a class="composer-link svelte-18hgr5c"> </a> ',1),F_=I('<p class="piece-composer svelte-18hgr5c"></p>'),O_=I('<p class="piece-composer svelte-18hgr5c"> </p>'),z_=(e,t)=>t("year"),B_=(e,t)=>t("division"),U_=(e,t)=>t("band"),Y_=(e,t)=>t("rank"),V_=(e,t)=>t("points"),H_=(e,t)=>t("conductor"),K_=I('<a class="entity-link svelte-18hgr5c"> </a>'),X_=I("<span>Ukjent</span>"),G_=I('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Spotify</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),W_=I('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Apple Music</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),Z_=I('<div class="streaming-links svelte-18hgr5c"><!> <!></div>'),J_=I('<span class="streaming-missing svelte-18hgr5c" aria-hidden="true">–</span>'),Q_=I('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td><td data-label="Opptak" class="streaming-cell svelte-18hgr5c"><!></td></tr>'),eg=I('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="sortable svelte-18hgr5c">År<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="sortable svelte-18hgr5c">Divisjon<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="sortable svelte-18hgr5c">Korps<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="sortable svelte-18hgr5c">Plass<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="sortable svelte-18hgr5c">Poeng<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="sortable svelte-18hgr5c">Dirigent<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="streaming-column svelte-18hgr5c">Opptak</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),tg=I('<section class="pieces-view svelte-18hgr5c"></section>');function ng(e,t){mn(t,!0);let n=kt(t,"pieces",19,()=>[]),i=kt(t,"bandType",3,"wind");const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let a=le("year"),o=le("asc");function l(O,w,P){const C=O==null||O==="",D=w==null||w==="";if(C&&D)return 0;if(C)return 1;if(D)return-1;let k;return typeof O=="number"&&typeof w=="number"?k=O-w:k=String(O).localeCompare(String(w),"nb",{numeric:!0,sensitivity:"base"}),P==="asc"?k:-k}function c(O,w,P){return O!==w?"none":P==="asc"?"ascending":"descending"}function u(O,w,P){return O!==w?"":P==="asc"?" ▲":" ▼"}function f(O){r(a)===O?E(o,r(o)==="asc"?"desc":"asc",!0):(E(a,O,!0),E(o,O==="points"?"desc":"asc",!0))}function v(O){if(!O)return 999;const w=O.toLowerCase();return w==="elite"?0:w.includes("1.")||w==="1"?1:w.includes("2.")||w==="2"?2:w.includes("3.")||w==="3"?3:w.includes("4.")||w==="4"?4:w.includes("5.")||w==="5"?5:w.includes("6.")||w==="6"?6:10}function h(O,w){switch(w){case"year":return O.entry.year;case"division":return v(O.entry.division??null);case"band":return O.band??null;case"rank":return O.entry.rank??O.entry.absolute_position??null;case"points":return O.entry.points??null;case"conductor":return O.entry.conductor??null}}function x(O){const w=[...O];return w.sort((P,C)=>{const D=l(h(P,r(a)),h(C,r(a)),r(o));return D!==0?D:l(P.entry.year,C.entry.year,"asc")}),w}function m(O){return O.composerNames&&O.composerNames.length>0?O.composerNames:O.composer?ti(O.composer):[]}function q(O){return O==null?"–":s.format(O)}function $(O){return O!=null?`${O}`:"–"}function V(O){return!!(O?.spotify||O?.apple_music)}function W(O){if(!O)return null;const w=O.trim();if(!w)return null;if(!/^https?:\/\//i.test(w))return w;try{const P=new URL(w);return`music://${`${P.host}${P.pathname}${P.search}${P.hash}`}`}catch(P){return console.warn("Kunne ikke konvertere Apple Music-lenke",P),w}}function J(O,w,P){if(!w)return O;const C=w.recording_title?.trim(),D=w.album?.trim(),k=P==="spotify"?"Spotify":"Apple Music",B=C&&C.length>0?C:O;return D&&D.length>0?`${B} • ${D} (${k})`:`${B} (${k})`}let ce=z(()=>n().map(O=>({...O,performances:x(O.performances)})));var te=tg();rt(te,21,()=>r(ce),lt,(O,w)=>{const P=z(()=>m(r(w)));var C=eg(),D=d(C),k=d(D),B=d(k),re=d(B),M=y(B,2);{var Me=et=>{var $e=F_();rt($e,21,()=>r(P),lt,(Ue,_t,vt)=>{var ht=D_(),Ke=Se(ht),$t=d(Ke),Ct=y(Ke,1,!0);Q(Ie=>{U(Ke,"href",Ie),j($t,r(_t)),j(Ct,vt<r(P).length-1?", ":"")},[()=>`?type=${i()}&view=composers&composer=${encodeURIComponent(nt(r(_t)))}`]),b(Ue,ht)}),b(et,$e)},he=et=>{var $e=Fe(),Ue=Se($e);{var _t=vt=>{var ht=O_(),Ke=d(ht);Q(()=>j(Ke,r(w).composer)),b(vt,ht)};K(Ue,vt=>{r(w).composer&&vt(_t)},!0)}b(et,$e)};K(M,et=>{r(P).length>0?et(Me):et(he,!1)})}var at=y(M,2),dt=d(at),ct=y(D,2),bt=d(ct),Ot=d(bt),Pt=d(Ot),it=d(Pt);it.__click=[z_,f];var xt=y(d(it)),Rt=d(xt),wt=y(it);wt.__click=[B_,f];var Vt=y(d(wt)),zt=d(Vt),R=y(wt);R.__click=[U_,f];var X=y(d(R)),ae=d(X),me=y(R);me.__click=[Y_,f];var ot=y(d(me)),Oe=d(ot),Le=y(me);Le.__click=[V_,f];var ut=y(d(Le)),Ve=d(ut),He=y(Le);He.__click=[H_,f];var Qe=y(d(He)),At=d(Qe),jt=y(Ot);rt(jt,21,()=>r(w).performances,lt,(et,$e)=>{const Ue=z(()=>r($e).entry.conductor?.trim()??""),_t=z(()=>r(Ue).length>0),vt=z(()=>r(_t)?nt(r(Ue)):""),ht=z(()=>nt(r($e).band)),Ke=z(()=>r($e).streaming??null);var $t=Q_(),Ct=d($t),Ie=d(Ct),Ce=y(Ct),Ge=d(Ce),tt=y(Ce),je=d(tt),pt=d(je),ft=y(tt),_e=d(ft),st=y(ft),Mt=d(st),St=y(st),Tt=d(St);{var qt=we=>{var ze=K_(),se=d(ze);Q(g=>{U(ze,"href",g),j(se,r(Ue))},[()=>`?type=${i()}&view=conductors&conductor=${encodeURIComponent(r(vt))}`]),b(we,ze)},Et=we=>{var ze=X_();b(we,ze)};K(Tt,we=>{r(_t)?we(qt):we(Et,!1)})}var Lt=y(St),ke=d(Lt);{var Re=we=>{var ze=Z_(),se=d(ze);{var g=F=>{var Y=G_();Q(T=>{U(Y,"href",r(Ke).spotify),U(Y,"title",T)},[()=>J(r(w).name,r(Ke),"spotify")]),b(F,Y)};K(se,F=>{r(Ke)?.spotify&&F(g)})}var p=y(se,2);{var A=F=>{const Y=z(()=>W(r(Ke).apple_music));var T=Fe(),oe=Se(T);{var G=ie=>{var xe=W_();Q(de=>{U(xe,"href",r(Y)),U(xe,"title",de)},[()=>J(r(w).name,r(Ke),"apple")]),b(ie,xe)};K(oe,ie=>{r(Y)&&ie(G)})}b(F,T)};K(p,F=>{r(Ke)?.apple_music&&F(A)})}b(we,ze)},gt=we=>{var ze=J_();b(we,ze)};K(ke,we=>{V(r(Ke))?we(Re):we(gt,!1)})}Q((we,ze,se)=>{j(Ie,r($e).entry.year),j(Ge,r($e).entry.division),U(je,"href",we),j(pt,r($e).band),j(_e,ze),j(Mt,se)},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(r(ht))}`,()=>$(r($e).entry.rank),()=>q(r($e).entry.points)]),b(et,$t)}),Q((et,$e,Ue,_t,vt,ht,Ke,$t,Ct,Ie,Ce,Ge)=>{j(re,r(w).name),j(dt,`${r(w).performances.length??""} fremføringer`),U(ct,"aria-label",`Fremføringer av ${r(w).name}`),U(it,"aria-sort",et),j(Rt,$e),U(wt,"aria-sort",Ue),j(zt,_t),U(R,"aria-sort",vt),j(ae,ht),U(me,"aria-sort",Ke),j(Oe,$t),U(Le,"aria-sort",Ct),j(Ve,Ie),U(He,"aria-sort",Ce),j(At,Ge)},[()=>c(r(a),"year",r(o)),()=>u(r(a),"year",r(o)),()=>c(r(a),"division",r(o)),()=>u(r(a),"division",r(o)),()=>c(r(a),"band",r(o)),()=>u(r(a),"band",r(o)),()=>c(r(a),"rank",r(o)),()=>u(r(a),"rank",r(o)),()=>c(r(a),"points",r(o)),()=>u(r(a),"points",r(o)),()=>c(r(a),"conductor",r(o)),()=>u(r(a),"conductor",r(o))]),b(O,C)}),b(e,te),yn()}er(["click"]);var rg=I('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),ig=I('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),sg=I('<section class="composers-view svelte-1njzana"></section>');function ag(e,t){mn(t,!0);let n=kt(t,"composers",19,()=>[]),i=kt(t,"bandType",3,"wind"),s=z(()=>[...n()].sort((o,l)=>o.name.localeCompare(l.name)));var a=sg();rt(a,21,()=>r(s),lt,(o,l)=>{var c=ig(),u=d(c),f=d(u),v=d(f),h=d(v),x=y(v,2),m=d(x),q=y(u,2);rt(q,21,()=>r(l).pieces,lt,($,V)=>{var W=rg(),J=d(W),ce=d(J);Q(te=>{U(J,"href",te),j(ce,r(V).name)},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(r(V).slug)}`]),b($,W)}),Q(()=>{j(h,r(l).name),j(m,`${r(l).pieces.length??""} ${r(l).pieces.length===1?"stykke":"stykker"}`)}),b(o,c)}),b(e,a),yn()}function og(e,t){E(t,1)}function lg(e,t,n,i,s,a,o,l,c){E(t,""),E(n,null),E(i,null),E(s,null),E(a,null),E(o,null),E(l,null),E(c,1)}var cg=I('<div class="loading svelte-1ns3hxx">Laster repertoar...</div>'),ug=I('<div class="error svelte-1ns3hxx"> </div>'),fg=(e,t)=>t("title"),dg=(e,t)=>t("composer"),vg=(e,t)=>t("duration"),hg=(e,t)=>t("difficulty"),pg=(e,t)=>t("year"),_g=I('<tr class="svelte-1ns3hxx"><td class="title-cell svelte-1ns3hxx" data-label="Tittel"> </td><td class="composer-cell svelte-1ns3hxx" data-label="Komponist"> </td><td class="duration-cell svelte-1ns3hxx" data-label="Varighet"> </td><td class="difficulty-cell svelte-1ns3hxx" data-label="Grad"> </td><td class="year-cell svelte-1ns3hxx" data-label="År"> </td><td class="link-cell svelte-1ns3hxx" data-label="Link"><a target="_blank" rel="noopener noreferrer" class="svelte-1ns3hxx">WindRep</a></td></tr>'),gg=(e,t)=>E(t,Math.max(1,r(t)-1),!0),mg=(e,t,n)=>E(t,Math.min(r(n),r(t)+1),!0),yg=I('<div class="pagination svelte-1ns3hxx"><button class="svelte-1ns3hxx">‹ Forrige</button> <span class="page-info svelte-1ns3hxx"> </span> <button class="svelte-1ns3hxx">Neste ›</button></div>'),bg=I('<div class="filters-container svelte-1ns3hxx"><div class="search-row svelte-1ns3hxx"><div class="search-group svelte-1ns3hxx"><input type="text" placeholder="Søk..." class="search-input svelte-1ns3hxx"/> <select class="search-field-select svelte-1ns3hxx"><option>Tittel</option><option>Komponist</option></select></div></div> <div class="filter-row svelte-1ns3hxx"><div class="filter-group svelte-1ns3hxx"><label for="duration-min" class="svelte-1ns3hxx">Varighet (min)</label> <div class="range-inputs svelte-1ns3hxx"><input id="duration-min" type="number" placeholder="Min" min="0" max="60" class="svelte-1ns3hxx"/> <span class="svelte-1ns3hxx">—</span> <input id="duration-max" type="number" placeholder="Maks" min="0" max="60" class="svelte-1ns3hxx"/></div></div> <div class="filter-group svelte-1ns3hxx"><label for="difficulty-min" class="svelte-1ns3hxx">Vanskelighetsgrad (1-6)</label> <div class="range-inputs svelte-1ns3hxx"><input id="difficulty-min" type="number" placeholder="Min" min="1" max="6" class="svelte-1ns3hxx"/> <span class="svelte-1ns3hxx">—</span> <input id="difficulty-max" type="number" placeholder="Maks" min="1" max="6" class="svelte-1ns3hxx"/></div></div> <div class="filter-group svelte-1ns3hxx"><label for="year-min" class="svelte-1ns3hxx">År</label> <div class="range-inputs svelte-1ns3hxx"><input id="year-min" type="number" placeholder="Fra" min="1770" max="2025" class="svelte-1ns3hxx"/> <span class="svelte-1ns3hxx">—</span> <input id="year-max" type="number" placeholder="Til" min="1770" max="2025" class="svelte-1ns3hxx"/></div></div> <button class="reset-button svelte-1ns3hxx">Nullstill</button></div> <div class="results-info svelte-1ns3hxx"><span> </span> <div class="page-size-selector svelte-1ns3hxx"><label for="page-size-select" class="svelte-1ns3hxx">Vis:</label> <select id="page-size-select" class="svelte-1ns3hxx"><option>20</option><option>50</option><option>100</option></select></div></div></div> <div class="table-container svelte-1ns3hxx"><table class="repertoire-table svelte-1ns3hxx"><thead class="svelte-1ns3hxx"><tr><th> </th><th> </th><th> </th><th> </th><th> </th><th class="svelte-1ns3hxx">Link</th></tr></thead><tbody class="svelte-1ns3hxx"></tbody></table></div> <!>',1),xg=I('<div class="repertoire-explorer svelte-1ns3hxx"><!></div>');function wg(e,t){mn(t,!0);let n=le(null),i=le(!0),s=le(null),a=le(""),o=le("title"),l=le(null),c=le(null),u=le(null),f=le(null),v=le(null),h=le(null),x=le(50),m=le(1),q=le("title"),$=le("asc"),V=z(()=>{if(!r(n))return[];let k=r(n).pieces.filter(B=>{if(r(a).trim()){const re=r(a).toLowerCase();if(r(o)==="title"){if(!B.title.toLowerCase().includes(re))return!1}else if(!B.composer?.toLowerCase().includes(re))return!1}return!(r(l)!==null&&(B.duration_minutes===null||B.duration_minutes<r(l))||r(c)!==null&&(B.duration_minutes===null||B.duration_minutes>r(c))||r(u)!==null&&(B.difficulty===null||B.difficulty<r(u))||r(f)!==null&&(B.difficulty===null||B.difficulty>r(f))||r(v)!==null&&(B.max_year===null||B.max_year<r(v))||r(h)!==null&&(B.min_year===null||B.min_year>r(h)))});return k.sort((B,re)=>{let M,Me;switch(r(q)){case"title":M=B.title.toLowerCase(),Me=re.title.toLowerCase();break;case"composer":M=(B.composer||"").toLowerCase(),Me=(re.composer||"").toLowerCase();break;case"duration":M=B.duration_minutes??-1,Me=re.duration_minutes??-1;break;case"difficulty":M=B.difficulty??-1,Me=re.difficulty??-1;break;case"year":M=B.min_year??-1,Me=re.min_year??-1;break;default:return 0}return M<Me?r($)==="asc"?-1:1:M>Me?r($)==="asc"?1:-1:0}),k}),W=z(()=>{const k=(r(m)-1)*r(x),B=k+r(x);return r(V).slice(k,B)}),J=z(()=>Math.ceil(r(V).length/r(x)));function ce(k){r(q)===k?E($,r($)==="asc"?"desc":"asc",!0):(E(q,k,!0),E($,"asc")),E(m,1)}function te(k){if(k===null)return"—";const B=Math.floor(k),re=Math.round((k-B)*60);return`${B}:${re.toString().padStart(2,"0")}`}function O(k){return!k||k.length===0?"—":k.length===1?k[0].toString():`${k[0]}–${k[k.length-1]}`}Wn(async()=>{if(typeof window>"u"){E(i,!1);return}try{const k=await fetch("data/repertoire.json");if(!k.ok)throw new Error(`Failed to load repertoire data: ${k.statusText}`);E(n,await k.json(),!0)}catch(k){E(s,k instanceof Error?k.message:"Unknown error",!0),console.error("Failed to load repertoire:",k)}finally{E(i,!1)}});var w=xg(),P=d(w);{var C=k=>{var B=cg();b(k,B)},D=k=>{var B=Fe(),re=Se(B);{var M=he=>{var at=ug(),dt=d(at);Q(()=>j(dt,`Feil ved lasting av data: ${r(s)??""}`)),b(he,at)},Me=he=>{var at=Fe(),dt=Se(at);{var ct=bt=>{var Ot=bg(),Pt=Se(Ot),it=d(Pt),xt=d(it),Rt=d(xt),wt=y(Rt,2),Vt=d(wt);Vt.value=Vt.__value="title";var zt=y(Vt);zt.value=zt.__value="composer";var R=y(it,2),X=d(R),ae=y(d(X),2),me=d(ae),ot=y(me,4),Oe=y(X,2),Le=y(d(Oe),2),ut=d(Le),Ve=y(ut,4),He=y(Oe,2),Qe=y(d(He),2),At=d(Qe),jt=y(At,4),et=y(He,2);et.__click=[lg,a,l,c,u,f,v,h,m];var $e=y(R,2),Ue=d($e),_t=d(Ue),vt=y(Ue,2),ht=y(d(vt),2);ht.__change=[og,m];var Ke=d(ht);Ke.value=Ke.__value=20;var $t=y(Ke);$t.value=$t.__value=50;var Ct=y($t);Ct.value=Ct.__value=100;var Ie=y(Pt,2),Ce=d(Ie),Ge=d(Ce),tt=d(Ge),je=d(tt);je.__click=[fg,ce];let pt;var ft=d(je),_e=y(je);_e.__click=[dg,ce];let st;var Mt=d(_e),St=y(_e);St.__click=[vg,ce];let Tt;var qt=d(St),Et=y(St);Et.__click=[hg,ce];let Lt;var ke=d(Et),Re=y(Et);Re.__click=[pg,ce];let gt;var we=d(Re),ze=y(Ge);rt(ze,21,()=>r(W),p=>p.url,(p,A)=>{var F=_g(),Y=d(F),T=d(Y),oe=y(Y),G=d(oe),ie=y(oe),xe=d(ie),de=y(ie),fe=d(de),ge=y(de),qe=d(ge),Ee=y(ge),ue=d(Ee);Q((Ae,We)=>{j(T,r(A).title),j(G,r(A).composer||"—"),j(xe,Ae),j(fe,r(A).difficulty_roman||"—"),j(qe,We),U(ue,"href",r(A).url)},[()=>te(r(A).duration_minutes),()=>O(r(A).years)]),b(p,F)});var se=y(Ie,2);{var g=p=>{var A=yg(),F=d(A);F.__click=[gg,m];var Y=y(F,2),T=d(Y),oe=y(Y,2);oe.__click=[mg,m,J],Q(()=>{F.disabled=r(m)===1,j(T,`Side ${r(m)??""} av ${r(J)??""}`),oe.disabled=r(m)===r(J)}),b(p,A)};K(se,p=>{r(J)>1&&p(g)})}Q((p,A,F,Y,T)=>{j(_t,`${r(V).length??""} stykker`),pt=Gt(je,1,"svelte-1ns3hxx",null,pt,p),j(ft,`Tittel ${r(q)==="title"?r($)==="asc"?"▲":"▼":""}`),st=Gt(_e,1,"svelte-1ns3hxx",null,st,A),j(Mt,`Komponist ${r(q)==="composer"?r($)==="asc"?"▲":"▼":""}`),Tt=Gt(St,1,"svelte-1ns3hxx",null,Tt,F),j(qt,`Varighet ${r(q)==="duration"?r($)==="asc"?"▲":"▼":""}`),Lt=Gt(Et,1,"svelte-1ns3hxx",null,Lt,Y),j(ke,`Grad ${r(q)==="difficulty"?r($)==="asc"?"▲":"▼":""}`),gt=Gt(Re,1,"svelte-1ns3hxx",null,gt,T),j(we,`År ${r(q)==="year"?r($)==="asc"?"▲":"▼":""}`)},[()=>({sorted:r(q)==="title"}),()=>({sorted:r(q)==="composer"}),()=>({sorted:r(q)==="duration"}),()=>({sorted:r(q)==="difficulty"}),()=>({sorted:r(q)==="year"})]),Xn(Rt,()=>r(a),p=>E(a,p)),ba(wt,()=>r(o),p=>E(o,p)),Xn(me,()=>r(l),p=>E(l,p)),Xn(ot,()=>r(c),p=>E(c,p)),Xn(ut,()=>r(u),p=>E(u,p)),Xn(Ve,()=>r(f),p=>E(f,p)),Xn(At,()=>r(v),p=>E(v,p)),Xn(jt,()=>r(h),p=>E(h,p)),ba(ht,()=>r(x),p=>E(x,p)),b(bt,Ot)};K(dt,bt=>{r(n)&&bt(ct)},!0)}b(he,at)};K(re,he=>{r(s)?he(M):he(Me,!1)},!0)}b(k,B)};K(P,k=>{r(i)?k(C):k(D,!1)})}b(e,w),yn()}er(["click","change"]);var kg=(e,t)=>t.onSelect("wind"),Sg=(e,t)=>t.onSelect("brass"),Eg=I('<div class="startup-screen svelte-c1vyj8"><div class="startup-content svelte-c1vyj8"><h1 class="svelte-c1vyj8">NM Korps</h1> <p class="subtitle svelte-c1vyj8">Resultatoversikt</p> <div class="choice-container svelte-c1vyj8"><button class="choice-button choice-button--janitsjar svelte-c1vyj8"><span class="choice-icon svelte-c1vyj8" aria-hidden="true">🎷</span> <span class="choice-title svelte-c1vyj8">NM Janitsjar</span> <span class="choice-description svelte-c1vyj8">Norges janitsjarkorps</span></button> <button class="choice-button choice-button--brass svelte-c1vyj8"><span class="choice-icon svelte-c1vyj8" aria-hidden="true">🎺</span> <span class="choice-title svelte-c1vyj8">NM Brass</span> <span class="choice-description svelte-c1vyj8">Norges brassband</span></button></div></div></div>');function Ag(e,t){mn(t,!0);var n=Eg(),i=d(n),s=y(d(i),4),a=d(s);a.__click=[kg,t];var o=y(a,2);o.__click=[Sg,t],b(e,n),yn()}er(["click"]);var Mg=I(`<div class="about-page svelte-nmuxfl"><section class="about-section svelte-nmuxfl"><h2 class="svelte-nmuxfl">Om denne appen</h2> <p class="svelte-nmuxfl"> </p></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Datakilder</h3> <ul class="svelte-nmuxfl"><li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Konkurransedata:</strong> Hentet fra <a href="https://nmjanitsjar.no" target="_blank" rel="noopener noreferrer" class="svelte-nmuxfl">nmjanitsjar.no</a> og <a href="https://nmbrass.no" target="_blank" rel="noopener noreferrer" class="svelte-nmuxfl">nmbrass.no</a> sine rikholdige arkiver over NM-prestasjoner.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Repertoardatabase:</strong> Bygget på bakgrunn av data fra <a href="https://windrep.org" target="_blank" rel="noopener noreferrer" class="svelte-nmuxfl">windrep.org</a>, 
        som gir informasjon om komponister, vanskelighetsgrad og varighet for janitsjarmusikk.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Musikkopptak:</strong> Lenker er knyttet fra NM-stykkene til utgivelsene av NM-musikk på <strong class="svelte-nmuxfl">Spotify</strong> og <strong class="svelte-nmuxfl">Apple Music</strong> der dette er tilgjengelig.</li></ul></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Funksjoner</h3> <h4 class="svelte-nmuxfl">Sammenligning av korps</h4> <p class="svelte-nmuxfl">På korps-siden kan du sammenligne så mange korps du vil. Grafen viser hvordan den samlede plasseringen 
      utvikler seg år for år, på tvers av alle divisjoner korpset har deltatt i.</p> <h4 class="svelte-nmuxfl">Sammenligning av dirigenter</h4> <p class="svelte-nmuxfl">Du kan også sammenligne dirigenter. Det du sammenligner da er det beste korpset til hver dirigent 
      i de årene dirigentene har vært aktive i NM. Dette gir deg et bilde av dirigentens beste prestasjoner 
      gjennom karrieren.</p> <h4 class="svelte-nmuxfl">Musikkstykker og komponister</h4> <p class="svelte-nmuxfl">Du kan liste alle gangene et stykke har vært fremført i NM, samt se alle komponistene som har 
      vært brukt i NM-sammenheng. Dette gir deg oversikt over repertoaret og hvilke komponister 
      som er mest populære.</p> <h4 class="svelte-nmuxfl">Resultatlister</h4> <p class="svelte-nmuxfl">På resultat-siden kan du velge et spesifikt år og en divisjon for å se den komplette resultatlisten 
      med korps, dirigenter, program og poengsum.</p> <h4 class="svelte-nmuxfl">Sortering av tabeller</h4> <p class="svelte-nmuxfl">Alle tabeller kan sorteres ved å klikke på kolonneoverskriftene. Klikk én gang for å sortere, 
      og klikk igjen for å reversere sorteringsrekkefølgen. Tabeller sorteres som standard på år, 
      men du kan sortere på alle kolonner som år, divisjon, plass, poeng og dirigent/korps. 
      Divisjoner sorteres fra Elite til 1., 2., 3. divisjon osv.</p> <h4 class="svelte-nmuxfl">Opprykk og nedrykk</h4> <p class="svelte-nmuxfl">I resultatlisten vises korps som rykker opp med <span class="indicator-promote svelte-nmuxfl">grønn bakgrunn</span> og korps som rykker ned med <span class="indicator-demote svelte-nmuxfl">rød bakgrunn</span>. 
      De tre beste plassene i hver divisjon markeres med troféer: 🥇 gull, 🥈 sølv, og 🥉 bronse.</p> <p class="svelte-nmuxfl">Elitedivisjonen viser kun nedrykk (ingen opprykk mulig), mens den laveste divisjonen kun viser 
      opprykk (ingen nedrykk). For år uten definerte regler vises ingen fargemarkering.</p></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Navigasjon og innstillinger</h3> <ul class="svelte-nmuxfl"><li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Bytt mellom visninger:</strong> Bruk knappene øverst for å navigere mellom korps, dirigenter, 
        stykker, komponister, repertoar og resultatlister.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Valg bevares:</strong> Appen husker alle valg du har gjort når du navigerer mellom sidene. 
        Når du bytter mellom janitsjar og brass, nullstilles alle valg.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Tema:</strong> Du kan velge mellom lyst og mørkt modus ved å trykke på tema-knappen 
        (☀️/🌙) i menyen. Valget ditt lagres og gjenbrukes neste gang du besøker siden.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Delbare lenker:</strong> URL-en oppdateres basert på dine valg, så du kan dele lenker 
        til spesifikke sammenligninger eller resultatlister med andre.</li></ul></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Tips</h3> <ul class="svelte-nmuxfl"><li class="svelte-nmuxfl">På mobil kan du bruke hamburgermenyen (☰) for å få tilgang til alle navigasjonsalternativer.</li> <li class="svelte-nmuxfl">Klikk på korpsnavn, dirigenter eller stykker i tabellene for å legge dem til i sammenligningen.</li> <li class="svelte-nmuxfl">Bruk «Tilpass»-menyen på graf-siden for å bytte mellom absolutt og relativ plassering.</li> <li class="svelte-nmuxfl">Musikkopptak vises med Spotify- og Apple Music-ikoner der lenker er tilgjengelige.</li></ul></section> <section class="about-section about-footer svelte-nmuxfl"><p class="svelte-nmuxfl">Har du spørsmål, tilbakemeldinger eller har funnet feil i dataene? 
      Ta gjerne kontakt via nettstedene til NM janitsjar eller NM brass.</p></section></div>`);function $g(e,t){let n=kt(t,"bandType",3,"wind");var i=Mg(),s=d(i),a=y(d(s),2),o=d(a);Q(()=>j(o,`Denne appen lar deg utforske historiske resultater fra NM ${n()==="wind"?"janitsjar":"brass"}. 
      Du kan sammenligne korps, dirigenter og musikkstykker på tvers av år og divisjoner.`)),b(e,i)}var Cg=(e,t,n)=>{r(t)||n()},Ng=(e,t,n)=>{r(t)&&n()},Pg=I('<div class="toggle-switch svelte-sz7h13" role="group"><button type="button"> </button> <button type="button"> </button> <div></div></div>');function ms(e,t){mn(t,!0);let n=kt(t,"value",15);const i=tu();function s(){const q=n()===t.options[0]?t.options[1]:t.options[0];n(q),i("change",{value:q})}let a=z(()=>n()===t.options[0]);var o=Pg(),l=d(o);let c;l.__click=[Cg,a,s];var u=d(l),f=y(l,2);let v;f.__click=[Ng,a,s];var h=d(f),x=y(f,2);let m;Q((q,$,V)=>{U(o,"aria-label",t.ariaLabel),c=Gt(l,1,"toggle-switch__option svelte-sz7h13",null,c,q),U(l,"aria-pressed",r(a)),j(u,t.labels[0]),v=Gt(f,1,"toggle-switch__option svelte-sz7h13",null,v,$),U(f,"aria-pressed",!r(a)),j(h,t.labels[1]),m=Gt(x,1,"toggle-switch__slider svelte-sz7h13",null,m,V)},[()=>({active:r(a)}),()=>({active:!r(a)}),()=>({"toggle-switch__slider--right":!r(a)})]),b(e,o),yn()}er(["click"]);var Tg=I(`<section class="settings-page svelte-1rli9n1"><header class="settings-header svelte-1rli9n1"><h2 class="svelte-1rli9n1">Innstillinger</h2> <p class="settings-lead svelte-1rli9n1">Tilpass visningen av diagrammer og tema. Endringer lagres automatisk og gjelder for alle visninger.</p></header> <div class="settings-grid svelte-1rli9n1"><div class="setting-card svelte-1rli9n1"><div class="setting-info svelte-1rli9n1"><h3 class="svelte-1rli9n1">Plassering</h3> <p class="svelte-1rli9n1">Velg hvordan plasseringer vises i diagrammet. <strong>Relativ</strong> viser plassering som prosent av 
          antall deltakere (f.eks. 10% = topp 10%). <strong>Absolutt</strong> viser faktisk plasseringsnummer 
          (f.eks. 3. plass).</p></div> <div class="setting-control svelte-1rli9n1"><!></div></div> <div class="setting-card svelte-1rli9n1"><div class="setting-info svelte-1rli9n1"><h3 class="svelte-1rli9n1">Y-akse</h3> <p class="svelte-1rli9n1">Velg hvordan Y-aksen skaleres. <strong>Tilpasset</strong> zoomer inn på de faktiske plasseringene 
          for bedre detaljer. <strong>Full</strong> viser hele skalaen fra beste til dårligste mulige plassering.</p></div> <div class="setting-control svelte-1rli9n1"><!></div></div> <div class="setting-card svelte-1rli9n1"><div class="setting-info svelte-1rli9n1"><h3 class="svelte-1rli9n1">Tema</h3> <p class="svelte-1rli9n1">Velg fargetema for appen. <strong>Mørkt</strong> tema er bedre for svakt lys og sparer batteri på OLED-skjermer. <strong>Lyst</strong> tema er bedre i sterkt lys.</p></div> <div class="setting-control svelte-1rli9n1"><!></div></div></div></section>`);function Lg(e,t){mn(t,!0);let n=kt(t,"yAxisMode",15),i=kt(t,"yAxisScale",15),s=kt(t,"theme",15),a=!1;hn(()=>{if(!a){kr(()=>{n(),a=!0});return}t.onYAxisModeChange?.(n())}),hn(()=>{a&&t.onYAxisScaleChange?.(i())}),hn(()=>{a&&t.onThemeChange?.(s())});var o=Tg(),l=y(d(o),2),c=d(l),u=y(d(c),2),f=d(u);ms(f,{options:["absolute","relative"],labels:["Absolutt","Relativ"],ariaLabel:"Velg plasseringsvisning",get value(){return n()},set value(V){n(V)}});var v=y(c,2),h=y(d(v),2),x=d(h);ms(x,{options:["fitted","full"],labels:["Tilpasset","Full"],ariaLabel:"Velg Y-akse skalering",get value(){return i()},set value(V){i(V)}});var m=y(v,2),q=y(d(m),2),$=d(q);ms($,{options:["dark","light"],labels:["Mørkt","Lyst"],ariaLabel:"Velg fargetema",get value(){return s()},set value(V){s(V)}}),b(e,o),yn()}function $i(e,t){if(typeof window>"u")return t;try{return window.localStorage.getItem(e)??t}catch(n){return console.error(`Could not read from localStorage (key: ${e})`,n),t}}function Ci(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,t)}catch(n){console.error(`Could not write to localStorage (key: ${e})`,n)}}const Kn={THEME:"nmkorps-theme",BAND_TYPE:"nmkorps-band-type",YAXIS_MODE:"nmkorps-yaxis-mode",YAXIS_SCALE:"nmkorps-yaxis-scale"};function Ig(e,t){E(t,!r(t))}function Rg(e,t,n,i,s,a){r(t)!==null&&(n(r(t)==="wind"?"brass":"wind"),i(),s(),a())}function jg(e,t,n){E(t,e.target.value,!0),E(n,-1)}function qg(e,t,n,i){r(t).length&&(e.key==="ArrowDown"?(e.preventDefault(),E(n,(r(n)+1)%r(t).length)):e.key==="ArrowUp"?(e.preventDefault(),E(n,(r(n)-1+r(t).length)%r(t).length)):e.key==="Enter"&&r(n)>=0&&(e.preventDefault(),i(r(t)[r(n)])))}var Dg=(e,t,n)=>t(r(n)),Fg=I('<button type="button"><span class="view-toggle__label svelte-1n46o8q"> </span></button>'),Og=I('<div role="option" tabindex="-1"> </div>'),zg=I('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),Bg=I('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!>',1),Ug=I('<section class="status svelte-1n46o8q">Laster data…</section>'),Yg=I('<section class="status error svelte-1n46o8q"> </section>'),Vg=I('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),Hg=I('<p class="comparison-summary svelte-1n46o8q"> </p>'),Kg=I('<section class="chart-card svelte-1n46o8q"><div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),Xg=(e,t,n)=>t(r(n).slug),Gg=I('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),Wg=I('<!> <div class="selected-entities selected-entities--below svelte-1n46o8q" role="list"></div> <!>',1),Zg=I('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),Jg=I('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><div class="page-header__title svelte-1n46o8q"><h1 class="svelte-1n46o8q"> </h1> <button class="menu-toggle svelte-1n46o8q" type="button" aria-controls="primary-controls"><span class="menu-toggle__icon svelte-1n46o8q" aria-hidden="true">☰</span> <span class="menu-toggle__text svelte-1n46o8q">Meny</span></button></div> <div id="primary-controls"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button type="button"><span aria-hidden="true"> </span> <span class="band-type-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function to(e,t){mn(t,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},i="view",s="type",a="year",o="division",l=",",c="relative",u="fitted",f="data",v="wind",h={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat",repertoire:"Repertoar",om:"Om",innstillinger:"⚙️"},x=["data","bands","conductors","pieces","composers","repertoire","om","innstillinger"];let m=le(null),q=le(Kt([])),$=le(Kt([])),V=le(Kt([])),W=le(!0),J=le(null),ce=le(""),te=le(Kt([])),O=le(Kt([])),w=le(Kt([])),P=le(Kt([])),C=le(-1),D=!1,k="",B=le(c),re=le("fitted"),M=le(f),Me=le("dark"),he=le(null),at=le(!1),dt=le(!1),ct=le(!1),bt=le(!1),Ot=new Map,Pt=new Map,it=le(null);function xt(_){const S=new Map;for(const L of _){if(!L||!L.slug)continue;const N=L.slug.trim();if(!N)continue;const ne=S.get(N);ne?ne.push(L):S.set(N,[L])}return S}function Rt(_){const S=new Map;for(const L of _){if(!L)continue;const N=Number(L.year);if(!Number.isFinite(N))continue;const ne=L.division_slug??L.division,Z=L.band_slug??L.band,H=L.result_piece_slug??L.result_piece;if(!ne||!Z||!H)continue;const ee=nt(ne),ve=nt(Z);if(ee==="uidentifisert"||!ve||ve==="uidentifisert")continue;const pe=new Set,De=nt(H);if(De!=="uidentifisert"&&pe.add(De),L.alternate_result_piece_slugs&&Array.isArray(L.alternate_result_piece_slugs))for(const mt of L.alternate_result_piece_slugs){const It=mt?nt(mt):"";It&&It!=="uidentifisert"&&pe.add(It)}if(L.result_piece&&L.result_piece.trim()){const mt=nt(L.result_piece);mt!=="uidentifisert"&&pe.add(mt)}if(!pe.size)continue;const Te=typeof L.spotify=="string"&&L.spotify.trim().length>0?L.spotify.trim():null,ye=typeof L.apple_music=="string"&&L.apple_music.trim().length>0?L.apple_music.trim():null;if(!Te&&!ye)continue;const Je={spotify:Te,apple_music:ye,album:L.album?.trim()??null,recording_title:L.recording_title?.trim()??null};for(const mt of pe){const It=`${N}|${ee}|${ve}|${mt}`;S.set(It,Je)}}return S}function wt(_,S,L){if(!Pt.size)return null;const N=nt(_.division),ne=nt(S);if(N==="uidentifisert"||!ne||ne==="uidentifisert")return null;const Z=`${_.year}|${N}|${ne}`;let H=ae(L,S);if(!H.length){const ee=nt(L);H=ee!=="uidentifisert"?[ee]:[]}for(const ee of H){const ve=`${Z}|${ee}`,pe=Pt.get(ve);if(pe)return pe}return null}const Vt=/["'«»“”„‟]/g,zt=/\([^)]*\)/g;function R(_){return _.replace(zt," ")}function X(_){return _.replace(Vt,"").replace(/\s+/g," ").trim().toLowerCase()}function ae(_,S){const L=_.trim();if(!L)return[];const N=new Set,ne=nt(L);ne!=="uidentifisert"&&N.add(ne);const Z=R(L),H=nt(Z);H!=="uidentifisert"&&N.add(H);const ee=X(L),ve=nt(ee.replace(/[-–—]/g," "));ve!=="uidentifisert"&&N.add(ve);const pe=nt(ee.replace(/[:;·]/g," "));pe!=="uidentifisert"&&N.add(pe);const De=[];Z.includes("-")&&De.push(Z.split(/[-–—]/)[0]),Z.includes(":")&&De.push(Z.split(":")[0]);for(const Te of De){const ye=nt(Te);ye!=="uidentifisert"&&N.add(ye)}if(S&&S.trim()){const Te=S.trim(),ye=`${L} - ${Te}`,Je=nt(ye);Je!=="uidentifisert"&&N.add(Je);const mt=`${L} ${Te}`,It=nt(mt);It!=="uidentifisert"&&N.add(It)}return Array.from(N)}function me(_,S){const L=ae(_);if(!L.length)return null;const N=X(_),ne=X(R(_));for(const Z of L){const H=S.get(Z);if(!H||H.length===0)continue;if(H.length===1)return H[0].composer??null;const ee=H.find(pe=>X(pe.title)===N);if(ee)return ee.composer??null;const ve=H.find(pe=>X(R(pe.title))===ne);return ve?ve.composer??null:H[0].composer??null}return null}function ot(_,S){const L=Array.isArray(_.pieces)?[..._.pieces]:_.pieces!=null?[`${_.pieces}`.trim()].filter(Boolean):[],N={..._,pieces:L,conductor:_.conductor};return S&&(N.band_name=S),N}function Oe(_){const S=new Map;for(const L of _)for(const N of L.entries){const ne=N.conductor?.trim();if(!ne)continue;const Z=nt(ne);let H=S.get(Z);H||(H={name:ne,slug:Z,years:new Map},S.set(Z,H));let ee=H.years.get(N.year);ee||(ee={entries:[]},H.years.set(N.year,ee)),ee.entries.push(ot(N,L.name))}return Array.from(S.values()).map(L=>({name:L.name,slug:L.slug,entries:Array.from(L.years.entries()).map(([N,ne])=>{const Z=[...ne.entries].sort((ee,ve)=>{const pe=ee.absolute_position??Number.POSITIVE_INFINITY,De=ve.absolute_position??Number.POSITIVE_INFINITY;return pe!==De?pe-De:(ee.rank??Number.POSITIVE_INFINITY)-(ve.rank??Number.POSITIVE_INFINITY)});return{...Z[0],year:N,conductor:L.name,aggregate_entries:Z}}).sort((N,ne)=>N.year-ne.year)})).sort((L,N)=>L.name.localeCompare(N.name))}function Le(_,S,L){if(!L?.test_pieces)return;const N=new Map;for(const ne of S)for(const Z of ne.entries)N.has(Z.year)||N.set(Z.year,[]),N.get(Z.year).push({band:ne.name,entry:Z});for(const[ne,Z]of Object.entries(L.test_pieces)){const H=Number(ne);if(!N.has(H))continue;const ee=Z.piece,ve=Z.composer,pe=nt(ee),Te=N.get(H).filter(({entry:Je})=>Je.division.toLowerCase()==="elite");if(Te.length===0)continue;let ye=_.get(pe);if(ye)!ye.composer&&ve&&(ye.composer=ve,ye.composerNames=ti(ve));else{const Je=ve?ti(ve):[];ye={name:ee,slug:pe,composer:ve??null,composerNames:Je,performances:[]},_.set(pe,ye)}for(const{band:Je,entry:mt}of Te){const It=wt(mt,Je,ee);ye.performances.push({band:Je,entry:mt,streaming:It})}}}function ut(_,S,L,N){const ne=new Map;for(const Z of _)for(const H of Z.entries){const ee=Array.isArray(H.pieces)?H.pieces:H.pieces!=null?[`${H.pieces}`]:[];for(const ve of ee){const pe=ve.trim();if(!pe)continue;const De=nt(pe);let Te=ne.get(De);const ye=me(pe,S),Je=ye?ti(ye):[],mt=Je.length>0?Je.join(", "):null;Te?(!Te.composer||!Te.composerNames?.length)&&mt&&(Te.composer=mt,Te.composerNames=Je):(Te={name:pe,slug:De,composer:mt,composerNames:Je,performances:[]},ne.set(De,Te));const It=wt(H,Z.name,pe);Te.performances.push({band:Z.name,entry:H,streaming:It})}}return N==="brass"&&Le(ne,_,L),Array.from(ne.values()).map(Z=>({...Z,performances:Z.performances.map(({band:H,entry:ee,streaming:ve})=>({band:H,entry:{...ee,pieces:[...ee.pieces]},streaming:ve??null}))})).sort((Z,H)=>Z.name.localeCompare(H.name))}function Ve(_){const S=new Map;for(const N of _){const ne=N.composerNames&&N.composerNames.length>0?N.composerNames:ti(N.composer??null);if(ne.length)for(const Z of ne){const H=Al(Z);if(!H)continue;const ee=nt(H);if(ee==="uidentifisert")continue;let ve=S.get(ee);ve||(ve={name:H,slug:ee,normalized:H.toLowerCase(),pieces:new Map},S.set(ee,ve)),ve.pieces.has(N.slug)||ve.pieces.set(N.slug,{name:N.name,slug:N.slug})}}const L=Array.from(S.values()).map(N=>({name:N.name,slug:N.slug,normalized:N.normalized,pieces:Array.from(N.pieces.values()).sort((ne,Z)=>ne.name.localeCompare(Z.name))})).sort((N,ne)=>N.name.localeCompare(ne.name));return new Map(L.map(N=>[N.slug,N])),L}function He(_){return _==="data"?"data":n[_]}function Qe(){if(typeof window>"u")return"dark";const _=$i(Kn.THEME,"dark");return _==="light"||_==="dark"?_:window.matchMedia?.("(prefers-color-scheme: light)").matches?"light":"dark"}async function At(_){typeof document>"u"||(_==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light",await jt(_))}async function jt(_){if(typeof document>"u")return;const S=_==="light"?"#f8fafc":"#0f172a";let L=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');L||(L=document.createElement("meta"),L.setAttribute("name","apple-mobile-web-app-status-bar-style"),document.head.appendChild(L)),L.setAttribute("content",_==="light"?"default":"black-translucent");let N=document.querySelector('meta[name="theme-color"]');N||(N=document.createElement("meta"),N.setAttribute("name","theme-color"),document.head.appendChild(N)),N.setAttribute("content",S);try{await Es.setBackgroundColor({color:S})}catch(ne){console.log("EdgeToEdge plugin not available:",ne)}try{_==="light"?(await Zn.setStyle({style:qr.Light}),await Zn.setBackgroundColor({color:S})):(await Zn.setStyle({style:qr.Dark}),await Zn.setBackgroundColor({color:S}))}catch(ne){console.log("Status Bar plugin not available:",ne)}}function et(){if(typeof window>"u")return v;const S=new URLSearchParams(window.location.search).get(s)?.toLowerCase();return S==="brass"||S==="brassband"?"brass":S==="wind"||S==="janitsjar"?"wind":v}function $e(){if(typeof window>"u")return v;const _=new URLSearchParams(window.location.search),S=_.get(s)?.toLowerCase();if(S==="brass"||S==="brassband")return"brass";if(S==="wind"||S==="janitsjar")return"wind";if(_.has(i)||_.has("band")||_.has("conductor")||_.has("piece")||_.has("composer")||_.has(a)||_.has(o)){const N=$i(Kn.BAND_TYPE,v);return N==="wind"||N==="brass"?N:v}return null}function Ue(_){typeof document>"u"||(document.documentElement.dataset.bandType=_)}async function _t(_){E(Me,_,!0),await At(_),Ci(Kn.THEME,_)}function vt(_,S=!0){if(r(he)!==_){if(E(bt,!1),E(he,_,!0),Ue(_),Ci(Kn.BAND_TYPE,_),E(te,[],!0),E(O,[],!0),E(w,[],!0),E(P,[],!0),E(ce,""),E(C,-1),S&&typeof window<"u"){const L=new URLSearchParams;L.set(s,_),L.set(i,f);const N=`${window.location.pathname}?${L.toString()}${window.location.hash}`;window.history.replaceState({},"",N)}E(W,!0),E(J,null),E(m,null),E(q,[],!0),E($,[],!0),E(V,[],!0),Pt=new Map,ke(_)}}function ht(){E(at,!1)}function Ke(){E(dt,!1)}function $t(){E(ct,!1)}function Ct(_){vt(_,!0)}function Ie(){if(typeof window>"u")return f;const S=new URLSearchParams(window.location.search).get(i)?.toLowerCase();return S?S==="conductors"||S==="dirigent"||S==="conductor"?"conductors":S==="pieces"||S==="piece"||S==="stykke"||S==="stykker"?"pieces":S==="composers"||S==="komponist"||S==="composer"?"composers":S==="data"||S==="resultat"||S==="results"?"data":S==="om"||S==="about"?"om":"bands":f}function Ce(_){if(typeof window>"u")return[];const L=new URLSearchParams(window.location.search).get(He(_));return L?L.split(l).map(N=>decodeURIComponent(N.trim())).filter(Boolean):[]}function Ge(_,S){if(!_.length||!S.length)return[];const L=new Map(_.map(N=>[N.slug,N]));return S.map(N=>L.get(N)??L.get(N.toLowerCase())).filter(N=>!!N)}function tt(_,S){return _.length!==S.length?!1:_.every((L,N)=>L.slug===S[N].slug)}function je(){if(typeof window>"u"||r(he)===null)return;const _=new URLSearchParams(window.location.search);_.set(s,r(he));const S=r(te).map(ee=>encodeURIComponent(ee.slug)).join(l);S.length?_.set(He("bands"),S):_.delete(He("bands"));const L=r(O).map(ee=>encodeURIComponent(ee.slug)).join(l);L.length?_.set(He("conductors"),L):_.delete(He("conductors"));const N=r(w).map(ee=>encodeURIComponent(ee.slug)).join(l);N.length?_.set(He("pieces"),N):_.delete(He("pieces"));const ne=r(P).map(ee=>encodeURIComponent(ee.slug)).join(l);ne.length?_.set(He("composers"),ne):_.delete(He("composers")),_.set(i,r(M));const Z=_.toString(),H=`${window.location.pathname}${Z?`?${Z}`:""}${window.location.hash}`;window.history.replaceState({},"",H)}function pt({updateHistory:_=!1}={}){const S=Ie(),L=et();let N=!1;if(L!==r(he))return vt(L,!1),N=!0,N;if(S!==r(M)&&(E(M,S,!0),N=!0),!r(m))return _&&je(),N;const ne=Ge(r(m).bands,Ce("bands")),Z=[...r(te)];for(const ye of ne)Z.some(Je=>Je.slug===ye.slug)||Z.push(ye);tt(r(te),Z)||(E(te,Z,!0),N=!0),r(q).length||E(q,Oe(r(m).bands),!0);const H=Ge(r(q),Ce("conductors")),ee=[...r(O)];for(const ye of H)ee.some(Je=>Je.slug===ye.slug)||ee.push(ye);tt(r(O),ee)||(E(O,ee,!0),N=!0),r($).length||(E($,ut(r(m).bands,Ot,r(it),r(he)),!0),E(V,Ve(r($)),!0));const ve=Ge(r($),Ce("pieces")),pe=[...r(w)];for(const ye of ve)pe.some(Je=>Je.slug===ye.slug)||pe.push(ye);tt(r(w),pe)||(E(w,pe,!0),N=!0),r(V).length||E(V,Ve(r($)),!0);const De=Ge(r(V),Ce("composers")),Te=[...r(P)];for(const ye of De)Te.some(Je=>Je.slug===ye.slug)||Te.push(ye);return tt(r(P),Te)||(E(P,Te,!0),N=!0),_&&je(),N}function ft(){const _=r(te).map(ne=>ne.slug).join(l),S=r(O).map(ne=>ne.slug).join(l),L=r(w).map(ne=>ne.slug).join(l),N=r(P).map(ne=>ne.slug).join(l);return`${r(he)??"none"}|${r(M)}|${_}|${S}|${L}|${N}`}function _e(){if(!D)return;const _=ft();_!==k&&(je(),k=_)}function st(_){if(r(M)==="bands"){if(r(te).some(S=>S.slug===_.slug))return;E(te,[...r(te),_],!0)}else if(r(M)==="conductors"){if(r(O).some(S=>S.slug===_.slug))return;E(O,[...r(O),_],!0)}else if(r(M)==="pieces"){const S=_;if(r(w).some(L=>L.slug===S.slug))return;E(w,[...r(w),S],!0)}else if(r(M)==="composers"){const S=_;if(r(P).some(L=>L.slug===S.slug))return;E(P,[...r(P),S],!0)}E(ce,""),E(C,-1),_e()}function Mt(_){r(M)==="bands"?E(te,r(te).filter(S=>S.slug!==_),!0):r(M)==="conductors"?E(O,r(O).filter(S=>S.slug!==_),!0):r(M)==="pieces"?E(w,r(w).filter(S=>S.slug!==_),!0):r(M)==="composers"&&E(P,r(P).filter(S=>S.slug!==_),!0),E(C,-1),_e()}function St(){if(r(Re).length===0)return;const _=r(ze).find(S=>S.name.toLowerCase()===r(gt));_?st(_):r(g).length>0&&st(r(g)[0])}function Tt(_){if(_===r(M)){ht(),Ke();return}E(M,_,!0),E(ce,""),E(C,-1),ht(),Ke(),_e()}function qt(_){r(B)!==_&&(E(B,_,!0),Ci(Kn.YAXIS_MODE,_))}function Et(_){r(re)!==_&&(E(re,_,!0),Ci(Kn.YAXIS_SCALE,_))}async function Lt(){try{const _=await fetch("data/elite_test_pieces.json",{cache:"no-cache"});if(!_.ok)throw new Error("Failed to load elite_test_pieces.json");E(it,await _.json(),!0)}catch(_){console.error("Could not load Elite test pieces:",_),E(it,null)}}async function ke(_){try{const S=_==="wind"?"data/band_positions.json":"data/brass_positions.json",L=_==="wind"?"data/piece_metadata.json":"data/brass_piece_metadata.json",N="data/piece_streaming_links.json",[ne,Z,H]=await Promise.all([fetch(S),fetch(L),fetch(N)]);if(_==="brass"&&r(it)===null&&await Lt(),!ne.ok)throw new Error(`Kunne ikke laste data (status ${ne.status})`);let ee=[];if(Z.ok)try{const De=await Z.json();ee=(Array.isArray(De.pieces)?De.pieces:[]).filter(ye=>!!(ye?.title&&ye?.slug)).map(ye=>({title:ye.title.trim(),slug:ye.slug.trim(),composer:ye.composer??null}))}catch(De){console.warn("Kunne ikke tolke stykke-metadata",De)}else console.warn(`Kunne ikke laste stykke-metadata (status ${Z.status})`);Ot=xt(ee);let ve=[];if(H.ok)try{const Te=(await H.json())?.[_];Array.isArray(Te)&&(ve=Te.filter(ye=>!!ye))}catch(De){console.warn("Kunne ikke tolke opptakslenker",De)}else H.status!==404&&console.warn(`Kunne ikke laste opptakslenker (status ${H.status})`);Pt=Rt(ve);const pe=await ne.json();E(m,pe,!0),E(q,Oe(pe.bands),!0),E($,ut(pe.bands,Ot,r(it),_),!0),E(V,Ve(r($)),!0),pt({updateHistory:!1}),k=ft(),je(),D=!0}catch(S){E(J,S instanceof Error?S.message:"Ukjent feil ved lasting av data.",!0)}finally{E(W,!1)}}Wn(async()=>{const _=Qe();E(Me,_,!0),await At(_);const S=$i(Kn.YAXIS_MODE,c);(S==="absolute"||S==="relative")&&E(B,S,!0);const L=$i(Kn.YAXIS_SCALE,u);(L==="fitted"||L==="full")&&E(re,L,!0);const N=$e();N===null?(E(bt,!0),E(W,!1)):(E(he,N,!0),Ue(N),await ke(N))}),Wn(()=>{const _=()=>{r(m)&&(pt({updateHistory:!1}),k=ft())};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)}),Wn(()=>{const _=S=>{const N=S.target.closest("a.entity-link, a.program-link");if(!(!N||!(N instanceof HTMLAnchorElement))&&!(S.ctrlKey||S.metaKey||S.shiftKey))try{const ne=new URL(N.href),Z=new URLSearchParams(ne.search),H=Z.get("band"),ee=Z.get("conductor"),ve=Z.get("piece"),pe=Z.get("composer"),De=Z.get("type"),Te=Z.get("view");if(De&&De!==r(he))return;S.preventDefault();const ye=new URLSearchParams(window.location.search),Je=ye.get("band")?.split(",").filter(Boolean)||[],mt=ye.get("conductor")?.split(",").filter(Boolean)||[],It=ye.get("piece")?.split(",").filter(Boolean)||[],tr=ye.get("composer")?.split(",").filter(Boolean)||[];H&&!Je.includes(H)&&Je.push(H),ee&&!mt.includes(ee)&&mt.push(ee),ve&&!It.includes(ve)&&It.push(ve),pe&&!tr.includes(pe)&&tr.push(pe);const zn=new URLSearchParams(ye);Je.length&&zn.set("band",Je.join(",")),mt.length&&zn.set("conductor",mt.join(",")),It.length&&zn.set("piece",It.join(",")),tr.length&&zn.set("composer",tr.join(",")),Te&&zn.set("view",Te);const _i=`${window.location.pathname}?${zn.toString()}${window.location.hash}`;window.history.pushState({},"",_i),pt({updateHistory:!1}),k=ft()}catch(ne){console.error("Error handling link click:",ne)}};return document.addEventListener("click",_),()=>document.removeEventListener("click",_)}),Wn(()=>{let _=0;const S=L=>{const N=L.target;if(N.closest("[data-scrollable]")||N.closest(".suggestions")||N.closest(".mode-toggle__menu"))return;const Z=window.pageYOffset||document.documentElement.scrollTop,H=document.documentElement.scrollHeight,ee=document.documentElement.clientHeight,ve=Z===0,pe=Z+ee>=H;if(L.type==="touchstart")_=L.touches[0].pageY;else if(L.type==="touchmove"){const Te=L.touches[0].pageY-_;ve&&Te>0&&L.preventDefault(),pe&&Te<0&&L.preventDefault()}};return document.addEventListener("touchstart",S,{passive:!1}),document.addEventListener("touchmove",S,{passive:!1}),()=>{document.removeEventListener("touchstart",S),document.removeEventListener("touchmove",S)}}),hn(()=>{document.title=r(he)==="wind"?"NM Janitsjar - Resultatoversikt":"NM Brass - Resultatoversikt"});let Re=z(()=>r(ce).trim()),gt=z(()=>r(Re).toLowerCase()),we=z(()=>r(M)==="bands"||r(M)==="conductors"||r(M)==="pieces"||r(M)==="composers"),ze=z(()=>r(we)?r(M)==="bands"?r(m)?.bands??[]:r(M)==="conductors"?r(q):r(M)==="pieces"?r($):r(V):[]),se=z(()=>r(M)==="bands"?r(te):r(M)==="conductors"?r(O):r(M)==="pieces"?r(w):r(M)==="composers"?r(P):[]),g=z(()=>r(we)&&r(ze)&&r(gt).length>=2?r(ze).filter(_=>_.name.toLowerCase().includes(r(gt))&&!r(se).some(S=>S.slug===_.slug)).slice(0,10):[]),p=z(()=>r(m)?r(m).metadata.years:[]),A=z(()=>r(m)?r(m).metadata.max_field_size:0),F=z(()=>r(we)?r(M)==="bands"?r(m)?.bands.length??0:r(M)==="conductors"?r(q).length:r(M)==="pieces"?r($).length:r(V).length:0),Y=z(()=>r(M)==="bands"?"korps":r(M)==="conductors"?"dirigenter":r(M)==="pieces"?"stykker":"komponister"),T=z(()=>r(m)?`Dekker ${r(F)} ${r(Y)} · ${r(p).length} år (${r(m).metadata.min_year}–${r(m).metadata.max_year})`:""),oe=z(()=>r(M)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":r(M)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":r(M)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":r(M)==="composers"?"Begynn å skrive et komponistnavn (minst 2 bokstaver)…":""),G=z(()=>r(M)==="bands"?"Søk etter korps":r(M)==="conductors"?"Søk etter dirigent":r(M)==="pieces"?"Søk etter musikkstykke":"Søk etter komponist"),ie=z(()=>r(M)==="bands"?"Korpsforslag":r(M)==="conductors"?"Dirigentforslag":r(M)==="pieces"?"Stykke-forslag":"Komponistforslag"),xe=z(()=>r(M)==="bands"?"Valgte korps":r(M)==="conductors"?"Valgte dirigenter":r(M)==="pieces"?"Valgte stykker":"Valgte komponister"),de=z(()=>r(M)==="bands"?"Ingen korps valgt ennå":r(M)==="conductors"?"Ingen dirigenter valgt ennå":r(M)==="pieces"?"Ingen stykker valgt ennå":"Ingen komponister valgt ennå"),fe=z(()=>r(M)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":r(M)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":r(M)==="pieces"?"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer.":"Finn en komponist i søkefeltet for å se hvilke stykker vi har registrert av dem."),ge=z(()=>(()=>{switch(r(M)){case"bands":return r(he)==="wind"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":"Søk etter et brassband for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.";case"conductors":return"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.";case"pieces":return"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.";case"composers":return"Søk etter en komponist for å se hvilke NM-stykker de står bak.";case"repertoire":return"Søk etter stykker med komponist, varighet og vanskelighetsgrad. Repertoaret utvides løpende.";case"om":return"";case"data":return"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen.";case"innstillinger":return"";default:return""}})()),qe=z(()=>r(he)==="wind"?"Bytt til brassband":"Bytt til janitsjarkorps"),Ee=z(()=>r(he)==="wind"?"Brass":"Janitsjar"),ue=z(()=>r(he)==="wind"?"🎺":"🎷"),Ae=z(()=>r(at)?"Lukk meny":"Åpne meny"),We=z(()=>r(se).length===1?r(se)[0].name:r(se).length>1?`${r(se).length} ${r(Y)} valgt`:""),Ne=z(()=>r(se).length>1?r(se).map(_=>_.name).join(" · "):""),Pe=z(()=>r(M)==="pieces"?r(se):[]),Ze=z(()=>r(M)==="composers"?r(se):[]),Nt=z(()=>r(M)==="bands"||r(M)==="conductors"?r(se):[]);var Wt=Fe(),Dt=Se(Wt);{var be=_=>{Ag(_,{onSelect:Ct})},Xe=_=>{var S=Jg(),L=d(S),N=d(L),ne=d(N),Z=d(ne),H=y(ne,2);H.__click=[Ig,at];var ee=y(N,2);let ve;var pe=d(ee);rt(pe,21,()=>x,lt,(en,Bt)=>{var Bn=Fe(),Ur=Se(Bn);{var Sr=cn=>{var Ut=Fg();Ut.__click=[Dg,Tt,Bt];let Un;var Yr=d(Ut),bn=d(Yr);Q(un=>{U(Ut,"aria-pressed",r(M)===r(Bt)),U(Ut,"data-mobile-label",r(Bt)==="innstillinger"?"Innstillinger":""),Un=Gt(Ut,1,"svelte-1n46o8q",null,Un,un),j(bn,h[r(Bt)])},[()=>({selected:r(M)===r(Bt),"view-toggle__settings":r(Bt)==="innstillinger"})]),b(cn,Ut)};K(Ur,cn=>{(r(Bt)!=="repertoire"||r(he)==="wind")&&cn(Sr)})}b(en,Bn)});var De=y(pe,2);let Te;De.__click=[Rg,he,vt,$t,ht,Ke];var ye=d(De),Je=d(ye),mt=y(ye,2),It=d(mt),tr=y(L,2),zn=d(tr),_i=y(tr,2);{var Ml=en=>{var Bt=Bg(),Bn=Se(Bt),Ur=z(()=>Sa(St)),Sr=d(Bn),cn=d(Sr),Ut=y(Sr,2);Ut.__input=[jg,ce,C],Ut.__keydown=[qg,g,C,st];var Un=y(Bn,2);{var Yr=bn=>{var un=zg();rt(un,21,()=>r(g),lt,(Er,gi,mi)=>{var nr=Og(),Yn=z(()=>Sa(()=>st(r(gi))));nr.__mousedown=function(...Vr){r(Yn)?.apply(this,Vr)};var rr=d(nr);Q(()=>{Gt(nr,1,`suggestion ${mi===r(C)?"active":""}`,"svelte-1n46o8q"),U(nr,"aria-selected",mi===r(C)),j(rr,r(gi).name)}),b(Er,nr)}),Q(()=>U(un,"aria-label",r(ie))),b(bn,un)};K(Un,bn=>{r(g).length>0&&bn(Yr)})}Q(()=>{j(cn,r(G)),U(Ut,"placeholder",r(oe))}),an("submit",Bn,function(...bn){r(Ur)?.apply(this,bn)}),Xn(Ut,()=>r(ce),bn=>E(ce,bn)),b(en,Bt)};K(_i,en=>{r(we)&&en(Ml)})}var $l=y(_i,2);{var Cl=en=>{var Bt=Ug();b(en,Bt)},Nl=en=>{var Bt=Fe(),Bn=Se(Bt);{var Ur=cn=>{var Ut=Yg(),Un=d(Ut);Q(()=>j(Un,r(J))),b(cn,Ut)},Sr=cn=>{var Ut=Fe(),Un=Se(Ut);{var Yr=un=>{var Er=Vg();b(un,Er)},bn=un=>{var Er=Fe(),gi=Se(Er);{var mi=Yn=>{var rr=Fe(),Vr=Se(rr);{var os=sn=>{var Vn=Wg(),ir=Se(Vn);{var Hr=Yt=>{ng(Yt,{get pieces(){return r(Pe)},get bandType(){return r(he)}})},Kr=Yt=>{var Ht=Fe(),xn=Se(Ht);{var Ar=In=>{ag(In,{get composers(){return r(Ze)},get bandType(){return r(he)}})},Hn=In=>{var bi=Kg(),Xr=d(bi),sa=d(Xr),Pl=d(sa),aa=y(sa,2),Tl=d(aa),Ll=y(aa,2);{var Il=Gr=>{var oa=Hg(),jl=d(oa);Q(()=>j(jl,r(Ne))),b(Gr,oa)};K(Ll,Gr=>{r(Ne)&&Gr(Il)})}var Rl=y(Xr,2);{let Gr=z(()=>r(M)==="bands");up(Rl,{get years(){return r(p)},get maxFieldSize(){return r(A)},get bands(){return r(Nt)},get yMode(){return r(B)},get yAxisScale(){return r(re)},get showConductorMarkers(){return r(Gr)}})}Q(()=>{j(Pl,r(We)),j(Tl,r(T))}),b(In,bi)};K(xn,In=>{r(M)==="composers"?In(Ar):In(Hn,!1)},!0)}b(Yt,Ht)};K(ir,Yt=>{r(M)==="pieces"?Yt(Hr):Yt(Kr,!1)})}var fn=y(ir,2);rt(fn,21,()=>r(se),lt,(Yt,Ht,xn)=>{var Ar=Gg(),Hn=d(Ar);Hn.textContent=xn+1;var In=y(Hn,2),bi=d(In),Xr=y(In,2);Xr.__click=[Xg,Mt,Ht],Q(()=>{j(bi,r(Ht).name),U(Xr,"aria-label",`Fjern ${r(Ht).name}`)}),b(Yt,Ar)});var yi=y(fn,2);{var cs=Yt=>{Ip(Yt,{get bands(){return r(Nt)},get bandType(){return r(he)},streamingResolver:wt,get eliteTestPieces(){return r(it)}})},us=Yt=>{var Ht=Fe(),xn=Se(Ht);{var Ar=Hn=>{r_(Hn,{get conductors(){return r(Nt)},get bandType(){return r(he)},streamingResolver:wt})};K(xn,Hn=>{r(M)==="conductors"&&Hn(Ar)},!0)}b(Yt,Ht)};K(yi,Yt=>{r(M)==="bands"?Yt(cs):Yt(us,!1)})}Q(()=>U(fn,"aria-label",r(xe))),b(sn,Vn)},ls=sn=>{var Vn=Zg(),ir=d(Vn),Hr=d(ir),Kr=y(ir,2),fn=d(Kr);Q(()=>{j(Hr,r(de)),j(fn,r(fe))}),b(sn,Vn)};K(Vr,sn=>{r(se).length>0?sn(os):sn(ls,!1)})}b(Yn,rr)},nr=Yn=>{var rr=Fe(),Vr=Se(rr);{var os=sn=>{wg(sn,{})},ls=sn=>{var Vn=Fe(),ir=Se(Vn);{var Hr=fn=>{$g(fn,{get bandType(){return r(he)}})},Kr=fn=>{var yi=Fe(),cs=Se(yi);{var us=Ht=>{Lg(Ht,{onYAxisModeChange:qt,onYAxisScaleChange:Et,onThemeChange:_t,get yAxisMode(){return r(B)},set yAxisMode(xn){E(B,xn,!0)},get yAxisScale(){return r(re)},set yAxisScale(xn){E(re,xn,!0)},get theme(){return r(Me)},set theme(xn){E(Me,xn,!0)}})},Yt=Ht=>{R_(Ht,{get dataset(){return r(m)},get bandType(){return r(he)},streamingResolver:wt,get eliteTestPieces(){return r(it)}})};K(cs,Ht=>{r(M)==="innstillinger"?Ht(us):Ht(Yt,!1)},!0)}b(fn,yi)};K(ir,fn=>{r(M)==="om"?fn(Hr):fn(Kr,!1)},!0)}b(sn,Vn)};K(Vr,sn=>{r(M)==="repertoire"?sn(os):sn(ls,!1)},!0)}b(Yn,rr)};K(gi,Yn=>{r(we)?Yn(mi):Yn(nr,!1)},!0)}b(un,Er)};K(Un,un=>{r(m)?un(bn,!1):un(Yr)},!0)}b(cn,Ut)};K(Bn,cn=>{r(J)?cn(Ur):cn(Sr,!1)},!0)}b(en,Bt)};K($l,en=>{r(W)?en(Cl):en(Nl,!1)})}Q((en,Bt)=>{j(Z,r(he)==="wind"?"NM Janitsjar":"NM Brass"),U(H,"aria-label",r(Ae)),U(H,"aria-expanded",r(at)),ve=Gt(ee,1,"header-controls svelte-1n46o8q",null,ve,en),Te=Gt(De,1,"band-type-toggle svelte-1n46o8q",null,Te,Bt),U(De,"aria-label",r(qe)),j(Je,r(ue)),j(It,r(Ee)),j(zn,r(ge))},[()=>({"header-controls--mobile-open":r(at)}),()=>({"band-type-toggle--to-brass":r(he)==="wind","band-type-toggle--to-wind":r(he)==="brass"})]),b(_,S)};K(Dt,_=>{r(bt)?_(be):_(Xe,!1)})}b(e,Wt),yn()}er(["click","input","keydown","mousedown"]);async function Qg(){const e=localStorage.getItem("nmkorps-theme"),t=window.matchMedia?.("(prefers-color-scheme: dark)").matches,n=e==="dark"||!e&&t,i=n?"#0f172a":"#f8fafc";try{await Es.enable(),await Es.setBackgroundColor({color:i}),console.log("Edge-to-edge display enabled with background:",i)}catch(s){console.log("Edge-to-edge plugin skipped:",s)}try{n?(await Zn.setStyle({style:qr.Dark}),await Zn.setBackgroundColor({color:i})):(await Zn.setStyle({style:qr.Light}),await Zn.setBackgroundColor({color:i}))}catch(s){console.log("Status Bar initialization skipped:",s)}}Qg().then(()=>{const e=ma(to,{target:document.getElementById("app")});window.app=e}).catch(e=>{console.error("Status bar initialization failed:",e);const t=ma(to,{target:document.getElementById("app")});window.app=t});
