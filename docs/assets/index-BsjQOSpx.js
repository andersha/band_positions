(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Ol="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ol);const Xi=1,Gi=2,so=4,zl=8,Bl=16,Ul=1,Yl=4,Vl=8,Hl=16,ao=1,Kl=2,Rt=Symbol(),Xl="http://www.w3.org/1999/xhtml",oo=!1;var di=Array.isArray,Gl=Array.prototype.indexOf,qs=Array.from,ys=Object.defineProperty,Nr=Object.getOwnPropertyDescriptor,Wl=Object.getOwnPropertyDescriptors,Zl=Object.prototype,Jl=Array.prototype,lo=Object.getPrototypeOf,fa=Object.isExtensible;const Ql=()=>{};function ec(e){for(var t=0;t<e.length;t++)e[t]()}function co(){var e,t,n=new Promise((i,s)=>{e=i,t=s});return{promise:n,resolve:e,reject:t}}const rn=2,Ds=4,Fs=8,yr=16,Fn=32,br=64,Os=128,_n=256,Ri=512,Xt=1024,ln=2048,Qn=4096,En=8192,xr=16384,zs=32768,Wi=65536,da=1<<17,tc=1<<18,zr=1<<19,nc=1<<20,bs=1<<21,Zi=1<<22,cr=1<<23,ur=Symbol("$state"),rc=Symbol("legacy props"),ic=Symbol(""),ni=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Bs(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function sc(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ac(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function oc(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function lc(e){throw new Error("https://svelte.dev/e/effect_orphan")}function cc(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function uc(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function fc(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function dc(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function vc(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function hc(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function pc(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function _c(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let gc=!1;function uo(e){return e===this.v}function mc(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function yc(e,t){return e!==t}function fo(e){return!mc(e,this.v)}let bc=!1,Jt=null;function Lr(e){Jt=e}function mn(e,t=!1,n){Jt={p:Jt,c:null,e:null,s:e,x:null,l:null}}function yn(e){var t=Jt,n=t.e;if(n!==null){t.e=null;for(var i of n)$o(i)}return Jt=t.p,{}}function vo(){return!0}let or=[];function ho(){var e=or;or=[],ec(e)}function hr(e){if(or.length===0&&!ri){var t=or;queueMicrotask(()=>{t===or&&ho()})}or.push(e)}function xc(){for(;or.length>0;)ho()}const wc=new WeakMap;function po(e){var t=Ke;if(t===null)return He.f|=cr,e;if((t.f&zs)===0){if((t.f&Os)===0)throw!t.parent&&e instanceof Error&&_o(e),e;t.b.error(e)}else Ir(e,t)}function Ir(e,t){for(;t!==null;){if((t.f&Os)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&_o(e),e}function _o(e){const t=wc.get(e);t&&(ys(e,"message",{value:t.message}),ys(e,"stack",{value:t.stack}))}const xi=new Set;let mt=null,Ni=null,xs=new Set,Nn=[],Ji=null,ws=!1,ri=!1;class pn{current=new Map;#r=new Map;#n=new Set;#d=0;#s=null;#l=[];#i=[];#t=[];#e=[];#a=[];#c=[];skipped_effects=new Set;process(t){Nn=[],Ni=null;var n=pn.apply(this);for(const a of t)this.#u(a);if(this.#d===0){this.#f();var i=this.#i,s=this.#t;this.#i=[],this.#t=[],this.#e=[],Ni=this,mt=null,va(i),va(s),Ni=null,this.#s?.resolve()}else this.#o(this.#i),this.#o(this.#t),this.#o(this.#e);n();for(const a of this.#l)oi(a);this.#l=[]}#u(t){t.f^=Xt;for(var n=t.first;n!==null;){var i=n.f,s=(i&(Fn|br))!==0,a=s&&(i&Xt)!==0,o=a||(i&En)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){s?n.f^=Xt:(i&Ds)!==0?this.#t.push(n):(i&Xt)===0&&((i&Zi)!==0&&n.b?.is_pending()?this.#l.push(n):ns(n)&&((n.f&yr)!==0&&this.#e.push(n),oi(n)));var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}}#o(t){for(const n of t)((n.f&ln)!==0?this.#a:this.#c).push(n),Zt(n,Xt);t.length=0}capture(t,n){this.#r.has(t)||this.#r.set(t,n),this.current.set(t,t.v)}activate(){mt=this}deactivate(){mt=null}flush(){if(Nn.length>0){if(this.activate(),go(),mt!==null&&mt!==this)return}else this.#d===0&&this.#f();this.deactivate();for(const t of xs)if(xs.delete(t),t(),mt!==null)break}#f(){for(const t of this.#n)t();if(this.#n.clear(),xi.size>1){this.#r.clear();let t=!0;for(const n of xi){if(n===this){t=!1;continue}for(const[i,s]of this.current){if(n.current.has(i))if(t)n.current.set(i,s);else continue;mo(i)}if(Nn.length>0){mt=n;const i=pn.apply(n);for(const s of Nn)n.#u(s);Nn=[],i()}}mt=null}xi.delete(this)}increment(){this.#d+=1}decrement(){this.#d-=1;for(const t of this.#a)Zt(t,ln),pr(t);for(const t of this.#c)Zt(t,Qn),pr(t);this.flush()}add_callback(t){this.#n.add(t)}settled(){return(this.#s??=co()).promise}static ensure(){if(mt===null){const t=mt=new pn;xi.add(mt),ri||pn.enqueue(()=>{mt===t&&t.flush()})}return mt}static enqueue(t){hr(t)}static apply(t){return Ql}}function kc(e){var t=ri;ri=!0;try{for(var n;;){if(xc(),Nn.length===0&&(mt?.flush(),Nn.length===0))return Ji=null,n;go()}}finally{ri=t}}function go(){var e=Pr;ws=!0;try{var t=0;for(ga(!0);Nn.length>0;){var n=pn.ensure();if(t++>1e3){var i,s;Sc()}n.process(Nn),Jn.clear()}}finally{ws=!1,ga(e),Ji=null}}function Sc(){try{cc()}catch(e){Ir(e,Ji)}}let ar=null;function va(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(xr|En))===0&&ns(i)&&(ar=[],oi(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?To(i):i.fn=null),ar?.length>0)){Jn.clear();for(const s of ar)oi(s);ar=[]}}ar=null}}function mo(e){if(e.reactions!==null)for(const t of e.reactions){const n=t.f;(n&rn)!==0?mo(t):(n&(Zi|yr))!==0&&(Zt(t,ln),pr(t))}}function pr(e){for(var t=Ji=e;t.parent!==null;){t=t.parent;var n=t.f;if(ws&&t===Ke&&(n&yr)!==0)return;if((n&(br|Fn))!==0){if((n&Xt)===0)return;t.f^=Xt}}Nn.push(t)}function Ec(e){let t=0,n=_r(0),i;return()=>{zc()&&(r(n),Hs(()=>(t===0&&(i=kr(()=>e(()=>ii(n)))),t+=1,()=>{hr(()=>{t-=1,t===0&&(i?.(),i=void 0,ii(n))})})))}}var Ac=Wi|zr|Os;function Mc(e,t,n){new $c(e,t,n)}class $c{parent;#r=!1;#n;#d=null;#s;#l;#i;#t=null;#e=null;#a=null;#c=null;#u=0;#o=0;#f=!1;#v=null;#g=()=>{this.#v&&Rr(this.#v,this.#u)};#m=Ec(()=>(this.#v=_r(this.#u),()=>{this.#v=null}));constructor(t,n,i){this.#n=t,this.#s=n,this.#l=i,this.parent=Ke.b,this.#r=!!this.#s.pending,this.#i=ts(()=>{Ke.b=this;{try{this.#t=vn(()=>i(this.#n))}catch(s){this.error(s)}this.#o>0?this.#p():this.#r=!1}},Ac)}#y(){try{this.#t=vn(()=>this.#l(this.#n))}catch(t){this.error(t)}this.#r=!1}#b(){const t=this.#s.pending;t&&(this.#e=vn(()=>t(this.#n)),pn.enqueue(()=>{this.#t=this.#h(()=>(pn.ensure(),vn(()=>this.#l(this.#n)))),this.#o>0?this.#p():(fr(this.#e,()=>{this.#e=null}),this.#r=!1)}))}is_pending(){return this.#r||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#h(t){var n=Ke,i=He,s=Jt;Tn(this.#i),tn(this.#i),Lr(this.#i.ctx);try{return t()}catch(a){return po(a),null}finally{Tn(n),tn(i),Lr(s)}}#p(){const t=this.#s.pending;this.#t!==null&&(this.#c=document.createDocumentFragment(),Cc(this.#t,this.#c)),this.#e===null&&(this.#e=vn(()=>t(this.#n)))}#_(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#_(t);return}this.#o+=t,this.#o===0&&(this.#r=!1,this.#e&&fr(this.#e,()=>{this.#e=null}),this.#c&&(this.#n.before(this.#c),this.#c=null),hr(()=>{pn.ensure().flush()}))}update_pending_count(t){this.#_(t),this.#u+=t,xs.add(this.#g)}get_effect_pending(){return this.#m(),r(this.#v)}error(t){var n=this.#s.onerror;let i=this.#s.failed;if(this.#f||!n&&!i)throw t;this.#t&&(gn(this.#t),this.#t=null),this.#e&&(gn(this.#e),this.#e=null),this.#a&&(gn(this.#a),this.#a=null);var s=!1,a=!1;const o=()=>{if(s){_c();return}s=!0,a&&hc(),pn.ensure(),this.#u=0,this.#a!==null&&fr(this.#a,()=>{this.#a=null}),this.#r=this.has_pending_snippet(),this.#t=this.#h(()=>(this.#f=!1,vn(()=>this.#l(this.#n)))),this.#o>0?this.#p():this.#r=!1};var l=He;try{tn(null),a=!0,n?.(t,o),a=!1}catch(c){Ir(c,this.#i&&this.#i.parent)}finally{tn(l)}i&&hr(()=>{this.#a=this.#h(()=>{this.#f=!0;try{return vn(()=>{i(this.#n,()=>t,()=>o)})}catch(c){return Ir(c,this.#i.parent),null}finally{this.#f=!1}})})}}function Cc(e,t){for(var n=e.nodes_start,i=e.nodes_end;n!==null;){var s=n===i?null:vi(n);t.append(n),n=s}}function Nc(e,t,n){const i=Qi;if(t.length===0){n(e.map(i));return}var s=mt,a=Ke,o=Pc();Promise.all(t.map(l=>Tc(l))).then(l=>{o();try{n([...e.map(i),...l])}catch(c){(a.f&xr)===0&&Ir(c,a)}s?.deactivate(),yo()}).catch(l=>{Ir(l,a)})}function Pc(){var e=Ke,t=He,n=Jt,i=mt;return function(){Tn(e),tn(t),Lr(n),i?.activate()}}function yo(){Tn(null),tn(null),Lr(null)}function Qi(e){var t=rn|ln,n=He!==null&&(He.f&rn)!==0?He:null;return Ke===null||n!==null&&(n.f&_n)!==0?t|=_n:Ke.f|=zr,{ctx:Jt,deps:null,effects:null,equals:uo,f:t,fn:e,reactions:null,rv:0,v:Rt,wv:0,parent:n??Ke,ac:null}}function Tc(e,t){let n=Ke;n===null&&sc();var i=n.b,s=void 0,a=_r(Rt),o=!He,l=new Map;return Uc(()=>{var c=co();s=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject)}catch(h){c.reject(h)}var u=mt,f=i.is_pending();o&&(i.update_pending_count(1),f||(u.increment(),l.get(u)?.reject(ni),l.set(u,c)));const v=(h,b=void 0)=>{f||u.activate(),b?b!==ni&&(a.f|=cr,Rr(a,b)):((a.f&cr)!==0&&(a.f^=cr),Rr(a,h)),o&&(i.update_pending_count(-1),f||u.decrement()),yo()};c.promise.then(v,h=>v(null,h||"unknown"))}),Vs(()=>{for(const c of l.values())c.reject(ni)}),new Promise(c=>{function u(f){function v(){f===s?c(a):u(s)}f.then(v,v)}u(s)})}function O(e){const t=Qi(e);return Ro(t),t}function bo(e){const t=Qi(e);return t.equals=fo,t}function xo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)gn(t[n])}}function Lc(e){for(var t=e.parent;t!==null;){if((t.f&rn)===0)return t;t=t.parent}return null}function Us(e){var t,n=Ke;Tn(Lc(e));try{xo(e),t=Fo(e)}finally{Tn(n)}return t}function wo(e){var t=Us(e);if(e.equals(t)||(e.v=t,e.wv=qo()),!wr){var n=(Gn||(e.f&_n)!==0)&&e.deps!==null?Qn:Xt;Zt(e,n)}}const Jn=new Map;function _r(e,t){var n={f:0,v:e,reactions:null,equals:uo,rv:0,wv:0};return n}function ae(e,t){const n=_r(e);return Ro(n),n}function Ic(e,t=!1,n=!0){const i=_r(e);return t||(i.equals=fo),i}function A(e,t,n=!1){He!==null&&(!kn||(He.f&da)!==0)&&vo()&&(He.f&(rn|yr|Zi|da))!==0&&!qn?.includes(e)&&vc();let i=n?Kt(t):t;return Rr(e,i)}function Rr(e,t){if(!e.equals(t)){var n=e.v;wr?Jn.set(e,t):Jn.set(e,n),e.v=t;var i=pn.ensure();i.capture(e,n),(e.f&rn)!==0&&((e.f&ln)!==0&&Us(e),Zt(e,(e.f&_n)===0?Xt:Qn)),e.wv=qo(),ko(e,ln),Ke!==null&&(Ke.f&Xt)!==0&&(Ke.f&(Fn|br))===0&&(dn===null?Hc([e]):dn.push(e))}return t}function ii(e){A(e,e.v+1)}function ko(e,t){var n=e.reactions;if(n!==null)for(var i=n.length,s=0;s<i;s++){var a=n[s],o=a.f,l=(o&ln)===0;l&&Zt(a,t),(o&rn)!==0?ko(a,Qn):l&&((o&yr)!==0&&ar!==null&&ar.push(a),pr(a))}}function Kt(e){if(typeof e!="object"||e===null||ur in e)return e;const t=lo(e);if(t!==Zl&&t!==Jl)return e;var n=new Map,i=di(e),s=ae(0),a=dr,o=l=>{if(dr===a)return l();var c=He,u=dr;tn(null),ya(a);var f=l();return tn(c),ya(u),f};return i&&n.set("length",ae(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&fc();var f=n.get(c);return f===void 0?f=o(()=>{var v=ae(u.value);return n.set(c,v),v}):A(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=o(()=>ae(Rt));n.set(c,f),ii(s)}}else A(u,Rt),ii(s);return!0},get(l,c,u){if(c===ur)return e;var f=n.get(c),v=c in l;if(f===void 0&&(!v||Nr(l,c)?.writable)&&(f=o(()=>{var b=Kt(v?l[c]:Rt),m=ae(b);return m}),n.set(c,f)),f!==void 0){var h=r(f);return h===Rt?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=r(f))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==Rt)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===ur)return!0;var u=n.get(c),f=u!==void 0&&u.v!==Rt||Reflect.has(l,c);if(u!==void 0||Ke!==null&&(!f||Nr(l,c)?.writable)){u===void 0&&(u=o(()=>{var h=f?Kt(l[c]):Rt,b=ae(h);return b}),n.set(c,u));var v=r(u);if(v===Rt)return!1}return f},set(l,c,u,f){var v=n.get(c),h=c in l;if(i&&c==="length")for(var b=u;b<v.v;b+=1){var m=n.get(b+"");m!==void 0?A(m,Rt):b in l&&(m=o(()=>ae(Rt)),n.set(b+"",m))}if(v===void 0)(!h||Nr(l,c)?.writable)&&(v=o(()=>ae(void 0)),A(v,Kt(u)),n.set(c,v));else{h=v.v!==Rt;var D=o(()=>Kt(u));A(v,D)}var $=Reflect.getOwnPropertyDescriptor(l,c);if($?.set&&$.set.call(f,u),!h){if(i&&typeof c=="string"){var K=n.get("length"),Z=Number(c);Number.isInteger(Z)&&Z>=K.v&&A(K,Z+1)}ii(s)}return!0},ownKeys(l){r(s);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==Rt});for(var[u,f]of n)f.v!==Rt&&!(u in l)&&c.push(u);return c},setPrototypeOf(){dc()}})}function ha(e){try{if(e!==null&&typeof e=="object"&&ur in e)return e[ur]}catch{}return e}function Rc(e,t){return Object.is(ha(e),ha(t))}var pa,So,Eo,Ao;function jc(){if(pa===void 0){pa=window,So=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Eo=Nr(t,"firstChild").get,Ao=Nr(t,"nextSibling").get,fa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),fa(n)&&(n.__t=void 0)}}function Br(e=""){return document.createTextNode(e)}function jn(e){return Eo.call(e)}function vi(e){return Ao.call(e)}function d(e,t){return jn(e)}function $e(e,t=!1){{var n=jn(e);return n instanceof Comment&&n.data===""?vi(n):n}}function g(e,t=1,n=!1){let i=e;for(;t--;)i=vi(i);return i}function qc(e){e.textContent=""}function Ys(){return!1}let _a=!1;function Dc(){_a||(_a=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function es(e){var t=He,n=Ke;tn(null),Tn(null);try{return e()}finally{tn(t),Tn(n)}}function Mo(e,t,n,i=n){e.addEventListener(t,()=>es(n));const s=e.__on_r;s?e.__on_r=()=>{s(),i(!0)}:e.__on_r=()=>i(!0),Dc()}function Fc(e){Ke===null&&He===null&&lc(),He!==null&&(He.f&_n)!==0&&Ke===null&&oc(),wr&&ac()}function Oc(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function On(e,t,n,i=!0){var s=Ke;s!==null&&(s.f&En)!==0&&(e|=En);var a={ctx:Jt,deps:null,nodes_start:null,nodes_end:null,f:e|ln,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{oi(a),a.f|=zs}catch(c){throw gn(a),c}else t!==null&&pr(a);if(i){var o=a;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&zr)===0&&(o=o.first),o!==null&&(o.parent=s,s!==null&&Oc(o,s),He!==null&&(He.f&rn)!==0&&(e&br)===0)){var l=He;(l.effects??=[]).push(o)}}return a}function zc(){return He!==null&&!kn}function Vs(e){const t=On(Fs,null,!1);return Zt(t,Xt),t.teardown=e,t}function hn(e){Fc();var t=Ke.f,n=!He&&(t&Fn)!==0&&(t&zs)===0;if(n){var i=Jt;(i.e??=[]).push(e)}else return $o(e)}function $o(e){return On(Ds|nc,e,!1)}function Bc(e){pn.ensure();const t=On(br|zr,e,!0);return(n={})=>new Promise(i=>{n.outro?fr(t,()=>{gn(t),i(void 0)}):(gn(t),i(void 0))})}function Co(e){return On(Ds,e,!1)}function Uc(e){return On(Zi|zr,e,!0)}function Hs(e,t=0){return On(Fs|t,e,!0)}function W(e,t=[],n=[]){Nc(t,n,i=>{On(Fs,()=>e(...i.map(r)),!0)})}function ts(e,t=0){var n=On(yr|t,e,!0);return n}function vn(e,t=!0){return On(Fn|zr,e,!0,t)}function No(e){var t=e.teardown;if(t!==null){const n=wr,i=He;ma(!0),tn(null);try{t.call(null)}finally{ma(n),tn(i)}}}function Po(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&es(()=>{s.abort(ni)});var i=n.next;(n.f&br)!==0?n.parent=null:gn(n,t),n=i}}function Yc(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Fn)===0&&gn(t),t=n}}function gn(e,t=!0){var n=!1;(t||(e.f&tc)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Vc(e.nodes_start,e.nodes_end),n=!0),Po(e,t&&!n),ji(e,0),Zt(e,xr);var i=e.transitions;if(i!==null)for(const a of i)a.stop();No(e);var s=e.parent;s!==null&&s.first!==null&&To(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Vc(e,t){for(;e!==null;){var n=e===t?null:vi(e);e.remove(),e=n}}function To(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function fr(e,t){var n=[];Ks(e,n,!0),Lo(n,()=>{gn(e),t&&t()})}function Lo(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var s of e)s.out(i)}else t()}function Ks(e,t,n){if((e.f&En)===0){if(e.f^=En,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var i=e.first;i!==null;){var s=i.next,a=(i.f&Wi)!==0||(i.f&Fn)!==0;Ks(i,t,a?n:!1),i=s}}}function Xs(e){Io(e,!0)}function Io(e,t){if((e.f&En)!==0){e.f^=En,(e.f&Xt)===0&&(Zt(e,ln),pr(e));for(var n=e.first;n!==null;){var i=n.next,s=(n.f&Wi)!==0||(n.f&Fn)!==0;Io(n,s?t:!1),n=i}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Pr=!1;function ga(e){Pr=e}let wr=!1;function ma(e){wr=e}let He=null,kn=!1;function tn(e){He=e}let Ke=null;function Tn(e){Ke=e}let qn=null;function Ro(e){He!==null&&(qn===null?qn=[e]:qn.push(e))}let Wt=null,on=0,dn=null;function Hc(e){dn=e}let jo=1,ai=0,dr=ai;function ya(e){dr=e}let Gn=!1;function qo(){return++jo}function ns(e){var t=e.f;if((t&ln)!==0)return!0;if((t&Qn)!==0){var n=e.deps,i=(t&_n)!==0;if(n!==null){var s,a,o=(t&Ri)!==0,l=i&&Ke!==null&&!Gn,c=n.length;if((o||l)&&(Ke===null||(Ke.f&xr)===0)){var u=e,f=u.parent;for(s=0;s<c;s++)a=n[s],(o||!a?.reactions?.includes(u))&&(a.reactions??=[]).push(u);o&&(u.f^=Ri),l&&f!==null&&(f.f&_n)===0&&(u.f^=_n)}for(s=0;s<c;s++)if(a=n[s],ns(a)&&wo(a),a.wv>e.wv)return!0}(!i||Ke!==null&&!Gn)&&Zt(e,Xt)}return!1}function Do(e,t,n=!0){var i=e.reactions;if(i!==null&&!qn?.includes(e))for(var s=0;s<i.length;s++){var a=i[s];(a.f&rn)!==0?Do(a,t,!1):t===a&&(n?Zt(a,ln):(a.f&Xt)!==0&&Zt(a,Qn),pr(a))}}function Fo(e){var t=Wt,n=on,i=dn,s=He,a=Gn,o=qn,l=Jt,c=kn,u=dr,f=e.f;Wt=null,on=0,dn=null,Gn=(f&_n)!==0&&(kn||!Pr||He===null),He=(f&(Fn|br))===0?e:null,qn=null,Lr(e.ctx),kn=!1,dr=++ai,e.ac!==null&&(es(()=>{e.ac.abort(ni)}),e.ac=null);try{e.f|=bs;var v=e.fn,h=v(),b=e.deps;if(Wt!==null){var m;if(ji(e,on),b!==null&&on>0)for(b.length=on+Wt.length,m=0;m<Wt.length;m++)b[on+m]=Wt[m];else e.deps=b=Wt;if(!Gn||(f&rn)!==0&&e.reactions!==null)for(m=on;m<b.length;m++)(b[m].reactions??=[]).push(e)}else b!==null&&on<b.length&&(ji(e,on),b.length=on);if(vo()&&dn!==null&&!kn&&b!==null&&(e.f&(rn|Qn|ln))===0)for(m=0;m<dn.length;m++)Do(dn[m],e);return s!==null&&s!==e&&(ai++,dn!==null&&(i===null?i=dn:i.push(...dn))),(e.f&cr)!==0&&(e.f^=cr),h}catch(D){return po(D)}finally{e.f^=bs,Wt=t,on=n,dn=i,He=s,Gn=a,qn=o,Lr(l),kn=c,dr=u}}function Kc(e,t){let n=t.reactions;if(n!==null){var i=Gl.call(n,e);if(i!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[i]=n[s],n.pop())}}n===null&&(t.f&rn)!==0&&(Wt===null||!Wt.includes(t))&&(Zt(t,Qn),(t.f&(_n|Ri))===0&&(t.f^=Ri),xo(t),ji(t,0))}function ji(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Kc(e,n[i])}function oi(e){var t=e.f;if((t&xr)===0){Zt(e,Xt);var n=Ke,i=Pr;Ke=e,Pr=!0;try{(t&yr)!==0?Yc(e):Po(e),No(e);var s=Fo(e);e.teardown=typeof s=="function"?s:null,e.wv=jo;var a;oo&&bc&&(e.f&ln)!==0&&e.deps}finally{Pr=i,Ke=n}}}async function Xc(){await Promise.resolve(),kc()}function r(e){var t=e.f,n=(t&rn)!==0;if(He!==null&&!kn){var i=Ke!==null&&(Ke.f&xr)!==0;if(!i&&!qn?.includes(e)){var s=He.deps;if((He.f&bs)!==0)e.rv<ai&&(e.rv=ai,Wt===null&&s!==null&&s[on]===e?on++:Wt===null?Wt=[e]:(!Gn||!Wt.includes(e))&&Wt.push(e));else{(He.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[He]:a.includes(He)||a.push(He)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,l=o.parent;l!==null&&(l.f&_n)===0&&(o.f^=_n)}if(wr){if(Jn.has(e))return Jn.get(e);if(n){o=e;var c=o.v;return((o.f&Xt)===0&&o.reactions!==null||Oo(o))&&(c=Us(o)),Jn.set(o,c),c}}else n&&(o=e,ns(o)&&wo(o));if((e.f&cr)!==0)throw e.v;return e.v}function Oo(e){if(e.v===Rt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Jn.has(t)||(t.f&rn)!==0&&Oo(t))return!0;return!1}function kr(e){var t=kn;try{return kn=!0,e()}finally{kn=t}}const Gc=-7169;function Zt(e,t){e.f=e.f&Gc|t}const zo=new Set,ks=new Set;function Wc(e,t,n,i={}){function s(a){if(i.capture||Zr.call(t,a),!a.cancelBubble)return es(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?hr(()=>{t.addEventListener(e,s,i)}):t.addEventListener(e,s,i),s}function an(e,t,n,i,s){var a={capture:i,passive:s},o=Wc(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Vs(()=>{t.removeEventListener(e,o,a)})}function er(e){for(var t=0;t<e.length;t++)zo.add(e[t]);for(var n of ks)n(e)}let ba=null;function Zr(e){var t=this,n=t.ownerDocument,i=e.type,s=e.composedPath?.()||[],a=s[0]||e.target;ba=e;var o=0,l=ba===e&&e.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;c<=u&&(o=c)}if(a=s[o]||e.target,a!==t){ys(e,"currentTarget",{configurable:!0,get(){return a||n}});var f=He,v=Ke;tn(null),Tn(null);try{for(var h,b=[];a!==null;){var m=a.assignedSlot||a.parentNode||a.host||null;try{var D=a["__"+i];if(D!=null&&(!a.disabled||e.target===a))if(di(D)){var[$,...K]=D;$.apply(a,[e,...K])}else D.call(a,e)}catch(Z){h?b.push(Z):h=Z}if(e.cancelBubble||m===t||m===null)break;a=m}if(h){for(let Z of b)queueMicrotask(()=>{throw Z});throw h}}finally{e.__root=t,delete e.currentTarget,tn(f),Tn(v)}}}function Bo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function li(e,t){var n=Ke;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function L(e,t){var n=(t&ao)!==0,i=(t&Kl)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=Bo(a?e:"<!>"+e),n||(s=jn(s)));var o=i||So?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=jn(o),c=o.lastChild;li(l,c)}else li(o,o);return o}}function Zc(e,t,n="svg"){var i=!e.startsWith("<!>"),s=(t&ao)!==0,a=`<${n}>${i?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var l=Bo(a),c=jn(l);if(s)for(o=document.createDocumentFragment();jn(c);)o.appendChild(jn(c));else o=jn(c)}var u=o.cloneNode(!0);if(s){var f=jn(u),v=u.lastChild;li(f,v)}else li(u,u);return u}}function Mn(e,t){return Zc(e,t,"svg")}function Be(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Br();return e.append(t,n),li(t,n),e}function y(e,t){e!==null&&e.before(t)}const Jc=["touchstart","touchmove"];function Qc(e){return Jc.includes(e)}function R(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function xa(e,t){return eu(e,t)}const Mr=new Map;function eu(e,{target:t,anchor:n,props:i={},events:s,context:a,intro:o=!0}){jc();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var b=v[h];if(!l.has(b)){l.add(b);var m=Qc(b);t.addEventListener(b,Zr,{passive:m});var D=Mr.get(b);D===void 0?(document.addEventListener(b,Zr,{passive:m}),Mr.set(b,1)):Mr.set(b,D+1)}}};c(qs(zo)),ks.add(c);var u=void 0,f=Bc(()=>{var v=n??t.appendChild(Br());return Mc(v,{pending:()=>{}},h=>{if(a){mn({});var b=Jt;b.c=a}s&&(i.$$events=s),u=e(h,i)||{},a&&yn()}),()=>{for(var h of l){t.removeEventListener(h,Zr);var b=Mr.get(h);--b===0?(document.removeEventListener(h,Zr),Mr.delete(h)):Mr.set(h,b)}ks.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return tu.set(u,f),u}let tu=new WeakMap;function Wn(e){Jt===null&&Bs(),hn(()=>{const t=kr(e);if(typeof t=="function")return t})}function nu(e){Jt===null&&Bs(),Wn(()=>()=>kr(e))}function ru(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function iu(){const e=Jt;return e===null&&Bs(),(t,n,i)=>{const s=e.s.$$events?.[t];if(s){const a=di(s)?s.slice():[s],o=ru(t,n,i);for(const l of a)l.call(e.x,o);return!o.defaultPrevented}return!0}}function H(e,t,n=!1){var i=e,s=null,a=null,o=Rt,l=n?Wi:0,c=!1;const u=(b,m=!0)=>{c=!0,h(m,b)};var f=null;function v(){f!==null&&(f.lastChild.remove(),i.before(f),f=null);var b=o?s:a,m=o?a:s;b&&Xs(b),m&&fr(m,()=>{o?a=null:s=null})}const h=(b,m)=>{if(o!==(o=b)){var D=Ys(),$=i;if(D&&(f=document.createDocumentFragment(),f.append($=Br())),o?s??=m&&vn(()=>m($)):a??=m&&vn(()=>m($)),D){var K=mt,Z=o?s:a,Q=o?a:s;Z&&K.skipped_effects.delete(Z),Q&&K.skipped_effects.add(Q),K.add_callback(v)}else v()}};ts(()=>{c=!1,t(u),c||h(null,null)},l)}function su(e,t,n){var i=e,s=Rt,a,o,l=null,c=yc;function u(){a&&fr(a),l!==null&&(l.lastChild.remove(),i.before(l),l=null),a=o}ts(()=>{if(c(s,s=t())){var f=i,v=Ys();v&&(l=document.createDocumentFragment(),l.append(f=Br())),o=vn(()=>n(f)),v?mt.add_callback(u):u()}})}function st(e,t){return t}function au(e,t,n){for(var i=e.items,s=[],a=t.length,o=0;o<a;o++)Ks(t[o].e,s,!0);var l=a>0&&s.length===0&&n!==null;if(l){var c=n.parentNode;qc(c),c.append(n),i.clear(),Cn(e,t[0].prev,t[a-1].next)}Lo(s,()=>{for(var u=0;u<a;u++){var f=t[u];l||(i.delete(f.k),Cn(e,f.prev,f.next)),gn(f.e,!l)}})}function et(e,t,n,i,s,a=null){var o=e,l={flags:t,items:new Map,first:null},c=(t&so)!==0;if(c){var u=e;o=u.appendChild(Br())}var f=null,v=!1,h=new Map,b=bo(()=>{var K=n();return di(K)?K:K==null?[]:qs(K)}),m,D;function $(){ou(D,m,l,h,o,s,t,i,n),a!==null&&(m.length===0?f?Xs(f):f=vn(()=>a(o)):f!==null&&fr(f,()=>{f=null}))}ts(()=>{D??=Ke,m=r(b);var K=m.length;if(!(v&&K===0)){v=K===0;var Z,Q,oe,ne;if(Ys()){var B=new Set,w=mt;for(Q=0;Q<K;Q+=1){oe=m[Q],ne=i(oe,Q);var T=l.items.get(ne)??h.get(ne);T?(t&(Xi|Gi))!==0&&Uo(T,oe,Q,t):(Z=Yo(null,l,null,null,oe,ne,Q,s,t,n,!0),h.set(ne,Z)),B.add(ne)}for(const[N,q]of l.items)B.has(N)||w.skipped_effects.add(q.e);w.add_callback($)}else $();r(b)}})}function ou(e,t,n,i,s,a,o,l,c){var u=(o&zl)!==0,f=(o&(Xi|Gi))!==0,v=t.length,h=n.items,b=n.first,m=b,D,$=null,K,Z=[],Q=[],oe,ne,B,w;if(u)for(w=0;w<v;w+=1)oe=t[w],ne=l(oe,w),B=h.get(ne),B!==void 0&&(B.a?.measure(),(K??=new Set).add(B));for(w=0;w<v;w+=1){if(oe=t[w],ne=l(oe,w),B=h.get(ne),B===void 0){var T=i.get(ne);if(T!==void 0){i.delete(ne),h.set(ne,T);var N=$?$.next:m;Cn(n,$,T),Cn(n,T,N),fs(T,N,s),$=T}else{var q=m?m.e.nodes_start:s;$=Yo(q,n,$,$===null?n.first:$.next,oe,ne,w,a,o,c)}h.set(ne,$),Z=[],Q=[],m=$.next;continue}if(f&&Uo(B,oe,w,o),(B.e.f&En)!==0&&(Xs(B.e),u&&(B.a?.unfix(),(K??=new Set).delete(B))),B!==m){if(D!==void 0&&D.has(B)){if(Z.length<Q.length){var k=Q[0],U;$=k.prev;var re=Z[0],M=Z[Z.length-1];for(U=0;U<Z.length;U+=1)fs(Z[U],k,s);for(U=0;U<Q.length;U+=1)D.delete(Q[U]);Cn(n,re.prev,M.next),Cn(n,$,re),Cn(n,M,k),m=k,$=M,w-=1,Z=[],Q=[]}else D.delete(B),fs(B,m,s),Cn(n,B.prev,B.next),Cn(n,B,$===null?n.first:$.next),Cn(n,$,B),$=B;continue}for(Z=[],Q=[];m!==null&&m.k!==ne;)(m.e.f&En)===0&&(D??=new Set).add(m),Q.push(m),m=m.next;if(m===null)continue;B=m}Z.push(B),$=B,m=B.next}if(m!==null||D!==void 0){for(var Ne=D===void 0?[]:qs(D);m!==null;)(m.e.f&En)===0&&Ne.push(m),m=m.next;var ve=Ne.length;if(ve>0){var rt=(o&so)!==0&&v===0?s:null;if(u){for(w=0;w<ve;w+=1)Ne[w].a?.measure();for(w=0;w<ve;w+=1)Ne[w].a?.fix()}au(n,Ne,rt)}}u&&hr(()=>{if(K!==void 0)for(B of K)B.a?.apply()}),e.first=n.first&&n.first.e,e.last=$&&$.e;for(var ut of i.values())gn(ut.e);i.clear()}function Uo(e,t,n,i){(i&Xi)!==0&&Rr(e.v,t),(i&Gi)!==0?Rr(e.i,n):e.i=n}function Yo(e,t,n,i,s,a,o,l,c,u,f){var v=(c&Xi)!==0,h=(c&Bl)===0,b=v?h?Ic(s,!1,!1):_r(s):s,m=(c&Gi)===0?o:_r(o),D={i:m,v:b,k:a,a:null,e:null,prev:n,next:i};try{if(e===null){var $=document.createDocumentFragment();$.append(e=Br())}return D.e=vn(()=>l(e,b,m,u),gc),D.e.prev=n&&n.e,D.e.next=i&&i.e,n===null?f||(t.first=D):(n.next=D,n.e.next=D.e),i!==null&&(i.prev=D,i.e.prev=D.e),D}finally{}}function fs(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==i;){var o=vi(a);s.before(a),a=o}}function Cn(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const wa=[...` 	
\r\f \v\uFEFF`];function lu(e,t,n){var i=e==null?"":""+e;if(t&&(i=i?i+" "+t:t),n){for(var s in n)if(n[s])i=i?i+" "+s:s;else if(i.length)for(var a=s.length,o=0;(o=i.indexOf(s,o))>=0;){var l=o+a;(o===0||wa.includes(i[o-1]))&&(l===i.length||wa.includes(i[l]))?i=(o===0?"":i.substring(0,o))+i.substring(l+1):o=l}}return i===""?null:i}function cu(e,t){return e==null?null:String(e)}function Gt(e,t,n,i,s,a){var o=e.__className;if(o!==n||o===void 0){var l=lu(n,i,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&s!==a)for(var c in a){var u=!!a[c];(s==null||u!==!!s[c])&&e.classList.toggle(c,u)}return a}function wi(e,t,n,i){var s=e.__style;if(s!==t){var a=cu(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return i}function Vo(e,t,n=!1){if(e.multiple){if(t==null)return;if(!di(t))return pc();for(var i of e.options)i.selected=t.includes(si(i));return}for(i of e.options){var s=si(i);if(Rc(s,t)){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function uu(e){var t=new MutationObserver(()=>{Vo(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Vs(()=>{t.disconnect()})}function ka(e,t,n=t){var i=!0;Mo(e,"change",s=>{var a=s?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(a),si);else{var l=e.querySelector(a)??e.querySelector("option:not([disabled])");o=l&&si(l)}n(o)}),Co(()=>{var s=t();if(Vo(e,s,i),i&&s===void 0){var a=e.querySelector(":checked");a!==null&&(s=si(a),n(s))}e.__value=s,i=!1}),uu(e)}function si(e){return"__value"in e?e.__value:e.value}const fu=Symbol("is custom element"),du=Symbol("is html");function Sa(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Y(e,t,n,i){var s=vu(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[ic]=n),n==null?e.removeAttribute(t):typeof n!="string"&&hu(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function vu(e){return e.__attributes??={[fu]:e.nodeName.includes("-"),[du]:e.namespaceURI===Xl}}var Ea=new Map;function hu(e){var t=e.getAttribute("is")||e.nodeName,n=Ea.get(t);if(n)return n;Ea.set(t,n=[]);for(var i,s=e,a=Element.prototype;a!==s;){i=Wl(s);for(var o in i)i[o].set&&n.push(o);s=lo(s)}return n}function Xn(e,t,n=t){var i=new WeakSet;Mo(e,"input",async s=>{var a=s?e.defaultValue:e.value;if(a=ds(e)?vs(a):a,n(a),mt!==null&&i.add(mt),await Xc(),a!==(a=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),kr(t)==null&&e.value&&(n(ds(e)?vs(e.value):e.value),mt!==null&&i.add(mt)),Hs(()=>{var s=t();if(e===document.activeElement){var a=Ni??mt;if(i.has(a))return}ds(e)&&s===vs(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function ds(e){var t=e.type;return t==="number"||t==="range"}function vs(e){return e===""?null:+e}function Aa(e,t){return e===t||e?.[ur]===t}function pu(e={},t,n,i){return Co(()=>{var s,a;return Hs(()=>{s=a,a=[],kr(()=>{e!==n(...a)&&(t(e,...a),s&&Aa(n(...s),e)&&t(null,...s))})}),()=>{hr(()=>{a&&Aa(n(...a),e)&&t(null,...a)})}}),e}function Ma(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}let ki=!1;function _u(e){var t=ki;try{return ki=!1,[e(),ki]}finally{ki=t}}function bt(e,t,n,i){var s=(n&Vl)!==0,a=(n&Hl)!==0,o=i,l=!0,c=()=>(l&&(l=!1,o=a?kr(i):i),o),u;if(s){var f=ur in e||rc in e;u=Nr(e,t)?.set??(f&&t in e?Z=>e[t]=Z:void 0)}var v,h=!1;s?[v,h]=_u(()=>e[t]):v=e[t],v===void 0&&i!==void 0&&(v=c(),u&&(uc(),u(v)));var b;if(b=()=>{var Z=e[t];return Z===void 0?c():(l=!0,Z)},(n&Yl)===0)return b;if(u){var m=e.$$legacy;return(function(Z,Q){return arguments.length>0?((!Q||m||h)&&u(Q?b():Z),Z):b()})}var D=!1,$=((n&Ul)!==0?Qi:bo)(()=>(D=!1,b()));s&&r($);var K=Ke;return(function(Z,Q){if(arguments.length>0){const oe=Q?r($):s?Kt(Z):Z;return A($,oe),D=!0,o!==void 0&&(o=oe),Z}return wr&&D||(K.f&xr)!==0?$.v:r($)})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var jr;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(jr||(jr={}));class hs extends Error{constructor(t,n,i){super(t),this.message=t,this.code=n,this.data=i}}const gu=e=>{var t,n;return e?.androidBridge?"android":!((n=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},mu=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:gu(e),a=()=>s()!=="web",o=v=>{const h=u.get(v);return!!(h?.platforms.has(s())||l(v))},l=v=>{var h;return(h=n.PluginHeaders)===null||h===void 0?void 0:h.find(b=>b.name===v)},c=v=>e.console.error(v),u=new Map,f=(v,h={})=>{const b=u.get(v);if(b)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),b.proxy;const m=s(),D=l(v);let $;const K=async()=>(!$&&m in h?$=typeof h[m]=="function"?$=await h[m]():$=h[m]:t!==null&&!$&&"web"in h&&($=typeof h.web=="function"?$=await h.web():$=h.web),$),Z=(T,N)=>{var q,k;if(D){const U=D?.methods.find(re=>N===re.name);if(U)return U.rtype==="promise"?re=>n.nativePromise(v,N.toString(),re):(re,M)=>n.nativeCallback(v,N.toString(),re,M);if(T)return(q=T[N])===null||q===void 0?void 0:q.bind(T)}else{if(T)return(k=T[N])===null||k===void 0?void 0:k.bind(T);throw new hs(`"${v}" plugin is not implemented on ${m}`,jr.Unimplemented)}},Q=T=>{let N;const q=(...k)=>{const U=K().then(re=>{const M=Z(re,T);if(M){const Ne=M(...k);return N=Ne?.remove,Ne}else throw new hs(`"${v}.${T}()" is not implemented on ${m}`,jr.Unimplemented)});return T==="addListener"&&(U.remove=async()=>N()),U};return q.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(q,"name",{value:T,writable:!1,configurable:!1}),q},oe=Q("addListener"),ne=Q("removeListener"),B=(T,N)=>{const q=oe({eventName:T},N),k=async()=>{const re=await q;ne({eventName:T,callbackId:re},N)},U=new Promise(re=>q.then(()=>re({remove:k})));return U.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await k()},U},w=new Proxy({},{get(T,N){switch(N){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?B:oe;case"removeListener":return ne;default:return Q(N)}}});return i[v]=w,u.set(v,{name:v,proxy:w,platforms:new Set([...Object.keys(h),...D?[m]:[]])}),w};return n.convertFileSrc||(n.convertFileSrc=v=>v),n.getPlatform=s,n.handleError=c,n.isNativePlatform=a,n.isPluginAvailable=o,n.registerPlugin=f,n.Exception=hs,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},yu=e=>e.Capacitor=mu(e),Ss=yu(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),rs=Ss.registerPlugin;class Ho{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let i=!1;this.listeners[t]||(this.listeners[t]=[],i=!0),this.listeners[t].push(n);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a),i&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,i){const s=this.listeners[t];if(!s){if(i){let a=this.retainedEventArguments[t];a||(a=[]),a.push(n),this.retainedEventArguments[t]=a}return}s.forEach(a=>a(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(t="not implemented"){return new Ss.Exception(t,jr.Unimplemented)}unavailable(t="not available"){return new Ss.Exception(t,jr.Unavailable)}async removeListener(t,n){const i=this.listeners[t];if(!i)return;const s=i.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(i=>{this.notifyListeners(t,i)}))}}const $a=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ca=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class bu extends Ho{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(i=>{if(i.length<=0)return;let[s,a]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Ca(s).trim(),a=Ca(a).trim(),n[s]=a}),n}async setCookie(t){try{const n=$a(t.key),i=$a(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${i||""}${s}; path=${a}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}rs("CapacitorCookies",{web:()=>new bu});const xu=async e=>new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{const s=i.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},i.onerror=s=>n(s),i.readAsDataURL(e)}),wu=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,a,o)=>(s[a]=e[t[o]],s),{})},ku=(e,t=!0)=>e?Object.entries(e).reduce((i,s)=>{const[a,o]=s;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${a}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${a}=${l}`),`${i}&${c}`},"").substr(1):null,Su=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=wu(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))a.set(o,l);n.body=a.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{a.append(c,l)});else for(const l of Object.keys(e.data))a.append(l,e.data[l]);n.body=a;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class Eu extends Ho{async request(t){const n=Su(t,t.webFetchExtra),i=ku(t.params,t.shouldEncodeUrlParams),s=i?`${t.url}?${i}`:t.url,a=await fetch(s,n),o=a.headers.get("content-type")||"";let{responseType:l="text"}=a.ok?t:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await a.blob(),c=await xu(u);break;case"json":c=await a.json();break;case"document":case"text":default:c=await a.text()}const f={};return a.headers.forEach((v,h)=>{f[h]=v}),{data:c,headers:f,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}rs("CapacitorHttp",{web:()=>new Eu});var qr;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(qr||(qr={}));var Na;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(Na||(Na={}));const Zn=rs("StatusBar"),Es=rs("EdgeToEdge",{});function Pi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Au(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ko(e){let t,n,i;e.length!==2?(t=Pi,n=(l,c)=>Pi(e(l),c),i=(l,c)=>e(l)-c):(t=e===Pi||e===Au?e:Mu,n=e,i=e);function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const v=u+f>>>1;n(l[v],c)<0?u=v+1:f=v}while(u<f)}return u}function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const v=u+f>>>1;n(l[v],c)<=0?u=v+1:f=v}while(u<f)}return u}function o(l,c,u=0,f=l.length){const v=s(l,c,u,f-1);return v>u&&i(l[v-1],c)>-i(l[v],c)?v-1:v}return{left:s,center:o,right:a}}function Mu(){return 0}function $u(e){return e===null?NaN:+e}const Cu=Ko(Pi),Nu=Cu.right;Ko($u).center;class Pa extends Map{constructor(t,n=Lu){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(Ta(this,t))}has(t){return super.has(Ta(this,t))}set(t,n){return super.set(Pu(this,t),n)}delete(t){return super.delete(Tu(this,t))}}function Ta({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Pu({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Tu({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Lu(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Iu=Math.sqrt(50),Ru=Math.sqrt(10),ju=Math.sqrt(2);function qi(e,t,n){const i=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(i)),a=i/Math.pow(10,s),o=a>=Iu?10:a>=Ru?5:a>=ju?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?qi(e,t,n*2):[l,c,u]}function Xo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[s,a,o]=i?qi(t,e,n):qi(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(i)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function As(e,t,n){return t=+t,e=+e,n=+n,qi(e,t,n)[2]}function qu(e,t,n){t=+t,e=+e,n=+n;const i=t<e,s=i?As(t,e,n):As(e,t,n);return(i?-1:1)*(s<0?1/-s:s)}function Du(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++i<s;)a[i]=e+i*n;return a}var Fu={value:()=>{}};function Go(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ti(n)}function Ti(e){this._=e}function Ou(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ti.prototype=Go.prototype={constructor:Ti,on:function(e,t){var n=this._,i=Ou(e+"",n),s,a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((s=(e=i[a]).type)&&(s=zu(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(s=(e=i[a]).type)n[s]=La(n[s],e.name,t);else if(t==null)for(s in n)n[s]=La(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ti(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,a;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,s=a.length;i<s;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,a=i.length;s<a;++s)i[s].value.apply(t,n)}};function zu(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function La(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=Fu,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ms="http://www.w3.org/1999/xhtml";const Ia={svg:"http://www.w3.org/2000/svg",xhtml:Ms,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function is(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ia.hasOwnProperty(t)?{space:Ia[t],local:e}:e}function Bu(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ms&&t.documentElement.namespaceURI===Ms?t.createElement(e):t.createElementNS(n,e)}}function Uu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Wo(e){var t=is(e);return(t.local?Uu:Bu)(t)}function Yu(){}function Gs(e){return e==null?Yu:function(){return this.querySelector(e)}}function Vu(e){typeof e!="function"&&(e=Gs(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=new Array(o),c,u,f=0;f<o;++f)(c=a[f])&&(u=e.call(c,c.__data__,f,a))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new An(i,this._parents)}function Hu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ku(){return[]}function Zo(e){return e==null?Ku:function(){return this.querySelectorAll(e)}}function Xu(e){return function(){return Hu(e.apply(this,arguments))}}function Gu(e){typeof e=="function"?e=Xu(e):e=Zo(e);for(var t=this._groups,n=t.length,i=[],s=[],a=0;a<n;++a)for(var o=t[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(i.push(e.call(c,c.__data__,u,o)),s.push(c));return new An(i,s)}function Jo(e){return function(){return this.matches(e)}}function Qo(e){return function(t){return t.matches(e)}}var Wu=Array.prototype.find;function Zu(e){return function(){return Wu.call(this.children,e)}}function Ju(){return this.firstElementChild}function Qu(e){return this.select(e==null?Ju:Zu(typeof e=="function"?e:Qo(e)))}var ef=Array.prototype.filter;function tf(){return Array.from(this.children)}function nf(e){return function(){return ef.call(this.children,e)}}function rf(e){return this.selectAll(e==null?tf:nf(typeof e=="function"?e:Qo(e)))}function sf(e){typeof e!="function"&&(e=Jo(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new An(i,this._parents)}function el(e){return new Array(e.length)}function af(){return new An(this._enter||this._groups.map(el),this._parents)}function Di(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Di.prototype={constructor:Di,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function of(e){return function(){return e}}function lf(e,t,n,i,s,a){for(var o=0,l,c=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],i[o]=l):n[o]=new Di(e,a[o]);for(;o<c;++o)(l=t[o])&&(s[o]=l)}function cf(e,t,n,i,s,a,o){var l,c,u=new Map,f=t.length,v=a.length,h=new Array(f),b;for(l=0;l<f;++l)(c=t[l])&&(h[l]=b=o.call(c,c.__data__,l,t)+"",u.has(b)?s[l]=c:u.set(b,c));for(l=0;l<v;++l)b=o.call(e,a[l],l,a)+"",(c=u.get(b))?(i[l]=c,c.__data__=a[l],u.delete(b)):n[l]=new Di(e,a[l]);for(l=0;l<f;++l)(c=t[l])&&u.get(h[l])===c&&(s[l]=c)}function uf(e){return e.__data__}function ff(e,t){if(!arguments.length)return Array.from(this,uf);var n=t?cf:lf,i=this._parents,s=this._groups;typeof e!="function"&&(e=of(e));for(var a=s.length,o=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],v=s[u],h=v.length,b=df(e.call(f,f&&f.__data__,u,i)),m=b.length,D=l[u]=new Array(m),$=o[u]=new Array(m),K=c[u]=new Array(h);n(f,v,D,$,K,b,t);for(var Z=0,Q=0,oe,ne;Z<m;++Z)if(oe=D[Z]){for(Z>=Q&&(Q=Z+1);!(ne=$[Q])&&++Q<m;);oe._next=ne||null}}return o=new An(o,i),o._enter=l,o._exit=c,o}function df(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vf(){return new An(this._exit||this._groups.map(el),this._parents)}function hf(e,t,n){var i=this.enter(),s=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?a.remove():n(a),i&&s?i.merge(s).order():s}function pf(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,s=n.length,a=i.length,o=Math.min(s,a),l=new Array(s),c=0;c<o;++c)for(var u=n[c],f=i[c],v=u.length,h=l[c]=new Array(v),b,m=0;m<v;++m)(b=u[m]||f[m])&&(h[m]=b);for(;c<s;++c)l[c]=n[c];return new An(l,this._parents)}function _f(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],s=i.length-1,a=i[s],o;--s>=0;)(o=i[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function gf(e){e||(e=mf);function t(v,h){return v&&h?e(v.__data__,h.__data__):!v-!h}for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a){for(var o=n[a],l=o.length,c=s[a]=new Array(l),u,f=0;f<l;++f)(u=o[f])&&(c[f]=u);c.sort(t)}return new An(s,this._parents).order()}function mf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function yf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function bf(){return Array.from(this)}function xf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length;s<a;++s){var o=i[s];if(o)return o}return null}function wf(){let e=0;for(const t of this)++e;return e}function kf(){return!this.node()}function Sf(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s);return this}function Ef(e){return function(){this.removeAttribute(e)}}function Af(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mf(e,t){return function(){this.setAttribute(e,t)}}function $f(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Cf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Nf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Pf(e,t){var n=is(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Af:Ef:typeof t=="function"?n.local?Nf:Cf:n.local?$f:Mf)(n,t))}function tl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Tf(e){return function(){this.style.removeProperty(e)}}function Lf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function If(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Rf(e,t,n){return arguments.length>1?this.each((t==null?Tf:typeof t=="function"?If:Lf)(e,t,n??"")):Dr(this.node(),e)}function Dr(e,t){return e.style.getPropertyValue(t)||tl(e).getComputedStyle(e,null).getPropertyValue(t)}function jf(e){return function(){delete this[e]}}function qf(e,t){return function(){this[e]=t}}function Df(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ff(e,t){return arguments.length>1?this.each((t==null?jf:typeof t=="function"?Df:qf)(e,t)):this.node()[e]}function nl(e){return e.trim().split(/^|\s+/)}function Ws(e){return e.classList||new rl(e)}function rl(e){this._node=e,this._names=nl(e.getAttribute("class")||"")}rl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function il(e,t){for(var n=Ws(e),i=-1,s=t.length;++i<s;)n.add(t[i])}function sl(e,t){for(var n=Ws(e),i=-1,s=t.length;++i<s;)n.remove(t[i])}function Of(e){return function(){il(this,e)}}function zf(e){return function(){sl(this,e)}}function Bf(e,t){return function(){(t.apply(this,arguments)?il:sl)(this,e)}}function Uf(e,t){var n=nl(e+"");if(arguments.length<2){for(var i=Ws(this.node()),s=-1,a=n.length;++s<a;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Bf:t?Of:zf)(n,t))}function Yf(){this.textContent=""}function Vf(e){return function(){this.textContent=e}}function Hf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Kf(e){return arguments.length?this.each(e==null?Yf:(typeof e=="function"?Hf:Vf)(e)):this.node().textContent}function Xf(){this.innerHTML=""}function Gf(e){return function(){this.innerHTML=e}}function Wf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Zf(e){return arguments.length?this.each(e==null?Xf:(typeof e=="function"?Wf:Gf)(e)):this.node().innerHTML}function Jf(){this.nextSibling&&this.parentNode.appendChild(this)}function Qf(){return this.each(Jf)}function ed(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function td(){return this.each(ed)}function nd(e){var t=typeof e=="function"?e:Wo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function rd(){return null}function id(e,t){var n=typeof e=="function"?e:Wo(e),i=t==null?rd:typeof t=="function"?t:Gs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function sd(){var e=this.parentNode;e&&e.removeChild(this)}function ad(){return this.each(sd)}function od(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ld(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cd(e){return this.select(e?ld:od)}function ud(e){return arguments.length?this.property("__data__",e):this.node().__data__}function fd(e){return function(t){e.call(this,t,this.__data__)}}function dd(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function vd(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,s=t.length,a;n<s;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function hd(e,t,n){return function(){var i=this.__on,s,a=fd(t);if(i){for(var o=0,l=i.length;o<l;++o)if((s=i[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=t;return}}this.addEventListener(e.type,a,n),s={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(s):this.__on=[s]}}function pd(e,t,n){var i=dd(e+""),s,a=i.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(s=0,f=l[c];s<a;++s)if((o=i[s]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?hd:vd,s=0;s<a;++s)this.each(l(i[s],t,n));return this}function al(e,t,n){var i=tl(e),s=i.CustomEvent;typeof s=="function"?s=new s(t,n):(s=i.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function _d(e,t){return function(){return al(this,e,t)}}function gd(e,t){return function(){return al(this,e,t.apply(this,arguments))}}function md(e,t){return this.each((typeof t=="function"?gd:_d)(e,t))}function*yd(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,a=i.length,o;s<a;++s)(o=i[s])&&(yield o)}var bd=[null];function An(e,t){this._groups=e,this._parents=t}function hi(){return new An([[document.documentElement]],bd)}function xd(){return this}An.prototype=hi.prototype={constructor:An,select:Vu,selectAll:Gu,selectChild:Qu,selectChildren:rf,filter:sf,data:ff,enter:af,exit:vf,join:hf,merge:pf,selection:xd,order:_f,sort:gf,call:yf,nodes:bf,node:xf,size:wf,empty:kf,each:Sf,attr:Pf,style:Rf,property:Ff,classed:Uf,text:Kf,html:Zf,raise:Qf,lower:td,append:nd,insert:id,remove:ad,clone:cd,datum:ud,on:pd,dispatch:md,[Symbol.iterator]:yd};function Zs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ol(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function pi(){}var ci=.7,Fi=1/ci,Tr="\\s*([+-]?\\d+)\\s*",ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wd=/^#([0-9a-f]{3,8})$/,kd=new RegExp(`^rgb\\(${Tr},${Tr},${Tr}\\)$`),Sd=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),Ed=new RegExp(`^rgba\\(${Tr},${Tr},${Tr},${ui}\\)$`),Ad=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${ui}\\)$`),Md=new RegExp(`^hsl\\(${ui},${Pn},${Pn}\\)$`),$d=new RegExp(`^hsla\\(${ui},${Pn},${Pn},${ui}\\)$`),Ra={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zs(pi,gr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ja,formatHex:ja,formatHex8:Cd,formatHsl:Nd,formatRgb:qa,toString:qa});function ja(){return this.rgb().formatHex()}function Cd(){return this.rgb().formatHex8()}function Nd(){return ll(this).formatHsl()}function qa(){return this.rgb().formatRgb()}function gr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wd.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Da(t):n===3?new nn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Si(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Si(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kd.exec(e))?new nn(t[1],t[2],t[3],1):(t=Sd.exec(e))?new nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ed.exec(e))?Si(t[1],t[2],t[3],t[4]):(t=Ad.exec(e))?Si(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Md.exec(e))?za(t[1],t[2]/100,t[3]/100,1):(t=$d.exec(e))?za(t[1],t[2]/100,t[3]/100,t[4]):Ra.hasOwnProperty(e)?Da(Ra[e]):e==="transparent"?new nn(NaN,NaN,NaN,0):null}function Da(e){return new nn(e>>16&255,e>>8&255,e&255,1)}function Si(e,t,n,i){return i<=0&&(e=t=n=NaN),new nn(e,t,n,i)}function Pd(e){return e instanceof pi||(e=gr(e)),e?(e=e.rgb(),new nn(e.r,e.g,e.b,e.opacity)):new nn}function $s(e,t,n,i){return arguments.length===1?Pd(e):new nn(e,t,n,i??1)}function nn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Zs(nn,$s,ol(pi,{brighter(e){return e=e==null?Fi:Math.pow(Fi,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ci:Math.pow(ci,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nn(vr(this.r),vr(this.g),vr(this.b),Oi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fa,formatHex:Fa,formatHex8:Td,formatRgb:Oa,toString:Oa}));function Fa(){return`#${lr(this.r)}${lr(this.g)}${lr(this.b)}`}function Td(){return`#${lr(this.r)}${lr(this.g)}${lr(this.b)}${lr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Oa(){const e=Oi(this.opacity);return`${e===1?"rgb(":"rgba("}${vr(this.r)}, ${vr(this.g)}, ${vr(this.b)}${e===1?")":`, ${e})`}`}function Oi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lr(e){return e=vr(e),(e<16?"0":"")+e.toString(16)}function za(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Sn(e,t,n,i)}function ll(e){if(e instanceof Sn)return new Sn(e.h,e.s,e.l,e.opacity);if(e instanceof pi||(e=gr(e)),!e)return new Sn;if(e instanceof Sn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-i)/l+(n<i)*6:n===a?o=(i-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new Sn(o,l,c,e.opacity)}function Ld(e,t,n,i){return arguments.length===1?ll(e):new Sn(e,t,n,i??1)}function Sn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Zs(Sn,Ld,ol(pi,{brighter(e){return e=e==null?Fi:Math.pow(Fi,e),new Sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ci:Math.pow(ci,e),new Sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new nn(ps(e>=240?e-240:e+120,s,i),ps(e,s,i),ps(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new Sn(Ba(this.h),Ei(this.s),Ei(this.l),Oi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Oi(this.opacity);return`${e===1?"hsl(":"hsla("}${Ba(this.h)}, ${Ei(this.s)*100}%, ${Ei(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ba(e){return e=(e||0)%360,e<0?e+360:e}function Ei(e){return Math.max(0,Math.min(1,e||0))}function ps(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Js=e=>()=>e;function Id(e,t){return function(n){return e+n*t}}function Rd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function jd(e){return(e=+e)==1?cl:function(t,n){return n-t?Rd(t,n,e):Js(isNaN(t)?n:t)}}function cl(e,t){var n=t-e;return n?Id(e,n):Js(isNaN(e)?t:e)}const zi=(function e(t){var n=jd(t);function i(s,a){var o=n((s=$s(s)).r,(a=$s(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),u=cl(s.opacity,a.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return i.gamma=e,i})(1);function qd(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(a){for(s=0;s<n;++s)i[s]=e[s]*(1-a)+t[s]*a;return i}}function Dd(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Fd(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)s[o]=Qs(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<i;++o)a[o]=s[o](l);return a}}function Od(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function wn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function zd(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Qs(e[s],t[s]):i[s]=t[s];return function(a){for(s in n)i[s]=n[s](a);return i}}var Cs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_s=new RegExp(Cs.source,"g");function Bd(e){return function(){return e}}function Ud(e){return function(t){return e(t)+""}}function ul(e,t){var n=Cs.lastIndex=_s.lastIndex=0,i,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(i=Cs.exec(e))&&(s=_s.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(i=i[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:wn(i,s)})),n=_s.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Ud(c[0].x):Bd(t):(t=c.length,function(u){for(var f=0,v;f<t;++f)l[(v=c[f]).i]=v.x(u);return l.join("")})}function Qs(e,t){var n=typeof t,i;return t==null||n==="boolean"?Js(t):(n==="number"?wn:n==="string"?(i=gr(t))?(t=i,zi):ul:t instanceof gr?zi:t instanceof Date?Od:Dd(t)?qd:Array.isArray(t)?Fd:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zd:wn)(e,t)}function Yd(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Ua=180/Math.PI,Ns={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fl(e,t,n,i,s,a){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,c/=l),e*i<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*Ua,skewX:Math.atan(c)*Ua,scaleX:o,scaleY:l}}var Ai;function Vd(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ns:fl(t.a,t.b,t.c,t.d,t.e,t.f)}function Hd(e){return e==null||(Ai||(Ai=document.createElementNS("http://www.w3.org/2000/svg","g")),Ai.setAttribute("transform",e),!(e=Ai.transform.baseVal.consolidate()))?Ns:(e=e.matrix,fl(e.a,e.b,e.c,e.d,e.e,e.f))}function dl(e,t,n,i){function s(u){return u.length?u.pop()+" ":""}function a(u,f,v,h,b,m){if(u!==v||f!==h){var D=b.push("translate(",null,t,null,n);m.push({i:D-4,x:wn(u,v)},{i:D-2,x:wn(f,h)})}else(v||h)&&b.push("translate("+v+t+h+n)}function o(u,f,v,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:v.push(s(v)+"rotate(",null,i)-2,x:wn(u,f)})):f&&v.push(s(v)+"rotate("+f+i)}function l(u,f,v,h){u!==f?h.push({i:v.push(s(v)+"skewX(",null,i)-2,x:wn(u,f)}):f&&v.push(s(v)+"skewX("+f+i)}function c(u,f,v,h,b,m){if(u!==v||f!==h){var D=b.push(s(b)+"scale(",null,",",null,")");m.push({i:D-4,x:wn(u,v)},{i:D-2,x:wn(f,h)})}else(v!==1||h!==1)&&b.push(s(b)+"scale("+v+","+h+")")}return function(u,f){var v=[],h=[];return u=e(u),f=e(f),a(u.translateX,u.translateY,f.translateX,f.translateY,v,h),o(u.rotate,f.rotate,v,h),l(u.skewX,f.skewX,v,h),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,v,h),u=f=null,function(b){for(var m=-1,D=h.length,$;++m<D;)v[($=h[m]).i]=$.x(b);return v.join("")}}}var Kd=dl(Vd,"px, ","px)","deg)"),Xd=dl(Hd,", ",")",")"),Fr=0,Jr=0,Wr=0,vl=1e3,Bi,Qr,Ui=0,mr=0,ss=0,fi=typeof performance=="object"&&performance.now?performance:Date,hl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ea(){return mr||(hl(Gd),mr=fi.now()+ss)}function Gd(){mr=0}function Yi(){this._call=this._time=this._next=null}Yi.prototype=pl.prototype={constructor:Yi,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ea():+n)+(t==null?0:+t),!this._next&&Qr!==this&&(Qr?Qr._next=this:Bi=this,Qr=this),this._call=e,this._time=n,Ps()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ps())}};function pl(e,t,n){var i=new Yi;return i.restart(e,t,n),i}function Wd(){ea(),++Fr;for(var e=Bi,t;e;)(t=mr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Fr}function Ya(){mr=(Ui=fi.now())+ss,Fr=Jr=0;try{Wd()}finally{Fr=0,Jd(),mr=0}}function Zd(){var e=fi.now(),t=e-Ui;t>vl&&(ss-=t,Ui=e)}function Jd(){for(var e,t=Bi,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Bi=n);Qr=e,Ps(i)}function Ps(e){if(!Fr){Jr&&(Jr=clearTimeout(Jr));var t=e-mr;t>24?(e<1/0&&(Jr=setTimeout(Ya,e-fi.now()-ss)),Wr&&(Wr=clearInterval(Wr))):(Wr||(Ui=fi.now(),Wr=setInterval(Zd,vl)),Fr=1,hl(Ya))}}function Va(e,t,n){var i=new Yi;return t=t==null?0:+t,i.restart(s=>{i.stop(),e(s+t)},t,n),i}var Qd=Go("start","end","cancel","interrupt"),ev=[],_l=0,Ha=1,Ts=2,Li=3,Ka=4,Ls=5,Ii=6;function as(e,t,n,i,s,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;tv(e,n,{name:t,index:i,group:s,on:Qd,tween:ev,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:_l})}function ta(e,t){var n=$n(e,t);if(n.state>_l)throw new Error("too late; already scheduled");return n}function Ln(e,t){var n=$n(e,t);if(n.state>Li)throw new Error("too late; already running");return n}function $n(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function tv(e,t,n){var i=e.__transition,s;i[t]=n,n.timer=pl(a,0,n.time);function a(u){n.state=Ha,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var f,v,h,b;if(n.state!==Ha)return c();for(f in i)if(b=i[f],b.name===n.name){if(b.state===Li)return Va(o);b.state===Ka?(b.state=Ii,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete i[f]):+f<t&&(b.state=Ii,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete i[f])}if(Va(function(){n.state===Li&&(n.state=Ka,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ts,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ts){for(n.state=Li,s=new Array(h=n.tween.length),f=0,v=-1;f<h;++f)(b=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(s[++v]=b);s.length=v+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Ls,1),v=-1,h=s.length;++v<h;)s[v].call(e,f);n.state===Ls&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Ii,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function nv(e,t){var n=e.__transition,i,s,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){a=!1;continue}s=i.state>Ts&&i.state<Ls,i.state=Ii,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}a&&delete e.__transition}}function rv(e){return this.each(function(){nv(this,e)})}function iv(e,t){var n,i;return function(){var s=Ln(this,e),a=s.tween;if(a!==n){i=n=a;for(var o=0,l=i.length;o<l;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}s.tween=i}}function sv(e,t,n){var i,s;if(typeof n!="function")throw new Error;return function(){var a=Ln(this,e),o=a.tween;if(o!==i){s=(i=o).slice();for(var l={name:t,value:n},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=l;break}c===u&&s.push(l)}a.tween=s}}function av(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=$n(this.node(),n).tween,s=0,a=i.length,o;s<a;++s)if((o=i[s]).name===e)return o.value;return null}return this.each((t==null?iv:sv)(n,e,t))}function na(e,t,n){var i=e._id;return e.each(function(){var s=Ln(this,i);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return $n(s,i).value[t]}}function gl(e,t){var n;return(typeof t=="number"?wn:t instanceof gr?zi:(n=gr(t))?(t=n,zi):ul)(e,t)}function ov(e){return function(){this.removeAttribute(e)}}function lv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cv(e,t,n){var i,s=n+"",a;return function(){var o=this.getAttribute(e);return o===s?null:o===i?a:a=t(i=o,n)}}function uv(e,t,n){var i,s=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===i?a:a=t(i=o,n)}}function fv(e,t,n){var i,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===i&&c===s?a:(s=c,a=t(i=o,l)))}}function dv(e,t,n){var i,s,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===i&&c===s?a:(s=c,a=t(i=o,l)))}}function vv(e,t){var n=is(e),i=n==="transform"?Xd:gl;return this.attrTween(e,typeof t=="function"?(n.local?dv:fv)(n,i,na(this,"attr."+e,t)):t==null?(n.local?lv:ov)(n):(n.local?uv:cv)(n,i,t))}function hv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function pv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function _v(e,t){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&pv(e,a)),n}return s._value=t,s}function gv(e,t){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&hv(e,a)),n}return s._value=t,s}function mv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=is(e);return this.tween(n,(i.local?_v:gv)(i,t))}function yv(e,t){return function(){ta(this,e).delay=+t.apply(this,arguments)}}function bv(e,t){return t=+t,function(){ta(this,e).delay=t}}function xv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yv:bv)(t,e)):$n(this.node(),t).delay}function wv(e,t){return function(){Ln(this,e).duration=+t.apply(this,arguments)}}function kv(e,t){return t=+t,function(){Ln(this,e).duration=t}}function Sv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?wv:kv)(t,e)):$n(this.node(),t).duration}function Ev(e,t){if(typeof t!="function")throw new Error;return function(){Ln(this,e).ease=t}}function Av(e){var t=this._id;return arguments.length?this.each(Ev(t,e)):$n(this.node(),t).ease}function Mv(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ln(this,e).ease=n}}function $v(e){if(typeof e!="function")throw new Error;return this.each(Mv(this._id,e))}function Cv(e){typeof e!="function"&&(e=Jo(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var a=t[s],o=a.length,l=i[s]=[],c,u=0;u<o;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new Dn(i,this._parents,this._name,this._id)}function Nv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=t[l],u=n[l],f=c.length,v=o[l]=new Array(f),h,b=0;b<f;++b)(h=c[b]||u[b])&&(v[b]=h);for(;l<i;++l)o[l]=t[l];return new Dn(o,this._parents,this._name,this._id)}function Pv(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Tv(e,t,n){var i,s,a=Pv(t)?ta:Ln;return function(){var o=a(this,e),l=o.on;l!==i&&(s=(i=l).copy()).on(t,n),o.on=s}}function Lv(e,t){var n=this._id;return arguments.length<2?$n(this.node(),n).on.on(e):this.each(Tv(n,e,t))}function Iv(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Rv(){return this.on("end.remove",Iv(this._id))}function jv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Gs(e));for(var i=this._groups,s=i.length,a=new Array(s),o=0;o<s;++o)for(var l=i[o],c=l.length,u=a[o]=new Array(c),f,v,h=0;h<c;++h)(f=l[h])&&(v=e.call(f,f.__data__,h,l))&&("__data__"in f&&(v.__data__=f.__data__),u[h]=v,as(u[h],t,n,h,u,$n(f,n)));return new Dn(a,this._parents,t,n)}function qv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Zo(e));for(var i=this._groups,s=i.length,a=[],o=[],l=0;l<s;++l)for(var c=i[l],u=c.length,f,v=0;v<u;++v)if(f=c[v]){for(var h=e.call(f,f.__data__,v,c),b,m=$n(f,n),D=0,$=h.length;D<$;++D)(b=h[D])&&as(b,t,n,D,h,m);a.push(h),o.push(f)}return new Dn(a,o,t,n)}var Dv=hi.prototype.constructor;function Fv(){return new Dv(this._groups,this._parents)}function Ov(e,t){var n,i,s;return function(){var a=Dr(this,e),o=(this.style.removeProperty(e),Dr(this,e));return a===o?null:a===n&&o===i?s:s=t(n=a,i=o)}}function ml(e){return function(){this.style.removeProperty(e)}}function zv(e,t,n){var i,s=n+"",a;return function(){var o=Dr(this,e);return o===s?null:o===i?a:a=t(i=o,n)}}function Bv(e,t,n){var i,s,a;return function(){var o=Dr(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Dr(this,e))),o===c?null:o===i&&c===s?a:(s=c,a=t(i=o,l))}}function Uv(e,t){var n,i,s,a="style."+t,o="end."+a,l;return function(){var c=Ln(this,e),u=c.on,f=c.value[a]==null?l||(l=ml(t)):void 0;(u!==n||s!==f)&&(i=(n=u).copy()).on(o,s=f),c.on=i}}function Yv(e,t,n){var i=(e+="")=="transform"?Kd:gl;return t==null?this.styleTween(e,Ov(e,i)).on("end.style."+e,ml(e)):typeof t=="function"?this.styleTween(e,Bv(e,i,na(this,"style."+e,t))).each(Uv(this._id,e)):this.styleTween(e,zv(e,i,t),n).on("end.style."+e,null)}function Vv(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Hv(e,t,n){var i,s;function a(){var o=t.apply(this,arguments);return o!==s&&(i=(s=o)&&Vv(e,o,n)),i}return a._value=t,a}function Kv(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Hv(e,t,n??""))}function Xv(e){return function(){this.textContent=e}}function Gv(e){return function(){var t=e(this);this.textContent=t??""}}function Wv(e){return this.tween("text",typeof e=="function"?Gv(na(this,"text",e)):Xv(e==null?"":e+""))}function Zv(e){return function(t){this.textContent=e.call(this,t)}}function Jv(e){var t,n;function i(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Zv(s)),t}return i._value=e,i}function Qv(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Jv(e))}function eh(){for(var e=this._name,t=this._id,n=yl(),i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var f=$n(c,t);as(c,e,n,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Dn(i,this._parents,e,n)}function th(){var e,t,n=this,i=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},c={value:function(){--s===0&&a()}};n.each(function(){var u=Ln(this,i),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),s===0&&a()})}var nh=0;function Dn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function yl(){return++nh}var Rn=hi.prototype;Dn.prototype={constructor:Dn,select:jv,selectAll:qv,selectChild:Rn.selectChild,selectChildren:Rn.selectChildren,filter:Cv,merge:Nv,selection:Fv,transition:eh,call:Rn.call,nodes:Rn.nodes,node:Rn.node,size:Rn.size,empty:Rn.empty,each:Rn.each,on:Lv,attr:vv,attrTween:mv,style:Yv,styleTween:Kv,text:Wv,textTween:Qv,remove:Rv,tween:av,delay:xv,duration:Sv,ease:Av,easeVarying:$v,end:th,[Symbol.iterator]:Rn[Symbol.iterator]};function rh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ih={time:null,delay:0,duration:250,ease:rh};function sh(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ah(e){var t,n;e instanceof Dn?(t=e._id,e=e._name):(t=yl(),(n=ih).time=ea(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,a=0;a<s;++a)for(var o=i[a],l=o.length,c,u=0;u<l;++u)(c=o[u])&&as(c,e,t,u,o,n||sh(c,t));return new Dn(i,this._parents,e,t)}hi.prototype.interrupt=rv;hi.prototype.transition=ah;const Is=Math.PI,Rs=2*Is,sr=1e-6,oh=Rs-sr;function bl(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function lh(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bl;const n=10**t;return function(i){this._+=i[0];for(let s=1,a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class ch{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bl:lh(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,a,o){this._append`C${+t},${+n},${+i},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,i,s,a){if(t=+t,n=+n,i=+i,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=i-t,u=s-n,f=o-t,v=l-n,h=f*f+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>sr)if(!(Math.abs(v*c-u*f)>sr)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=i-o,m=s-l,D=c*c+u*u,$=b*b+m*m,K=Math.sqrt(D),Z=Math.sqrt(h),Q=a*Math.tan((Is-Math.acos((D+h-$)/(2*K*Z)))/2),oe=Q/Z,ne=Q/K;Math.abs(oe-1)>sr&&this._append`L${t+oe*f},${n+oe*v}`,this._append`A${a},${a},0,0,${+(v*b>f*m)},${this._x1=t+ne*c},${this._y1=n+ne*u}`}}arc(t,n,i,s,a,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(s),c=i*Math.sin(s),u=t+l,f=n+c,v=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>sr||Math.abs(this._y1-f)>sr)&&this._append`L${u},${f}`,i&&(h<0&&(h=h%Rs+Rs),h>oh?this._append`A${i},${i},0,1,${v},${t-l},${n-c}A${i},${i},0,1,${v},${this._x1=u},${this._y1=f}`:h>sr&&this._append`A${i},${i},0,${+(h>=Is)},${v},${this._x1=t+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function uh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Or(e){return e=Vi(Math.abs(e)),e?e[1]:NaN}function fh(e,t){return function(n,i){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>i));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function dh(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var vh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hi(e){if(!(t=vh.exec(e)))throw new Error("invalid format: "+e);var t;return new ra({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hi.prototype=ra.prototype;function ra(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ra.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hh(e){e:for(var t=e.length,n=1,i=-1,s;n<t;++n)switch(e[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var xl;function ph(e,t){var n=Vi(e,t);if(!n)return e+"";var i=n[0],s=n[1],a=s-(xl=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Vi(e,Math.max(0,t+a-1))[0]}function Xa(e,t){var n=Vi(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const Ga={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uh,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Xa(e*100,t),r:Xa,s:ph,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wa(e){return e}var Za=Array.prototype.map,Ja=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _h(e){var t=e.grouping===void 0||e.thousands===void 0?Wa:fh(Za.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Wa:dh(Za.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(v){v=Hi(v);var h=v.fill,b=v.align,m=v.sign,D=v.symbol,$=v.zero,K=v.width,Z=v.comma,Q=v.precision,oe=v.trim,ne=v.type;ne==="n"?(Z=!0,ne="g"):Ga[ne]||(Q===void 0&&(Q=12),oe=!0,ne="g"),($||h==="0"&&b==="=")&&($=!0,h="0",b="=");var B=D==="$"?n:D==="#"&&/[boxX]/.test(ne)?"0"+ne.toLowerCase():"",w=D==="$"?i:/[%p]/.test(ne)?o:"",T=Ga[ne],N=/[defgprs%]/.test(ne);Q=Q===void 0?6:/[gprs]/.test(ne)?Math.max(1,Math.min(21,Q)):Math.max(0,Math.min(20,Q));function q(k){var U=B,re=w,M,Ne,ve;if(ne==="c")re=T(k)+re,k="";else{k=+k;var rt=k<0||1/k<0;if(k=isNaN(k)?c:T(Math.abs(k),Q),oe&&(k=hh(k)),rt&&+k==0&&m!=="+"&&(rt=!1),U=(rt?m==="("?m:l:m==="-"||m==="("?"":m)+U,re=(ne==="s"?Ja[8+xl/3]:"")+re+(rt&&m==="("?")":""),N){for(M=-1,Ne=k.length;++M<Ne;)if(ve=k.charCodeAt(M),48>ve||ve>57){re=(ve===46?s+k.slice(M+1):k.slice(M))+re,k=k.slice(0,M);break}}}Z&&!$&&(k=t(k,1/0));var ut=U.length+k.length+re.length,at=ut<K?new Array(K-ut+1).join(h):"";switch(Z&&$&&(k=t(at+k,at.length?K-re.length:1/0),at=""),b){case"<":k=U+k+re+at;break;case"=":k=U+at+k+re;break;case"^":k=at.slice(0,ut=at.length>>1)+U+k+re+at.slice(ut);break;default:k=at+U+k+re;break}return a(k)}return q.toString=function(){return v+""},q}function f(v,h){var b=u((v=Hi(v),v.type="f",v)),m=Math.max(-8,Math.min(8,Math.floor(Or(h)/3)))*3,D=Math.pow(10,-m),$=Ja[8+m/3];return function(K){return b(D*K)+$}}return{format:u,formatPrefix:f}}var Mi,wl,kl;gh({thousands:",",grouping:[3],currency:["$",""]});function gh(e){return Mi=_h(e),wl=Mi.format,kl=Mi.formatPrefix,Mi}function mh(e){return Math.max(0,-Or(Math.abs(e)))}function yh(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Or(t)/3)))*3-Or(Math.abs(e)))}function bh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Or(t)-Or(e))+1}function ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Qa=Symbol("implicit");function Sl(){var e=new Pa,t=[],n=[],i=Qa;function s(a){let o=e.get(a);if(o===void 0){if(i!==Qa)return i;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Pa;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.copy=function(){return Sl(t,n).unknown(i)},ia.apply(s,arguments),s}function El(){var e=Sl().unknown(void 0),t=e.domain,n=e.range,i=0,s=1,a,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function v(){var h=t().length,b=s<i,m=b?s:i,D=b?i:s;a=(D-m)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),m+=(D-m-a*(h-c))*f,o=a*(1-c),l&&(m=Math.round(m),o=Math.round(o));var $=Du(h).map(function(K){return m+a*K});return n(b?$.reverse():$)}return e.domain=function(h){return arguments.length?(t(h),v()):t()},e.range=function(h){return arguments.length?([i,s]=h,i=+i,s=+s,v()):[i,s]},e.rangeRound=function(h){return[i,s]=h,i=+i,s=+s,l=!0,v()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,v()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),v()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),v()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,v()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),v()):f},e.copy=function(){return El(t(),[i,s]).round(l).paddingInner(c).paddingOuter(u).align(f)},ia.apply(v(),arguments)}function Al(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Al(t())},e}function xh(){return Al(El.apply(null,arguments).paddingInner(1))}function wh(e){return function(){return e}}function kh(e){return+e}var eo=[0,1];function Cr(e){return e}function js(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:wh(isNaN(t)?NaN:.5)}function Sh(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function Eh(e,t,n){var i=e[0],s=e[1],a=t[0],o=t[1];return s<i?(i=js(s,i),a=n(o,a)):(i=js(i,s),a=n(a,o)),function(l){return a(i(l))}}function Ah(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)s[o]=js(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Nu(e,l,1,i)-1;return a[c](s[c](l))}}function Mh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $h(){var e=eo,t=eo,n=Qs,i,s,a,o=Cr,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==Cr&&(o=Sh(e[0],e[h-1])),l=h>2?Ah:Eh,c=u=null,v}function v(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(i),t,n)))(i(o(h)))}return v.invert=function(h){return o(s((u||(u=l(t,e.map(i),wn)))(h)))},v.domain=function(h){return arguments.length?(e=Array.from(h,kh),f()):e.slice()},v.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},v.rangeRound=function(h){return t=Array.from(h),n=Yd,f()},v.clamp=function(h){return arguments.length?(o=h?!0:Cr,f()):o!==Cr},v.interpolate=function(h){return arguments.length?(n=h,f()):n},v.unknown=function(h){return arguments.length?(a=h,v):a},function(h,b){return i=h,s=b,f()}}function Ch(){return $h()(Cr,Cr)}function Nh(e,t,n,i){var s=qu(e,t,n),a;switch(i=Hi(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=yh(s,o))&&(i.precision=a),kl(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=bh(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=mh(s))&&(i.precision=a-(i.type==="%")*2);break}}return wl(i)}function Ph(e){var t=e.domain;return e.ticks=function(n){var i=t();return Xo(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var s=t();return Nh(s[0],s[s.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),s=0,a=i.length-1,o=i[s],l=i[a],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);f-- >0;){if(u=As(o,l,n),u===c)return i[s]=o,i[a]=l,t(i);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ml(){var e=Ch();return e.copy=function(){return Mh(e,Ml())},ia.apply(e,arguments),Ph(e)}function $r(e){return function(){return e}}function Th(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new ch(t)}function Lh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $l(e){this._context=e}$l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ih(e){return new $l(e)}function Rh(e){return e[0]}function jh(e){return e[1]}function qh(e,t){var n=$r(!0),i=null,s=Ih,a=null,o=Th(l);e=typeof e=="function"?e:e===void 0?Rh:$r(e),t=typeof t=="function"?t:t===void 0?jh:$r(t);function l(c){var u,f=(c=Lh(c)).length,v,h=!1,b;for(i==null&&(a=s(b=o())),u=0;u<=f;++u)!(u<f&&n(v=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(v,u,c),+t(v,u,c));if(b)return a=null,b+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:$r(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:$r(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:$r(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,i!=null&&(a=s(i)),l):s},l.context=function(c){return arguments.length?(c==null?i=a=null:a=s(i=c),l):i},l}function to(e){return e<0?-1:1}function no(e,t,n){var i=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(i||s<0&&-0),o=(n-e._y1)/(s||i<0&&-0),l=(a*s+o*i)/(i+s);return(to(a)+to(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function ro(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function gs(e,t,n){var i=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-i)/3;e._context.bezierCurveTo(i+l,s+l*t,a-l,o-l*n,a,o)}function Ki(e){this._context=e}Ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gs(this,this._t0,ro(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gs(this,ro(this,n=no(this,e,t)),n);break;default:gs(this,this._t0,n=no(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(Ki.prototype).point=function(e,t){Ki.prototype.point.call(this,t,e)};function Dh(e){return new Ki(e)}function ei(e,t,n){this.k=e,this.x=t,this.y=n}ei.prototype={constructor:ei,scale:function(e){return e===1?this:new ei(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ei(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ei.prototype;var Fh=Mn('<line stroke="rgba(148, 163, 184, 0.25)" stroke-width="1"></line><text text-anchor="end" font-size="12" fill="var(--color-text-secondary)"> </text>',1),Oh=Mn('<path fill="none" stroke-width="3" stroke-opacity="0.85"></path>'),zh=Mn("<tspan> </tspan>"),Bh=Mn('<g class="conductor-change svelte-idxsrp" aria-hidden="true"><line stroke="var(--color-conductor-line)" stroke-dasharray="4 8" stroke-width="1.5"></line><text font-size="11" fill="var(--color-text-secondary)" class="svelte-idxsrp"></text></g>'),Uh=Mn('<circle stroke-width="1.5" role="button" tabindex="0"></circle>'),Yh=Mn('<rect rx="2" stroke-width="1.5" role="button" tabindex="0"></rect>'),Vh=Mn('<path stroke-width="1.5" role="button" tabindex="0"></path>'),Hh=Mn("<g><!></g>"),Kh=L("<div> </div>"),Xh=L("<div> </div>"),Gh=L("<div> </div>"),Wh=L('<div class="tooltip-divider svelte-idxsrp"></div>'),Zh=L('<div class="tooltip-band svelte-idxsrp"><div class="tooltip-band__title svelte-idxsrp"> </div> <div> </div> <div> </div> <!> <div> </div> <!> <!></div> <!>',1),Jh=L("<div> </div>"),Qh=L("<div> </div>"),ep=L("<div> </div>"),tp=L("<div> </div>"),np=L("<div> </div> <!> <div> </div> <!> <div> </div> <!> <!>",1),rp=L('<div class="tooltip svelte-idxsrp"><strong> </strong> <!></div>'),ip=L("<span> </span>"),sp=Mn('<circle cx="21" cy="7" r="5" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></circle>'),ap=Mn('<rect x="16" y="2" width="10" height="10" rx="2" fill="var(--color-input-bg, #0f172a)" stroke-width="2"></rect>'),op=Mn('<path fill="var(--color-input-bg, #0f172a)" stroke-width="2"></path>'),lp=L('<span class="svelte-idxsrp"><svg width="42" height="14" aria-hidden="true" class="svelte-idxsrp"><line x1="2" y1="7" x2="40" y2="7" stroke-width="2.5" stroke-linecap="round"></line><!></svg> </span>'),cp=L('<div class="band-legend svelte-idxsrp"></div>'),up=L('<span class="svelte-idxsrp"><i class="svelte-idxsrp"></i> </span>'),fp=L('<div class="legend svelte-idxsrp"></div>'),dp=L('<div class="chart-canvas svelte-idxsrp"><svg role="img" aria-label="Band placement over tid"><defs><linearGradient id="trajectory" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#38bdf8" stop-opacity="0.9"></stop><stop offset="100%" stop-color="#2563eb" stop-opacity="0.35"></stop></linearGradient></defs><g class="grid"></g><!><!><!></svg> <!> <div class="year-labels svelte-idxsrp"></div></div> <!> <!>',1);function vp(e,t){mn(t,!0);let n=bt(t,"bands",19,()=>[]),i=bt(t,"years",19,()=>[]),s=bt(t,"maxFieldSize",3,0),a=bt(t,"yMode",3,"relative"),o=bt(t,"yAxisScale",3,"fitted"),l=bt(t,"showConductorMarkers",3,!0);const c={top:24,right:48,bottom:48,left:72},u=880,f=360,v={Elite:"#38bdf8","1. divisjon":"#f97316","2. divisjon":"#a855f7","3. divisjon":"#facc15","4. divisjon":"#22c55e","5. divisjon":"#ec4899","6. divisjon":"#14b8a6","7. divisjon":"#eab308"},h=["#38bdf8","#f97316","#22c55e","#a855f7","#f43f5e","#facc15","#14b8a6"],b=["circle","square","triangle"],m=6,D=24,$=26,K=30,Z=c.top+12,Q=f-c.bottom-22,oe=10,ne=6,B=[0,1,2,3],w=.08,T=5,N=.5;let q=ae(null),k=ae(Kt({offsetX:0,scaleX:1,offsetY:0,scaleY:1})),U=null,re=null,M=ae(null),Ne=ae(0),ve=ae(0);const rt=()=>l()&&n().length===1;function ut(x){if(x.absolute_position==null)return 0;const p=x.field_size??r(vt)??s()??1;return p?x.absolute_position/p*100:0}function at(x){return a()==="relative"?ut(x):x.absolute_position??0}function Et(x){const p=x.pieces??x.pieces,C=Array.isArray(p)?p.map(j=>`${j}`.trim()).filter(Boolean):p!=null&&`${p}`.trim().length?[`${p}`.trim()]:[],E={...x,pieces:C},F=x;return F.band_name!=null&&(E.band_name=F.band_name),Array.isArray(F.aggregate_entries)&&F.aggregate_entries.length>0&&(E.aggregate_entries=F.aggregate_entries.map(j=>Et(j))),E}function Yt(x){return x.map(p=>Et(p))}function Nt(x){const p=[];let C=0;if(x.length>0){const E=x[0];E.conductor&&(p.push({year:E.year,conductor:E.conductor,lane:C}),C+=1)}for(let E=1;E<x.length;E+=1){const F=x[E-1],j=x[E];F.conductor&&j.conductor&&F.conductor!==j.conductor&&(p.push({year:j.year,conductor:j.conductor,lane:C}),C+=1)}return p}function dt(){if(!r(q))return;const x=r(q).getBoundingClientRect(),p=r(q).parentElement;if(!p)return;const C=p.getBoundingClientRect();if(x.width===0||x.height===0)return;const E={offsetX:x.left-C.left,scaleX:x.width/u,offsetY:x.top-C.top,scaleY:x.height/f};(Math.abs(E.offsetX-r(k).offsetX)>.1||Math.abs(E.scaleX-r(k).scaleX)>.001||Math.abs(E.offsetY-r(k).offsetY)>.1||Math.abs(E.scaleY-r(k).scaleY)>.001)&&A(k,E,!0)}function ot(){!U||!r(q)||re!==r(q)&&(re&&U.unobserve(re),U.observe(r(q)),re=r(q))}Wn(()=>{typeof ResizeObserver<"u"&&(U=new ResizeObserver(()=>dt())),ot(),dt(),window.addEventListener("resize",dt)}),hn(()=>{ot(),dt()}),nu(()=>{U?.disconnect(),window.removeEventListener("resize",dt)});function Vt(x){return B[x%B.length]??0}function At(x,p){const C=r(ht);if(!C)return{anchor:"middle",dx:0};const E=C(x.year)??c.left,F=48,j=c.left-F,ee=u-c.right+F,G=Math.max(p,1)*ne/2;return E+G>ee?{anchor:"end",dx:0}:E-G<j?{anchor:"start",dx:0}:{anchor:"middle",dx:0}}function kt(x){const p=x?.trim();if(!p)return[""];const C=p.split(/\s+/);if(C.length<=1)return[p];const E=C.pop(),F=C.join(" ");return F?[F,E]:[E]}function Qt(x,p,C){const E=x.find(he=>he.year===p.year),F=Vt(p.lane);if(!E)return c.top-8+F*(D+6);const j=r(Te)(at(E)),ee=C??kt(p.conductor),se=(Math.max(ee.length,1)-1)*6,ge=x.filter(he=>he.year>=p.year-1&&he.year<=p.year+1).map(he=>({year:he.year,y:r(Te)(at(he))})).sort((he,de)=>he.year-de.year),ke=ge.findIndex(he=>he.year===p.year);let fe=!0;if(ke>0&&ke<ge.length-1){const he=ge[ke-1],de=ge[ke+1],De=Math.abs(j-he.y),_t=Math.abs(j-de.y);(De<$+4||_t<$+4)&&(fe=!1)}const ue=D+10,Le=$+F*ue+se,xe=j-Le;if(fe&&xe>Z)return xe;const ce=K+F*ue+se,Me=j+ce;if(Me<=Q)return Me;const Oe=Q-F*ue;return Oe>Z?Oe:Math.max(Z,Math.min(Q,j))}function z(x,p,C){return`M ${x} ${p-C} L ${x+C} ${p+C} L ${x-C} ${p+C} Z`}function V(x){if(!x)return Number.POSITIVE_INFINITY;const p=x.trim().toLowerCase();if(p==="elite")return 0;const C=p.match(/(\d+)/);return C?parseInt(C[1],10):Number.POSITIVE_INFINITY}function le(x,p){const C=V(x),E=V(p);return C!==E?C-E:x.localeCompare(p)}function Se(x){if(!x||x.length===0)return null;let p=1/0,C=-1/0;for(const E of x)E<p&&(p=E),E>C&&(C=E);return!Number.isFinite(p)||!Number.isFinite(C)?null:[p,C]}function Ue([x,p],C){x>p&&([x,p]=[p,x]);const E=p-x,F=C?0:1,j=C?100:1/0;let ee=E*w;E===0&&(ee=C?T:N);let G=x-ee,se=p+ee;if(C&&x<=0||!C&&x<=1?G=x:G=Math.max(G,F),C&&p>=100?se=p:C&&(se=Math.min(se,j)),se===G){const fe=C?T:N;G=Math.max(G-fe,F),se=C?Math.min(se+fe,j):se+fe}return[G,se]}let Xe=O(()=>n().map(x=>({band:x,entries:Yt(x.entries)}))),Re=O(()=>r(Xe).reduce((x,p)=>(x.push(...p.entries),x),[])),Ze=O(()=>(()=>{if(i().length)return i();if(!r(Re).length)return[0];const x=new Set(r(Re).map(p=>p.year));return Array.from(x).sort((p,C)=>p-C)})()),ht=O(()=>xh().domain(r(Ze)).range([c.left,u-c.right])),vt=O(()=>s()||(r(Re).length?Math.max(...r(Re).map(x=>x.field_size??0)):1)),jt=O(()=>(()=>{const x=[];for(const p of r(Re)){const C=at(p);C!=null&&Number.isFinite(C)&&x.push(C)}return x})()),xt=O(()=>Se(r(jt))),ft=O(()=>r(xt)?Ue(r(xt),a()==="relative"):null),Je=O(()=>(()=>{if(o()==="fitted"&&r(ft)){const[x,p]=r(ft);return[p,x]}return a()==="relative"?[100,0]:[r(vt)+1,0]})()),Te=O(()=>Ml().domain(r(Je)).range([f-c.bottom,c.top])),lt=O(()=>r(Xe).map((x,p)=>{const C=[...x.entries].sort((G,se)=>G.year-se.year),E=r(Ze).map(G=>C.find(se=>se.year===G)??null),j=qh().defined(G=>G!==null).x(G=>G?r(ht)(G.year)??c.left:c.left).y(G=>G?r(Te)(at(G)):r(Te)(r(Je)[1])).curve(Dh)(E)??void 0,ee=rt()?Nt(C):[];return{band:x.band,entries:C,timeline:E,pathData:j,conductorChanges:ee,color:h[p%h.length],shape:b[p%b.length]}})),qt=O(()=>rt()&&r(lt).length?r(lt)[0].conductorChanges.map(x=>{const p=kt(x.conductor),C=p.reduce((F,j)=>Math.max(F,j.length),0),E=At(x,C);return{...x,...E,y:Qt(r(lt)[0].entries,x,p),labelLines:p}}):[]),qe=O(()=>(()=>{const x=r(Je)[0],p=r(Je)[1],C=f-c.top-c.bottom,E=Math.max(4,Math.min(8,Math.floor(C/50)));let F=Array.from(new Set(Xo(p,x,E).map(j=>(a()==="relative",Math.round(j))))).filter(j=>j>=p&&j<=x).sort((j,ee)=>j-ee);return a()==="absolute"&&p<=1&&x>=1&&!F.includes(1)&&(F=[1,...F.filter(j=>j!==1)].sort((j,ee)=>j-ee)),F})()),Ce=O(()=>new Set(r(Re).map(x=>x.year))),Ge=O(()=>r(Ze).length>30?5:r(Ze).length>18?3:1),ct=O(()=>r(Ze).filter((x,p)=>p===0||p===r(Ze).length-1||x===2019?!0:x%r(Ge)===0)),pt=O(()=>r(ct).map(x=>{const p=r(ht)(x)??c.left,C=r(k).offsetX+p*r(k).scaleX;return{year:x,x:C,inactive:!r(Ce).has(x)}})),Ae=O(()=>r(k).offsetY+(f-c.bottom)*r(k).scaleY+oe),_e=O(()=>Array.from(new Set(r(Re).map(x=>x.division))).filter(x=>typeof x=="string"&&x.length>0).sort(le));const Ye=()=>r(_e).length>0;function Fe(x,p,C,E){const F=x.currentTarget,j=F.ownerSVGElement;if(!j)return;const ee=j.getBoundingClientRect();if(x instanceof MouseEvent)A(Ne,x.clientX-ee.left),A(ve,x.clientY-ee.top);else{const G=F.getBoundingClientRect();A(Ne,G.left+G.width/2-ee.left),A(ve,G.top+G.height/2-ee.top)}A(M,{entry:p,bandName:C,lineColor:E},!0)}function je(){A(M,null)}function tt(x){return x.aggregate_entries}var it=dp(),be=$e(it),nt=d(be);Y(nt,"viewBox",`0 0 ${u} ${f}`);var St=g(d(nt));et(St,21,()=>r(qe),st,(x,p)=>{var C=Fh(),E=$e(C),F=g(E),j=d(F);W((ee,G,se)=>{Y(E,"x1",c.left),Y(E,"x2",u-c.right),Y(E,"y1",ee),Y(E,"y2",G),Y(F,"x",c.left-12),Y(F,"y",se),R(j,a()==="relative"?`${r(p)}%`:`#${r(p)}`)},[()=>r(Te)(r(p)),()=>r(Te)(r(p)),()=>r(Te)(r(p))+4]),y(x,C)});var yt=g(St);et(yt,17,()=>r(lt),st,(x,p)=>{var C=Be(),E=$e(C);{var F=j=>{var ee=Oh();W(()=>{Y(ee,"d",r(p).pathData),Y(ee,"stroke",r(p).color)}),y(j,ee)};H(E,j=>{r(p).pathData&&j(F)})}y(x,C)});var Mt=g(yt);{var Pt=x=>{var p=Be(),C=$e(p);et(C,17,()=>r(qt),st,(E,F)=>{var j=Be(),ee=$e(j);{var G=se=>{var ge=Be(),ke=$e(ge);su(ke,()=>`${r(F).year}-${r(F).conductor}`,fe=>{var ue=Bh(),Le=d(ue),xe=g(Le);et(xe,21,()=>r(F).labelLines,st,(ce,Me,Oe,he)=>{var de=zh();Y(de,"dy",Oe===0?0:"1.1em");var De=d(de);W(_t=>{Y(de,"x",_t),R(De,r(Me))},[()=>r(ht)(r(F).year)]),y(ce,de)}),W((ce,Me,Oe)=>{Y(Le,"x1",ce),Y(Le,"x2",Me),Y(Le,"y1",c.top),Y(Le,"y2",f-c.bottom),Y(xe,"x",Oe),Y(xe,"y",r(F).y),Y(xe,"text-anchor",r(F).anchor),Y(xe,"dx",r(F).dx)},[()=>r(ht)(r(F).year),()=>r(ht)(r(F).year),()=>r(ht)(r(F).year)]),y(fe,ue)}),y(se,ge)};H(ee,se=>{r(ht)(r(F).year)!==void 0&&se(G)})}y(E,j)}),y(x,p)};H(Mt,x=>{rt()&&x(Pt)})}var wt=g(Mt);et(wt,17,()=>r(lt),st,(x,p)=>{var C=Be(),E=$e(C);et(E,17,()=>r(p).entries,F=>F.year,(F,j)=>{var ee=Be(),G=$e(ee);{var se=ge=>{const ke=O(()=>r(ht)(r(j).year)??c.left),fe=O(()=>r(Te)(at(r(j)))),ue=O(()=>(r(j).field_size??0)>0),Le=O(()=>r(ue)?`${ut(r(j)).toFixed(1)}%`:null);var xe=Hh(),ce=d(xe);{var Me=he=>{var de=Uh();Y(de,"r",m),W(()=>{Y(de,"cx",r(ke)),Y(de,"cy",r(fe)),Y(de,"fill",v[r(j).division]??"#f8fafc"),Y(de,"stroke",r(p).color),Y(de,"aria-label",`${r(p).band.name}: ${r(j).year} – ${r(j).division} plass ${r(j).rank} (absolutt #${r(j).absolute_position}${r(Le)?` · relativ ${r(Le)}`:""})${r(j).conductor?` – Dirigent: ${r(j).conductor}`:""}`)}),an("mouseenter",de,De=>Fe(De,r(j),r(p).band.name,r(p).color)),an("mouseleave",de,je),an("focus",de,De=>Fe(De,r(j),r(p).band.name,r(p).color)),an("blur",de,je),y(he,de)},Oe=he=>{var de=Be(),De=$e(de);{var _t=Ct=>{var me=Yh();Y(me,"width",m*2),Y(me,"height",m*2),W(()=>{Y(me,"x",r(ke)-m),Y(me,"y",r(fe)-m),Y(me,"fill",v[r(j).division]??"#f8fafc"),Y(me,"stroke",r(p).color),Y(me,"aria-label",`${r(p).band.name}: ${r(j).year} – ${r(j).division} plass ${r(j).rank} (absolutt #${r(j).absolute_position}${r(Le)?` · relativ ${r(Le)}`:""})${r(j).conductor?` – Dirigent: ${r(j).conductor}`:""}`)}),an("mouseenter",me,Ve=>Fe(Ve,r(j),r(p).band.name,r(p).color)),an("mouseleave",me,je),an("focus",me,Ve=>Fe(Ve,r(j),r(p).band.name,r(p).color)),an("blur",me,je),y(Ct,me)},Ot=Ct=>{var me=Vh();W(Ve=>{Y(me,"d",Ve),Y(me,"fill",v[r(j).division]??"#f8fafc"),Y(me,"stroke",r(p).color),Y(me,"aria-label",`${r(p).band.name}: ${r(j).year} – ${r(j).division} plass ${r(j).rank} (absolutt #${r(j).absolute_position}${r(Le)?` · relativ ${r(Le)}`:""})${r(j).conductor?` – Dirigent: ${r(j).conductor}`:""}`)},[()=>z(r(ke),r(fe),m)]),an("mouseenter",me,Ve=>Fe(Ve,r(j),r(p).band.name,r(p).color)),an("mouseleave",me,je),an("focus",me,Ve=>Fe(Ve,r(j),r(p).band.name,r(p).color)),an("blur",me,je),y(Ct,me)};H(De,Ct=>{r(p).shape==="square"?Ct(_t):Ct(Ot,!1)},!0)}y(he,de)};H(ce,he=>{r(p).shape==="circle"?he(Me):he(Oe,!1)})}y(ge,xe)};H(G,ge=>{r(ht)(r(j).year)!==void 0&&ge(se)})}y(F,ee)}),y(x,C)}),pu(nt,x=>A(q,x),()=>r(q));var $t=g(nt,2);{var It=x=>{const p=O(()=>tt(r(M).entry));var C=rp(),E=d(C),F=d(E),j=g(E,2);{var ee=se=>{var ge=Be(),ke=$e(ge);et(ke,17,()=>r(p),st,(fe,ue,Le)=>{var xe=Zh(),ce=$e(xe),Me=d(ce),Oe=d(Me),he=g(Me,2),de=d(he),De=g(he,2),_t=d(De),Ot=g(De,2);{var Ct=X=>{const te=O(()=>ut(r(ue)).toFixed(1));var pe=Kh(),ye=d(pe);W(()=>R(ye,`Relativ plassering: ${r(te)??""}%`)),y(X,pe)};H(Ot,X=>{(r(ue).field_size??0)>0&&X(Ct)})}var me=g(Ot,2),Ve=d(me),_=g(me,2);{var S=X=>{var te=Xh(),pe=d(te);W(()=>R(pe,`Poeng: ${r(ue).points??""} / ${r(ue).max_points??""}`)),y(X,te)};H(_,X=>{r(ue).points!==null&&X(S)})}var I=g(_,2);{var P=X=>{var te=Gh(),pe=d(te);W(ye=>R(pe,`Stykker: ${ye??""}`),[()=>r(ue).pieces.join("; ")]),y(X,te)};H(I,X=>{r(ue).pieces.length>0&&X(P)})}var ie=g(ce,2);{var J=X=>{var te=Wh();y(X,te)};H(ie,X=>{Le<r(p).length-1&&X(J)})}W(()=>{R(Oe,r(ue).band_name??"Ukjent korps"),R(de,`${r(ue).division??""} · #${r(ue).rank??""}`),R(_t,`Absolutt plassering: #${r(ue).absolute_position??""}`),R(Ve,`Deltakere: ${r(ue).division_size??""} (div) / ${r(ue).field_size??""} (totalt)`)}),y(fe,xe)}),y(se,ge)},G=se=>{var ge=np(),ke=$e(ge),fe=d(ke),ue=g(ke,2);{var Le=me=>{var Ve=Jh(),_=d(Ve);W(()=>R(_,`Dirigent: ${r(M).entry.conductor??""}`)),y(me,Ve)};H(ue,me=>{r(M).entry.conductor&&me(Le)})}var xe=g(ue,2),ce=d(xe),Me=g(xe,2);{var Oe=me=>{const Ve=O(()=>ut(r(M).entry).toFixed(1));var _=Qh(),S=d(_);W(()=>R(S,`Relativ plassering: ${r(Ve)??""}%`)),y(me,_)};H(Me,me=>{(r(M).entry.field_size??0)>0&&me(Oe)})}var he=g(Me,2),de=d(he),De=g(he,2);{var _t=me=>{var Ve=ep(),_=d(Ve);W(()=>R(_,`Poeng: ${r(M).entry.points??""} / ${r(M).entry.max_points??""}`)),y(me,Ve)};H(De,me=>{r(M).entry.points!==null&&me(_t)})}var Ot=g(De,2);{var Ct=me=>{var Ve=tp(),_=d(Ve);W(S=>R(_,`Stykker: ${S??""}`),[()=>r(M).entry.pieces.join("; ")]),y(me,Ve)};H(Ot,me=>{r(M).entry.pieces.length>0&&me(Ct)})}W(()=>{R(fe,`${r(M).entry.division??""} · #${r(M).entry.rank??""}`),R(ce,`Absolutt plassering: #${r(M).entry.absolute_position??""}`),R(de,`Deltakere: ${r(M).entry.division_size??""} (div) / ${r(M).entry.field_size??""} (totalt)`)}),y(se,ge)};H(j,se=>{r(p)&&r(p).length?se(ee):se(G,!1)})}W(()=>{wi(C,`left: ${r(Ne)}px; top: ${r(ve)}px`),R(F,`${r(M).entry.year??""} · ${r(M).bandName??""}`)}),y(x,C)};H($t,x=>{r(M)&&x(It)})}var Tt=g($t,2);et(Tt,21,()=>r(pt),st,(x,p)=>{var C=ip();let E;var F=d(C);W(j=>{wi(C,`left: ${r(p).x}px`),E=Gt(C,1,"svelte-idxsrp",null,E,j),R(F,r(p).year)},[()=>({inactive:r(p).inactive})]),y(x,C)});var Dt=g(be,2);{var Ft=x=>{var p=cp();et(p,21,()=>r(lt),st,(C,E)=>{var F=lp(),j=d(F),ee=d(j),G=g(ee);{var se=fe=>{var ue=sp();W(()=>Y(ue,"stroke",r(E).color)),y(fe,ue)},ge=fe=>{var ue=Be(),Le=$e(ue);{var xe=Me=>{var Oe=ap();W(()=>Y(Oe,"stroke",r(E).color)),y(Me,Oe)},ce=Me=>{var Oe=op();W(he=>{Y(Oe,"d",he),Y(Oe,"stroke",r(E).color)},[()=>z(21,7,6)]),y(Me,Oe)};H(Le,Me=>{r(E).shape==="square"?Me(xe):Me(ce,!1)},!0)}y(fe,ue)};H(G,fe=>{r(E).shape==="circle"?fe(se):fe(ge,!1)})}var ke=g(j);W(()=>{Y(ee,"stroke",r(E).color),R(ke,` ${r(E).band.name??""}`)}),y(C,F)}),y(x,p)};H(Dt,x=>{r(lt).length>0&&x(Ft)})}var Pe=g(Dt,2);{var Ee=x=>{var p=fp();et(p,21,()=>r(_e),st,(C,E)=>{var F=up(),j=d(F),ee=g(j);W(()=>{wi(j,`background-color: ${v[r(E)]??"#94a3b8"}`),R(ee,` ${r(E)??""}`)}),y(C,F)}),y(x,p)};H(Pe,x=>{Ye()&&x(Ee)})}W(()=>wi(Tt,`top: ${r(Ae)}px`)),y(e,it),yn()}function Qe(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"uidentifisert"}function sa(e){return e===1?"🥇 ":e===2?"🥈 ":e===3?"🥉 ":""}function aa(e){return e.reduce((t,n)=>(n.rank===1?t.gold++:n.rank===2?t.silver++:n.rank===3&&t.bronze++,t),{gold:0,silver:0,bronze:0})}function oa(e){const t=[];return e.gold>0&&t.push(`${e.gold} 🥇`),e.silver>0&&t.push(`${e.silver} 🥈`),e.bronze>0&&t.push(`${e.bronze} 🥉`),t.join(" ")}var hp=L('<p class="trophy-summary svelte-urxxqj"> </p>'),pp=(e,t)=>t("year"),_p=(e,t)=>t("division"),gp=(e,t)=>t("rank"),mp=(e,t)=>t("points"),yp=(e,t)=>t("conductor"),bp=L('<a class="entity-link svelte-urxxqj"> </a>'),xp=L("<span>Ukjent</span>"),wp=L('<span class="test-piece-label svelte-urxxqj" title="Pliktstykke (fredag)">P:</span>'),kp=L('<span class="own-choice-label svelte-urxxqj" title="Selvvalgt (lørdag)">S:</span>'),Sp=L("<a> </a>"),Ep=L("<span> </span>"),Ap=L("<span>Ukjent</span>"),Mp=L('<li class="svelte-urxxqj"><!> <!></li>'),$p=L('<ul class="piece-list svelte-urxxqj"></ul>'),Cp=L("<span>Ukjent</span>"),Np=L('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),Pp=L('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-urxxqj"><span class="sr-only svelte-urxxqj"> </span> <svg class="streaming-icon svelte-urxxqj" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),Tp=L('<div class="streaming-piece-row svelte-urxxqj"><span class="streaming-links svelte-urxxqj"><!> <!></span></div>'),Lp=L('<div class="streaming-list svelte-urxxqj"></div>'),Ip=L('<span class="streaming-missing svelte-urxxqj" aria-hidden="true">–</span>'),Rp=L('<tr class="svelte-urxxqj"><td data-label="År" class="svelte-urxxqj"> </td><td data-label="Divisjon" class="division-cell svelte-urxxqj"> </td><td data-label="Plass" class="rank-col svelte-urxxqj"> </td><td data-label="Poeng" class="svelte-urxxqj"> </td><td data-label="Dirigent" class="svelte-urxxqj"><!></td><td data-label="Program" class="piece-cell svelte-urxxqj"><!></td><td data-label="Opptak" class="streaming-cell svelte-urxxqj"><!></td></tr>'),jp=L('<article class="band-card svelte-urxxqj"><header class="band-header svelte-urxxqj"><div><h2 class="svelte-urxxqj"> </h2> <!> <p class="band-count svelte-urxxqj"> </p></div></header> <div class="table-wrapper svelte-urxxqj" role="region"><table class="svelte-urxxqj"><thead class="svelte-urxxqj"><tr><th scope="col" class="sortable svelte-urxxqj">År<span class="sort-indicator svelte-urxxqj"> </span></th><th scope="col" class="division-column sortable svelte-urxxqj">Divisjon<span class="sort-indicator svelte-urxxqj"> </span></th><th scope="col" class="sortable svelte-urxxqj">Plass<span class="sort-indicator svelte-urxxqj"> </span></th><th scope="col" class="sortable svelte-urxxqj">Poeng<span class="sort-indicator svelte-urxxqj"> </span></th><th scope="col" class="sortable svelte-urxxqj">Dirigent<span class="sort-indicator svelte-urxxqj"> </span></th><th scope="col" class="svelte-urxxqj">Program</th><th scope="col" class="streaming-column svelte-urxxqj">Opptak</th></tr></thead><tbody class="svelte-urxxqj"></tbody></table></div></article>'),qp=L('<section class="band-performances svelte-urxxqj"></section>');function Dp(e,t){mn(t,!0);let n=bt(t,"bands",19,()=>[]),i=bt(t,"bandType",3,"wind"),s=bt(t,"eliteTestPieces",3,null);const a=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let o=ae("year"),l=ae("asc");function c(N,q,k){const U=N==null||N==="",re=q==null||q==="";if(U&&re)return 0;if(U)return 1;if(re)return-1;let M;return typeof N=="number"&&typeof q=="number"?M=N-q:M=String(N).localeCompare(String(q),"nb",{numeric:!0,sensitivity:"base"}),k==="asc"?M:-M}function u(N,q,k){return N!==q?"none":k==="asc"?"ascending":"descending"}function f(N,q,k){return N!==q?"":k==="asc"?" ▲":" ▼"}function v(N){r(o)===N?A(l,r(l)==="asc"?"desc":"asc",!0):(A(o,N,!0),A(l,N==="points"?"desc":"asc",!0))}function h(N){if(!N)return 999;const q=N.toLowerCase();return q==="elite"?0:q.includes("1.")||q==="1"?1:q.includes("2.")||q==="2"?2:q.includes("3.")||q==="3"?3:q.includes("4.")||q==="4"?4:q.includes("5.")||q==="5"?5:q.includes("6.")||q==="6"?6:10}function b(N,q){switch(q){case"year":return N.year;case"division":return h(N.division??null);case"rank":return N.rank??N.absolute_position??null;case"points":return N.points??null;case"conductor":return N.conductor??null}}function m(N){const q=[...N];return q.sort((k,U)=>{const re=c(b(k,r(o)),b(U,r(o)),r(l));return re!==0?re:c(k.year,U.year,"asc")}),q}function D(N){return N==null?"–":a.format(N)}function $(N){return N!=null?`${N}`:"–"}function K(N){return!!(N?.spotify||N?.apple_music)}function Z(N){if(!N)return null;const q=N.trim();if(!q)return null;if(!/^https?:\/\//i.test(q))return q;try{const k=new URL(q);return`music://${`${k.host}${k.pathname}${k.search}${k.hash}`}`}catch(k){return console.warn("Kunne ikke konvertere Apple Music-lenke",k),q}}function Q(N,q,k){if(!q)return N;const U=q.recording_title?.trim(),re=q.album?.trim(),M=k==="spotify"?"Spotify":"Apple Music",Ne=U&&U.length>0?U:N;return re&&re.length>0?`${Ne} • ${re} (${M})`:`${Ne} (${M})`}function oe(N,q,k){return t.streamingResolver?t.streamingResolver(N,q,k)??null:null}function ne(N){const q=String(N),k=s()?.test_pieces?.[q];return k?{composer:k.composer,piece:k.piece}:null}function B(N){return(N||"").toLowerCase()==="elite"}let w=O(()=>n().map(N=>({...N,entries:m(N.entries)})));var T=qp();et(T,21,()=>r(w),st,(N,q)=>{const k=O(()=>aa(r(q).entries)),U=O(()=>oa(r(k)));var re=jp(),M=d(re),Ne=d(M),ve=d(Ne),rt=d(ve),ut=g(ve,2);{var at=Je=>{var Te=hp(),lt=d(Te);W(()=>R(lt,r(U))),y(Je,Te)};H(ut,Je=>{r(U)&&Je(at)})}var Et=g(ut,2),Yt=d(Et),Nt=g(M,2),dt=d(Nt),ot=d(dt),Vt=d(ot),At=d(Vt);At.__click=[pp,v];var kt=g(d(At)),Qt=d(kt),z=g(At);z.__click=[_p,v];var V=g(d(z)),le=d(V),Se=g(z);Se.__click=[gp,v];var Ue=g(d(Se)),Xe=d(Ue),Re=g(Se);Re.__click=[mp,v];var Ze=g(d(Re)),ht=d(Ze),vt=g(Re);vt.__click=[yp,v];var jt=g(d(vt)),xt=d(jt),ft=g(ot);et(ft,21,()=>r(q).entries,st,(Je,Te)=>{const lt=O(()=>Array.isArray(r(Te).pieces)?r(Te).pieces:[]),qt=O(()=>r(lt).filter(E=>E&&E.trim().length>0)),qe=O(()=>i()==="brass"&&B(r(Te).division)?ne(r(Te).year):null),Ce=O(()=>r(Te).conductor?.trim()??""),Ge=O(()=>r(Ce).length>0),ct=O(()=>r(Ge)?Qe(r(Ce)):""),pt=O(()=>r(qt).map(E=>{const F=E.trim(),j=F?Qe(F):"",ee=F?oe(r(Te),r(q).name,F):null;return{pieceName:F,pieceSlug:j,streaming:ee,isTestPiece:!1}})),Ae=O(()=>r(qe)?[{pieceName:r(qe).piece,pieceSlug:Qe(r(qe).piece),streaming:oe(r(Te),r(q).name,r(qe).piece),isTestPiece:!0}]:[]),_e=O(()=>[...r(Ae),...r(pt)]),Ye=O(()=>r(_e).filter(E=>K(E.streaming)));var Fe=Rp(),je=d(Fe),tt=d(je),it=g(je),be=d(it),nt=g(it),St=d(nt),yt=g(nt),Mt=d(yt),Pt=g(yt),wt=d(Pt);{var $t=E=>{var F=bp(),j=d(F);W(ee=>{Y(F,"href",ee),R(j,r(Ce))},[()=>`?type=${i()}&view=conductors&conductor=${encodeURIComponent(r(ct))}`]),y(E,F)},It=E=>{var F=xp();y(E,F)};H(wt,E=>{r(Ge)?E($t):E(It,!1)})}var Tt=g(Pt),Dt=d(Tt);{var Ft=E=>{var F=$p();et(F,21,()=>r(_e),st,(j,ee)=>{var G=Mp(),se=d(G);{var ge=xe=>{var ce=wp();y(xe,ce)},ke=xe=>{var ce=Be(),Me=$e(ce);{var Oe=he=>{var de=kp();y(he,de)};H(Me,he=>{i()==="brass"&&B(r(Te).division)&&he(Oe)},!0)}y(xe,ce)};H(se,xe=>{r(ee).isTestPiece?xe(ge):xe(ke,!1)})}var fe=g(se,2);{var ue=xe=>{var ce=Sp();let Me;var Oe=d(ce);W((he,de)=>{Y(ce,"href",he),Me=Gt(ce,1,"entity-link svelte-urxxqj",null,Me,de),R(Oe,r(ee).pieceName)},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(r(ee).pieceSlug)}`,()=>({"test-piece-link":r(ee).isTestPiece})]),y(xe,ce)},Le=xe=>{var ce=Be(),Me=$e(ce);{var Oe=de=>{var De=Ep(),_t=d(De);W(()=>R(_t,r(ee).pieceName)),y(de,De)},he=de=>{var De=Ap();y(de,De)};H(Me,de=>{r(ee).pieceName?de(Oe):de(he,!1)},!0)}y(xe,ce)};H(fe,xe=>{r(ee).pieceSlug?xe(ue):xe(Le,!1)})}y(j,G)}),y(E,F)},Pe=E=>{var F=Cp();y(E,F)};H(Dt,E=>{r(_e).length>0?E(Ft):E(Pe,!1)})}var Ee=g(Tt),x=d(Ee);{var p=E=>{var F=Lp();et(F,21,()=>r(Ye),st,(j,ee)=>{const G=O(()=>r(ee).streaming);var se=Be(),ge=$e(se);{var ke=fe=>{var ue=Tp(),Le=d(ue),xe=d(Le);{var ce=he=>{var de=Np(),De=d(de),_t=d(De);W(Ot=>{Y(de,"href",r(G).spotify),Y(de,"title",Ot),R(_t,`Hør ${r(ee).pieceName??""} på Spotify`)},[()=>Q(r(ee).pieceName,r(G),"spotify")]),y(he,de)};H(xe,he=>{r(G)?.spotify&&he(ce)})}var Me=g(xe,2);{var Oe=he=>{const de=O(()=>Z(r(G).apple_music));var De=Be(),_t=$e(De);{var Ot=Ct=>{var me=Pp(),Ve=d(me),_=d(Ve);W(S=>{Y(me,"href",r(de)),Y(me,"title",S),R(_,`Hør ${r(ee).pieceName??""} på Apple Music`)},[()=>Q(r(ee).pieceName,r(G),"apple")]),y(Ct,me)};H(_t,Ct=>{r(de)&&Ct(Ot)})}y(he,De)};H(Me,he=>{r(G)?.apple_music&&he(Oe)})}y(fe,ue)};H(ge,fe=>{K(r(G))&&fe(ke)})}y(j,se)}),y(E,F)},C=E=>{var F=Ip();y(E,F)};H(x,E=>{r(Ye).length>0?E(p):E(C,!1)})}W((E,F,j)=>{R(tt,r(Te).year),R(be,r(Te).division),R(St,`${E??""}${F??""}`),R(Mt,j)},[()=>sa(r(Te).rank),()=>$(r(Te).rank),()=>D(r(Te).points)]),y(Je,Fe)}),W((Je,Te,lt,qt,qe,Ce,Ge,ct,pt,Ae)=>{R(rt,r(q).name),R(Yt,`${r(q).entries.length??""} fremføringer`),Y(Nt,"aria-label",`Fremføringer av ${r(q).name}`),Y(At,"aria-sort",Je),R(Qt,Te),Y(z,"aria-sort",lt),R(le,qt),Y(Se,"aria-sort",qe),R(Xe,Ce),Y(Re,"aria-sort",Ge),R(ht,ct),Y(vt,"aria-sort",pt),R(xt,Ae)},[()=>u(r(o),"year",r(l)),()=>f(r(o),"year",r(l)),()=>u(r(o),"division",r(l)),()=>f(r(o),"division",r(l)),()=>u(r(o),"rank",r(l)),()=>f(r(o),"rank",r(l)),()=>u(r(o),"points",r(l)),()=>f(r(o),"points",r(l)),()=>u(r(o),"conductor",r(l)),()=>f(r(o),"conductor",r(l))]),y(N,re)}),y(e,T),yn()}er(["click"]);var Fp=L('<p class="trophy-summary svelte-7tq4ct"> </p>'),Op=(e,t)=>t("year"),zp=(e,t)=>t("division"),Bp=(e,t)=>t("rank"),Up=(e,t)=>t("points"),Yp=(e,t)=>t("band"),Vp=L('<a class="entity-link svelte-7tq4ct"> </a>'),Hp=L("<span> </span>"),Kp=L("<span>Ukjent</span>"),Xp=L('<a class="entity-link svelte-7tq4ct"> </a>'),Gp=L("<span> </span>"),Wp=L("<span>Ukjent</span>"),Zp=L('<li class="svelte-7tq4ct"><!></li>'),Jp=L('<ul class="piece-list svelte-7tq4ct"></ul>'),Qp=L("<span>Ukjent</span>"),e_=L('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),t_=L('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-7tq4ct"><span class="sr-only svelte-7tq4ct"> </span> <svg class="streaming-icon svelte-7tq4ct" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),n_=L('<div class="streaming-piece-row svelte-7tq4ct"><span class="streaming-links svelte-7tq4ct"><!> <!></span></div>'),r_=L('<div class="streaming-list svelte-7tq4ct"></div>'),i_=L('<span class="streaming-missing svelte-7tq4ct" aria-hidden="true">–</span>'),s_=L('<tr class="svelte-7tq4ct"><td data-label="År" class="svelte-7tq4ct"> </td><td data-label="Divisjon" class="division-cell svelte-7tq4ct"> </td><td data-label="Plass" class="rank-col svelte-7tq4ct"> </td><td data-label="Poeng" class="svelte-7tq4ct"> </td><td data-label="Korps" class="svelte-7tq4ct"><!></td><td data-label="Program" class="piece-cell svelte-7tq4ct"><!></td><td data-label="Opptak" class="streaming-cell svelte-7tq4ct"><!></td></tr>'),a_=L('<article class="conductor-card svelte-7tq4ct"><header class="conductor-header svelte-7tq4ct"><div><h2 class="svelte-7tq4ct"> </h2> <!> <p class="conductor-count svelte-7tq4ct"> </p></div></header> <div class="table-wrapper svelte-7tq4ct" role="region"><table class="svelte-7tq4ct"><thead class="svelte-7tq4ct"><tr><th scope="col" class="sortable svelte-7tq4ct">År<span class="sort-indicator svelte-7tq4ct"> </span></th><th scope="col" class="division-column sortable svelte-7tq4ct">Divisjon<span class="sort-indicator svelte-7tq4ct"> </span></th><th scope="col" class="sortable svelte-7tq4ct">Plass<span class="sort-indicator svelte-7tq4ct"> </span></th><th scope="col" class="sortable svelte-7tq4ct">Poeng<span class="sort-indicator svelte-7tq4ct"> </span></th><th scope="col" class="sortable svelte-7tq4ct">Korps<span class="sort-indicator svelte-7tq4ct"> </span></th><th scope="col" class="svelte-7tq4ct">Program</th><th scope="col" class="streaming-column svelte-7tq4ct">Opptak</th></tr></thead><tbody class="svelte-7tq4ct"></tbody></table></div></article>'),o_=L('<section class="conductor-performances svelte-7tq4ct"></section>');function l_(e,t){mn(t,!0);let n=bt(t,"conductors",19,()=>[]),i=bt(t,"bandType",3,"wind");const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let a=ae("year"),o=ae("asc");function l(w,T,N){const q=w==null||w==="",k=T==null||T==="";if(q&&k)return 0;if(q)return 1;if(k)return-1;let U;return typeof w=="number"&&typeof T=="number"?U=w-T:U=String(w).localeCompare(String(T),"nb",{numeric:!0,sensitivity:"base"}),N==="asc"?U:-U}function c(w,T,N){return w!==T?"none":N==="asc"?"ascending":"descending"}function u(w,T,N){return w!==T?"":N==="asc"?" ▲":" ▼"}function f(w){r(a)===w?A(o,r(o)==="asc"?"desc":"asc",!0):(A(a,w,!0),A(o,w==="points"?"desc":"asc",!0))}function v(w){if(!w)return 999;const T=w.toLowerCase();return T==="elite"?0:T.includes("1.")||T==="1"?1:T.includes("2.")||T==="2"?2:T.includes("3.")||T==="3"?3:T.includes("4.")||T==="4"?4:T.includes("5.")||T==="5"?5:T.includes("6.")||T==="6"?6:10}function h(w,T){switch(T){case"year":return w.year;case"division":return v(w.division??null);case"rank":return w.rank??w.absolute_position??null;case"points":return w.points??null;case"band":return w.band_name??null}}function b(w){const T=[...w];return T.sort((N,q)=>{const k=l(h(N,r(a)),h(q,r(a)),r(o));return k!==0?k:l(N.year,q.year,"asc")}),T}function m(w){return w==null?"–":s.format(w)}function D(w){return w!=null?`${w}`:"–"}function $(w){return!!(w?.spotify||w?.apple_music)}function K(w){if(!w)return null;const T=w.trim();if(!T)return null;if(!/^https?:\/\//i.test(T))return T;try{const N=new URL(T);return`music://${`${N.host}${N.pathname}${N.search}${N.hash}`}`}catch(N){return console.warn("Kunne ikke konvertere Apple Music-lenke",N),T}}function Z(w,T,N){if(!T)return w;const q=T.recording_title?.trim(),k=T.album?.trim(),U=N==="spotify"?"Spotify":"Apple Music",re=q&&q.length>0?q:w;return k&&k.length>0?`${re} • ${k} (${U})`:`${re} (${U})`}function Q(w,T,N){return t.streamingResolver?t.streamingResolver(w,T,N)??null:null}function oe(w){const N=(w.entries??[]).flatMap(q=>(q.aggregate_entries&&Array.isArray(q.aggregate_entries)?q.aggregate_entries:[q]).map(U=>({...U,band_name:U.band_name??q.band_name??null})));return b(N)}let ne=O(()=>n().map(w=>({...w,performances:oe(w)})));var B=o_();et(B,21,()=>r(ne),st,(w,T)=>{const N=O(()=>aa(r(T).performances)),q=O(()=>oa(r(N)));var k=a_(),U=d(k),re=d(U),M=d(re),Ne=d(M),ve=g(M,2);{var rt=xt=>{var ft=Fp(),Je=d(ft);W(()=>R(Je,r(q))),y(xt,ft)};H(ve,xt=>{r(q)&&xt(rt)})}var ut=g(ve,2),at=d(ut),Et=g(U,2),Yt=d(Et),Nt=d(Yt),dt=d(Nt),ot=d(dt);ot.__click=[Op,f];var Vt=g(d(ot)),At=d(Vt),kt=g(ot);kt.__click=[zp,f];var Qt=g(d(kt)),z=d(Qt),V=g(kt);V.__click=[Bp,f];var le=g(d(V)),Se=d(le),Ue=g(V);Ue.__click=[Up,f];var Xe=g(d(Ue)),Re=d(Xe),Ze=g(Ue);Ze.__click=[Yp,f];var ht=g(d(Ze)),vt=d(ht),jt=g(Nt);et(jt,21,()=>r(T).performances,st,(xt,ft)=>{const Je=O(()=>r(ft).band_name?.trim()??""),Te=O(()=>r(Je).length>0),lt=O(()=>r(Te)?Qe(r(Je)):""),qt=O(()=>Array.isArray(r(ft).pieces)?r(ft).pieces:[]),qe=O(()=>r(qt).filter(Pe=>Pe&&Pe.trim().length>0)),Ce=O(()=>r(qe).map(Pe=>{const Ee=Pe.trim(),x=Ee?Qe(Ee):"",p=r(Te)&&Ee?Q(r(ft),r(Je),Ee):null;return{pieceName:Ee,pieceSlug:x,streaming:p}})),Ge=O(()=>r(Ce).filter(Pe=>$(Pe.streaming)));var ct=s_(),pt=d(ct),Ae=d(pt),_e=g(pt),Ye=d(_e),Fe=g(_e),je=d(Fe),tt=g(Fe),it=d(tt),be=g(tt),nt=d(be);{var St=Pe=>{var Ee=Vp(),x=d(Ee);W(p=>{Y(Ee,"href",p),R(x,r(Je))},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(r(lt))}`]),y(Pe,Ee)},yt=Pe=>{var Ee=Be(),x=$e(Ee);{var p=E=>{var F=Hp(),j=d(F);W(()=>R(j,r(Je))),y(E,F)},C=E=>{var F=Kp();y(E,F)};H(x,E=>{r(Te)?E(p):E(C,!1)},!0)}y(Pe,Ee)};H(nt,Pe=>{r(Te)&&r(lt)?Pe(St):Pe(yt,!1)})}var Mt=g(be),Pt=d(Mt);{var wt=Pe=>{var Ee=Jp();et(Ee,21,()=>r(Ce),st,(x,p)=>{var C=Zp(),E=d(C);{var F=ee=>{var G=Xp(),se=d(G);W(ge=>{Y(G,"href",ge),R(se,r(p).pieceName)},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(r(p).pieceSlug)}`]),y(ee,G)},j=ee=>{var G=Be(),se=$e(G);{var ge=fe=>{var ue=Gp(),Le=d(ue);W(()=>R(Le,r(p).pieceName)),y(fe,ue)},ke=fe=>{var ue=Wp();y(fe,ue)};H(se,fe=>{r(p).pieceName?fe(ge):fe(ke,!1)},!0)}y(ee,G)};H(E,ee=>{r(p).pieceSlug?ee(F):ee(j,!1)})}y(x,C)}),y(Pe,Ee)},$t=Pe=>{var Ee=Qp();y(Pe,Ee)};H(Pt,Pe=>{r(Ce).length>0?Pe(wt):Pe($t,!1)})}var It=g(Mt),Tt=d(It);{var Dt=Pe=>{var Ee=r_();et(Ee,21,()=>r(Ge),st,(x,p)=>{const C=O(()=>r(p).streaming);var E=n_(),F=d(E),j=d(F);{var ee=ge=>{var ke=e_(),fe=d(ke),ue=d(fe);W(Le=>{Y(ke,"href",r(C).spotify),Y(ke,"title",Le),R(ue,`Hør ${r(p).pieceName??""} på Spotify`)},[()=>Z(r(p).pieceName,r(C),"spotify")]),y(ge,ke)};H(j,ge=>{r(C)?.spotify&&ge(ee)})}var G=g(j,2);{var se=ge=>{const ke=O(()=>K(r(C).apple_music));var fe=Be(),ue=$e(fe);{var Le=xe=>{var ce=t_(),Me=d(ce),Oe=d(Me);W(he=>{Y(ce,"href",r(ke)),Y(ce,"title",he),R(Oe,`Hør ${r(p).pieceName??""} på Apple Music`)},[()=>Z(r(p).pieceName,r(C),"apple")]),y(xe,ce)};H(ue,xe=>{r(ke)&&xe(Le)})}y(ge,fe)};H(G,ge=>{r(C)?.apple_music&&ge(se)})}y(x,E)}),y(Pe,Ee)},Ft=Pe=>{var Ee=i_();y(Pe,Ee)};H(Tt,Pe=>{r(Ge).length>0?Pe(Dt):Pe(Ft,!1)})}W((Pe,Ee,x)=>{R(Ae,r(ft).year),R(Ye,r(ft).division),R(je,`${Pe??""}${Ee??""}`),R(it,x)},[()=>sa(r(ft).rank),()=>D(r(ft).rank),()=>m(r(ft).points)]),y(xt,ct)}),W((xt,ft,Je,Te,lt,qt,qe,Ce,Ge,ct)=>{R(Ne,r(T).name),R(at,`${r(T).performances.length??""} fremføringer`),Y(Et,"aria-label",`Fremføringer av ${r(T).name}`),Y(ot,"aria-sort",xt),R(At,ft),Y(kt,"aria-sort",Je),R(z,Te),Y(V,"aria-sort",lt),R(Se,qt),Y(Ue,"aria-sort",qe),R(Re,Ce),Y(Ze,"aria-sort",Ge),R(vt,ct)},[()=>c(r(a),"year",r(o)),()=>u(r(a),"year",r(o)),()=>c(r(a),"division",r(o)),()=>u(r(a),"division",r(o)),()=>c(r(a),"rank",r(o)),()=>u(r(a),"rank",r(o)),()=>c(r(a),"points",r(o)),()=>u(r(a),"points",r(o)),()=>c(r(a),"band",r(o)),()=>u(r(a),"band",r(o))]),y(w,k)}),y(e,B),yn()}er(["click"]);function c_(e,t){const n=Number(e.target.value);A(t,Number.isNaN(n)?null:n,!0)}function u_(e,t){A(t,e.target.value||null,!0)}var f_=L('<p class="data-status svelte-1e9ky18">Kunne ikke finne datasettet.</p>'),d_=L('<p class="data-status svelte-1e9ky18">Ingen årsdata tilgjengelig.</p>'),v_=L("<option> </option>"),h_=L("<option selected>Ingen divisjoner</option>"),p_=L("<option> </option>"),__=L('<span class="svelte-1e9ky18"> </span>'),g_=L('<div class="control control--summary svelte-1e9ky18" aria-live="polite"><span class="svelte-1e9ky18"> </span> <!></div>'),m_=L('<div class="prize-card prize-card--soloist svelte-1e9ky18"><div class="prize-card__header svelte-1e9ky18"><span class="prize-card__type svelte-1e9ky18">Solistpris</span> <span class="prize-card__instrument svelte-1e9ky18"> </span></div> <div class="prize-card__winner svelte-1e9ky18"><a class="prize-winner-link svelte-1e9ky18"> </a></div></div>'),y_=L('<div class="prize-card prize-card--group svelte-1e9ky18"><div class="prize-card__header svelte-1e9ky18"><span class="prize-card__type svelte-1e9ky18">Gruppepris</span> <span class="prize-card__instrument svelte-1e9ky18"> </span></div> <div class="prize-card__winner svelte-1e9ky18"><a class="prize-winner-link svelte-1e9ky18"> </a></div></div>'),b_=L('<div class="prize-section svelte-1e9ky18" role="complementary" aria-label="Priser"><h3 class="svelte-1e9ky18">🏆 Priser</h3> <div class="prize-cards svelte-1e9ky18"><!> <!></div></div>'),x_=L('<p class="data-status svelte-1e9ky18">Ingen resultater for valgt kombinasjon.</p>'),w_=L('<a class="entity-link svelte-1e9ky18"> </a>'),k_=L("<span>Ukjent</span>"),S_=L("<span>–</span>"),E_=L('<span class="test-piece-label svelte-1e9ky18" title="Pliktstykke (fredag)">P:</span>'),A_=L('<span class="own-choice-label svelte-1e9ky18" title="Selvvalgt (lørdag)">S:</span>'),M_=L('<div class="program-piece svelte-1e9ky18"><!> <a> </a></div>'),$_=L('<div class="program-list svelte-1e9ky18"></div>'),C_=L('<span class="streaming-missing" aria-hidden="true">–</span>'),N_=L('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),P_=L('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-1e9ky18"><span class="sr-only svelte-1e9ky18"> </span> <svg class="streaming-icon svelte-1e9ky18" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),T_=L('<span class="streaming-links svelte-1e9ky18"><!> <!></span>'),L_=L('<span class="streaming-missing" aria-hidden="true">–</span>'),I_=L('<div class="streaming-piece-row svelte-1e9ky18"><!></div>'),R_=L('<div class="streaming-list svelte-1e9ky18"></div>'),j_=L('<tr><td data-label="Plass" class="rank-col svelte-1e9ky18"> </td><td data-label="Korps" class="svelte-1e9ky18"><a class="entity-link svelte-1e9ky18"> </a></td><td data-label="Dirigent" class="svelte-1e9ky18"><!></td><td data-label="Poeng" class="svelte-1e9ky18"> </td><td data-label="Program" class="program-cell svelte-1e9ky18"><!></td><td data-label="Opptak" class="streaming-cell svelte-1e9ky18"><!></td></tr>'),q_=L('<div class="table-wrapper svelte-1e9ky18" role="region" aria-live="polite"><table class="svelte-1e9ky18"><thead class="svelte-1e9ky18"><tr><th scope="col" class="svelte-1e9ky18">Plass</th><th scope="col" class="svelte-1e9ky18">Korps</th><th scope="col" class="svelte-1e9ky18">Dirigent</th><th scope="col" class="svelte-1e9ky18">Poeng</th><th scope="col" class="svelte-1e9ky18">Program</th><th scope="col" class="streaming-column svelte-1e9ky18">Opptak</th></tr></thead><tbody class="svelte-1e9ky18"></tbody></table></div>'),D_=L('<div class="data-controls svelte-1e9ky18"><label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">År</span> <select class="svelte-1e9ky18"></select></label> <label class="control svelte-1e9ky18"><span class="svelte-1e9ky18">Divisjon</span> <select class="svelte-1e9ky18"><!></select></label> <!></div> <!> <!>',1),F_=L('<section class="data-view svelte-1e9ky18"><div class="data-lead svelte-1e9ky18"><h2 class="svelte-1e9ky18">Resultatlister per divisjon</h2></div> <!></section>');function O_(e,t){mn(t,!0);let n=bt(t,"dataset",3,null),i=bt(t,"bandType",3,"wind"),s=bt(t,"streamingResolver",3,void 0),a=bt(t,"eliteTestPieces",3,null),o=ae(null),l=ae(!1),c=ae(null);const u=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1}),f=z=>`band-positions-${z}-year`,v=z=>`band-positions-${z}-division`;function h(z){if(typeof localStorage>"u")return null;try{const V=localStorage.getItem(f(z));if(V){const le=Number(V);return Number.isNaN(le)?null:le}}catch(V){console.warn("Failed to read year from localStorage",V)}return null}function b(z){if(typeof localStorage>"u")return null;try{return localStorage.getItem(v(z))}catch(V){console.warn("Failed to read division from localStorage",V)}return null}function m(z,V){if(!(typeof localStorage>"u"))try{V===null?localStorage.removeItem(f(z)):localStorage.setItem(f(z),String(V))}catch(le){console.warn("Failed to write year to localStorage",le)}}function D(z,V){if(!(typeof localStorage>"u"))try{V===null?localStorage.removeItem(v(z)):localStorage.setItem(v(z),V)}catch(le){console.warn("Failed to write division to localStorage",le)}}let $=ae(Kt(h(i()))),K=ae(Kt(b(i()))),Z=O(()=>n()?T(n()):new Map),Q=O(()=>n()?.metadata?.years??[]),oe=O(()=>(()=>{if(!n()||!n().metadata||!Array.isArray(n().metadata.divisions)||r($)==null||!r(Z).has(r($)))return[];const z=r(Z).get(r($))??new Map,V=n().metadata.divisions.filter(Se=>z.has(Se)),le=Array.from(z.keys()).filter(Se=>!V.includes(Se)).sort();return[...V,...le]})()),ne=O(()=>(()=>{if(r($)!=null&&r(K)&&r(Z).has(r($))){const z=r(Z).get(r($)),V=(r(K)&&z?.get(r(K)))??[];return k(V)}return[]})()),B=O(()=>(()=>{if(r(ne).length>0){const V=r(ne)[0]?.entry?.division_size??r(ne).length;return V&&V>0?V:null}return null})()),w=O(()=>(()=>{if(r(ne).length>0){const V=r(ne)[0]?.entry?.field_size??null;return V&&V>0?V:null}return null})());function T(z){const V=new Map;if(!z?.bands||!Array.isArray(z.bands))return V;for(const le of z.bands)if(!(!le||!le.entries||!Array.isArray(le.entries)))for(const Se of le.entries){if(!Se||typeof Se.year!="number"||!Se.division)continue;let Ue=V.get(Se.year);Ue||(Ue=new Map,V.set(Se.year,Ue));const Xe=Se.division;let Re=Ue.get(Xe);Re||(Re=[],Ue.set(Xe,Re)),Re.push({band:le.name,entry:Se})}return V}function N(z){return z.length?r($)&&z.includes(r($))?r($):z[z.length-1]??null:null}function q(z){return z.length?r(K)&&z.includes(r(K))?r(K):z[0]??null:null}function k(z){return[...z].sort((V,le)=>{const Se=V.entry.rank??Number.POSITIVE_INFINITY,Ue=le.entry.rank??Number.POSITIVE_INFINITY;if(Se!==Ue)return Se-Ue;const Xe=V.entry.absolute_position??Number.POSITIVE_INFINITY,Re=le.entry.absolute_position??Number.POSITIVE_INFINITY;return Xe!==Re?Xe-Re:V.band.localeCompare(le.band)})}function U(z){return z!=null?`${z}`:"–"}function re(z,V){if(z==null&&V==null)return"–";const le=z==null?"–":u.format(z);return V==null,le}function M(z){return z.map(V=>V.trim()).filter(Boolean)}function Ne(z,V,le){if(typeof s()!="function")return null;try{return s()(z,V,le)??null}catch(Se){return console.error("Kunne ikke hente streaming-lenke",Se),null}}function ve(z){return!!(z?.spotify||z?.apple_music)}function rt(z){if(!z)return null;const V=z.trim();if(!V)return null;if(!/^https?:\/\//i.test(V))return V;try{const le=new URL(V);return`music://${`${le.host}${le.pathname}${le.search}${le.hash}`}`}catch(le){return console.warn("Kunne ikke konvertere Apple Music-lenke",le),V}}function ut(z,V,le){if(!V)return z;const Se=V.recording_title?.trim(),Ue=V.album?.trim(),Xe=le==="spotify"?"Spotify":"Apple Music",Re=Se&&Se.length>0?Se:z;return Ue&&Ue.length>0?`${Re} • ${Ue} (${Xe})`:`${Re} (${Xe})`}function at(z){const V=String(z),le=a()?.test_pieces?.[V];return le?{composer:le.composer,piece:le.piece}:null}function Et(z){return(z||"").toLowerCase()==="elite"}function Yt(z,V,le,Se,Ue){if(!z||Ue==null)return null;const Xe=z[V];if(!Xe)return null;let Re=Xe[String(le)];if(!Re&&V==="brass"&&le>=2016&&(Re=Xe[2016]),!Re)return null;const Ze=Re[Se];return Ze?Ze.promote&&Ze.promote.includes(Ue)?"promote":Ze.demote&&Ze.demote.includes(Ue)?"demote":"safe":null}function Nt(z){return z===1?"🥇 ":z===2?"🥈 ":z===3?"🥉 ":""}hn(()=>{m(i(),r($))}),hn(()=>{D(i(),r(K))}),hn(()=>{const z=h(i()),V=b(i());A($,z,!0),A(K,V,!0)}),hn(()=>{if(n()&&r(Q)&&Array.isArray(r(Q))&&r(Q).length>0){const z=N(r(Q));r($)!==z&&A($,z,!0)}else A($,null),A(K,null)}),hn(()=>{if(r($)!=null&&r(oe)&&Array.isArray(r(oe))&&r(oe).length>0){const z=q(r(oe));r(K)!==z&&A(K,z,!0)}else r($)!=null&&A(K,null)});async function dt(z){A(l,!0);try{const le=await fetch(`data/${z==="wind"?"wind_prizes.json":"brass_prizes.json"}`);if(!le.ok)throw new Error(`Failed to fetch prize data: ${le.statusText}`);A(o,await le.json(),!0)}catch(V){console.error("Error loading prize data:",V),A(o,null)}finally{A(l,!1)}}Wn(()=>{dt(i()),fetch("data/promotion_rules.json").then(z=>z.ok?z.json():(console.warn("promotion_rules.json not found or failed to load"),null)).then(z=>{z&&A(c,z,!0)}).catch(z=>{console.warn("Failed to load promotion rules",z)})}),hn(()=>{dt(i())});let ot=O(()=>(()=>{if(!r(o)||r($)==null||!r(K))return null;const z=r(o).prizes.find(Se=>Se.year===r($)&&Se.division===r(K));if(!z||!z.entries)return null;const V=z.entries.find(Se=>Se.prize_type==="soloist"),le=z.entries.find(Se=>Se.prize_type==="group");return{soloist:V||null,group:le||null}})());var Vt=F_(),At=g(d(Vt),2);{var kt=z=>{var V=f_();y(z,V)},Qt=z=>{var V=Be(),le=$e(V);{var Se=Xe=>{var Re=d_();y(Xe,Re)},Ue=Xe=>{var Re=D_(),Ze=$e(Re),ht=d(Ze),vt=g(d(ht),2);vt.__change=[c_,$],et(vt,21,()=>r(Q)||[],st,(Ae,_e)=>{var Ye=v_(),Fe=d(Ye),je={};W(()=>{Sa(Ye,r($)===r(_e)),R(Fe,r(_e)),je!==(je=r(_e))&&(Ye.value=(Ye.__value=r(_e))??"")}),y(Ae,Ye)});var jt=g(ht,2),xt=g(d(jt),2);xt.__change=[u_,K];var ft=d(xt);{var Je=Ae=>{var _e=h_();_e.value=_e.__value="",y(Ae,_e)},Te=Ae=>{var _e=Be(),Ye=$e(_e);et(Ye,17,()=>r(oe),st,(Fe,je)=>{var tt=p_(),it=d(tt),be={};W(()=>{Sa(tt,r(K)===r(je)),R(it,r(je)),be!==(be=r(je))&&(tt.value=(tt.__value=r(je))??"")}),y(Fe,tt)}),y(Ae,_e)};H(ft,Ae=>{!r(oe)||r(oe).length===0?Ae(Je):Ae(Te,!1)})}var lt=g(jt,2);{var qt=Ae=>{var _e=g_(),Ye=d(_e),Fe=d(Ye),je=g(Ye,2);{var tt=it=>{var be=__(),nt=d(be);W(()=>R(nt,`Totalt felt: ${r(w)??""}`)),y(it,be)};H(je,it=>{r(w)&&it(tt)})}W(()=>R(Fe,`${r(B)??""} korps`)),y(Ae,_e)};H(lt,Ae=>{r(B)&&Ae(qt)})}var qe=g(Ze,2);{var Ce=Ae=>{var _e=b_(),Ye=g(d(_e),2),Fe=d(Ye);{var je=be=>{var nt=m_(),St=d(nt),yt=g(d(St),2),Mt=d(yt),Pt=g(St,2),wt=d(Pt),$t=d(wt);W(It=>{R(Mt,r(ot).soloist.instrument),Y(wt,"href",It),R($t,r(ot).soloist.orchestra)},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(Qe(r(ot).soloist.orchestra))}`]),y(be,nt)};H(Fe,be=>{r(ot).soloist&&be(je)})}var tt=g(Fe,2);{var it=be=>{var nt=y_(),St=d(nt),yt=g(d(St),2),Mt=d(yt),Pt=g(St,2),wt=d(Pt),$t=d(wt);W(It=>{R(Mt,r(ot).group.instrument),Y(wt,"href",It),R($t,r(ot).group.orchestra)},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(Qe(r(ot).group.orchestra))}`]),y(be,nt)};H(tt,be=>{r(ot).group&&be(it)})}y(Ae,_e)};H(qe,Ae=>{r(ot)&&(r(ot).soloist||r(ot).group)&&Ae(Ce)})}var Ge=g(qe,2);{var ct=Ae=>{var _e=x_();y(Ae,_e)},pt=Ae=>{var _e=q_(),Ye=d(_e),Fe=g(d(Ye));et(Fe,21,()=>r(ne),st,(je,tt)=>{let it=()=>r(tt).band,be=()=>r(tt).entry;const nt=O(()=>Yt(r(c),i(),r($)??0,be().division??"",be().rank));var St=j_();let yt;var Mt=d(St),Pt=d(Mt),wt=g(Mt),$t=d(wt),It=d($t),Tt=g(wt),Dt=d(Tt);{var Ft=G=>{var se=w_(),ge=d(se);W((ke,fe)=>{Y(se,"href",ke),R(ge,fe)},[()=>`?type=${i()}&view=conductors&conductor=${encodeURIComponent(Qe(be().conductor))}`,()=>be().conductor.trim()]),y(G,se)},Pe=G=>{var se=k_();y(G,se)};H(Dt,G=>{be().conductor&&be().conductor.trim().length>0?G(Ft):G(Pe,!1)})}var Ee=g(Tt),x=d(Ee),p=g(Ee),C=d(p);{var E=G=>{const se=O(()=>i()==="brass"&&Et(be().division)?at(be().year):null),ge=O(()=>M(be().pieces)),ke=O(()=>r(se)?[{name:r(se).piece,isTestPiece:!0},...r(ge).map(ce=>({name:ce,isTestPiece:!1}))]:r(ge).map(ce=>({name:ce,isTestPiece:!1})));var fe=Be(),ue=$e(fe);{var Le=ce=>{var Me=S_();y(ce,Me)},xe=ce=>{var Me=$_();et(Me,21,()=>r(ke),st,(Oe,he)=>{const de=O(()=>r(he).name);var De=M_(),_t=d(De);{var Ot=S=>{var I=E_();y(S,I)},Ct=S=>{var I=Be(),P=$e(I);{var ie=J=>{var X=A_();y(J,X)};H(P,J=>{i()==="brass"&&Et(be().division)&&J(ie)},!0)}y(S,I)};H(_t,S=>{r(he).isTestPiece?S(Ot):S(Ct,!1)})}var me=g(_t,2);let Ve;var _=d(me);W((S,I)=>{Y(me,"href",S),Ve=Gt(me,1,"program-link svelte-1e9ky18",null,Ve,I),R(_,r(de))},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(Qe(r(de)))}`,()=>({"test-piece-link":r(he).isTestPiece})]),y(Oe,De)}),y(ce,Me)};H(ue,ce=>{r(ke).length===0?ce(Le):ce(xe,!1)})}y(G,fe)};H(C,G=>{G(E)})}var F=g(p),j=d(F);{var ee=G=>{const se=O(()=>i()==="brass"&&Et(be().division)?at(be().year):null),ge=O(()=>M(be().pieces)),ke=O(()=>r(se)?[{name:r(se).piece,isTestPiece:!0},...r(ge).map(ce=>({name:ce,isTestPiece:!1}))]:r(ge).map(ce=>({name:ce,isTestPiece:!1})));var fe=Be(),ue=$e(fe);{var Le=ce=>{var Me=C_();y(ce,Me)},xe=ce=>{var Me=R_();et(Me,21,()=>r(ke),st,(Oe,he)=>{const de=O(()=>r(he).name),De=O(()=>Ne(be(),it(),r(de)));var _t=I_(),Ot=d(_t);{var Ct=Ve=>{var _=T_(),S=d(_);{var I=J=>{var X=N_(),te=d(X),pe=d(te);W(ye=>{Y(X,"href",r(De).spotify),Y(X,"title",ye),R(pe,`Hør ${r(de)??""} på Spotify`)},[()=>ut(r(de),r(De),"spotify")]),y(J,X)};H(S,J=>{r(De)?.spotify&&J(I)})}var P=g(S,2);{var ie=J=>{const X=O(()=>rt(r(De).apple_music));var te=Be(),pe=$e(te);{var ye=ze=>{var Ie=P_(),we=d(Ie),We=d(we);W(gt=>{Y(Ie,"href",r(X)),Y(Ie,"title",gt),R(We,`Hør ${r(de)??""} på Apple Music`)},[()=>ut(r(de),r(De),"apple")]),y(ze,Ie)};H(pe,ze=>{r(X)&&ze(ye)})}y(J,te)};H(P,J=>{r(De)?.apple_music&&J(ie)})}y(Ve,_)},me=Ve=>{var _=L_();y(Ve,_)};H(Ot,Ve=>{ve(r(De))?Ve(Ct):Ve(me,!1)})}y(Oe,_t)}),y(ce,Me)};H(ue,ce=>{r(ke).length===0?ce(Le):ce(xe,!1)})}y(G,fe)};H(j,G=>{G(ee)})}W((G,se,ge,ke,fe)=>{yt=Gt(St,1,"svelte-1e9ky18",null,yt,G),R(Pt,`${se??""}${ge??""}`),Y($t,"href",ke),R(It,it()),R(x,fe)},[()=>({"row-promote":r(nt)==="promote","row-demote":r(nt)==="demote"}),()=>Nt(be().rank),()=>U(be().rank),()=>`?type=${i()}&view=bands&band=${encodeURIComponent(Qe(it()))}`,()=>re(be().points,be().max_points)]),y(je,St)}),y(Ae,_e)};H(Ge,Ae=>{!r(ne)||r(ne).length===0?Ae(ct):Ae(pt,!1)})}y(Xe,Re)};H(le,Xe=>{!r(Q)||!r(Q).length?Xe(Se):Xe(Ue,!1)},!0)}y(z,V)};H(At,z=>{n()?z(Qt,!1):z(kt)})}y(e,Vt),yn()}er(["change"]);function Cl(e){return e.replace(/\s+/g," ").trim()}const z_=/(,?\s*(arr\.?|arrangement|arrang\.?|bearb\.?|bearbeidet|trans\.?|transcribed|transkr\.?|transponert)\b[^,;]*)/gi;function B_(e){return e.replace(z_,"").trim()}function ti(e){if(!e)return[];const t=B_(e);if(!t)return[];const i=t.replace(/\s+(?:og|and)\s+/gi,",").replace(/[&/·]/g,",").split(/[;,]/).map(a=>Cl(a)).filter(a=>a.length>0),s=new Map;for(const a of i){const o=a.toLowerCase();s.has(o)||s.set(o,a)}return Array.from(s.values())}var U_=L('<a class="composer-link svelte-18hgr5c"> </a> ',1),Y_=L('<p class="piece-composer svelte-18hgr5c"></p>'),V_=L('<p class="piece-composer svelte-18hgr5c"> </p>'),H_=L('<p class="trophy-summary svelte-18hgr5c"> </p>'),K_=(e,t)=>t("year"),X_=(e,t)=>t("division"),G_=(e,t)=>t("band"),W_=(e,t)=>t("rank"),Z_=(e,t)=>t("points"),J_=(e,t)=>t("conductor"),Q_=L('<a class="entity-link svelte-18hgr5c"> </a>'),eg=L("<span>Ukjent</span>"),tg=L('<a target="_blank" rel="noopener noreferrer" class="streaming-link spotify svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Spotify</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M16.88 16.13a.75.75 0 0 0-1.03-.26c-2.36 1.43-5.48 1.8-9.09 1.04a.75.75 0 1 0-.3 1.47c3.96.81 7.47.39 10.05-1.12a.75.75 0 0 0 .37-.37.75.75 0 0 0 0-.76z" fill="currentColor"></path><path d="M16.1 13.69c-2.01 1.2-4.92 1.55-8.16.9a.75.75 0 0 0-.29 1.47c3.56.71 6.91.31 9.27-1.08a.75.75 0 0 0-.77-1.29h-.05z" fill="currentColor" opacity="0.8"></path><path d="M15.24 11.12c-1.76 1.04-4.31 1.34-7.15.79a.75.75 0 0 0-.29 1.47c3.15.6 6.02.27 8.07-.96a.75.75 0 0 0-.77-1.3h-.04z" fill="currentColor" opacity="0.6"></path></svg></a>'),ng=L('<a target="_blank" rel="noopener noreferrer" class="streaming-link apple svelte-18hgr5c"><span class="sr-only svelte-18hgr5c">Hør på Apple Music</span> <svg class="streaming-icon svelte-18hgr5c" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><circle cx="12" cy="12" r="10.5" opacity="0.15" fill="currentColor"></circle><path d="M14.75 6.75a.75.75 0 0 1 .75.75v6.33a2.92 2.92 0 1 1-1.5-2.54V9.25h-1.5A.75.75 0 0 1 12 8.5v-1a.75.75 0 0 1 .75-.75z" fill="currentColor"></path><path d="M9.75 13.75a.75.75 0 0 1 .75.75c0 .69.56 1.25 1.25 1.25s1.25-.56 1.25-1.25a.75.75 0 0 1 1.5 0 2.75 2.75 0 1 1-5.5 0 .75.75 0 0 1 .75-.75z" fill="currentColor" opacity="0.8"></path></svg></a>'),rg=L('<div class="streaming-links svelte-18hgr5c"><!> <!></div>'),ig=L('<span class="streaming-missing svelte-18hgr5c" aria-hidden="true">–</span>'),sg=L('<tr class="svelte-18hgr5c"><td data-label="År" class="svelte-18hgr5c"> </td><td data-label="Divisjon" class="svelte-18hgr5c"> </td><td data-label="Korps" class="svelte-18hgr5c"><a class="entity-link svelte-18hgr5c"> </a></td><td data-label="Plass" class="rank-col svelte-18hgr5c"> </td><td data-label="Poeng" class="svelte-18hgr5c"> </td><td data-label="Dirigent" class="svelte-18hgr5c"><!></td><td data-label="Opptak" class="streaming-cell svelte-18hgr5c"><!></td></tr>'),ag=L('<article class="piece-card svelte-18hgr5c"><header class="piece-header svelte-18hgr5c"><div><h2 class="svelte-18hgr5c"> </h2> <!> <!> <p class="piece-count svelte-18hgr5c"> </p></div></header> <div class="table-wrapper svelte-18hgr5c" role="region"><table class="svelte-18hgr5c"><thead class="svelte-18hgr5c"><tr><th scope="col" class="sortable svelte-18hgr5c">År<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="sortable svelte-18hgr5c">Divisjon<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="sortable svelte-18hgr5c">Korps<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="sortable svelte-18hgr5c">Plass<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="sortable svelte-18hgr5c">Poeng<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="sortable svelte-18hgr5c">Dirigent<span class="sort-indicator svelte-18hgr5c"> </span></th><th scope="col" class="streaming-column svelte-18hgr5c">Opptak</th></tr></thead><tbody class="svelte-18hgr5c"></tbody></table></div></article>'),og=L('<section class="pieces-view svelte-18hgr5c"></section>');function lg(e,t){mn(t,!0);let n=bt(t,"pieces",19,()=>[]),i=bt(t,"bandType",3,"wind");const s=new Intl.NumberFormat("nb-NO",{minimumFractionDigits:1,maximumFractionDigits:1});let a=ae("year"),o=ae("asc");function l(B,w,T){const N=B==null||B==="",q=w==null||w==="";if(N&&q)return 0;if(N)return 1;if(q)return-1;let k;return typeof B=="number"&&typeof w=="number"?k=B-w:k=String(B).localeCompare(String(w),"nb",{numeric:!0,sensitivity:"base"}),T==="asc"?k:-k}function c(B,w,T){return B!==w?"none":T==="asc"?"ascending":"descending"}function u(B,w,T){return B!==w?"":T==="asc"?" ▲":" ▼"}function f(B){r(a)===B?A(o,r(o)==="asc"?"desc":"asc",!0):(A(a,B,!0),A(o,B==="points"?"desc":"asc",!0))}function v(B){if(!B)return 999;const w=B.toLowerCase();return w==="elite"?0:w.includes("1.")||w==="1"?1:w.includes("2.")||w==="2"?2:w.includes("3.")||w==="3"?3:w.includes("4.")||w==="4"?4:w.includes("5.")||w==="5"?5:w.includes("6.")||w==="6"?6:10}function h(B,w){switch(w){case"year":return B.entry.year;case"division":return v(B.entry.division??null);case"band":return B.band??null;case"rank":return B.entry.rank??B.entry.absolute_position??null;case"points":return B.entry.points??null;case"conductor":return B.entry.conductor??null}}function b(B){const w=[...B];return w.sort((T,N)=>{const q=l(h(T,r(a)),h(N,r(a)),r(o));return q!==0?q:l(T.entry.year,N.entry.year,"asc")}),w}function m(B){return B.composerNames&&B.composerNames.length>0?B.composerNames:B.composer?ti(B.composer):[]}function D(B){return B==null?"–":s.format(B)}function $(B){return B!=null?`${B}`:"–"}function K(B){return!!(B?.spotify||B?.apple_music)}function Z(B){if(!B)return null;const w=B.trim();if(!w)return null;if(!/^https?:\/\//i.test(w))return w;try{const T=new URL(w);return`music://${`${T.host}${T.pathname}${T.search}${T.hash}`}`}catch(T){return console.warn("Kunne ikke konvertere Apple Music-lenke",T),w}}function Q(B,w,T){if(!w)return B;const N=w.recording_title?.trim(),q=w.album?.trim(),k=T==="spotify"?"Spotify":"Apple Music",U=N&&N.length>0?N:B;return q&&q.length>0?`${U} • ${q} (${k})`:`${U} (${k})`}let oe=O(()=>n().map(B=>({...B,performances:b(B.performances)})));var ne=og();et(ne,21,()=>r(oe),st,(B,w)=>{const T=O(()=>m(r(w))),N=O(()=>aa(r(w).performances.map(qe=>qe.entry))),q=O(()=>oa(r(N)));var k=ag(),U=d(k),re=d(U),M=d(re),Ne=d(M),ve=g(M,2);{var rt=qe=>{var Ce=Y_();et(Ce,21,()=>r(T),st,(Ge,ct,pt)=>{var Ae=U_(),_e=$e(Ae),Ye=d(_e),Fe=g(_e,1,!0);W(je=>{Y(_e,"href",je),R(Ye,r(ct)),R(Fe,pt<r(T).length-1?", ":"")},[()=>`?type=${i()}&view=composers&composer=${encodeURIComponent(Qe(r(ct)))}`]),y(Ge,Ae)}),y(qe,Ce)},ut=qe=>{var Ce=Be(),Ge=$e(Ce);{var ct=pt=>{var Ae=V_(),_e=d(Ae);W(()=>R(_e,r(w).composer)),y(pt,Ae)};H(Ge,pt=>{r(w).composer&&pt(ct)},!0)}y(qe,Ce)};H(ve,qe=>{r(T).length>0?qe(rt):qe(ut,!1)})}var at=g(ve,2);{var Et=qe=>{var Ce=H_(),Ge=d(Ce);W(()=>R(Ge,r(q))),y(qe,Ce)};H(at,qe=>{r(q)&&qe(Et)})}var Yt=g(at,2),Nt=d(Yt),dt=g(U,2),ot=d(dt),Vt=d(ot),At=d(Vt),kt=d(At);kt.__click=[K_,f];var Qt=g(d(kt)),z=d(Qt),V=g(kt);V.__click=[X_,f];var le=g(d(V)),Se=d(le),Ue=g(V);Ue.__click=[G_,f];var Xe=g(d(Ue)),Re=d(Xe),Ze=g(Ue);Ze.__click=[W_,f];var ht=g(d(Ze)),vt=d(ht),jt=g(Ze);jt.__click=[Z_,f];var xt=g(d(jt)),ft=d(xt),Je=g(jt);Je.__click=[J_,f];var Te=g(d(Je)),lt=d(Te),qt=g(Vt);et(qt,21,()=>r(w).performances,st,(qe,Ce)=>{const Ge=O(()=>r(Ce).entry.conductor?.trim()??""),ct=O(()=>r(Ge).length>0),pt=O(()=>r(ct)?Qe(r(Ge)):""),Ae=O(()=>Qe(r(Ce).band)),_e=O(()=>r(Ce).streaming??null);var Ye=sg(),Fe=d(Ye),je=d(Fe),tt=g(Fe),it=d(tt),be=g(tt),nt=d(be),St=d(nt),yt=g(be),Mt=d(yt),Pt=g(yt),wt=d(Pt),$t=g(Pt),It=d($t);{var Tt=p=>{var C=Q_(),E=d(C);W(F=>{Y(C,"href",F),R(E,r(Ge))},[()=>`?type=${i()}&view=conductors&conductor=${encodeURIComponent(r(pt))}`]),y(p,C)},Dt=p=>{var C=eg();y(p,C)};H(It,p=>{r(ct)?p(Tt):p(Dt,!1)})}var Ft=g($t),Pe=d(Ft);{var Ee=p=>{var C=rg(),E=d(C);{var F=G=>{var se=tg();W(ge=>{Y(se,"href",r(_e).spotify),Y(se,"title",ge)},[()=>Q(r(w).name,r(_e),"spotify")]),y(G,se)};H(E,G=>{r(_e)?.spotify&&G(F)})}var j=g(E,2);{var ee=G=>{const se=O(()=>Z(r(_e).apple_music));var ge=Be(),ke=$e(ge);{var fe=ue=>{var Le=ng();W(xe=>{Y(Le,"href",r(se)),Y(Le,"title",xe)},[()=>Q(r(w).name,r(_e),"apple")]),y(ue,Le)};H(ke,ue=>{r(se)&&ue(fe)})}y(G,ge)};H(j,G=>{r(_e)?.apple_music&&G(ee)})}y(p,C)},x=p=>{var C=ig();y(p,C)};H(Pe,p=>{K(r(_e))?p(Ee):p(x,!1)})}W((p,C,E,F)=>{R(je,r(Ce).entry.year),R(it,r(Ce).entry.division),Y(nt,"href",p),R(St,r(Ce).band),R(Mt,`${C??""}${E??""}`),R(wt,F)},[()=>`?type=${i()}&view=bands&band=${encodeURIComponent(r(Ae))}`,()=>sa(r(Ce).entry.rank),()=>$(r(Ce).entry.rank),()=>D(r(Ce).entry.points)]),y(qe,Ye)}),W((qe,Ce,Ge,ct,pt,Ae,_e,Ye,Fe,je,tt,it)=>{R(Ne,r(w).name),R(Nt,`${r(w).performances.length??""} fremføringer`),Y(dt,"aria-label",`Fremføringer av ${r(w).name}`),Y(kt,"aria-sort",qe),R(z,Ce),Y(V,"aria-sort",Ge),R(Se,ct),Y(Ue,"aria-sort",pt),R(Re,Ae),Y(Ze,"aria-sort",_e),R(vt,Ye),Y(jt,"aria-sort",Fe),R(ft,je),Y(Je,"aria-sort",tt),R(lt,it)},[()=>c(r(a),"year",r(o)),()=>u(r(a),"year",r(o)),()=>c(r(a),"division",r(o)),()=>u(r(a),"division",r(o)),()=>c(r(a),"band",r(o)),()=>u(r(a),"band",r(o)),()=>c(r(a),"rank",r(o)),()=>u(r(a),"rank",r(o)),()=>c(r(a),"points",r(o)),()=>u(r(a),"points",r(o)),()=>c(r(a),"conductor",r(o)),()=>u(r(a),"conductor",r(o))]),y(B,k)}),y(e,ne),yn()}er(["click"]);var cg=L('<li class="svelte-1njzana"><a class="svelte-1njzana"> </a></li>'),ug=L('<article class="composer-card svelte-1njzana"><header class="composer-header svelte-1njzana"><div><h2 class="svelte-1njzana"> </h2> <p class="svelte-1njzana"> </p></div></header> <ul class="svelte-1njzana"></ul></article>'),fg=L('<section class="composers-view svelte-1njzana"></section>');function dg(e,t){mn(t,!0);let n=bt(t,"composers",19,()=>[]),i=bt(t,"bandType",3,"wind"),s=O(()=>[...n()].sort((o,l)=>o.name.localeCompare(l.name)));var a=fg();et(a,21,()=>r(s),st,(o,l)=>{var c=ug(),u=d(c),f=d(u),v=d(f),h=d(v),b=g(v,2),m=d(b),D=g(u,2);et(D,21,()=>r(l).pieces,st,($,K)=>{var Z=cg(),Q=d(Z),oe=d(Q);W(ne=>{Y(Q,"href",ne),R(oe,r(K).name)},[()=>`?type=${i()}&view=pieces&piece=${encodeURIComponent(r(K).slug)}`]),y($,Z)}),W(()=>{R(h,r(l).name),R(m,`${r(l).pieces.length??""} ${r(l).pieces.length===1?"stykke":"stykker"}`)}),y(o,c)}),y(e,a),yn()}function vg(e,t){A(t,1)}function hg(e,t,n,i,s,a,o,l,c){A(t,""),A(n,null),A(i,null),A(s,null),A(a,null),A(o,null),A(l,null),A(c,1)}var pg=L('<div class="loading svelte-1ns3hxx">Laster repertoar...</div>'),_g=L('<div class="error svelte-1ns3hxx"> </div>'),gg=(e,t)=>t("title"),mg=(e,t)=>t("composer"),yg=(e,t)=>t("duration"),bg=(e,t)=>t("difficulty"),xg=(e,t)=>t("year"),wg=L('<tr class="svelte-1ns3hxx"><td class="title-cell svelte-1ns3hxx" data-label="Tittel"> </td><td class="composer-cell svelte-1ns3hxx" data-label="Komponist"> </td><td class="duration-cell svelte-1ns3hxx" data-label="Varighet"> </td><td class="difficulty-cell svelte-1ns3hxx" data-label="Grad"> </td><td class="year-cell svelte-1ns3hxx" data-label="År"> </td><td class="link-cell svelte-1ns3hxx" data-label="Link"><a target="_blank" rel="noopener noreferrer" class="svelte-1ns3hxx">WindRep</a></td></tr>'),kg=(e,t)=>A(t,Math.max(1,r(t)-1),!0),Sg=(e,t,n)=>A(t,Math.min(r(n),r(t)+1),!0),Eg=L('<div class="pagination svelte-1ns3hxx"><button class="svelte-1ns3hxx">‹ Forrige</button> <span class="page-info svelte-1ns3hxx"> </span> <button class="svelte-1ns3hxx">Neste ›</button></div>'),Ag=L('<div class="filters-container svelte-1ns3hxx"><div class="search-row svelte-1ns3hxx"><div class="search-group svelte-1ns3hxx"><input type="text" placeholder="Søk..." class="search-input svelte-1ns3hxx"/> <select class="search-field-select svelte-1ns3hxx"><option>Tittel</option><option>Komponist</option></select></div></div> <div class="filter-row svelte-1ns3hxx"><div class="filter-group svelte-1ns3hxx"><label for="duration-min" class="svelte-1ns3hxx">Varighet (min)</label> <div class="range-inputs svelte-1ns3hxx"><input id="duration-min" type="number" placeholder="Min" min="0" max="60" class="svelte-1ns3hxx"/> <span class="svelte-1ns3hxx">—</span> <input id="duration-max" type="number" placeholder="Maks" min="0" max="60" class="svelte-1ns3hxx"/></div></div> <div class="filter-group svelte-1ns3hxx"><label for="difficulty-min" class="svelte-1ns3hxx">Vanskelighetsgrad (1-6)</label> <div class="range-inputs svelte-1ns3hxx"><input id="difficulty-min" type="number" placeholder="Min" min="1" max="6" class="svelte-1ns3hxx"/> <span class="svelte-1ns3hxx">—</span> <input id="difficulty-max" type="number" placeholder="Maks" min="1" max="6" class="svelte-1ns3hxx"/></div></div> <div class="filter-group svelte-1ns3hxx"><label for="year-min" class="svelte-1ns3hxx">År</label> <div class="range-inputs svelte-1ns3hxx"><input id="year-min" type="number" placeholder="Fra" min="1770" max="2025" class="svelte-1ns3hxx"/> <span class="svelte-1ns3hxx">—</span> <input id="year-max" type="number" placeholder="Til" min="1770" max="2025" class="svelte-1ns3hxx"/></div></div> <button class="reset-button svelte-1ns3hxx">Nullstill</button></div> <div class="results-info svelte-1ns3hxx"><span> </span> <div class="page-size-selector svelte-1ns3hxx"><label for="page-size-select" class="svelte-1ns3hxx">Vis:</label> <select id="page-size-select" class="svelte-1ns3hxx"><option>20</option><option>50</option><option>100</option></select></div></div></div> <div class="table-container svelte-1ns3hxx"><table class="repertoire-table svelte-1ns3hxx"><thead class="svelte-1ns3hxx"><tr><th> </th><th> </th><th> </th><th> </th><th> </th><th class="svelte-1ns3hxx">Link</th></tr></thead><tbody class="svelte-1ns3hxx"></tbody></table></div> <!>',1),Mg=L('<div class="repertoire-explorer svelte-1ns3hxx"><!></div>');function $g(e,t){mn(t,!0);let n=ae(null),i=ae(!0),s=ae(null),a=ae(""),o=ae("title"),l=ae(null),c=ae(null),u=ae(null),f=ae(null),v=ae(null),h=ae(null),b=ae(50),m=ae(1),D=ae("title"),$=ae("asc"),K=O(()=>{if(!r(n))return[];let k=r(n).pieces.filter(U=>{if(r(a).trim()){const re=r(a).toLowerCase();if(r(o)==="title"){if(!U.title.toLowerCase().includes(re))return!1}else if(!U.composer?.toLowerCase().includes(re))return!1}return!(r(l)!==null&&(U.duration_minutes===null||U.duration_minutes<r(l))||r(c)!==null&&(U.duration_minutes===null||U.duration_minutes>r(c))||r(u)!==null&&(U.difficulty===null||U.difficulty<r(u))||r(f)!==null&&(U.difficulty===null||U.difficulty>r(f))||r(v)!==null&&(U.max_year===null||U.max_year<r(v))||r(h)!==null&&(U.min_year===null||U.min_year>r(h)))});return k.sort((U,re)=>{let M,Ne;switch(r(D)){case"title":M=U.title.toLowerCase(),Ne=re.title.toLowerCase();break;case"composer":M=(U.composer||"").toLowerCase(),Ne=(re.composer||"").toLowerCase();break;case"duration":M=U.duration_minutes??-1,Ne=re.duration_minutes??-1;break;case"difficulty":M=U.difficulty??-1,Ne=re.difficulty??-1;break;case"year":M=U.min_year??-1,Ne=re.min_year??-1;break;default:return 0}return M<Ne?r($)==="asc"?-1:1:M>Ne?r($)==="asc"?1:-1:0}),k}),Z=O(()=>{const k=(r(m)-1)*r(b),U=k+r(b);return r(K).slice(k,U)}),Q=O(()=>Math.ceil(r(K).length/r(b)));function oe(k){r(D)===k?A($,r($)==="asc"?"desc":"asc",!0):(A(D,k,!0),A($,"asc")),A(m,1)}function ne(k){if(k===null)return"—";const U=Math.floor(k),re=Math.round((k-U)*60);return`${U}:${re.toString().padStart(2,"0")}`}function B(k){return!k||k.length===0?"—":k.length===1?k[0].toString():`${k[0]}–${k[k.length-1]}`}Wn(async()=>{if(typeof window>"u"){A(i,!1);return}try{const k=await fetch("data/repertoire.json");if(!k.ok)throw new Error(`Failed to load repertoire data: ${k.statusText}`);A(n,await k.json(),!0)}catch(k){A(s,k instanceof Error?k.message:"Unknown error",!0),console.error("Failed to load repertoire:",k)}finally{A(i,!1)}});var w=Mg(),T=d(w);{var N=k=>{var U=pg();y(k,U)},q=k=>{var U=Be(),re=$e(U);{var M=ve=>{var rt=_g(),ut=d(rt);W(()=>R(ut,`Feil ved lasting av data: ${r(s)??""}`)),y(ve,rt)},Ne=ve=>{var rt=Be(),ut=$e(rt);{var at=Et=>{var Yt=Ag(),Nt=$e(Yt),dt=d(Nt),ot=d(dt),Vt=d(ot),At=g(Vt,2),kt=d(At);kt.value=kt.__value="title";var Qt=g(kt);Qt.value=Qt.__value="composer";var z=g(dt,2),V=d(z),le=g(d(V),2),Se=d(le),Ue=g(Se,4),Xe=g(V,2),Re=g(d(Xe),2),Ze=d(Re),ht=g(Ze,4),vt=g(Xe,2),jt=g(d(vt),2),xt=d(jt),ft=g(xt,4),Je=g(vt,2);Je.__click=[hg,a,l,c,u,f,v,h,m];var Te=g(z,2),lt=d(Te),qt=d(lt),qe=g(lt,2),Ce=g(d(qe),2);Ce.__change=[vg,m];var Ge=d(Ce);Ge.value=Ge.__value=20;var ct=g(Ge);ct.value=ct.__value=50;var pt=g(ct);pt.value=pt.__value=100;var Ae=g(Nt,2),_e=d(Ae),Ye=d(_e),Fe=d(Ye),je=d(Fe);je.__click=[gg,oe];let tt;var it=d(je),be=g(je);be.__click=[mg,oe];let nt;var St=d(be),yt=g(be);yt.__click=[yg,oe];let Mt;var Pt=d(yt),wt=g(yt);wt.__click=[bg,oe];let $t;var It=d(wt),Tt=g(wt);Tt.__click=[xg,oe];let Dt;var Ft=d(Tt),Pe=g(Ye);et(Pe,21,()=>r(Z),p=>p.url,(p,C)=>{var E=wg(),F=d(E),j=d(F),ee=g(F),G=d(ee),se=g(ee),ge=d(se),ke=g(se),fe=d(ke),ue=g(ke),Le=d(ue),xe=g(ue),ce=d(xe);W((Me,Oe)=>{R(j,r(C).title),R(G,r(C).composer||"—"),R(ge,Me),R(fe,r(C).difficulty_roman||"—"),R(Le,Oe),Y(ce,"href",r(C).url)},[()=>ne(r(C).duration_minutes),()=>B(r(C).years)]),y(p,E)});var Ee=g(Ae,2);{var x=p=>{var C=Eg(),E=d(C);E.__click=[kg,m];var F=g(E,2),j=d(F),ee=g(F,2);ee.__click=[Sg,m,Q],W(()=>{E.disabled=r(m)===1,R(j,`Side ${r(m)??""} av ${r(Q)??""}`),ee.disabled=r(m)===r(Q)}),y(p,C)};H(Ee,p=>{r(Q)>1&&p(x)})}W((p,C,E,F,j)=>{R(qt,`${r(K).length??""} stykker`),tt=Gt(je,1,"svelte-1ns3hxx",null,tt,p),R(it,`Tittel ${r(D)==="title"?r($)==="asc"?"▲":"▼":""}`),nt=Gt(be,1,"svelte-1ns3hxx",null,nt,C),R(St,`Komponist ${r(D)==="composer"?r($)==="asc"?"▲":"▼":""}`),Mt=Gt(yt,1,"svelte-1ns3hxx",null,Mt,E),R(Pt,`Varighet ${r(D)==="duration"?r($)==="asc"?"▲":"▼":""}`),$t=Gt(wt,1,"svelte-1ns3hxx",null,$t,F),R(It,`Grad ${r(D)==="difficulty"?r($)==="asc"?"▲":"▼":""}`),Dt=Gt(Tt,1,"svelte-1ns3hxx",null,Dt,j),R(Ft,`År ${r(D)==="year"?r($)==="asc"?"▲":"▼":""}`)},[()=>({sorted:r(D)==="title"}),()=>({sorted:r(D)==="composer"}),()=>({sorted:r(D)==="duration"}),()=>({sorted:r(D)==="difficulty"}),()=>({sorted:r(D)==="year"})]),Xn(Vt,()=>r(a),p=>A(a,p)),ka(At,()=>r(o),p=>A(o,p)),Xn(Se,()=>r(l),p=>A(l,p)),Xn(Ue,()=>r(c),p=>A(c,p)),Xn(Ze,()=>r(u),p=>A(u,p)),Xn(ht,()=>r(f),p=>A(f,p)),Xn(xt,()=>r(v),p=>A(v,p)),Xn(ft,()=>r(h),p=>A(h,p)),ka(Ce,()=>r(b),p=>A(b,p)),y(Et,Yt)};H(ut,Et=>{r(n)&&Et(at)},!0)}y(ve,rt)};H(re,ve=>{r(s)?ve(M):ve(Ne,!1)},!0)}y(k,U)};H(T,k=>{r(i)?k(N):k(q,!1)})}y(e,w),yn()}er(["click","change"]);var Cg=(e,t)=>t.onSelect("wind"),Ng=(e,t)=>t.onSelect("brass"),Pg=L('<div class="startup-screen svelte-c1vyj8"><div class="startup-content svelte-c1vyj8"><h1 class="svelte-c1vyj8">NM Korps</h1> <p class="subtitle svelte-c1vyj8">Resultatoversikt</p> <div class="choice-container svelte-c1vyj8"><button class="choice-button choice-button--janitsjar svelte-c1vyj8"><span class="choice-icon svelte-c1vyj8" aria-hidden="true">🎷</span> <span class="choice-title svelte-c1vyj8">NM Janitsjar</span> <span class="choice-description svelte-c1vyj8">Norges janitsjarkorps</span></button> <button class="choice-button choice-button--brass svelte-c1vyj8"><span class="choice-icon svelte-c1vyj8" aria-hidden="true">🎺</span> <span class="choice-title svelte-c1vyj8">NM Brass</span> <span class="choice-description svelte-c1vyj8">Norges brassband</span></button></div></div></div>');function Tg(e,t){mn(t,!0);var n=Pg(),i=d(n),s=g(d(i),4),a=d(s);a.__click=[Cg,t];var o=g(a,2);o.__click=[Ng,t],y(e,n),yn()}er(["click"]);var Lg=L(`<div class="about-page svelte-nmuxfl"><section class="about-section svelte-nmuxfl"><h2 class="svelte-nmuxfl">Om denne appen</h2> <p class="svelte-nmuxfl"> </p></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Datakilder</h3> <ul class="svelte-nmuxfl"><li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Konkurransedata:</strong> Hentet fra <a href="https://nmjanitsjar.no" target="_blank" rel="noopener noreferrer" class="svelte-nmuxfl">nmjanitsjar.no</a> og <a href="https://nmbrass.no" target="_blank" rel="noopener noreferrer" class="svelte-nmuxfl">nmbrass.no</a> sine rikholdige arkiver over NM-prestasjoner.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Repertoardatabase:</strong> Bygget på bakgrunn av data fra <a href="https://windrep.org" target="_blank" rel="noopener noreferrer" class="svelte-nmuxfl">windrep.org</a>, 
        som gir informasjon om komponister, vanskelighetsgrad og varighet for janitsjarmusikk.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Musikkopptak:</strong> Lenker er knyttet fra NM-stykkene til utgivelsene av NM-musikk på <strong class="svelte-nmuxfl">Spotify</strong> og <strong class="svelte-nmuxfl">Apple Music</strong> der dette er tilgjengelig.</li></ul></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Funksjoner</h3> <h4 class="svelte-nmuxfl">Sammenligning av korps</h4> <p class="svelte-nmuxfl">På korps-siden kan du sammenligne så mange korps du vil. Grafen viser hvordan den samlede plasseringen 
      utvikler seg år for år, på tvers av alle divisjoner korpset har deltatt i.</p> <h4 class="svelte-nmuxfl">Sammenligning av dirigenter</h4> <p class="svelte-nmuxfl">Du kan også sammenligne dirigenter. Det du sammenligner da er det beste korpset til hver dirigent 
      i de årene dirigentene har vært aktive i NM. Dette gir deg et bilde av dirigentens beste prestasjoner 
      gjennom karrieren.</p> <h4 class="svelte-nmuxfl">Musikkstykker og komponister</h4> <p class="svelte-nmuxfl">Du kan liste alle gangene et stykke har vært fremført i NM, samt se alle komponistene som har 
      vært brukt i NM-sammenheng. Dette gir deg oversikt over repertoaret og hvilke komponister 
      som er mest populære.</p> <h4 class="svelte-nmuxfl">Resultatlister</h4> <p class="svelte-nmuxfl">På resultat-siden kan du velge et spesifikt år og en divisjon for å se den komplette resultatlisten 
      med korps, dirigenter, program og poengsum.</p> <h4 class="svelte-nmuxfl">Sortering av tabeller</h4> <p class="svelte-nmuxfl">Alle tabeller kan sorteres ved å klikke på kolonneoverskriftene. Klikk én gang for å sortere, 
      og klikk igjen for å reversere sorteringsrekkefølgen. Tabeller sorteres som standard på år, 
      men du kan sortere på alle kolonner som år, divisjon, plass, poeng og dirigent/korps. 
      Divisjoner sorteres fra Elite til 1., 2., 3. divisjon osv.</p> <h4 class="svelte-nmuxfl">Opprykk og nedrykk</h4> <p class="svelte-nmuxfl">I resultatlisten vises korps som rykker opp med <span class="indicator-promote svelte-nmuxfl">grønn bakgrunn</span> og korps som rykker ned med <span class="indicator-demote svelte-nmuxfl">rød bakgrunn</span>. 
      De tre beste plassene i hver divisjon markeres med troféer: 🥇 gull, 🥈 sølv, og 🥉 bronse.</p> <p class="svelte-nmuxfl">Elitedivisjonen viser kun nedrykk (ingen opprykk mulig), mens den laveste divisjonen kun viser 
      opprykk (ingen nedrykk). For år uten definerte regler vises ingen fargemarkering.</p></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Navigasjon og innstillinger</h3> <ul class="svelte-nmuxfl"><li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Bytt mellom visninger:</strong> Bruk knappene øverst for å navigere mellom korps, dirigenter, 
        stykker, komponister, repertoar og resultatlister.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Valg bevares:</strong> Appen husker alle valg du har gjort når du navigerer mellom sidene. 
        Når du bytter mellom janitsjar og brass, nullstilles alle valg.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Tema:</strong> Du kan velge mellom lyst og mørkt modus ved å trykke på tema-knappen 
        (☀️/🌙) i menyen. Valget ditt lagres og gjenbrukes neste gang du besøker siden.</li> <li class="svelte-nmuxfl"><strong class="svelte-nmuxfl">Delbare lenker:</strong> URL-en oppdateres basert på dine valg, så du kan dele lenker 
        til spesifikke sammenligninger eller resultatlister med andre.</li></ul></section> <section class="about-section svelte-nmuxfl"><h3 class="svelte-nmuxfl">Tips</h3> <ul class="svelte-nmuxfl"><li class="svelte-nmuxfl">På mobil kan du bruke hamburgermenyen (☰) for å få tilgang til alle navigasjonsalternativer.</li> <li class="svelte-nmuxfl">Klikk på korpsnavn, dirigenter eller stykker i tabellene for å legge dem til i sammenligningen.</li> <li class="svelte-nmuxfl">Bruk «Tilpass»-menyen på graf-siden for å bytte mellom absolutt og relativ plassering.</li> <li class="svelte-nmuxfl">Musikkopptak vises med Spotify- og Apple Music-ikoner der lenker er tilgjengelige.</li></ul></section> <section class="about-section about-footer svelte-nmuxfl"><p class="svelte-nmuxfl">Har du spørsmål, tilbakemeldinger eller har funnet feil i dataene? 
      Ta gjerne kontakt via nettstedene til NM janitsjar eller NM brass.</p></section></div>`);function Ig(e,t){let n=bt(t,"bandType",3,"wind");var i=Lg(),s=d(i),a=g(d(s),2),o=d(a);W(()=>R(o,`Denne appen lar deg utforske historiske resultater fra NM ${n()==="wind"?"janitsjar":"brass"}. 
      Du kan sammenligne korps, dirigenter og musikkstykker på tvers av år og divisjoner.`)),y(e,i)}var Rg=(e,t,n)=>{r(t)||n()},jg=(e,t,n)=>{r(t)&&n()},qg=L('<div class="toggle-switch svelte-sz7h13" role="group"><button type="button"> </button> <button type="button"> </button> <div></div></div>');function ms(e,t){mn(t,!0);let n=bt(t,"value",15);const i=iu();function s(){const D=n()===t.options[0]?t.options[1]:t.options[0];n(D),i("change",{value:D})}let a=O(()=>n()===t.options[0]);var o=qg(),l=d(o);let c;l.__click=[Rg,a,s];var u=d(l),f=g(l,2);let v;f.__click=[jg,a,s];var h=d(f),b=g(f,2);let m;W((D,$,K)=>{Y(o,"aria-label",t.ariaLabel),c=Gt(l,1,"toggle-switch__option svelte-sz7h13",null,c,D),Y(l,"aria-pressed",r(a)),R(u,t.labels[0]),v=Gt(f,1,"toggle-switch__option svelte-sz7h13",null,v,$),Y(f,"aria-pressed",!r(a)),R(h,t.labels[1]),m=Gt(b,1,"toggle-switch__slider svelte-sz7h13",null,m,K)},[()=>({active:r(a)}),()=>({active:!r(a)}),()=>({"toggle-switch__slider--right":!r(a)})]),y(e,o),yn()}er(["click"]);var Dg=L(`<section class="settings-page svelte-1rli9n1"><header class="settings-header svelte-1rli9n1"><h2 class="svelte-1rli9n1">Innstillinger</h2> <p class="settings-lead svelte-1rli9n1">Tilpass visningen av diagrammer og tema. Endringer lagres automatisk og gjelder for alle visninger.</p></header> <div class="settings-grid svelte-1rli9n1"><div class="setting-card svelte-1rli9n1"><div class="setting-info svelte-1rli9n1"><h3 class="svelte-1rli9n1">Plassering</h3> <p class="svelte-1rli9n1">Velg hvordan plasseringer vises i diagrammet. <strong>Relativ</strong> viser plassering som prosent av 
          antall deltakere (f.eks. 10% = topp 10%). <strong>Absolutt</strong> viser faktisk plasseringsnummer 
          (f.eks. 3. plass).</p></div> <div class="setting-control svelte-1rli9n1"><!></div></div> <div class="setting-card svelte-1rli9n1"><div class="setting-info svelte-1rli9n1"><h3 class="svelte-1rli9n1">Y-akse</h3> <p class="svelte-1rli9n1">Velg hvordan Y-aksen skaleres. <strong>Tilpasset</strong> zoomer inn på de faktiske plasseringene 
          for bedre detaljer. <strong>Full</strong> viser hele skalaen fra beste til dårligste mulige plassering.</p></div> <div class="setting-control svelte-1rli9n1"><!></div></div> <div class="setting-card svelte-1rli9n1"><div class="setting-info svelte-1rli9n1"><h3 class="svelte-1rli9n1">Tema</h3> <p class="svelte-1rli9n1">Velg fargetema for appen. <strong>Mørkt</strong> tema er bedre for svakt lys og sparer batteri på OLED-skjermer. <strong>Lyst</strong> tema er bedre i sterkt lys.</p></div> <div class="setting-control svelte-1rli9n1"><!></div></div></div></section>`);function Fg(e,t){mn(t,!0);let n=bt(t,"yAxisMode",15),i=bt(t,"yAxisScale",15),s=bt(t,"theme",15),a=!1;hn(()=>{if(!a){kr(()=>{n(),a=!0});return}t.onYAxisModeChange?.(n())}),hn(()=>{a&&t.onYAxisScaleChange?.(i())}),hn(()=>{a&&t.onThemeChange?.(s())});var o=Dg(),l=g(d(o),2),c=d(l),u=g(d(c),2),f=d(u);ms(f,{options:["absolute","relative"],labels:["Absolutt","Relativ"],ariaLabel:"Velg plasseringsvisning",get value(){return n()},set value(K){n(K)}});var v=g(c,2),h=g(d(v),2),b=d(h);ms(b,{options:["fitted","full"],labels:["Tilpasset","Full"],ariaLabel:"Velg Y-akse skalering",get value(){return i()},set value(K){i(K)}});var m=g(v,2),D=g(d(m),2),$=d(D);ms($,{options:["dark","light"],labels:["Mørkt","Lyst"],ariaLabel:"Velg fargetema",get value(){return s()},set value(K){s(K)}}),y(e,o),yn()}function $i(e,t){if(typeof window>"u")return t;try{return window.localStorage.getItem(e)??t}catch(n){return console.error(`Could not read from localStorage (key: ${e})`,n),t}}function Ci(e,t){if(!(typeof window>"u"))try{window.localStorage.setItem(e,t)}catch(n){console.error(`Could not write to localStorage (key: ${e})`,n)}}const Kn={THEME:"nmkorps-theme",BAND_TYPE:"nmkorps-band-type",YAXIS_MODE:"nmkorps-yaxis-mode",YAXIS_SCALE:"nmkorps-yaxis-scale"};function Og(e,t){A(t,!r(t))}function zg(e,t,n,i,s,a){r(t)!==null&&(n(r(t)==="wind"?"brass":"wind"),i(),s(),a())}function Bg(e,t,n){A(t,e.target.value,!0),A(n,-1)}function Ug(e,t,n,i){r(t).length&&(e.key==="ArrowDown"?(e.preventDefault(),A(n,(r(n)+1)%r(t).length)):e.key==="ArrowUp"?(e.preventDefault(),A(n,(r(n)-1+r(t).length)%r(t).length)):e.key==="Enter"&&r(n)>=0&&(e.preventDefault(),i(r(t)[r(n)])))}var Yg=(e,t,n)=>t(r(n)),Vg=L('<button type="button"><span class="view-toggle__label svelte-1n46o8q"> </span></button>'),Hg=L('<div role="option" tabindex="-1"> </div>'),Kg=L('<div class="suggestions svelte-1n46o8q" role="listbox"></div>'),Xg=L('<form class="search svelte-1n46o8q"><label class="sr-only svelte-1n46o8q" for="entity-search"> </label> <input id="entity-search" type="search" autocomplete="off"/></form> <!>',1),Gg=L('<section class="status svelte-1n46o8q">Laster data…</section>'),Wg=L('<section class="status error svelte-1n46o8q"> </section>'),Zg=L('<section class="status svelte-1n46o8q">Ingen data tilgjengelig.</section>'),Jg=L('<p class="comparison-summary svelte-1n46o8q"> </p>'),Qg=L('<section class="chart-card svelte-1n46o8q"><div class="chart-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <p class="svelte-1n46o8q"> </p> <!></div> <!></section>'),em=(e,t,n)=>t(r(n).slug),tm=L('<span class="selected-entity svelte-1n46o8q" role="listitem"><span class="selected-entity__index svelte-1n46o8q"></span> <span class="selected-entity__name svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">×</button></span>'),nm=L('<!> <div class="selected-entities selected-entities--below svelte-1n46o8q" role="list"></div> <!>',1),rm=L('<section class="empty-state svelte-1n46o8q"><h2> </h2> <p> </p></section>'),im=L('<main class="svelte-1n46o8q"><header class="page-header svelte-1n46o8q"><div class="page-header__title svelte-1n46o8q"><h1 class="svelte-1n46o8q"> </h1> <button class="menu-toggle svelte-1n46o8q" type="button" aria-controls="primary-controls"><span class="menu-toggle__icon svelte-1n46o8q" aria-hidden="true">☰</span> <span class="menu-toggle__text svelte-1n46o8q">Meny</span></button></div> <div id="primary-controls"><div class="view-toggle svelte-1n46o8q" role="group" aria-label="Bytt visning"></div> <button type="button"><span aria-hidden="true"> </span> <span class="band-type-toggle__text svelte-1n46o8q"> </span></button></div></header> <p class="lead svelte-1n46o8q"> </p> <!> <!></main>');function io(e,t){mn(t,!0);const n={bands:"band",conductors:"conductor",pieces:"piece",composers:"composer"},i="view",s="type",a="year",o="division",l=",",c="relative",u="fitted",f="data",v="wind",h={bands:"Korps",conductors:"Dirigent",pieces:"Stykke",composers:"Komponist",data:"Resultat",repertoire:"Repertoar",om:"Om",innstillinger:"⚙️"},b=["data","bands","conductors","pieces","composers","repertoire","om","innstillinger"];let m=ae(null),D=ae(Kt([])),$=ae(Kt([])),K=ae(Kt([])),Z=ae(!0),Q=ae(null),oe=ae(""),ne=ae(Kt([])),B=ae(Kt([])),w=ae(Kt([])),T=ae(Kt([])),N=ae(-1),q=!1,k="",U=ae(c),re=ae("fitted"),M=ae(f),Ne=ae("dark"),ve=ae(null),rt=ae(!1),ut=ae(!1),at=ae(!1),Et=ae(!1),Yt=new Map,Nt=new Map,dt=ae(null);function ot(_){const S=new Map;for(const I of _){if(!I||!I.slug)continue;const P=I.slug.trim();if(!P)continue;const ie=S.get(P);ie?ie.push(I):S.set(P,[I])}return S}function Vt(_){const S=new Map;for(const I of _){if(!I)continue;const P=Number(I.year);if(!Number.isFinite(P))continue;const ie=I.division_slug??I.division,J=I.band_slug??I.band,X=I.result_piece_slug??I.result_piece;if(!ie||!J||!X)continue;const te=Qe(ie),pe=Qe(J);if(te==="uidentifisert"||!pe||pe==="uidentifisert")continue;const ye=new Set,ze=Qe(X);if(ze!=="uidentifisert"&&ye.add(ze),I.alternate_result_piece_slugs&&Array.isArray(I.alternate_result_piece_slugs))for(const gt of I.alternate_result_piece_slugs){const Lt=gt?Qe(gt):"";Lt&&Lt!=="uidentifisert"&&ye.add(Lt)}if(I.result_piece&&I.result_piece.trim()){const gt=Qe(I.result_piece);gt!=="uidentifisert"&&ye.add(gt)}if(!ye.size)continue;const Ie=typeof I.spotify=="string"&&I.spotify.trim().length>0?I.spotify.trim():null,we=typeof I.apple_music=="string"&&I.apple_music.trim().length>0?I.apple_music.trim():null;if(!Ie&&!we)continue;const We={spotify:Ie,apple_music:we,album:I.album?.trim()??null,recording_title:I.recording_title?.trim()??null};for(const gt of ye){const Lt=`${P}|${te}|${pe}|${gt}`;S.set(Lt,We)}}return S}function At(_,S,I){if(!Nt.size)return null;const P=Qe(_.division),ie=Qe(S);if(P==="uidentifisert"||!ie||ie==="uidentifisert")return null;const J=`${_.year}|${P}|${ie}`;let X=le(I,S);if(!X.length){const te=Qe(I);X=te!=="uidentifisert"?[te]:[]}for(const te of X){const pe=`${J}|${te}`,ye=Nt.get(pe);if(ye)return ye}return null}const kt=/["'«»“”„‟]/g,Qt=/\([^)]*\)/g;function z(_){return _.replace(Qt," ")}function V(_){return _.replace(kt,"").replace(/\s+/g," ").trim().toLowerCase()}function le(_,S){const I=_.trim();if(!I)return[];const P=new Set,ie=Qe(I);ie!=="uidentifisert"&&P.add(ie);const J=z(I),X=Qe(J);X!=="uidentifisert"&&P.add(X);const te=V(I),pe=Qe(te.replace(/[-–—]/g," "));pe!=="uidentifisert"&&P.add(pe);const ye=Qe(te.replace(/[:;·]/g," "));ye!=="uidentifisert"&&P.add(ye);const ze=[];J.includes("-")&&ze.push(J.split(/[-–—]/)[0]),J.includes(":")&&ze.push(J.split(":")[0]);for(const Ie of ze){const we=Qe(Ie);we!=="uidentifisert"&&P.add(we)}if(S&&S.trim()){const Ie=S.trim(),we=`${I} - ${Ie}`,We=Qe(we);We!=="uidentifisert"&&P.add(We);const gt=`${I} ${Ie}`,Lt=Qe(gt);Lt!=="uidentifisert"&&P.add(Lt)}return Array.from(P)}function Se(_,S){const I=le(_);if(!I.length)return null;const P=V(_),ie=V(z(_));for(const J of I){const X=S.get(J);if(!X||X.length===0)continue;if(X.length===1)return X[0].composer??null;const te=X.find(ye=>V(ye.title)===P);if(te)return te.composer??null;const pe=X.find(ye=>V(z(ye.title))===ie);return pe?pe.composer??null:X[0].composer??null}return null}function Ue(_,S){const I=Array.isArray(_.pieces)?[..._.pieces]:_.pieces!=null?[`${_.pieces}`.trim()].filter(Boolean):[],P={..._,pieces:I,conductor:_.conductor};return S&&(P.band_name=S),P}function Xe(_){const S=new Map;for(const I of _)for(const P of I.entries){const ie=P.conductor?.trim();if(!ie)continue;const J=Qe(ie);let X=S.get(J);X||(X={name:ie,slug:J,years:new Map},S.set(J,X));let te=X.years.get(P.year);te||(te={entries:[]},X.years.set(P.year,te)),te.entries.push(Ue(P,I.name))}return Array.from(S.values()).map(I=>({name:I.name,slug:I.slug,entries:Array.from(I.years.entries()).map(([P,ie])=>{const J=[...ie.entries].sort((te,pe)=>{const ye=te.absolute_position??Number.POSITIVE_INFINITY,ze=pe.absolute_position??Number.POSITIVE_INFINITY;return ye!==ze?ye-ze:(te.rank??Number.POSITIVE_INFINITY)-(pe.rank??Number.POSITIVE_INFINITY)});return{...J[0],year:P,conductor:I.name,aggregate_entries:J}}).sort((P,ie)=>P.year-ie.year)})).sort((I,P)=>I.name.localeCompare(P.name))}function Re(_,S,I){if(!I?.test_pieces)return;const P=new Map;for(const ie of S)for(const J of ie.entries)P.has(J.year)||P.set(J.year,[]),P.get(J.year).push({band:ie.name,entry:J});for(const[ie,J]of Object.entries(I.test_pieces)){const X=Number(ie);if(!P.has(X))continue;const te=J.piece,pe=J.composer,ye=Qe(te),Ie=P.get(X).filter(({entry:We})=>We.division.toLowerCase()==="elite");if(Ie.length===0)continue;let we=_.get(ye);if(we)!we.composer&&pe&&(we.composer=pe,we.composerNames=ti(pe));else{const We=pe?ti(pe):[];we={name:te,slug:ye,composer:pe??null,composerNames:We,performances:[]},_.set(ye,we)}for(const{band:We,entry:gt}of Ie){const Lt=At(gt,We,te);we.performances.push({band:We,entry:gt,streaming:Lt})}}}function Ze(_,S,I,P){const ie=new Map;for(const J of _)for(const X of J.entries){const te=Array.isArray(X.pieces)?X.pieces:X.pieces!=null?[`${X.pieces}`]:[];for(const pe of te){const ye=pe.trim();if(!ye)continue;const ze=Qe(ye);let Ie=ie.get(ze);const we=Se(ye,S),We=we?ti(we):[],gt=We.length>0?We.join(", "):null;Ie?(!Ie.composer||!Ie.composerNames?.length)&&gt&&(Ie.composer=gt,Ie.composerNames=We):(Ie={name:ye,slug:ze,composer:gt,composerNames:We,performances:[]},ie.set(ze,Ie));const Lt=At(X,J.name,ye);Ie.performances.push({band:J.name,entry:X,streaming:Lt})}}return P==="brass"&&Re(ie,_,I),Array.from(ie.values()).map(J=>({...J,performances:J.performances.map(({band:X,entry:te,streaming:pe})=>({band:X,entry:{...te,pieces:[...te.pieces]},streaming:pe??null}))})).sort((J,X)=>J.name.localeCompare(X.name))}function ht(_){const S=new Map;for(const P of _){const ie=P.composerNames&&P.composerNames.length>0?P.composerNames:ti(P.composer??null);if(ie.length)for(const J of ie){const X=Cl(J);if(!X)continue;const te=Qe(X);if(te==="uidentifisert")continue;let pe=S.get(te);pe||(pe={name:X,slug:te,normalized:X.toLowerCase(),pieces:new Map},S.set(te,pe)),pe.pieces.has(P.slug)||pe.pieces.set(P.slug,{name:P.name,slug:P.slug})}}const I=Array.from(S.values()).map(P=>({name:P.name,slug:P.slug,normalized:P.normalized,pieces:Array.from(P.pieces.values()).sort((ie,J)=>ie.name.localeCompare(J.name))})).sort((P,ie)=>P.name.localeCompare(ie.name));return new Map(I.map(P=>[P.slug,P])),I}function vt(_){return _==="data"?"data":n[_]}function jt(){if(typeof window>"u")return"dark";const _=$i(Kn.THEME,"dark");return _==="light"||_==="dark"?_:window.matchMedia?.("(prefers-color-scheme: light)").matches?"light":"dark"}async function xt(_){typeof document>"u"||(_==="dark"?document.documentElement.removeAttribute("data-theme"):document.documentElement.dataset.theme="light",await ft(_))}async function ft(_){if(typeof document>"u")return;const S=_==="light"?"#f8fafc":"#0f172a";let I=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');I||(I=document.createElement("meta"),I.setAttribute("name","apple-mobile-web-app-status-bar-style"),document.head.appendChild(I)),I.setAttribute("content",_==="light"?"default":"black-translucent");let P=document.querySelector('meta[name="theme-color"]');P||(P=document.createElement("meta"),P.setAttribute("name","theme-color"),document.head.appendChild(P)),P.setAttribute("content",S);try{await Es.setBackgroundColor({color:S})}catch(ie){console.log("EdgeToEdge plugin not available:",ie)}try{_==="light"?(await Zn.setStyle({style:qr.Light}),await Zn.setBackgroundColor({color:S})):(await Zn.setStyle({style:qr.Dark}),await Zn.setBackgroundColor({color:S}))}catch(ie){console.log("Status Bar plugin not available:",ie)}}function Je(){if(typeof window>"u")return v;const S=new URLSearchParams(window.location.search).get(s)?.toLowerCase();return S==="brass"||S==="brassband"?"brass":S==="wind"||S==="janitsjar"?"wind":v}function Te(){if(typeof window>"u")return v;const _=new URLSearchParams(window.location.search),S=_.get(s)?.toLowerCase();if(S==="brass"||S==="brassband")return"brass";if(S==="wind"||S==="janitsjar")return"wind";if(_.has(i)||_.has("band")||_.has("conductor")||_.has("piece")||_.has("composer")||_.has(a)||_.has(o)){const P=$i(Kn.BAND_TYPE,v);return P==="wind"||P==="brass"?P:v}return null}function lt(_){typeof document>"u"||(document.documentElement.dataset.bandType=_)}async function qt(_){A(Ne,_,!0),await xt(_),Ci(Kn.THEME,_)}function qe(_,S=!0){if(r(ve)!==_){if(A(Et,!1),A(ve,_,!0),lt(_),Ci(Kn.BAND_TYPE,_),A(ne,[],!0),A(B,[],!0),A(w,[],!0),A(T,[],!0),A(oe,""),A(N,-1),S&&typeof window<"u"){const I=new URLSearchParams;I.set(s,_),I.set(i,f);const P=`${window.location.pathname}?${I.toString()}${window.location.hash}`;window.history.replaceState({},"",P)}A(Z,!0),A(Q,null),A(m,null),A(D,[],!0),A($,[],!0),A(K,[],!0),Nt=new Map,It(_)}}function Ce(){A(rt,!1)}function Ge(){A(ut,!1)}function ct(){A(at,!1)}function pt(_){qe(_,!0)}function Ae(){if(typeof window>"u")return f;const S=new URLSearchParams(window.location.search).get(i)?.toLowerCase();return S?S==="conductors"||S==="dirigent"||S==="conductor"?"conductors":S==="pieces"||S==="piece"||S==="stykke"||S==="stykker"?"pieces":S==="composers"||S==="komponist"||S==="composer"?"composers":S==="data"||S==="resultat"||S==="results"?"data":S==="om"||S==="about"?"om":"bands":f}function _e(_){if(typeof window>"u")return[];const I=new URLSearchParams(window.location.search).get(vt(_));return I?I.split(l).map(P=>decodeURIComponent(P.trim())).filter(Boolean):[]}function Ye(_,S){if(!_.length||!S.length)return[];const I=new Map(_.map(P=>[P.slug,P]));return S.map(P=>I.get(P)??I.get(P.toLowerCase())).filter(P=>!!P)}function Fe(_,S){return _.length!==S.length?!1:_.every((I,P)=>I.slug===S[P].slug)}function je(){if(typeof window>"u"||r(ve)===null)return;const _=new URLSearchParams(window.location.search);_.set(s,r(ve));const S=r(ne).map(te=>encodeURIComponent(te.slug)).join(l);S.length?_.set(vt("bands"),S):_.delete(vt("bands"));const I=r(B).map(te=>encodeURIComponent(te.slug)).join(l);I.length?_.set(vt("conductors"),I):_.delete(vt("conductors"));const P=r(w).map(te=>encodeURIComponent(te.slug)).join(l);P.length?_.set(vt("pieces"),P):_.delete(vt("pieces"));const ie=r(T).map(te=>encodeURIComponent(te.slug)).join(l);ie.length?_.set(vt("composers"),ie):_.delete(vt("composers")),_.set(i,r(M));const J=_.toString(),X=`${window.location.pathname}${J?`?${J}`:""}${window.location.hash}`;window.history.replaceState({},"",X)}function tt({updateHistory:_=!1}={}){const S=Ae(),I=Je();let P=!1;if(I!==r(ve))return qe(I,!1),P=!0,P;if(S!==r(M)&&(A(M,S,!0),P=!0),!r(m))return _&&je(),P;const ie=Ye(r(m).bands,_e("bands")),J=[...r(ne)];for(const we of ie)J.some(We=>We.slug===we.slug)||J.push(we);Fe(r(ne),J)||(A(ne,J,!0),P=!0),r(D).length||A(D,Xe(r(m).bands),!0);const X=Ye(r(D),_e("conductors")),te=[...r(B)];for(const we of X)te.some(We=>We.slug===we.slug)||te.push(we);Fe(r(B),te)||(A(B,te,!0),P=!0),r($).length||(A($,Ze(r(m).bands,Yt,r(dt),r(ve)),!0),A(K,ht(r($)),!0));const pe=Ye(r($),_e("pieces")),ye=[...r(w)];for(const we of pe)ye.some(We=>We.slug===we.slug)||ye.push(we);Fe(r(w),ye)||(A(w,ye,!0),P=!0),r(K).length||A(K,ht(r($)),!0);const ze=Ye(r(K),_e("composers")),Ie=[...r(T)];for(const we of ze)Ie.some(We=>We.slug===we.slug)||Ie.push(we);return Fe(r(T),Ie)||(A(T,Ie,!0),P=!0),_&&je(),P}function it(){const _=r(ne).map(ie=>ie.slug).join(l),S=r(B).map(ie=>ie.slug).join(l),I=r(w).map(ie=>ie.slug).join(l),P=r(T).map(ie=>ie.slug).join(l);return`${r(ve)??"none"}|${r(M)}|${_}|${S}|${I}|${P}`}function be(){if(!q)return;const _=it();_!==k&&(je(),k=_)}function nt(_){if(r(M)==="bands"){if(r(ne).some(S=>S.slug===_.slug))return;A(ne,[...r(ne),_],!0)}else if(r(M)==="conductors"){if(r(B).some(S=>S.slug===_.slug))return;A(B,[...r(B),_],!0)}else if(r(M)==="pieces"){const S=_;if(r(w).some(I=>I.slug===S.slug))return;A(w,[...r(w),S],!0)}else if(r(M)==="composers"){const S=_;if(r(T).some(I=>I.slug===S.slug))return;A(T,[...r(T),S],!0)}A(oe,""),A(N,-1),be()}function St(_){r(M)==="bands"?A(ne,r(ne).filter(S=>S.slug!==_),!0):r(M)==="conductors"?A(B,r(B).filter(S=>S.slug!==_),!0):r(M)==="pieces"?A(w,r(w).filter(S=>S.slug!==_),!0):r(M)==="composers"&&A(T,r(T).filter(S=>S.slug!==_),!0),A(N,-1),be()}function yt(){if(r(Tt).length===0)return;const _=r(Pe).find(S=>S.name.toLowerCase()===r(Dt));_?nt(_):r(x).length>0&&nt(r(x)[0])}function Mt(_){if(_===r(M)){Ce(),Ge();return}A(M,_,!0),A(oe,""),A(N,-1),Ce(),Ge(),be()}function Pt(_){r(U)!==_&&(A(U,_,!0),Ci(Kn.YAXIS_MODE,_))}function wt(_){r(re)!==_&&(A(re,_,!0),Ci(Kn.YAXIS_SCALE,_))}async function $t(){try{const _=await fetch("data/elite_test_pieces.json",{cache:"no-cache"});if(!_.ok)throw new Error("Failed to load elite_test_pieces.json");A(dt,await _.json(),!0)}catch(_){console.error("Could not load Elite test pieces:",_),A(dt,null)}}async function It(_){try{const S=_==="wind"?"data/band_positions.json":"data/brass_positions.json",I=_==="wind"?"data/piece_metadata.json":"data/brass_piece_metadata.json",P="data/piece_streaming_links.json",[ie,J,X]=await Promise.all([fetch(S),fetch(I),fetch(P)]);if(_==="brass"&&r(dt)===null&&await $t(),!ie.ok)throw new Error(`Kunne ikke laste data (status ${ie.status})`);let te=[];if(J.ok)try{const ze=await J.json();te=(Array.isArray(ze.pieces)?ze.pieces:[]).filter(we=>!!(we?.title&&we?.slug)).map(we=>({title:we.title.trim(),slug:we.slug.trim(),composer:we.composer??null}))}catch(ze){console.warn("Kunne ikke tolke stykke-metadata",ze)}else console.warn(`Kunne ikke laste stykke-metadata (status ${J.status})`);Yt=ot(te);let pe=[];if(X.ok)try{const Ie=(await X.json())?.[_];Array.isArray(Ie)&&(pe=Ie.filter(we=>!!we))}catch(ze){console.warn("Kunne ikke tolke opptakslenker",ze)}else X.status!==404&&console.warn(`Kunne ikke laste opptakslenker (status ${X.status})`);Nt=Vt(pe);const ye=await ie.json();A(m,ye,!0),A(D,Xe(ye.bands),!0),A($,Ze(ye.bands,Yt,r(dt),_),!0),A(K,ht(r($)),!0),tt({updateHistory:!1}),k=it(),je(),q=!0}catch(S){A(Q,S instanceof Error?S.message:"Ukjent feil ved lasting av data.",!0)}finally{A(Z,!1)}}Wn(async()=>{const _=jt();A(Ne,_,!0),await xt(_);const S=$i(Kn.YAXIS_MODE,c);(S==="absolute"||S==="relative")&&A(U,S,!0);const I=$i(Kn.YAXIS_SCALE,u);(I==="fitted"||I==="full")&&A(re,I,!0);const P=Te();P===null?(A(Et,!0),A(Z,!1)):(A(ve,P,!0),lt(P),await It(P))}),Wn(()=>{const _=()=>{r(m)&&(tt({updateHistory:!1}),k=it())};return window.addEventListener("popstate",_),()=>window.removeEventListener("popstate",_)}),Wn(()=>{const _=S=>{const P=S.target.closest("a.entity-link, a.program-link");if(!(!P||!(P instanceof HTMLAnchorElement))&&!(S.ctrlKey||S.metaKey||S.shiftKey))try{const ie=new URL(P.href),J=new URLSearchParams(ie.search),X=J.get("band"),te=J.get("conductor"),pe=J.get("piece"),ye=J.get("composer"),ze=J.get("type"),Ie=J.get("view");if(ze&&ze!==r(ve))return;S.preventDefault();const we=new URLSearchParams(window.location.search),We=we.get("band")?.split(",").filter(Boolean)||[],gt=we.get("conductor")?.split(",").filter(Boolean)||[],Lt=we.get("piece")?.split(",").filter(Boolean)||[],tr=we.get("composer")?.split(",").filter(Boolean)||[];X&&!We.includes(X)&&We.push(X),te&&!gt.includes(te)&&gt.push(te),pe&&!Lt.includes(pe)&&Lt.push(pe),ye&&!tr.includes(ye)&&tr.push(ye);const zn=new URLSearchParams(we);We.length&&zn.set("band",We.join(",")),gt.length&&zn.set("conductor",gt.join(",")),Lt.length&&zn.set("piece",Lt.join(",")),tr.length&&zn.set("composer",tr.join(",")),Ie&&zn.set("view",Ie);const _i=`${window.location.pathname}?${zn.toString()}${window.location.hash}`;window.history.pushState({},"",_i),tt({updateHistory:!1}),k=it()}catch(ie){console.error("Error handling link click:",ie)}};return document.addEventListener("click",_),()=>document.removeEventListener("click",_)}),Wn(()=>{let _=0;const S=I=>{const P=I.target;if(P.closest("[data-scrollable]")||P.closest(".suggestions")||P.closest(".mode-toggle__menu"))return;const J=window.pageYOffset||document.documentElement.scrollTop,X=document.documentElement.scrollHeight,te=document.documentElement.clientHeight,pe=J===0,ye=J+te>=X;if(I.type==="touchstart")_=I.touches[0].pageY;else if(I.type==="touchmove"){const Ie=I.touches[0].pageY-_;pe&&Ie>0&&I.preventDefault(),ye&&Ie<0&&I.preventDefault()}};return document.addEventListener("touchstart",S,{passive:!1}),document.addEventListener("touchmove",S,{passive:!1}),()=>{document.removeEventListener("touchstart",S),document.removeEventListener("touchmove",S)}}),hn(()=>{document.title=r(ve)==="wind"?"NM Janitsjar - Resultatoversikt":"NM Brass - Resultatoversikt"});let Tt=O(()=>r(oe).trim()),Dt=O(()=>r(Tt).toLowerCase()),Ft=O(()=>r(M)==="bands"||r(M)==="conductors"||r(M)==="pieces"||r(M)==="composers"),Pe=O(()=>r(Ft)?r(M)==="bands"?r(m)?.bands??[]:r(M)==="conductors"?r(D):r(M)==="pieces"?r($):r(K):[]),Ee=O(()=>r(M)==="bands"?r(ne):r(M)==="conductors"?r(B):r(M)==="pieces"?r(w):r(M)==="composers"?r(T):[]),x=O(()=>r(Ft)&&r(Pe)&&r(Dt).length>=2?r(Pe).filter(_=>_.name.toLowerCase().includes(r(Dt))&&!r(Ee).some(S=>S.slug===_.slug)).slice(0,10):[]),p=O(()=>r(m)?r(m).metadata.years:[]),C=O(()=>r(m)?r(m).metadata.max_field_size:0),E=O(()=>r(Ft)?r(M)==="bands"?r(m)?.bands.length??0:r(M)==="conductors"?r(D).length:r(M)==="pieces"?r($).length:r(K).length:0),F=O(()=>r(M)==="bands"?"korps":r(M)==="conductors"?"dirigenter":r(M)==="pieces"?"stykker":"komponister"),j=O(()=>r(m)?`Dekker ${r(E)} ${r(F)} · ${r(p).length} år (${r(m).metadata.min_year}–${r(m).metadata.max_year})`:""),ee=O(()=>r(M)==="bands"?"Begynn å skrive et korpsnavn (minst 2 bokstaver)…":r(M)==="conductors"?"Begynn å skrive et dirigentnavn (minst 2 bokstaver)…":r(M)==="pieces"?"Begynn å skrive en stykketittel (minst 2 bokstaver)…":r(M)==="composers"?"Begynn å skrive et komponistnavn (minst 2 bokstaver)…":""),G=O(()=>r(M)==="bands"?"Søk etter korps":r(M)==="conductors"?"Søk etter dirigent":r(M)==="pieces"?"Søk etter musikkstykke":"Søk etter komponist"),se=O(()=>r(M)==="bands"?"Korpsforslag":r(M)==="conductors"?"Dirigentforslag":r(M)==="pieces"?"Stykke-forslag":"Komponistforslag"),ge=O(()=>r(M)==="bands"?"Valgte korps":r(M)==="conductors"?"Valgte dirigenter":r(M)==="pieces"?"Valgte stykker":"Valgte komponister"),ke=O(()=>r(M)==="bands"?"Ingen korps valgt ennå":r(M)==="conductors"?"Ingen dirigenter valgt ennå":r(M)==="pieces"?"Ingen stykker valgt ennå":"Ingen komponister valgt ennå"),fe=O(()=>r(M)==="bands"?"Finn et navn i søkefeltet for å tegne kurven for samlet plassering.":r(M)==="conductors"?"Finn en dirigent i søkefeltet for å tegne kurven for samlet plassering.":r(M)==="pieces"?"Finn et musikkstykke i søkefeltet for å se alle registrerte fremføringer.":"Finn en komponist i søkefeltet for å se hvilke stykker vi har registrert av dem."),ue=O(()=>(()=>{switch(r(M)){case"bands":return r(ve)==="wind"?"Søk etter et janitsjarkorps for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.":"Søk etter et brassband for å se hvordan den samlede plasseringen utvikler seg år for år, på tvers av alle divisjoner.";case"conductors":return"Søk etter en dirigent for å se hvordan deres beste plassering utvikler seg år for år, basert på korpsene de dirigerte.";case"pieces":return"Søk etter et musikkstykke for å se alle fremføringer vi har registrert.";case"composers":return"Søk etter en komponist for å se hvilke NM-stykker de står bak.";case"repertoire":return"Søk etter stykker med komponist, varighet og vanskelighetsgrad. Repertoaret utvides løpende.";case"om":return"";case"data":return"Velg et år og en divisjon for å vise resultatlisten i den valgte finalen.";case"innstillinger":return"";default:return""}})()),Le=O(()=>r(ve)==="wind"?"Bytt til brassband":"Bytt til janitsjarkorps"),xe=O(()=>r(ve)==="wind"?"Brass":"Janitsjar"),ce=O(()=>r(ve)==="wind"?"🎺":"🎷"),Me=O(()=>r(rt)?"Lukk meny":"Åpne meny"),Oe=O(()=>r(Ee).length===1?r(Ee)[0].name:r(Ee).length>1?`${r(Ee).length} ${r(F)} valgt`:""),he=O(()=>r(Ee).length>1?r(Ee).map(_=>_.name).join(" · "):""),de=O(()=>r(M)==="pieces"?r(Ee):[]),De=O(()=>r(M)==="composers"?r(Ee):[]),_t=O(()=>r(M)==="bands"||r(M)==="conductors"?r(Ee):[]);var Ot=Be(),Ct=$e(Ot);{var me=_=>{Tg(_,{onSelect:pt})},Ve=_=>{var S=im(),I=d(S),P=d(I),ie=d(P),J=d(ie),X=g(ie,2);X.__click=[Og,rt];var te=g(P,2);let pe;var ye=d(te);et(ye,21,()=>b,st,(en,zt)=>{var Bn=Be(),Ur=$e(Bn);{var Sr=cn=>{var Bt=Vg();Bt.__click=[Yg,Mt,zt];let Un;var Yr=d(Bt),bn=d(Yr);W(un=>{Y(Bt,"aria-pressed",r(M)===r(zt)),Y(Bt,"data-mobile-label",r(zt)==="innstillinger"?"Innstillinger":""),Un=Gt(Bt,1,"svelte-1n46o8q",null,Un,un),R(bn,h[r(zt)])},[()=>({selected:r(M)===r(zt),"view-toggle__settings":r(zt)==="innstillinger"})]),y(cn,Bt)};H(Ur,cn=>{(r(zt)!=="repertoire"||r(ve)==="wind")&&cn(Sr)})}y(en,Bn)});var ze=g(ye,2);let Ie;ze.__click=[zg,ve,qe,ct,Ce,Ge];var we=d(ze),We=d(we),gt=g(we,2),Lt=d(gt),tr=g(I,2),zn=d(tr),_i=g(tr,2);{var Nl=en=>{var zt=Xg(),Bn=$e(zt),Ur=O(()=>Ma(yt)),Sr=d(Bn),cn=d(Sr),Bt=g(Sr,2);Bt.__input=[Bg,oe,N],Bt.__keydown=[Ug,x,N,nt];var Un=g(Bn,2);{var Yr=bn=>{var un=Kg();et(un,21,()=>r(x),st,(Er,gi,mi)=>{var nr=Hg(),Yn=O(()=>Ma(()=>nt(r(gi))));nr.__mousedown=function(...Vr){r(Yn)?.apply(this,Vr)};var rr=d(nr);W(()=>{Gt(nr,1,`suggestion ${mi===r(N)?"active":""}`,"svelte-1n46o8q"),Y(nr,"aria-selected",mi===r(N)),R(rr,r(gi).name)}),y(Er,nr)}),W(()=>Y(un,"aria-label",r(se))),y(bn,un)};H(Un,bn=>{r(x).length>0&&bn(Yr)})}W(()=>{R(cn,r(G)),Y(Bt,"placeholder",r(ee))}),an("submit",Bn,function(...bn){r(Ur)?.apply(this,bn)}),Xn(Bt,()=>r(oe),bn=>A(oe,bn)),y(en,zt)};H(_i,en=>{r(Ft)&&en(Nl)})}var Pl=g(_i,2);{var Tl=en=>{var zt=Gg();y(en,zt)},Ll=en=>{var zt=Be(),Bn=$e(zt);{var Ur=cn=>{var Bt=Wg(),Un=d(Bt);W(()=>R(Un,r(Q))),y(cn,Bt)},Sr=cn=>{var Bt=Be(),Un=$e(Bt);{var Yr=un=>{var Er=Zg();y(un,Er)},bn=un=>{var Er=Be(),gi=$e(Er);{var mi=Yn=>{var rr=Be(),Vr=$e(rr);{var os=sn=>{var Vn=nm(),ir=$e(Vn);{var Hr=Ut=>{lg(Ut,{get pieces(){return r(de)},get bandType(){return r(ve)}})},Kr=Ut=>{var Ht=Be(),xn=$e(Ht);{var Ar=In=>{dg(In,{get composers(){return r(De)},get bandType(){return r(ve)}})},Hn=In=>{var bi=Qg(),Xr=d(bi),la=d(Xr),Il=d(la),ca=g(la,2),Rl=d(ca),jl=g(ca,2);{var ql=Gr=>{var ua=Jg(),Fl=d(ua);W(()=>R(Fl,r(he))),y(Gr,ua)};H(jl,Gr=>{r(he)&&Gr(ql)})}var Dl=g(Xr,2);{let Gr=O(()=>r(M)==="bands");vp(Dl,{get years(){return r(p)},get maxFieldSize(){return r(C)},get bands(){return r(_t)},get yMode(){return r(U)},get yAxisScale(){return r(re)},get showConductorMarkers(){return r(Gr)}})}W(()=>{R(Il,r(Oe)),R(Rl,r(j))}),y(In,bi)};H(xn,In=>{r(M)==="composers"?In(Ar):In(Hn,!1)},!0)}y(Ut,Ht)};H(ir,Ut=>{r(M)==="pieces"?Ut(Hr):Ut(Kr,!1)})}var fn=g(ir,2);et(fn,21,()=>r(Ee),st,(Ut,Ht,xn)=>{var Ar=tm(),Hn=d(Ar);Hn.textContent=xn+1;var In=g(Hn,2),bi=d(In),Xr=g(In,2);Xr.__click=[em,St,Ht],W(()=>{R(bi,r(Ht).name),Y(Xr,"aria-label",`Fjern ${r(Ht).name}`)}),y(Ut,Ar)});var yi=g(fn,2);{var cs=Ut=>{Dp(Ut,{get bands(){return r(_t)},get bandType(){return r(ve)},streamingResolver:At,get eliteTestPieces(){return r(dt)}})},us=Ut=>{var Ht=Be(),xn=$e(Ht);{var Ar=Hn=>{l_(Hn,{get conductors(){return r(_t)},get bandType(){return r(ve)},streamingResolver:At})};H(xn,Hn=>{r(M)==="conductors"&&Hn(Ar)},!0)}y(Ut,Ht)};H(yi,Ut=>{r(M)==="bands"?Ut(cs):Ut(us,!1)})}W(()=>Y(fn,"aria-label",r(ge))),y(sn,Vn)},ls=sn=>{var Vn=rm(),ir=d(Vn),Hr=d(ir),Kr=g(ir,2),fn=d(Kr);W(()=>{R(Hr,r(ke)),R(fn,r(fe))}),y(sn,Vn)};H(Vr,sn=>{r(Ee).length>0?sn(os):sn(ls,!1)})}y(Yn,rr)},nr=Yn=>{var rr=Be(),Vr=$e(rr);{var os=sn=>{$g(sn,{})},ls=sn=>{var Vn=Be(),ir=$e(Vn);{var Hr=fn=>{Ig(fn,{get bandType(){return r(ve)}})},Kr=fn=>{var yi=Be(),cs=$e(yi);{var us=Ht=>{Fg(Ht,{onYAxisModeChange:Pt,onYAxisScaleChange:wt,onThemeChange:qt,get yAxisMode(){return r(U)},set yAxisMode(xn){A(U,xn,!0)},get yAxisScale(){return r(re)},set yAxisScale(xn){A(re,xn,!0)},get theme(){return r(Ne)},set theme(xn){A(Ne,xn,!0)}})},Ut=Ht=>{O_(Ht,{get dataset(){return r(m)},get bandType(){return r(ve)},streamingResolver:At,get eliteTestPieces(){return r(dt)}})};H(cs,Ht=>{r(M)==="innstillinger"?Ht(us):Ht(Ut,!1)},!0)}y(fn,yi)};H(ir,fn=>{r(M)==="om"?fn(Hr):fn(Kr,!1)},!0)}y(sn,Vn)};H(Vr,sn=>{r(M)==="repertoire"?sn(os):sn(ls,!1)},!0)}y(Yn,rr)};H(gi,Yn=>{r(Ft)?Yn(mi):Yn(nr,!1)},!0)}y(un,Er)};H(Un,un=>{r(m)?un(bn,!1):un(Yr)},!0)}y(cn,Bt)};H(Bn,cn=>{r(Q)?cn(Ur):cn(Sr,!1)},!0)}y(en,zt)};H(Pl,en=>{r(Z)?en(Tl):en(Ll,!1)})}W((en,zt)=>{R(J,r(ve)==="wind"?"NM Janitsjar":"NM Brass"),Y(X,"aria-label",r(Me)),Y(X,"aria-expanded",r(rt)),pe=Gt(te,1,"header-controls svelte-1n46o8q",null,pe,en),Ie=Gt(ze,1,"band-type-toggle svelte-1n46o8q",null,Ie,zt),Y(ze,"aria-label",r(Le)),R(We,r(ce)),R(Lt,r(xe)),R(zn,r(ue))},[()=>({"header-controls--mobile-open":r(rt)}),()=>({"band-type-toggle--to-brass":r(ve)==="wind","band-type-toggle--to-wind":r(ve)==="brass"})]),y(_,S)};H(Ct,_=>{r(Et)?_(me):_(Ve,!1)})}y(e,Ot),yn()}er(["click","input","keydown","mousedown"]);async function sm(){const e=localStorage.getItem("nmkorps-theme"),t=window.matchMedia?.("(prefers-color-scheme: dark)").matches,n=e==="dark"||!e&&t,i=n?"#0f172a":"#f8fafc";try{await Es.enable(),await Es.setBackgroundColor({color:i}),console.log("Edge-to-edge display enabled with background:",i)}catch(s){console.log("Edge-to-edge plugin skipped:",s)}try{n?(await Zn.setStyle({style:qr.Dark}),await Zn.setBackgroundColor({color:i})):(await Zn.setStyle({style:qr.Light}),await Zn.setBackgroundColor({color:i}))}catch(s){console.log("Status Bar initialization skipped:",s)}}sm().then(()=>{const e=xa(io,{target:document.getElementById("app")});window.app=e}).catch(e=>{console.error("Status bar initialization failed:",e);const t=xa(io,{target:document.getElementById("app")});window.app=t});
